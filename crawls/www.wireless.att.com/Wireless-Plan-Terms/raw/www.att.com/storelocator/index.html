<!DOCTYPE HTML> 
<html lang="en"> 
<script> 
          //<![CDATA[ 
              //***Start Mobile Detection Steps*** 
//1. Check to see if full site view has been set to True in the URL (mobile=false)from mobile view. 
function getURLParam(pName) 
{ 
	var queryString = location.search; var startPos = 0; var stopPos = 0; var tempPos = 0; var pValue = ""; 
	if (pName) 
	{ 
		if (queryString.indexOf(pName) != -1) 
		{ 
			startPos = queryString.indexOf(pName) + pName.length + 1; 
			stopPos = ((tempPos = (queryString.indexOf("&", startPos))) == -1) ? queryString.length : tempPos; 
			pValue = queryString.substring(startPos, stopPos); 
			pValue = unescape(pValue); 
		} 
	} 
	return pValue; 
} 
function setOrderSourceABSplit(){ 
	var referrer =  document.referrer; 
	if(referrer.indexOf("/shopmobile/")!=-1){ 
		var ajaxUrl = location.pathname.replace('.html', '.setOrderSourceABSplit.xhr.html'); 
		var request = new XMLHttpRequest(); 
		request.open("GET",ajaxUrl,true); 
		request.send(); 
	} 
} 
var mobile = getURLParam('mobile'); 
var mobileView; 
var fullSiteView; 
var mRedirectURL = ''; 
//Check URL for mobile=false. Set FulSiteView=True if found. 
//commenting below if condition . 
//As Mobile HardRock footer jsp setting the value 
	if (mobile =="false") 
	{ 
		sessionStorage.setItem('storageFullSiteView', "True");	 
		setOrderSourceABSplit(); 
	} 
	else 
	{ 
		if (mRedirectURL != "") { 
			//Check for HTML5 storage support 
			if(typeof(Storage)!=="") 
			{ 
			// Yes! localStorage and sessionStorage support! 
			// Test for FullSiteView=True 
				fullSiteView = sessionStorage.getItem('storageFullSiteView'); 
				if (fullSiteView == "True") 
				{ 
				//do nothing 
				} 
			else 
				{ 
				DetectMobile(); //start mobile detection 
				} 
			} 
			else 
			{ 
			// Sorry! No web storage support.. 
				DetectMobile(); 
			} 
		} 
	} 
	//***Start Mobile Detection Steps*** 
	//2. Detect Mobile 
	function DetectMobile() 
	{	 
		//Get user-agent 
		var uagent = navigator.userAgent.toLowerCase(); 
		//Check if device is mobile 
		if (uagent.search("mobile") > -1) 
		{    
			// Verify device is not ipad or tablet 
				//iPad Check 
				if (uagent.search("ipad") > -1) 
				{ 
					return //Fullsite View 
				} 
				// Tablet Check 
				if (uagent.search("tablet") > -1) 
				{ 
					return // Fullsite View 
				} 
				//Galaxy Tab 7 inch Check 
				else if (uagent.search("gt-p10") > -1) 
				{ 
					return // FullSite View 
				} 
				else{ 
					var ajaxUrl = location.pathname.replace('.html', '.sessioninvalidate.html'); 
					var request = new XMLHttpRequest(); 
					request.open("GET",ajaxUrl,true); 
					request.send(); 
				// Device is not a tablet,ridirect to m.att.com 
					window.location =  mRedirectURL; 
				} 
		} 
	} 
	//***End Mobile Detection Steps***        
    //]]> 
</script> 
<head> 
	<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7" />  
<script type="text/javascript"> 
(function SSLredirect(){ 
	if(window.location.protocol != "http:"){return} 
	var globalNavCookie; 
	var allCookies = document.cookie.split('; '); 
	var httpsPort = ""; 
	for (var i=0;i<allCookies.length;i++) { 
		var cookiePair = allCookies[i].split('='); 
		var cookieName = cookiePair[0]; 
		cookiePair.shift(); 
		var cookieValue = cookiePair.join('='); 
		if(cookieName == "GNSESS"){globalNavCookie = new Function("return " + cookieValue)()} 
	} 
	if(typeof globalNavCookie == "object" && typeof globalNavCookie.ENC != "undefined" && globalNavCookie.ENC != ""){ 
		var newUrl = document.createElement('a'); 
		if(httpsPort != ""){newUrl.port = httpsPort} 
		newUrl.href = window.location.href; 
		newUrl.protocol = "https"; 
		window.location.href = newUrl.href; 
	} 
})(); 
</script> 
	<title> 
				AT&amp;T Maps – AT&amp;T Store Locations &amp; AT&amp;T Wi-Fi Locations from AT&amp;T 
	</title> 
<meta name="description" content="Use AT&amp;T Maps to search and locate AT&amp;T stores and Wi-Fi locations from AT&amp;T" >	 
<meta name="keywords" content="AT&amp;T Store Locator, AT&amp;T store locations, AT&amp;T wi-fi locations, AT&amp;T WiFi, Hotspot, Internet, Cell Phones, AT&amp;T, AT&amp;T wireless services, AT&amp;T Mobility, Cingular Wireless" >	 
	<link rel="canonical" href="index.html"/> 
	<meta name="robots" content="INDEX,FOLLOW" /> 
	<meta name="viewport" content="width=device-width, initial-scale=1.0"> 
	<!-- Global JS files --> 
		<script type="text/javascript" src="http://www.att.com/media/cms/shop/scripts/tealeaf/TeaLeaf.min.js"></script> 
<link rel="stylesheet" href="http://1.ecom.attccc.com/styles/global-hardrock-combined-static.min.css" type="text/css"/> 
<link rel="stylesheet" href="http://1.ecom.attccc.com/media/cms/shop/styles/global-hardrock-combined.min.css" type="text/css"/> 
<!--[if IE 7]> 
<link rel="stylesheet" href="http://1.ecom.attccc.com/styles/global-ie7.css" type="text/css" media="screen, projection, print" /> 
<![endif]--> 
			<script type="text/javascript" src="http://1.ecom.attccc.com/scripts/global-hardrock-combined-static-all.min.js"></script> 
			<script type="text/javascript" src="http://www.att.com/media/cms/shop/scripts/global-hardrock-combined.min.js"></script> 
			<script type="text/javascript" src="http://www.att.com/media/cms/shop/scripts/ATT.ui.js"></script> 
			<script type="text/javascript" src="http://1.ecom.attccc.com/scripts/jquery.noconflict.js"></script> 
	<script type="text/javascript" src="http://1.ecom.attccc.com/media/gvp/gvpUtils_HR.js"></script> 
	<!-- what is it: check for page url that includes plan, package or service --> 
<link rel="stylesheet" href="../media/cms/shop/styles/onemap.min.css" type="text/css"/> 
</head> 
<!-- Add author only code below --> 
    <body id="top"> 
	<!-- cqlibs.jsp- file require to add include for targeted content. --> 
	<!-- Global Nav header --> 
<script type="text/javascript"> 
	var globalNavDefaultSelections = { 
		"urls":{ 
			"navService":"/navservice/navservlet", 
			"store":"http://www.wireless.att.com", 
			"www":"http://www.att.com", 
			"olam":"https://www.att.com", 
			"myAtt":"https://www.att.com", 
			"urlMap":{} 
		}, 
		"useDefaultJSONSource": true, 
		"locale":"en_US", 
		"global":"Personal", 
		"primary": "010000", 
		"secondary":"010200" 
	}; 
	var customGlobalNavResources = { 
		"userInfo": 
							templateSelector('user_info.xhr'), 
		"segmentationMenu": "/globalnav/includes/segmentation_menu.jsp", 
		"menuJSON": globalNavDefaultSelections.urls.navService, 
		"failSafeJSON": "/globalnav/resources/json/GlobalnavLinksInJsonString.txt" 
	}; 
	var globalNavResourceParams = {'globalItem': 'Personal','render': '010000','primaryItem': '010000','secondaryItem': '010200','platform': 'shop'}; 
</script> 
<div id="globalNav" class="en_US hardRock"> 
	<div id="globalNavInterface" class="ecom"> 
				<div id="segMenuBar"> 
				<div id="segMenuContainer" > 
					<a href="index.html#wrapper" id="pageID" rel="res">Skip navigation</a> 
					<div id="segcenterSpan"></div> 
					<ul class="segMenu" id="leftSegMenu"> 
						<li><a id="segMenuItemPersonal" class="segMenuItem selected" href="../index.html"><span>Personal</span></a></li> 
						<li> 
							<a id="segMenuItemBusiness" class="segMenuItem " href="../gen/general%3Fpid=11627.html"><span>Business</span></a> 
							<div class="segSubMenu" > 
								<ul> 
											<li><a href="../gen/landing-pages%3Fpid=9213.html">Small Business</a></li> 
											<li><a href="../gen/landing-pages%3Fpid=9214.html">Enterprise Business</a></li> 
											<li><a href="../gen/general%3Fpid=11624.html">Wholesale</a></li> 
											<li><a href="../gen/general%3Fpid=11625.html">Government</a></li> 
								</ul> 
							</div> 
						</li> 
						<li class="rightMost"><a id="segMenuItemAboutATT" class="segMenuItem" href="../gen/landing-pages%3Fpid=3309.html"><span>About AT&amp;T</span></a></li> 
					</ul> 
					<ul class="segMenu" id="rightSegMenu"> 
						<li><a id="segMenuItemCoverageMap" class="segMenuItem" href="../../www.wireless.att.com/coverageviewer/index.html" target="_new"><span style="color:#fff;">Wireless Coverage Maps</span></a></li> 
						<li><a id="segMenuItemFindAStore" class="segMenuItem" href="index.html"><span>Find a Store</span></a></li> 
						<li class="rightMost"><a id="segMenuItemInternational" class="segMenuItem" href="index.html#"><span> 
									Language 
								</span></a> 
							<div class="segSubMenu"> 
								<ul> 
															<li><a href="http://www.att.com/maps/es/store-locator.html?locale=es_US"><span lang="es_US">P&aacute;gina en Espa&ntilde;ol</span></a></li> 
													<li><a href="../../espanol.att.com/index.html" target="_blank"><span>Sitio en Espa&ntilde;ol</span></a></li> 
											<li><div class="segSubMenuDivider">&nbsp;</div></li> 
													<li><a href="../../world.att.com/index.html" target="_blank"><span>Other Language Sites</span></a></li> 
								</ul> 
							</div> 
						</li> 
					</ul> 
					<div id="segClearFloat"></div> 
				</div> 
				</div> 
				<div id="globalNavUserInfo"> 
				</div> 
				<div id="tieredNav"> 
					<div id="primaryMenu"> 
						<ul> 
							<li id="primary_ATTLogo"> 
										<a class="primaryMenuItem" title="AT&amp;T Home" href="../index.html">&nbsp;</a> 
							</li> 
								<li class=" selected"><a href="../shop/index.html" id="primary_Shop" name="Shop" class="primaryMenuItem">Shop<span></span></a> 
										<ul id="secondaryMenu_Shop" class="secondaryMenu"> 
												<li> 
													<a class="secondaryMenuItem" href="../shop/wireless.html" name="Shop_Wireless" >Wireless</a> 
														<div class="trayContentItem trayFiveCol"> 
															<div class="firstColumn"> 
																<div class="columnContent"> 
																	<img src='http://0.ecom.attccc.com/media/att/2011/global/nav/img-wireless_AA000R48.png' alt='Wireless' /> 
																</div> 
															</div> 
																<div class="secondColumn "> 
																	<div class="columnContent"> 
																			<h3>Phones &amp; Devices</h3> 
																		<ul class="trayNoBullet"> 
																				<li><a href="../shop/wireless/devices.html" name="Shop_Wireless_Cell Phones &amp; Devices by Category" >Cell Phones &amp; Devices by Category</a></li> 
																				<li><a href="../shop/wireless/devices/smartphones.html" name="Shop_Wireless_Smartphones" >Smartphones</a></li> 
																				<li><a href="../shop/wireless/devices/tablets.html" name="Shop_Wireless_Tablets &amp; Internet Devices" >Tablets &amp; Internet Devices</a></li> 
																				<li><a href="../shop/wireless/gophone.html" name="Shop_Wireless_Prepaid GoPhone&reg;" >Prepaid GoPhone&reg;</a></li> 
																				<li><a href="../shop/wireless/devices/cellphones.html" name="Shop_Wireless_View All Cell Phones" >View All Cell Phones</a></li> 
																		</ul> 
																	</div> 
																</div> 
																<div class="secondColumn "> 
																	<div class="columnContent"> 
																			<h3>Plans &amp; Services</h3> 
																		<ul class="trayNoBullet"> 
																				<li><a href="../shop/wireless/plans.html" name="Shop_Wireless_Voice, Data &amp; Messaging Plans" >Voice, Data &amp; Messaging Plans</a></li> 
																				<li><a href="../shop/wireless/data-plans.html#tab2" name="Shop_Wireless_Mobile Share Plans" >Mobile Share Plans</a></li> 
																				<li><a href="../shop/wireless/data-plans.html" name="Shop_Wireless_Data Plans" >Data Plans</a></li> 
																				<li><a href="../shop/wireless/international.html" name="Shop_Wireless_International Plans" >International Plans</a></li> 
																				<li><a href="../shop/wireless/services.html" name="Shop_Wireless_Services" >Services</a></li> 
																		</ul> 
																	</div> 
																</div> 
																<div class="secondColumn "> 
																	<div class="columnContent"> 
																			<h3>More...</h3> 
																		<ul class="trayNoBullet"> 
																				<li><a href="../shop/wireless/accessories.html" name="Shop_Wireless_Accessories" >Accessories</a></li> 
																				<li><a href="../shop/apps.html" name="Shop_Wireless_Apps &amp; Ringtones" >Apps &amp; Ringtones</a></li> 
																				<li><a href="../shop/wireless/transferyournumber.html" name="Shop_Wireless_Transfer My Number" >Transfer My Number</a></li> 
																				<li><a href="../../www.wireless.att.com/coverageviewer/index.html#?type=voice" name="Shop_Wireless_Coverage Maps" >Coverage Maps</a></li> 
																				<li><a href="../network/index.html" name="Shop_Wireless_Network" >Network</a></li> 
																		</ul> 
																	</div> 
																</div> 
																<div class="secondColumn "> 
																	<div class="columnContent"> 
																			<h3>Existing Customers</h3> 
																		<ul class="trayNoBullet"> 
																				<li><a href="../shop/wireless/upgradephone.html" name="Shop_Wireless_Upgrade Phone" >Upgrade Phone</a></li> 
																				<li><a href="../shop/wireless/addaline.html" name="Shop_Wireless_Add a Line to My Account" >Add a Line to My Account</a></li> 
																				<li><a href="../olam/loginAction.olamexecute%3Ftarget=CRP.html" name="Shop_Wireless_Change Rate Plan" >Change Rate Plan</a></li> 
																				<li><a href="../olam/passthroughAction.myworld%3FactionType=ManageFeatures.html" name="Shop_Wireless_Add or Change Services" >Add or Change Services</a></li> 
																		</ul> 
																	</div> 
																</div> 
														</div> 
												</li> 
												<li> 
													<a class="secondaryMenuItem" href="../shop/bundles.html" name="Shop_Bundles" >Bundles</a> 
														<div class="trayContentItem trayFourCol"> 
															<div class="firstColumn"> 
																<div class="columnContent"> 
																	<img src='http://0.ecom.attccc.com/media/att/2011/global/nav/img-bundles_AA000R46.png' alt='Bundles' /> 
																</div> 
															</div> 
																<div class="secondColumn "> 
																	<div class="columnContent"> 
																			<h3>Bundles with U-verse</h3> 
																		<ul class="trayNoBullet"> 
																				<li><a href="../u-verse/shop/index.jsp.html" name="Shop_Bundles_Popular U-verse Bundles" >Popular U-verse Bundles</a></li> 
																				<li><a href="../u-verse/shop/index.jsp%3FshopFilterId=100003.html" name="Shop_Bundles_U-verse TV and Internet" >U-verse TV and Internet</a></li> 
																				<li><a href="../u-verse/shop/index.jsp%3FshopFilterId=200001.html" name="Shop_Bundles_U-verse TV, Internet and Phone" >U-verse TV, Internet and Phone</a></li> 
																				<li><a href="../u-verse/shop/customize.jsp.html#vucbbb" name="Shop_Bundles_Build My Own U-verse Bundle" >Build My Own U-verse Bundle</a></li> 
																		</ul> 
																	</div> 
																</div> 
																<div class="secondColumn "> 
																	<div class="columnContent"> 
																			<h3>Bundles without U&#8209;verse</h3> 
																		<ul class="trayNoBullet"> 
																				<li><a href="../../localization.att.com/loc/controller%3Fprod-snip=res_globnav_popular_bundles.html" name="Shop_Bundles_Popular Bundles" >Popular Bundles</a></li> 
																				<li><a href="../../localization.att.com/loc/controller%3Fprod-snip=res_globnav_build_bundles.html" name="Shop_Bundles_Build My Own Bundle" >Build My Own Bundle</a></li> 
																				<li><a href="../gen/general%3Fpid=11122.html" name="Shop_Bundles_Compare Bundles" >Compare Bundles</a></li> 
																		</ul> 
																	</div> 
																</div> 
																<div class="secondColumn "> 
																	<div class="columnContent"> 
																			<h3>Existing Customers</h3> 
																		<ul class="trayNoBullet"> 
																				<li><a href="../accounts/index.html%3Fsource=IC4425j4900s2000.html" name="Shop_Bundles_Change My Service" >Change My Service</a></li> 
																				<li><a href="../../localization.att.com/loc/controller%3Fltype=res&amp;prod-snip=res_globnav_move_service.html" name="Shop_Bundles_Move My Service" >Move My Service</a></li> 
																		</ul> 
																	</div> 
																</div> 
														</div> 
												</li> 
												<li> 
													<a class="secondaryMenuItem" href="../shop/tv/index.html" name="Shop_Digital TV" >Digital TV</a> 
														<div class="trayContentItem trayFourCol"> 
															<div class="firstColumn"> 
																<div class="columnContent"> 
																	<img src='http://0.ecom.attccc.com/media/att/2011/global/nav/img-television_AA000R49.png' alt='Digital TV' /> 
																</div> 
															</div> 
																<div class="secondColumn "> 
																	<div class="columnContent"> 
																			<h3>Plans &amp; Channels</h3> 
																		<ul class="trayNoBullet"> 
																				<li><a href="../shop/tv/index.html" name="Shop_Digital TV_U-verse TV" >U-verse TV</a></li> 
																				<li><a href="../u-verse/shop/channel-lineup.jsp.html" name="Shop_Digital TV_U-verse Channel Line-up" >U-verse Channel Line-up</a></li> 
																				<li><a href="../shop/tv/directv.html" name="Shop_Digital TV_DIRECTV&reg; Programming Packages" >DIRECTV&reg; Programming Packages</a></li> 
																				<li><a href="../Common/PDF/DIRECTV_English_Channel_Lineup.pdf" name="Shop_Digital TV_DIRECTV&reg; Channel Line-up (PDF)" >DIRECTV&reg; Channel Line-up (PDF)</a></li> 
																		</ul> 
																	</div> 
																</div> 
																<div class="secondColumn "> 
																	<div class="columnContent"> 
																			<h3>Equipment</h3> 
																		<ul class="trayNoBullet"> 
																				<li><a href="../remotes.html" name="Shop_Digital TV_U-verse Remotes" >U-verse Remotes</a></li> 
																		</ul> 
																	</div> 
																</div> 
																<div class="secondColumn "> 
																	<div class="columnContent"> 
																			<h3>Existing Customers</h3> 
																		<ul class="trayNoBullet"> 
																				<li><a href="../olam/loginAction.olamexecute%3FcustomerType=U.html" name="Shop_Digital TV_Change My Plan" >Change My Plan</a></li> 
																				<li><a href="../olam/loginAction.olamexecute%3FcustomerType=U.html" name="Shop_Digital TV_Add Receivers" >Add Receivers</a></li> 
																				<li><a href="../../uversetv.att.yahoo.com/index.html" name="Shop_Digital TV_Access My DVR" >Access My DVR</a></li> 
																				<li><a href="../olam/loginAction.olamexecute%3FcustomerType=U.html" name="Shop_Digital TV_Upgrade to HD" >Upgrade to HD</a></li> 
																				<li><a href="../olam/loginAction.olamexecute%3FcustomerType=U.html" name="Shop_Digital TV_Add or Remove Channels" >Add or Remove Channels</a></li> 
																		</ul> 
																	</div> 
																</div> 
														</div> 
												</li> 
												<li> 
													<a class="secondaryMenuItem" href="../shop/internet/index.html" name="Shop_Internet" >Internet</a> 
														<div class="trayContentItem trayFiveCol"> 
															<div class="firstColumn"> 
																<div class="columnContent"> 
																	<img src='http://0.ecom.attccc.com/media/att/2011/global/nav/img-internet_AA000R4V.png' alt='Internet' /> 
																</div> 
															</div> 
																<div class="secondColumn "> 
																	<div class="columnContent"> 
																			<h3>Plans</h3> 
																		<ul class="trayNoBullet"> 
																				<li><a href="../u-verse/explore/internet-landing.jsp.html" name="Shop_Internet_U-verse Internet" >U-verse Internet</a></li> 
																				<li><a href="../../localization.att.com/loc/controller%3Fltype=res&amp;prod-snip=res_globnav_dsl_plans.html" name="Shop_Internet_DSL High Speed Internet" >DSL High Speed Internet</a></li> 
																				<li><a href="../dsl/shop/plansDirect.jsp%3Fref_from=shop.html" name="Shop_Internet_Internet Without a Phone Line" >Internet Without a Phone Line</a></li> 
																				<li><a href="../gen/general%3Fpid=9212.html" name="Shop_Internet_Internet Broadband via Satellite" >Internet Broadband via Satellite</a></li> 
																				<li><a href="../gen/general%3Fpid=10974.html" name="Shop_Internet_Dial-Up" >Dial-Up</a></li> 
																		</ul> 
																	</div> 
																</div> 
																<div class="secondColumn "> 
																	<div class="columnContent"> 
																			<h3>Equipment</h3> 
																		<ul class="trayNoBullet"> 
																				<li><a href="../equipment/accessories/uverse-equipment.jsp.html" name="Shop_Internet_U-verse Internet Equipment" >U-verse Internet Equipment</a></li> 
																				<li><a href="../equipment/accessories/dsl-equipment.jsp.html" name="Shop_Internet_DSL Equipment" >DSL Equipment</a></li> 
																		</ul> 
																	</div> 
																</div> 
																<div class="secondColumn "> 
																	<div class="columnContent"> 
																			<h3>Extras</h3> 
																		<ul class="trayNoBullet"> 
																				<li><a href="../../att.net/iss.html" name="Shop_Internet_Internet Security Suite" >Internet Security Suite</a></li> 
																				<li><a href="../gen/general%3Fpid=5949.html" name="Shop_Internet_AT&amp;T Wi-Fi" >AT&amp;T Wi-Fi</a></li> 
																				<li><a href="../../buy-connectech.att.com/ctcomm/catalog/index.jsp%3FcatId=cat30030.html" name="Shop_Internet_AT&amp;T Support Plus" >AT&amp;T Support Plus</a></li> 
																		</ul> 
																	</div> 
																</div> 
																<div class="secondColumn "> 
																	<div class="columnContent"> 
																			<h3>Existing Customers</h3> 
																		<ul class="trayNoBullet"> 
																				<li><a href="../../localization.att.com/loc/controller%3Fltype=res&amp;prod-snip=res_globnav_move_service.html" name="Shop_Internet_Move My DSL Service" >Move My DSL Service</a></li> 
																				<li><a href="../dsl.1.html" name="Shop_Internet_Change My Plan" >Change My Plan</a></li> 
																		</ul> 
																	</div> 
																</div> 
														</div> 
												</li> 
												<li> 
													<a class="secondaryMenuItem" href="../shop/home-phone/index.html" name="Shop_Home Phone" >Home Phone</a> 
														<div class="trayContentItem trayFourCol"> 
															<div class="firstColumn"> 
																<div class="columnContent"> 
																	<img src='http://0.ecom.attccc.com/media/att/2011/global/nav/img-homephone_AA000R4B.png' alt='Home Phone' /> 
																</div> 
															</div> 
																<div class="secondColumn "> 
																	<div class="columnContent"> 
																			<h3>Plans</h3> 
																		<ul class="trayNoBullet"> 
																				<li><a href="../u-verse/explore/phone-landing.jsp%3FwtSlotClick=1-001SNC-0-1&amp;WT.svl=calltoaction.html" name="Shop_Home Phone_AT&amp;T U-verse Voice" >AT&amp;T U-verse Voice</a></li> 
																				<li><a href="../../localization.att.com/loc/controller%3Fltype=res&amp;prod-snip=res_homephone_services.html" name="Shop_Home Phone_Home Phone Plans" >Home Phone Plans</a></li> 
																				<li><a href="../../localization.att.com/loc/controller%3Fltype=res&amp;prod-snip=res_long_distance_landing.html" name="Shop_Home Phone_Long Distance Plans" >Long Distance Plans</a></li> 
																				<li><a href="../../localization.att.com/loc/controller%3Fltype=res&amp;prod-snip=res_lifeline.html" name="Shop_Home Phone_Lifeline" >Lifeline</a></li> 
																		</ul> 
																	</div> 
																</div> 
																<div class="secondColumn "> 
																	<div class="columnContent"> 
																			<h3>Equipment</h3> 
																		<ul class="trayNoBullet"> 
																				<li><a href="../equipment/index.jsp.html" name="Shop_Home Phone_Home Phone Equipment" >Home Phone Equipment</a></li> 
																				<li><a href="../shop/home-phone/index.html#tab3" name="Shop_Home Phone_AT&amp;T U-verse Voice Equipment" >AT&amp;T U-verse Voice Equipment</a></li> 
																		</ul> 
																	</div> 
																</div> 
																<div class="secondColumn "> 
																	<div class="columnContent"> 
																			<h3>Existing Customers</h3> 
																		<ul class="trayNoBullet"> 
																				<li><a href="../../localization.att.com/loc/controller%3Fprod-snip=accountmanager.html" name="Shop_Home Phone_Change My Plan" >Change My Plan</a></li> 
																				<li><a href="../../localization.att.com/loc/controller%3Fltype=res&amp;prod-snip=res_globnav_move_service.html" name="Shop_Home Phone_Move My Service" >Move My Service</a></li> 
																				<li><a href="../../localization.att.com/loc/controller%3Fprod-snip=accountmanager.html" name="Shop_Home Phone_Manage Features" >Manage Features</a></li> 
																		</ul> 
																	</div> 
																</div> 
														</div> 
												</li> 
												<li> 
													<a class="secondaryMenuItem" href="../shop/u-verse.html" name="Shop_U-verse" >U-verse</a> 
														<div class="trayContentItem trayFiveCol"> 
															<div class="firstColumn"> 
																<div class="columnContent"> 
																	<img src='http://0.ecom.attccc.com/media/att/2012/global/nav/uverse_189x200.png' alt='U-verse' /> 
																</div> 
															</div> 
																<div class="secondColumn "> 
																	<div class="columnContent"> 
																			<h3>Digital TV</h3> 
																		<ul class="trayNoBullet"> 
																				<li><a href="../u-verse/explore/tv-landing.jsp.html" name="Shop_U-verse_U-verse TV" >U-verse TV</a></li> 
																				<li><a href="../u-verse/shop/channel-lineup.jsp.html" name="Shop_U-verse_Channel Line-up" >Channel Line-up</a></li> 
																				<li><a href="../remotes.html" name="Shop_U-verse_TV Remotes" >TV Remotes</a></li> 
																				<li><a href="../u-verse/explore/wireless-receiver.jsp.html" name="Shop_U-verse_Wireless TV Receivers" >Wireless TV Receivers</a></li> 
																				<li><a href="../u-verse/shop/index.jsp.html" name="Shop_U-verse_U-verse Bundles" >U-verse Bundles</a></li> 
																		</ul> 
																	</div> 
																</div> 
																<div class="secondColumn "> 
																	<div class="columnContent"> 
																			<h3>Internet</h3> 
																		<ul class="trayNoBullet"> 
																				<li><a href="../u-verse/explore/internet-landing.jsp.html" name="Shop_U-verse_U-verse Internet" >U-verse Internet</a></li> 
																				<li><a href="../shop/internet/index.html#tab3" name="Shop_U-verse_Internet Equipment" >Internet Equipment</a></li> 
																				<li><a href="../u-verse/shop/index.jsp.html" name="Shop_U-verse_U-verse Bundles" >U-verse Bundles</a></li> 
																		</ul> 
																	</div> 
																</div> 
																<div class="secondColumn "> 
																	<div class="columnContent"> 
																			<h3>Home Phone</h3> 
																		<ul class="trayNoBullet"> 
																				<li><a href="../u-verse/explore/phone-landing.jsp%3FwtSlotClick=1-001SNC-0-1&amp;WT.svl=calltoaction.html" name="Shop_U-verse_U-verse Voice" >U-verse Voice</a></li> 
																				<li><a href="../shop/home-phone/index.html#tab3" name="Shop_U-verse_Voice Equipment" >Voice Equipment</a></li> 
																				<li><a href="../u-verse/shop/index.jsp.html" name="Shop_U-verse_U-verse Bundles" >U-verse Bundles</a></li> 
																		</ul> 
																	</div> 
																</div> 
																<div class="secondColumn "> 
																	<div class="columnContent"> 
																			<h3>Existing Customers</h3> 
																		<ul class="trayNoBullet"> 
																				<li><a href="../olam/loginAction.olamexecute%3FcustomerType=U.html" name="Shop_U-verse_Change My Plan" >Change My Plan</a></li> 
																				<li><a href="../olam/loginAction.olamexecute%3FcustomerType=U.html" name="Shop_U-verse_Add Receivers" >Add Receivers</a></li> 
																				<li><a href="../../uversetv.att.yahoo.com/index.html" name="Shop_U-verse_Access My DVR" >Access My DVR</a></li> 
																				<li><a href="../u-verse/move-service/index.jsp.html" name="Shop_U-verse_Move My Service" >Move My Service</a></li> 
																		</ul> 
																	</div> 
																</div> 
														</div> 
												</li> 
												<li> 
													<a class="secondaryMenuItem" href="../shop/special-offers.html" name="Shop_Special Offers" >Special Offers</a> 
												</li> 
												<li> 
													<a class="secondaryMenuItem" href="../shop/help.html" name="Shop_Shopping Help" >Shopping Help</a> 
												</li> 
										</ul> 
								</li> 
								<li class=""><a href="../olam/passthroughAction.myworld%3FactionType=Manage.html" id="primary_MyATT" name="MyATT" class="primaryMenuItem">MyATT<span></span></a> 
								</li> 
								<li class=""><a href="../esupport/index.jsp.html" id="primary_Support" name="Support" class="primaryMenuItem">Support<span></span></a> 
								</li> 
							<li id="primary_Search"> 
								<form method="get" id="searchForm" name="searchForm" action="http://www.att.com/global-search/search.jsp" > 
									<fieldset> 
										<input type="hidden" name="App_ID" value="HOME"/> 
										<input type="hidden" name="autoSuggest" value=""/> 
										<input type="hidden" name="tabPressed" id="tabPressed" value="FALSE"/> 
										<input type="text" value="Search" name="q" id="search" class="ask_a_question_box" title="Search" /> 
										<button type="button">Submit</button> 
										<div id="autoSuggestBox" class="autoSuggest" style="display:none;"></div> 
									</fieldset> 
								</form> 
							</li> 
						</ul> 
					</div> 
								<ul id="secondaryMenu_Shop" class="secondaryMenu selected" style="display:block;clear:left;"> 
										<li class=""> 
											<a class="secondaryMenuItem" href="../shop/wireless.html" name="Shop_Wireless" >Wireless</a> 
										</li> 
										<li class=""> 
											<a class="secondaryMenuItem" href="../shop/bundles.html" name="Shop_Bundles" >Bundles</a> 
										</li> 
										<li class=""> 
											<a class="secondaryMenuItem" href="../shop/tv/index.html" name="Shop_Digital TV" >Digital TV</a> 
										</li> 
										<li class=""> 
											<a class="secondaryMenuItem" href="../shop/internet/index.html" name="Shop_Internet" >Internet</a> 
										</li> 
										<li class=""> 
											<a class="secondaryMenuItem" href="../shop/home-phone/index.html" name="Shop_Home Phone" >Home Phone</a> 
										</li> 
										<li class=""> 
											<a class="secondaryMenuItem" href="../shop/u-verse.html" name="Shop_U-verse" >U-verse</a> 
										</li> 
										<li class=""> 
											<a class="secondaryMenuItem" href="../shop/special-offers.html" name="Shop_Special Offers" >Special Offers</a> 
										</li> 
										<li class=""> 
											<a class="secondaryMenuItem" href="../shop/help.html" name="Shop_Shopping Help" >Shopping Help</a> 
										</li> 
								</ul> 
					<div id="trayContent" style="display:block;height:0px;"></div> 
				</div> 
	</div> 
	<div id="globalNavShadows" style="height:15px;*height:40px;" ></div> 
</div> 
	 <!-- social media  --> 
    <div class="socialmedia"> 
    <script type="text/javascript"> 
        function setMeteorKeys(){ 
            meteor.tracking.track('00d78e1f-01f0-45cd-9f9c-79e690335b05', { 
                'url_storage_source':'hash', 
                'query_string_tag_key':['mtag', 'source'] 
            }); 
            meteor.sharing.configure('00d78e1f-01f0-45cd-9f9c-79e690335b05'); 
        } 
        jQuery(document).ready(function(){ 
            jQuery.getScript('//cdnt.meteorsolutions.com/metsol.js', function(){setMeteorKeys()},true); 
        }); 
    </script> 
    <style type="text/css"> 
        #socialMedia { 
            height: 151px; 
            position: relative; 
            margin-bottom: -158px; 
            padding-top:27px; 
            width: 41px; 
            float: right; 
            z-index: 3; 
        } 
        .socialmedia { 
            min-width: 1060px; 
            height: 0px; 
            margin: 0 auto; 
        } 
    </style> 
    <map name="sharemap"> 
        <area class="socialWTReportLink" target="_blank" tabindex="0" shape="rect" coords="10,15,42,34" title="Twitter" alt="Twitter" href="http://www.twitter.com" onclick="this.href=meteor.sharing.href('Twitter' );"> 
        <area class="socialWTReportLink" target="_blank" tabindex="0" shape="rect" coords="10,35,42,54" title="Facebook" alt="Facebook" href="http://www.facebook.com" onclick="this.href=meteor.sharing.href('Facebook');"> 
        <area class="socialWTReportLink" target="_blank" tabindex="0" shape="rect" coords="10,55,42,74" title="LinkedIn" alt="LinkedIn" href="http://www.linkedin.com" onclick="this.href=meteor.sharing.href('Linkedin' );"> 
        <area class="socialWTReportLink" target="_blank" tabindex="0" shape="rect" coords="10,75,42,94" title="del.icio.us" alt="del.icio.us" href="http://del.icio.us" onclick="this.href=meteor.sharing.href('del.icio.us');"> 
        <area class="socialWTReportLink" target="_blank" tabindex="0" shape="rect" coords="10,95,42,114" title="digg" alt="digg" href="http://www.digg.com" onclick="this.href=meteor.sharing.href('Digg');"> 
        <area class="socialWTReportLink" target="_blank" tabindex="0" shape="rect" coords="10,119,42,150" title="email" alt="email" href="mailto:" onclick="this.href=meteor.sharing.href('Email' );"> 
    </map> 
    <img id="socialMedia" src="../../1.ecom.attccc.com/shopcms/media/att/2012/shop/wireless/common/ico-social-media-share-tablet.png" alt="Share" usemap="#sharemap"> 
</div> 
	<!-- undenav content --> 
	<div id="underNav"></div> 
	<!-- main content of page --> 
	<div id="wrapper"> 
		<div id="main-container"> 
<div class="bg-top-shadow"></div> 
<div class="bg-mid-shadow"> 
    <div id="content"> 
        <div id="lpButton-1" class="lpDiv-lob"></div> 
        <div class="page-title"> 
            <h1 class="floatl mapTitle"> 
               AT&T Maps 
            </h1> 
            <div class="floatr mapRSI">  
                <span class="faceBookS"><div class="likebutton"> 
	<div id="faceBookLikeButtonDiv" class="topMar10"> 
	</div> 
	<script id="faceBookLikeButtonMarkup" type="text/html"><iframe title="facebook" src="../../www.facebook.com/plugins/like.php%3Fhref=http:%252F%252Fwww.att.com%252Fmaps%252Fstore-locator.htmlAT&amp;T%2520Maps&amp;send=false&amp;layout=standard&amp;width=230&amp;show_faces=fal.html" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:230px; height:35px;" allowTransparency="true"></iframe></script> 
	<script type="text/javascript">jQuery(window).load(function(){jQuery("#faceBookLikeButtonDiv").html(jQuery("#faceBookLikeButtonMarkup").html())});</script> 
	<div class="clear"></div> 
</div> 
</span> 
                <span class="googleS"><div class="likebutton googleplus"><div class="g-plusone" data-href="http://www.att.com/maps/store-locator.html"></div> 
<script type="text/javascript"> 
	(function() { 
		var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true; 
		po.src = 'https://apis.google.com/js/plusone.js'; 
		var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s); 
	})(); 
</script></div> 
</span> 
                <span class="floatr printBtn"> <a class="print" href="index.html#" onclick="return false;" data-cqpath="/content/att/maps/en/store-locator/jcr:content;2013059">Print</a>  </span> 
            </div> 
            <div class="clear"></div> 
        </div> 
        <div class="parbase searchform"> 
    <div id="oneMapSearchBar"> 
              <form> 
                <div> <span class="textInput-wrapper floatl"><span> 
                  <div class="autoSuggestS"> 
                  <input type="text" value="" id="searchTxt"  maxlength="100" class="text hint" title="Search by address, ZIP Code, country, or landmark"> 
                  <button id='dropDownBtn' class="autoCompBtn arrowSuggest"></button> 
                  <div id="autoCompleteBlocker" class="whiteBlock"></div> 
                  </div> 
                  </span></span> 
                  <div class="button" id="uniform-searchBtn"> 
                  <span id="searchBtn"> 
                   </span></div> 
                  <div class="subSearchLink"><a class="wtOneMapSelector" data-preventwtcqclickhit="true" id="rtnsrchlocation" selector="Return to search location" data-cqpath="/content/att/maps/en/store-locator/jcr:content/searchform">Return to search location</a> 
                  <label id="strPipe"> | </label> 
                  <a class="wtOneMapSelector" id="viewDomesticLocation" data-preventwtcqclickhit="true" selector="View domestic locations" data-cqpath="/content/att/maps/en/store-locator/jcr:content/searchform">View domestic locations</a></div> 
                  </div> 
                <div class="clear"></div> 
              </form> 
            </div> 
</div> 
        <div class="main-box mapBox searchMap"> 
         <div class="bingMapError"></div> 
         	<a href="index.html#" class="searchMapSliderS noActive" data-cqpath="/content/att/maps/en/store-locator/jcr:content;2013059"></a> 
            <div id="content-left" class="box"> 
               <div class="leftpanel parbase"> 
    <div class="oneMapTabG"> 
        <!-- <a href="#" rel="coverageB" class="coverage active"> Coverage Map <br>Coverage</a> --> 
                <!--To be uncommented for coverage tab--> 
                <!--<a href="#" data-preventWtCqClickHit="true" rel="coverageB" class="coverage"></a>--> 
                <a href="index.html#" data-preventwtcqclickhit="true" rel="storeB" class="storeLocation active" data-cqpath="/content/att/maps/en/store-locator/jcr:content/leftpanel;2013027"></a> 
                <a href="index.html#" data-preventwtcqclickhit="true" rel="wifiB" class="wi-fi" data-cqpath="/content/att/maps/en/store-locator/jcr:content/leftpanel;2013027"></a> 
    </div> 
    <div class="oneMapTabBox"> 
    <div class="zoomViewDesc"> 
    <p class="zoomImage"></p> 
    <p class="zoomDecText"></p> 
    <p>Zoom in on the map to see individual store locations and store details.</p> 
    </div> 
                <div class="storeB"> 
                   <a href="index.html#" data-preventwtcqclickhit="true" onclick="ATT.OneMap.openModalForAdvanceSearch(); return false;" data-cqpath="/content/att/maps/en/store-locator/jcr:content/leftpanel;2013027">Filter results</a>      
                    <div class="searchResultList storeListPane"></div> 
                </div> 
                <div class="wifiB"> 
                    <div><div class="radiobuttonfilter parbase filterbase"> 
<form class="filterBy">  
    <h3> 
        <span>Select a Map</span> 
    </h3> 
    <ul id="wi_fi_type_id" class="styled_forms"> 
</ul> 
</form> 
<div class="clear"></div> 
</div> 
</div> 
                   <div><div class="checkboxesfilter parbase filterbase"> 
<form id="wifiForm" class="filterBy">  
    <h3 id="wifichecboxheader" onclick="ATT.OneMap.filterCollapseExpand(''); return false"> 
        <span>Filter results</span> 
    </h3> 
    <div class="wiFiCheckBList"> 
    <ul id="wi_fi_location_id" class="styled_forms"> 
    </ul> 
    </div> 
</form></div> 
</div> 
                    <div class="searchResultList wifiPane"> </div> 
                </div> 
                <!--To be uncommented for coverage tab--> 
                <!-- 
                 <div class="coverageB" style="display:none"> 
                   <div><div class="radiobuttonfilter parbase filterbase"><span class="componentWrapper" id="/content/att/maps/en/store-locator/jcr:content/leftpanel/radiobuttonfilter"> 
<form class="filterBy">  
    <h3> 
        <span>Wireless coverage type</span> 
    </h3> 
    <h2> 
        <span>Domestic</span> 
    </h2> 
    <ul id="coverage_domestic_type_id" class="styled_forms"> 
	</ul> 
	<h2> 
        <span>International</span> 
    </h2> 
    <ul id="coverage_intl_type_id" class="styled_forms"> 
	</ul> 
</form> 
<div class="clear"></div> 
</span></div> 
</div> 
                </div> 
                --> 
        <div class="clear"></div> 
        <div class="pagingBox"> 
        <div class="searchResultCountT"></div> 
            <div id='page_navigation'></div>  
            </div> 
            <!-- the input fields that will hold the variables we will use -->   
            <input type='hidden' id='current_page' />   
            <input type='hidden' id='show_per_page' />  
    </div> 
</div> 
            </div> 
            <div id="content-right"> 
	                <div class="storeMapDesc" style="display: none;"> 
						<h5>AT&T Store Locations</h5> 
						<p>This map displays locations of stores near your search address. These locations include AT&T stores, AT&T authorized retailers, and other stores that sell AT&T products and services. To view store details, click a pin</p> 
					</div> 
					<div class="wifiMapDesc" style="display: none;"> 
						<h5>AT&T Wi-Fi Hot Spot locations</h5> 
						<p>This map shows AT&T Wi-Fi Hot Spots near your search location. To view hotspot details, click a pin.</p> 
					</div> 
                <div class="parbase mapcontrol"> 
	<div id="staticStoreMap" style="position:relative; display:none; width:600px; height:600px;;"> 
		<img id="store_mainImg"></img>  
	</div> 
	<div id="staticWifiMap" style="position:relative; display:none; width:600px; height:600px;;"> 
		<img id="wifi_mainImg"></img> 
	</div> 
	<!--To be uncommented for coverage tab--> 
	 <!--   <div id="staticCoverageMap" style="position:relative; display:none; width:600px; height:600px;;"> 
		<img id="coverage_mainImg"></img> 
	</div>   --> 
	<div id='storeMap' style="position:relative; display:block; width:600px; height:600px;"></div> 
	<div id='wifiMap' style="position:relative; display:none; width:600px; height:600px;"></div> 
	<!--To be uncommented for coverage tab--> 
	<!--  <div id='coverageMap' style="position:relative; display:none; width:600px; height:600px;"></div>--> 
</div> 
            </div> 
            <div class="clear"></div> 
        </div> 
        <div class="SearchLegend"> 
          <ul id="legendContainer"> 
            <li class="legend1"> 
              <label class="legendL">Legend</label> 
            </li> 
          </ul> 
        </div> 
        <div class="clear"></div> 
	                <div id="copyRight"  style="display: block;"><p>All marks contained herein are the property of their respective owners. These directions are subject to the Microsoft® Service Agreement and for informational purposes only. No guarantee is made regarding their completeness or accuracy. Construction projects, traffic, or other events may cause actual conditions to differ from these results. Map and traffic data  2012 NAVTEQ® </p> 
<p>Microsoft Bing Maps Terms of Use</p> 
<p>Terms of Use URL: <br /> 
<a href="http://www.microsoft.com/maps/assets/docs/terms.aspx#l1 " target="_blank" data-cqpath="/content/att/maps/en/store-locator/jcr:content;2013059">http://www.microsoft.com/maps/assets/docs/terms.aspx#l1</a> 
</p></div> 
    </div> 
</div> 
<div class="bg-gr-bottom-shadow"></div> 
<!-- /SHADOW WRAPPER --> 
 <div id="legend-learn-more" style="display:none"> 
     <div class="inlineModalHeader" title="Learn More"> 
         <h1>Learn more</h1> 
         <a href="index.html#Close" class="closeModal" onclick="jQuery.colorbox.close();return false;" data-cqpath="/content/att/maps/en/store-locator/jcr:content;2013059">Close</a> 
     </div> 
     <div class="inlineModalContent"> 
          <ul id="legendContainer"> 
              <li > 
                <label >AT&T stores:  AT&T company-owned retail stores</label> 
              </li> 
              <li > 
                <label >AT&T authorized retailers: stores that are AT&T branded but not owned by AT&T</label> 
              </li> 
              <li > 
                <label >Other stores: include national retailers (like Best Buy) and other stores that sell AT&T products and services</label> 
              </li> 
        </ul> 
          <div class="modalButtons clear"> 
              <p style="padding:10px;"> 
                  <span class="btnLt"> 
                      <a id="emptyCartCancel" class="textLink" href="index.html#" onclick="jQuery.colorbox.close();return false;" data-cqpath="/content/att/maps/en/store-locator/jcr:content;2013059">Cancel</a> 
                  </span> 
                  <a id="emptyCartContinue" class="bt_right" href="index.html#" onclick="jQuery.colorbox.close();return false;" data-cqpath="/content/att/maps/en/store-locator/jcr:content;2013059"> 
                      <img alt="" src="http://1.ecom.attccc.com/media/att/2011/global/btn/btn-en-continue-blu29.gif"/> 
                  </a> 
              </p> 
          </div> 
      </div> 
 </div> 
<div class="SearchSubFooter"> 
    <div class="parbase teaser"> 
	<script type="text/javascript"> 
CQURLInfo = { 
    "contextPath": null, 
    "requestPath": '/content/att/maps/en/store-locator/jcr:content/teaser', 
    "selectorString": null, 
    "selectors": [], 
    "extension": 'html', 
    "suffix": null 
};</script> 
<script type="text/javascript" src="../shopcms/shopetc/clientlibs/foundation/jquery.js"></script> 
<script type="text/javascript" src="../shopcms/shopetc/clientlibs/foundation/shared.js"></script> 
<script type="text/javascript" src="../shopcms/libs/cq/personalization/clientlib.js"></script> 
    <script type="text/javascript">{ 	initializeTeaserLoader([{"path":"/shopcms/campaigns/att/en/retail-appt-scheduler/get-one-on-one-help/campaign/default","name":"default","campainName":"campaign","id":"campaign_default","segments":[],"tags":[]}], "first", "_content_att_maps_en_store-locator_jcr_content_teaser", "false", null);  }</script> 
         <div id="_content_att_maps_en_store-locator_jcr_content_teaser" class="campaign campaign-campaign"> 
                <div class="page teaserpage"> 
<div data-teaserId="/content/campaigns/att/en/retail-appt-scheduler/get-one-on-one-help/campaign/default/jcr:content;2013059" style="visibility:hidden;"> 
	<div class="parbase LoBTabs shopteaser"> 
		    <div class="parsys attgeneral"><div class="page mapfooter globalbase section"> 
   <div id="storefooter" > 
      <ul> 
         <li> 
            <div class="twoColLeftFooter"> 
               <img src="../shopcms/media/att/2012/onemap/img-appt-calendar-100x110.jpg" alt="Get One-on-One Help"/> 
            </div> 
            <div class="twoColRightFooter"> 
               <h5>Get One-on-One Help</h5> 
<p>In-store experts offer hands-on help with your devices and AT&amp;T services. Schedule an appointment at a store near you.<br> 
</p> 
<p><a href="https://www.att.com/storeappointment" target="_blank" data-cqpath="/content/campaigns/att/en/retail-appt-scheduler/get-one-on-one-help/campaign/default/jcr:content/shopteaser/attgeneral/mapfooter;2013059">Make in-store appointment</a></p> 
            </div> 
         </li> 
         <li> 
            <div class="twoColLeftFooter"> 
               <img src="../shopcms/media/att/2012/onemap/img-myATT-app-100x110.jpg" alt="MyATT App"/> 
            </div> 
            <div class="twoColRightFooter"> 
               <a data-cqpath="/content/att/maps/en/store-locator/jcr:content;2012340" href="http://www.att.com/shop/apps/myATT.html"></a><a data-cqpath="/content/att/maps/en/store-locator/jcr:content;2012340" target="_blank" href="http://www.att.com/shop/apps/myATT.html#fbid=zmS8VopUVHw">Get the myAT&amp;T app! Access your account information on the go!</a> 
            </div> 
         </li> 
         <li> 
            <div class="twoColLeftFooter"> 
               <img src="../shopcms/media/att/2012/onemap/img-recyle-phones-100x110.jpg" alt="Recyle Phones"/> 
            </div> 
            <div class="twoColRightFooter"> 
               <div class="mBtm5"><a data-cqpath="/content/att/maps/en/store-locator/jcr:content;2012340" href="http://www.att.com/gen/general?pid=20369"></a><a data-cqpath="/content/att/maps/en/store-locator/jcr:content;2012340" target="_blank" href="http://www.att.com/gen/general?pid=20369">Return. Recycle. Reward. Recycle your wireless phones, smartphones, batteries &amp; accessories and get rewarded.</a></div> 
            </div> 
         </li> 
      </ul> 
   </div> 
   <div id="wifibasicfooter" style="display:none;"> 
      <ul> 
         <li> 
            <div class="twoColLeftFooter"> 
               <img src="../shopcms/media/att/2012/onemap/img-appt-calendar-100x110.jpg" alt="Get One-on-One Help "/> 
            </div> 
            <div class="twoColRightFooter"> 
               <h5>Get One-on-One Help</h5> 
<p>In-store experts offer hands-on help with your devices and AT&amp;T services. Schedule an appointment at a store near you.<br> 
</p> 
<p><a href="https://www.att.com/storeappointment" target="_blank" data-cqpath="/content/campaigns/att/en/retail-appt-scheduler/get-one-on-one-help/campaign/default/jcr:content/shopteaser/attgeneral/mapfooter;2013059">Make in-store appointment</a></p> 
            </div> 
         </li> 
         <li> 
            <div class="twoColLeftFooter"> 
               <img src="../shopcms/media/att/2012/onemap/img-myATT-app-100x110.jpg" alt="MyATT App"/> 
            </div> 
            <div class="twoColRightFooter"> 
               <h5>Tools, tips and apps</h5> 
<p><span>Tools &amp; tips:</span></p> 
<ul> 
<li><a href="http://localization.att.com/loc/controller?prod-snip=support-lp2-ConsumerProtectionSafety" data-cqpath="/content/att/maps/en/store-locator/jcr:content;2012340"></a><a href="http://localization.att.com/loc/controller?prod-snip=support-lp2-ConsumerProtectionSafety" target="_blank" data-cqpath="/content/att/maps/en/store-locator/jcr:content;2012340">Safety and security tips</a></li> 
<li><a href="http://localization.att.com/loc/controller?prod-snip=Emergency_Preparedness" data-cqpath="/content/att/maps/en/store-locator/jcr:content;2012340"></a><a href="http://localization.att.com/loc/controller?prod-snip=Emergency_Preparedness" target="_blank" data-cqpath="/content/att/maps/en/store-locator/jcr:content;2012340">Emergency preparedness</a></li> 
</ul> 
<p><a href="../shop/apps.html" data-cqpath="/content/att/maps/en/store-locator/jcr:content;2012340"></a><a href="../shop/apps.html" target="_blank" data-cqpath="/content/att/maps/en/store-locator/jcr:content;2012340">AT&amp;T apps</a></p> 
            </div> 
         </li> 
         <li> 
            <div class="twoColLeftFooter"> 
               <img src="../shopcms/media/att/2012/onemap/img-recyle-phones-100x110.jpg" alt="Recyle Phones"/> 
            </div> 
            <div class="twoColRightFooter"> 
               <h5>AT&amp;T Smart Wi-Fi App</h5> 
<p class="mBtm5">Locate and connect to Wi-Fi hotspots, manage connections and data usage! <a href="https://play.google.com/store/apps/details?id=com.att.android.attsmartwifi " target="_blank" data-cqpath="/content/att/maps/en/store-locator/jcr:content;2012340">On Android Market</a></p> 
            </div> 
         </li> 
      </ul> 
   </div> 
   <div id="wifipremierfooter" style="display:none;"> 
      <ul> 
         <li> 
            <div class="twoColLeftFooter"> 
               <img src="../shopcms/media/att/2012/onemap/img-appt-calendar-100x110.jpg" alt="Get One-on-One Help"/> 
            </div> 
            <div class="twoColRightFooter"> 
               <h5>Get One-on-One Help</h5> 
<p>In-store experts offer hands-on help with your devices and AT&amp;T services. Schedule an appointment at a store near you.<br> 
</p> 
<p><a href="https://www.att.com/storeappointment" target="_blank" data-cqpath="/content/campaigns/att/en/retail-appt-scheduler/get-one-on-one-help/campaign/default/jcr:content/shopteaser/attgeneral/mapfooter;2013059">Make in-store appointment</a></p> 
            </div> 
         </li> 
         <li> 
            <div class="twoColLeftFooter"> 
               <img src="../shopcms/media/att/2012/onemap/img-myATT-app-100x110.jpg" alt="MyATT App"/> 
            </div> 
            <div class="twoColRightFooter"> 
               <h5>Tools, tips and apps</h5> 
<p><a href="http://www.att.com/esupport/main.jsp?cv=820" data-cqpath="/content/att/maps/en/store-locator/jcr:content;2012340">Other AT&amp;T services:</a></p> 
<p><a href="../shop/apps.html" data-cqpath="/content/att/maps/en/store-locator/jcr:content;2012340"></a><a href="../shop/apps.html" target="_blank" data-cqpath="/content/att/maps/en/store-locator/jcr:content;2012340">AT&amp;T apps</a></p> 
<p><span>Tools &amp; tips:</span></p> 
<ul> 
<li><a href="http://localization.att.com/loc/controller?prod-snip=support-lp2-ConsumerProtectionSafety" data-cqpath="/content/att/maps/en/store-locator/jcr:content;2012340"></a><a href="http://localization.att.com/loc/controller?prod-snip=support-lp2-ConsumerProtectionSafety" target="_blank" data-cqpath="/content/att/maps/en/store-locator/jcr:content;2012340">Safety and security tips</a></li> 
<li><a href="http://localization.att.com/loc/controller?prod-snip=Emergency_Preparedness" data-cqpath="/content/att/maps/en/store-locator/jcr:content;2012340"></a><a href="http://localization.att.com/loc/controller?prod-snip=Emergency_Preparedness" target="_blank" data-cqpath="/content/att/maps/en/store-locator/jcr:content;2012340">Emergency preparedness</a></li> 
</ul> 
<p><span>Other AT&amp;T services:</span></p> 
<ul> 
<li><a href="http://localization.att.com/loc/controller?prod-snip=repair_request" data-cqpath="/content/att/maps/en/store-locator/jcr:content;2012340"></a><a href="http://localization.att.com/loc/controller?prod-snip=repair_request" target="_blank" data-cqpath="/content/att/maps/en/store-locator/jcr:content;2012340">Troubleshoot &amp; Resolve</a></li> 
<li><a href="http://localization.att.com/loc/controller?prod-snip=support-lp2-HomePhoneChangeRemove" data-cqpath="/content/att/maps/en/store-locator/jcr:content;2012340"></a><a href="http://localization.att.com/loc/controller?prod-snip=support-lp2-HomePhoneChangeRemove" target="_blank" data-cqpath="/content/att/maps/en/store-locator/jcr:content;2012340">Add or change services</a></li> 
<li><a href="https://orderstatus.att.com/orderstatus/landing.do" data-cqpath="/content/att/maps/en/store-locator/jcr:content;2012340"></a><a href="https://orderstatus.att.com/orderstatus/landing.do" target="_blank" data-cqpath="/content/att/maps/en/store-locator/jcr:content;2012340">Check order status</a></li> 
<li><a href="http://localization.att.com/loc/controller?prod-snip=res_move_service" data-cqpath="/content/att/maps/en/store-locator/jcr:content;2012340"></a><a href="http://localization.att.com/loc/controller?prod-snip=res_move_service" target="_blank" data-cqpath="/content/att/maps/en/store-locator/jcr:content;2012340">Move service</a></li> 
<li><a href="http://www.att.com/esupport/article.jsp?sid=KB401998" data-cqpath="/content/att/maps/en/store-locator/jcr:content;2012340"></a><a href="http://www.att.com/esupport/article.jsp?sid=KB401998" target="_blank" data-cqpath="/content/att/maps/en/store-locator/jcr:content;2012340">Rebate reward center</a></li> 
</ul> 
            </div> 
         </li> 
         <li> 
            <div class="twoColLeftFooter"> 
               <img src="../shopcms/media/att/2012/onemap/img-recyle-phones-100x110.jpg" alt="Recyle Phones"/> 
            </div> 
            <div class="twoColRightFooter"> 
               <h5>AT&amp;T Smart Wi-Fi App</h5> 
<p class="mBtm5">Locate and connect to Wi-Fi hotspots, manage connections and data usage! <a href="https://play.google.com/store/apps/details?id=com.att.android.attsmartwifi " target="_blank" data-cqpath="/content/att/maps/en/store-locator/jcr:content;2012340">On Android Market</a></p> 
            </div> 
         </li> 
      </ul> 
   </div> 
   <div id="wifiinternationalfooter" style="display:none;"> 
      <ul> 
         <li> 
            <div class="twoColLeftFooter"> 
               <img src="http://www.att.com/images/global/icn-help.png" alt=""/> 
            </div> 
            <div class="twoColRightFooter"> 
            </div> 
         </li> 
         <li> 
            <div class="twoColLeftFooter"> 
               <img src="http://www.att.com/images/global/icn-help.png" alt=""/> 
            </div> 
            <div class="twoColRightFooter"> 
            </div> 
         </li> 
         <li> 
            <div class="twoColLeftFooter"> 
               <img src="http://www.att.com/images/global/icn-help.png" alt=""/> 
            </div> 
            <div class="twoColRightFooter"> 
            </div> 
         </li> 
      </ul> 
   </div> 
</div> 
</div> 
			<div class="clear"></div></div> 
</div></div> 
         </div><div class="clear"></div> 
</div> 
     <script type="text/javascript">  
		jQuery(window).load(function(){  
			var element = document.createElement('script');   
			element.type='text/javascript';   
			element.async = true;   
			element.src='https://view.atdmt.com/jaction/StoreLocator_LandingPage';   
			document.body.appendChild(element);  
		});  
	</script>  
	<noscript style="display:none">  
		<iframe src="http://www.att.com/maps/'https://view.atdmt.com/iaction/StoreLocator_LandingPage" width="1" height="1" frameborder="0" scrolling="No" marginheight="0" marginwidth="0" topmargin="0" leftmargin="0"></iframe>  
	</noscript> 
</div> 
		</div> 
		<!-- app specific footer content --> 
		<!-- Global Footer  --> 
		<div class="globalfooter"> 
		<div class="parsys sessionexpire modal"> 
<div id="sessionExpire" style="display:none;">  
	<div class="inlineModalHeader" title="SessionExpireModal"> 
<style type="text/css"> 
	.fauxH1 { 
		font-size: 2em; 
		font-weight: normal; 
		color: #333333; 
		line-height:1.7em; 
		padding: 0 0 0 25px; 
	} 
</style> 
<div class="fauxH1 authWarn scenarioContent" title="sessionExpire">Session Timeout</div>  
<div class="fauxH1 unauthWarn scenarioContent" title="sessionExpire">Session Timeout</div> 
<div class="fauxH1 authExpire scenarioContent" title="sessionExpire">Session Timeout</div> 
<div class="fauxH1 unauthExpire scenarioContent" title="sessionExpire">Session Timeout</div> 
<a onclick="ATT.sessionExpire.refreshSession();jQuery.colorbox.close();" class="closeModal authWarn unauthWarn scenarioContent" data-cqpath="/content/att/maps/en/store-locator/jcr:content/globalfooter/sessionexpire">Close</a> 
<a href="../shop/wireless.html" class="closeModal unauthExpire scenarioContent" data-cqpath="/content/att/maps/en/store-locator/jcr:content/globalfooter/sessionexpire">Close</a> 
<a href="../accounts/index.html%3Fsource=IC4425j4900s2000.html" class="closeModal authExpire scenarioContent" data-cqpath="/content/att/maps/en/store-locator/jcr:content/globalfooter/sessionexpire">Close</a> 
	</div> 
	<div class="inlineModalContent"> 
<div style="border-bottom:1px solid #E3E3E3;"> 
	<div class="authWarn scenarioContent"><p>As a security measure, your session will end in 5 minutes.<br /><br />If you need more time, select Continue to extend your session.</p></div> 
	<div class="unauthWarn scenarioContent"><p>As a security measure, your session will end in 5 minutes.<br /><br />If you need more time, select Save Cart to return at a later time or select Continue to extend your session.</p></div> 
	<div class="authExpire scenarioContent"><p>Your myAT&T session has timed out. As a security measure, your session ends after 30 minutes of inactivity.<br /><br />Select Continue to login to myAT&T.</p></div> 
	<div class="unauthExpire scenarioContent"><p>Your session has timed out. As a security measure, your session ends after 30 minutes of inactivity.<br /><br />Select Continue to return to the AT&T wireless homepage.</p></div> 
</div>  
<div class="authWarn unauthWarn scenarioContent modalButtons clear floatr" style="top:10px;"> 
	<a id="sessionExpireSaveCart" class="openModal modal705x400" href="http://www.att.com/shop/wireless/modals/shopmodals/jcr:content/mainpar/savecart.xhr.html" style="margin-right:10px;" data-cqpath="/content/att/maps/en/store-locator/jcr:content/globalfooter/sessionexpire"><img src="http://3.ecom.attccc.com/shopcms/media/att/2012/global/btn/btn_en_save_cart_white29.gif" alt="save cart"/></a> 
	<a onclick="ATT.sessionExpire.refreshSession();jQuery.colorbox.close();" id="btn_session_authWarn_continue" data-cqpath="/content/att/maps/en/store-locator/jcr:content/globalfooter/sessionexpire"><img src="http://1.ecom.attccc.com/media/att/2011/global/btn/btn-en-continue-blu29.gif" alt="continue"/></a> 
</div> 
<div class="authExpire scenarioContent modalButtons clear floatr" style="top:10px;"> 
	<a href="https://cprodx.att.com/apiserver/igate_web_dlom/logOut.do?style=relogin&returnurl=http://www.att.com/shopservlets/landing?redirectUrl=/olam/logout.olamexecute" class="floatr" id="btn_session_authExpire_continue" data-cqpath="/content/att/maps/en/store-locator/jcr:content/globalfooter/sessionexpire"><img src="http://1.ecom.attccc.com/media/att/2011/global/btn/btn-en-continue-blu29.gif" alt="continue"></a> 
</div> 
<div class="unauthExpire scenarioContent modalButtons clear floatr" style="top:10px;"> 
	<a href="index.html" class="floatr" id="btn_session_unauthExpire_continue" data-cqpath="/content/att/maps/en/store-locator/jcr:content/globalfooter/sessionexpire"><img src="http://1.ecom.attccc.com/media/att/2011/global/btn/btn-en-continue-blu29.gif" alt="continue"></a> 
</div> 
<div class="clear"></div> 
	</div> 
</div></div> 
		<!-- FOOTER --> 
				<div id="footer"> 
					<div class="padding"> 
                        <div id="attonweb"> 
                            <div class="attOnWeb"> 
									AT&amp;T on the Web 
								</div> 
                            <div class="attCom" style=""><a href="../index.html" data-cqpath="/content/att/maps/en/store-locator/jcr:content/globalfooter">att.com</a><br/> 
									Shop, Service, Support. 
								</div> 
                            <div class="attNet" style=""><a href="../../www.att.net/index.html" data-cqpath="/content/att/maps/en/store-locator/jcr:content/globalfooter">att.net</a><br/> 
									E-mail - News - Weather &amp; More 
								</div>                             
                        </div> 
                    </div>					 
					<div class="copyright constrained"> 
                        <div class="bottomLinks"> 
												<a href="../privacy/index.html" style="padding-left:0px;" data-cqpath="/content/att/maps/en/store-locator/jcr:content/globalfooter">Privacy Policy</a> 
												 | 
												<a href="../../www.att.jobs/index.html" style="" data-cqpath="/content/att/maps/en/store-locator/jcr:content/globalfooter">Careers</a> 
												 | 
													<a href="../econtactus/index.html" data-cqpath="/content/att/maps/en/store-locator/jcr:content/globalfooter">Contact Us</a> 
													 | 
												<a href="../gen/general%3Fpid=11561.html" style="" data-cqpath="/content/att/maps/en/store-locator/jcr:content/globalfooter">Terms of Use</a> 
												 | 
												<a href="../sitemap/index.html" style="" data-cqpath="/content/att/maps/en/store-locator/jcr:content/globalfooter">Site Map</a> 
												 | 
												<a href="../gen/general%3Fpid=10190.html" style="" data-cqpath="/content/att/maps/en/store-locator/jcr:content/globalfooter">Accessibility </a> 
												 | 
												<a href="../gen/public-affairs%3Fpid=20107.html" style="" data-cqpath="/content/att/maps/en/store-locator/jcr:content/globalfooter">Wireless Emergency Alerts</a> 
												 | 
												<a href="../internal/adchoices.html" style="" data-cqpath="/content/att/maps/en/store-locator/jcr:content/globalfooter">Advertising Choices</a> 
												 | 
												<a href="../internal/broadbandinfo.html" style="" data-cqpath="/content/att/maps/en/store-locator/jcr:content/globalfooter">Broadband Information</a> 
								</div> 
								<a href="../gen/privacy-policy%3Fpid=2587.html" data-cqpath="/content/att/maps/en/store-locator/jcr:content/globalfooter">&copy;2012 AT&amp;T Intellectual Property</a>. All rights reserved. AT&amp;T, the AT&amp;T logo and all other AT&amp;T marks contained herein are trademarks of AT&amp;T Intellectual Property and/or AT&amp;T affiliated companies. AT&amp;T 36USC220506  
						</div> 
					<div class="logoBlock"> 
								<a target="_blank" href="../../www.ctia.org/index.html" class="logoLink ctia" title="The first nationwide carrier to be awarded the Seal of Wireless Quality. For details, visit www.ctia.org." data-cqpath="/content/att/maps/en/store-locator/jcr:content/globalfooter"> 
								    <div class="logo"></div> 
								</a> 
								<a target="_blank" href="../../www.bbb.org/online/consumer/cks.aspx%3Fid=110020911221.html" class="logoLink bbb" title="Click to verify BBB accreditation and to see a BBB report." data-cqpath="/content/att/maps/en/store-locator/jcr:content/globalfooter"> 
								    <div class="logo"></div> 
								</a> 
								<a target="_blank" href="../../clicktoverify.truste.com/pvr.php%3Fpage=validate&amp;companyName=AT%2526T&amp;sealid=101.html" class="logoLink truste" title="This site is certified by TRUSTe" data-cqpath="/content/att/maps/en/store-locator/jcr:content/globalfooter"> 
								    <div class="logo"></div> 
								</a> 
								<a target="_blank" href="../../www.yellowpages.com/index.html" class="logoLink yellowpages" title="YELLOWPAGES.COM" data-cqpath="/content/att/maps/en/store-locator/jcr:content/globalfooter"> 
								    <div class="logo"></div> 
								</a> 
								<a target="_blank" href="../../www.realpageslive.com/index.html" class="logoLink realpages" title="Digital White and Yellow Pages" data-cqpath="/content/att/maps/en/store-locator/jcr:content/globalfooter"> 
								    <div class="logo"></div> 
								</a> 
								<a target="_blank" href="../../www.att.net/teamusa.html" class="logoLink olympics" title="USA Proud Sponsor of the U.S. Olympic Team" data-cqpath="/content/att/maps/en/store-locator/jcr:content/globalfooter"> 
								    <div class="logo"></div> 
								</a> 
					</div> 
				</div> 
		<!-- WebTrends Base Tag : include only at end of page --> 
		<!-- Webtrend global params --> 
		<script type="text/javascript" src="http://1.ecom.attccc.com/scripts/foresee_global/foresee-trigger-global.js"></script> 
	        <script type="text/javascript" src="http://www.att.com/media/cms/shop/scripts/baynote.js"></script> 
		 <!--X-Renderer: 58886755164169072207023543805733861304 --> 
		<!-- /FOOTER -->  
		</div> 
	</div> 
	<!-- Page Level JS files --> 
            <script charset="UTF-8" type="text/javascript" src="../../ecn.dev.virtualearth.net/mapcontrol/mapcontrol.ashx%3Fv=7.0&amp;mkt=en-US"></script> 
    <!-- styles needed by jScrollPane--> 
    <script type="text/javascript" src="../media/cms/shop/scripts/jquery-ui-1.8.22.custom.min.js"></script> 
        <script type="text/javascript" src="../media/cms/shop/scripts/jquery.mousewheel.min.js"></script> 
    <!-- the jScrollPane script --> 
    <script type="text/javascript" src="../media/cms/shop/scripts/jquery.jscrollpane.min.js"></script> 
    <script type="text/javascript" src="../media/cms/shop/scripts/jquery.blockUI.js%3Fv2.43"></script> 
    <link type="text/css" href="../media/cms/shop/styles/jquery.jscrollpane.css" rel="stylesheet" media="all"/> 
    <script type="text/javascript"> 
    if(window.navigator){ 
        if((window.navigator.userAgent.match(/iPhone/i)) || (window.navigator.userAgent.match(/iPad/i)) || (window.navigator.userAgent.match(/android/i)) || (window.navigator.userAgent.match(/Windows Phone/i))) { 
            if(window.location.pathname.match(/\/wifi/)){ 
                window.location="//attwifi.know-where.com/attwifiw"; 
            }    
         } 
        } 
    var rcd=new Array(); 
    var allpagination = new Array(); 
    ATT.namespace('OneMap'); 
    var scrollFlag = true; 
    var runCheckScrollPane = true; 
    var tempVar, runCheckScrollPaneInt, checkListDataCount = 0 ; 
    var pageNum=0; 
    ATT.OneMap = new function() { 
        var thisOneMap = this, map = null, query = '', viewchangeend; 
        var zoom_min, zoom_max, zoom_default;  
        this.currentSelectedTab = "coverage", this.defaultInfobox, this.arrStoreId; 
        this.strLastValidSearch = "", this.searchOrigin, this.strLastValidSearch_store = "", this.strLastValidSearch_wifi = ""; 
        var alphaArray = ["A", "B", "C", "D", "E", "F", "G", "H", "I", "J", "K", "L", "M", "N", "O", "P", "Q", "R", "S", "T", "U", "V", "W", "X", "Y", "Z"]; 
        var maxPins = 30, intCurrentRadiusSearch = 20, intMinSearchRadius = 20, intMaxSearchRadius = 250, intMaxResult = 50; 
        this.arrStoreData, this.arrWifiData, this.iCurrentPage = 0, this.iResultPerPage = 10, this.getZipForSearchfield = false; 
        this.credentials = 'Akg_FZYIXiJc8S0ZecryN60DVoNKcHsd8fNm89pSSshPe_R4y89aoVQB8tBK02zt'; 
        this.apiKey_store = '457170cad6f312786d91748811795ab4b68b07de'; 
        this.apiKey_wifi = '27d684f8e73c701f4e41b334813b54cf3c7fa46d'; 
        this.resultcount="", this.anchorDots = new Microsoft.Maps.Point(10,6), this.anchorPins = new Microsoft.Maps.Point(18,30), this.anchorPinsText = new Microsoft.Maps.Point(18,30); 
        this.advanceSearchString = "", this.bAppInitCalled = false, this.objStoreInfobox, this.objWifiInfobox, this.objCoverageInfobox, this.bAlldataToUpdate = false; 
        this.wifiFilterString = "", this.objWifiFilterSelection = new Object(), this.strWifiRadioSelection = "", this.arrStoreLegend, this.arrWifiLegend, this.arrStaticStoreLegend, this.objInitialJsonData; 
        this.bShowStaticMapForStore = true, this.bShowStaticMapForWifi = true, this.bShowStaticMapForCoverage = true, this.centerPin, this.bMapOnceInitialized = false;;  
        this.store_map, this.wifi_map, this.coverage_map, this.bTabSwitched = false, this.bStoreDataByStaticMapClick = false, this.bWifiDataByStaticMapClick = false, this.bStoreDataToUpdate = false, this.bWifiDataToUpdate = false, this.bCoverageDataToUpdate = false; 
        this.labels = {}; 
        this.errors = {}; 
        this.staticMapBbox = {}, this.iZoomAndCenterInterval; 
        this.arrStoreImageMapAreas, this.arrWifiImageMapAreas, this.arrCoverageArea, this.bCoverageAlertToShow = true, this.objCheckBoxCount = new Object(), this.iChangeEventInterval; 
        this.arrCoverageDomesticData, this.arrCoverageIntlData, this.strCurrKeyForLegendCall = "", this.iStaticMapInterval = ""; 
        this.TEMP_CODE_STORE = 1111, this.CODE_WIFI_BASIC = "1000", this.CODE_WIFI_PREMIER = "1001", this.CODE_WIFI_INTERNATIONAL = "1002"; 
        this.bReturnToSearch_store = false, this.bReturnToSearch_wifi = false, this.bRadioButtonOrTabClicked = false; 
        this.objLocalData = new Object(), this.strWifiPreviousRBselected, this.strCoverageRBselected, this.resetOtherViewPortData = true, this.bSearchOnCoverageInitiated = false; 
        this.paths = { 
            'printURL':(window.location.pathname.match(/\/es\//)) ? '/maps/es/print/printlocators.html?' : '/maps/print/printlocators.html?', 
            'blank_orange_small': '/media/cms/shop/images/map/Pin_Orange_small.png', 
            'blank_orange_white_small': '/media/cms/shop/images/map/Pin_Orange_White_Small.png', 
            'blank_blue_small': '/media/cms/shop/images/map/Pin_Blue_Small.png', 
            'blank_green_small': '/media/cms/shop/images/map/Pin_Green_Small.png', 
            'blank_brown_small': '/media/cms/shop/images/map/Pin_Brown_Small.png', 
            'blank_grey_small': '/media/cms/shop/images/map/Pin_Grey_Small.png', 
            'blank_purple_small': '/media/cms/shop/images/map/Pin_Purple_Small.png', 
            'blank_yellow_small': '/media/cms/shop/images/map/Pin_Yellow_Small.png', 
        restapi : { 
                query: '/apis/maps/v2/locator/search/query.json?', 
                viewport: '/apis/maps/v2/locator/search/viewport.json?', 
                legendstore: (window.location.pathname.match(/\/es\//)) ? '/maps/es/apis/v2/legend/locator/store.json' : '/maps/en/apis/v2/legend/locator/store.json',  
                legendwifiBasic: (window.location.pathname.match(/\/es\//)) ? '/maps/es/apis/v2/legend/locator/wifibasic.json' : '/maps/en/apis/v2/legend/locator/wifibasic.json', 
                legendwifiPremier: (window.location.pathname.match(/\/es\//)) ? '/maps/es/apis/v2/legend/locator/wifipremier.json' : '/maps/en/apis/v2/legend/locator/wifipremier.json', 
                legendVoice: (window.location.pathname.match(/\/es\//)) ? '/maps/es/apis/v2/legend/coverage/voice.json' : '/maps/en/apis/v2/legend/coverage/voice.json', 
                legendData: (window.location.pathname.match(/\/es\//)) ? '/maps/es/apis/v2/legend/coverage/data.json' : '/maps/en/apis/v2/legend/coverage/data.json', 
                legendGophone_pay: (window.location.pathname.match(/\/es\//)) ? '/maps/es/apis/v2/legend/coverage/gophone_pay.json' : '/maps/en/apis/v2/legend/coverage/gophone_pay.json', 
                legendGophone_pick: (window.location.pathname.match(/\/es\//)) ? '/maps/es/apis/v2/legend/coverage/gophone_pick.json' : '/maps/en/apis/v2/legend/coverage/gophone_pick.json', 
                legendFamily: (window.location.pathname.match(/\/es\//)) ? '/maps/es/apis/v2/legend/coverage/family.json' : '/maps/en/apis/v2/legend/coverage/family.json', 
                legendSmartlimits: (window.location.pathname.match(/\/es\//)) ? '/maps/es/apis/v2/legend/coverage/smartlimits.json' : '/maps/en/apis/v2/legend/coverage/smartlimits.json', 
				initialJson:(window.location.pathname.match(/\/es\//)) ? '/apis/maps/v2/es/refdata.json?' : '/apis/maps/v2/en/refdata.json?'         
            }, 
            pushPinOptions:{ 
                'blank_orange':{draggable: false, icon: '/shopcms/media/att/2012/shop/landing/map-icons/Sprite_One-Map.png', textOffset: thisOneMap.anchorPinsText, typeName: 'blank_orange pushPinNormal', anchor:thisOneMap.anchorPins}, 
                'blank_orange_white':{draggable: false, icon: '/shopcms/media/att/2012/shop/landing/map-icons/Sprite_One-Map.png', textOffset: new Microsoft.Maps.Point(0, 5),  typeName: 'blank_orange_white pushPinOrange', anchor:thisOneMap.anchorPins}, 
                'blank_blue':{draggable: false, icon: '/shopcms/media/att/2012/shop/landing/map-icons/Sprite_One-Map.png', textOffset: thisOneMap.anchorPinsText, typeName: 'blank_blue pushPinNormal', anchor:thisOneMap.anchorPins}, 
                'blank_green':{draggable: false, icon: '/shopcms/media/att/2012/shop/landing/map-icons/Sprite_One-Map.png', textOffset: thisOneMap.anchorPinsText, typeName: 'blank_green pushPinNormal', anchor:thisOneMap.anchorPins}, 
                'blank_purple':{draggable: false, icon: '/shopcms/media/att/2012/shop/landing/map-icons/Sprite_One-Map.png', textOffset: thisOneMap.anchorPinsText, typeName: 'blank_purple pushPinNormal', anchor:thisOneMap.anchorPins}, 
                'blank_brown':{draggable: false, icon: '/shopcms/media/att/2012/shop/landing/map-icons/Sprite_One-Map.png', textOffset: thisOneMap.anchorPinsText, typeName: 'blank_brown pushPinNormal', anchor:thisOneMap.anchorPins}, 
                'blank_grey':{draggable: false, icon: '/shopcms/media/att/2012/shop/landing/map-icons/Sprite_One-Map.png', textOffset: thisOneMap.anchorPinsText, typeName: 'blank_grey pushPinNormal', anchor:thisOneMap.anchorPins}, 
                'blank_yellow':{draggable: false, icon: '/shopcms/media/att/2012/shop/landing/map-icons/Sprite_One-Map.png', textOffset: thisOneMap.anchorPinsText, typeName: 'blank_yellow pushPinNormal', anchor:thisOneMap.anchorPins}, 
                'dot_orange':{draggable: false, icon: '/shopcms/media/att/2012/shop/landing/map-icons/Sprite_One-Map.png',typeName: 'dot_orange', anchor:thisOneMap.anchorDots}, 
                'dot_orange_white':{draggable: false, icon: '/shopcms/media/att/2012/shop/landing/map-icons/Sprite_One-Map.png',typeName: 'dot_orange_white', anchor:thisOneMap.anchorDots}, 
                'dot_blue':{draggable: false, icon: '/shopcms/media/att/2012/shop/landing/map-icons/Sprite_One-Map.png',typeName: 'dot_blue', anchor:thisOneMap.anchorDots}, 
                'dot_green':{draggable: false, icon: '/shopcms/media/att/2012/shop/landing/map-icons/Sprite_One-Map.png',typeName: 'dot_green', anchor:thisOneMap.anchorDots}, 
                'dot_purple':{draggable: false, icon: '/shopcms/media/att/2012/shop/landing/map-icons/Sprite_One-Map.png',typeName: 'dot_purple', anchor:thisOneMap.anchorDots}, 
                'dot_brown':{draggable: false, icon: '/shopcms/media/att/2012/shop/landing/map-icons/Sprite_One-Map.png',typeName: 'dot_brown', anchor:thisOneMap.anchorDots}, 
                'dot_grey':{draggable: false, icon: '/shopcms/media/att/2012/shop/landing/map-icons/Sprite_One-Map.png',typeName: 'dot_grey', anchor:thisOneMap.anchorDots}, 
                'dot_yellow':{draggable: false, icon: '/shopcms/media/att/2012/shop/landing/map-icons/Sprite_One-Map.png',typeName: 'dot_yellow', anchor:thisOneMap.anchorDots}, 
                'pin_star':{draggable: false, icon: '/shopcms/media/att/2012/shop/landing/map-icons/Sprite_One-Map.png', anchor:new Microsoft.Maps.Point(15, 6),typeName: 'pin_star'} 
            } 
        }; 
        this.params = { 
                'maptype':'', 
                'filter':'', 
                'zoom':zoom_default,   
                'filter':'', 
                'location-id': '', 
                'store-id':'', 
                'wifi-id':'', 
                'lat': '', 
                'long': '', 
                'transport-mode': 'driving', // driving, walking, transit 
                'units': 'miles', //miles , km 
                'referring-app-id': '', 
                'searchFilter':'', 
                'locationSearch':'', 
                'subSelection':'', 
                'SW':'', 
                'NE':'', 
                'starLat':'', 
                'starLon':'', 
                'from-directions':'', 
                'from-address':'', 
                'staticMap':'', 
                'selectedTab':'' 
                }; 
      //load Bing Theme, required to have new style of zoom and direction button 
        this.loadTheme = function loadTheme(){ 
            Microsoft.Maps.loadModule('Microsoft.Maps.Themes.BingTheme', { callback: thisOneMap.restService.initialJsonCall}); 
        } 
        //initializes map, is called on body load 
        this.init = function init()  
        { 
            thisOneMap.bRadioButtonOrTabClicked = false; 
            thisOneMap.setParams(); 
            thisOneMap.getMap(); 
            thisOneMap.setBoundingBoxForCoverage(); 
            //checks if the page has been called from print page via "back to search results" link 
            if(thisOneMap.params['staticMap'] == "true"){ 
                if(thisOneMap.params['selectedTab'] == "storeLocation"){ 
                    thisOneMap.currentSelectedTab = "storeLocation"; 
                    jQuery(".storeMapDesc").show(); 
                    jQuery("#storefooter").show(); 
                    jQuery("#wifibasicfooter").hide(); 
                    jQuery("#wifipremierfooter").hide(); 
                    jQuery("#wifiinternationalfooter").hide(); 
                }else if(thisOneMap.params['selectedTab'] == "wi-fi"){ 
                    jQuery(".wifiMapDesc").show(); 
                    thisOneMap.currentSelectedTab = "wi-fi"; 
                    jQuery("#storefooter").hide(); 
                    jQuery("#wifibasicfooter").show(); 
                    jQuery("#wifipremierfooter").hide(); 
                    jQuery("#wifiinternationalfooter").hide(); 
                    thisOneMap.strWifiPreviousRBselected = thisOneMap.params['subSelection']; 
                    thisOneMap.resetWifiFilterTypes(); 
                } 
                thisOneMap.setTabSelected(); 
                thisOneMap.showStaticMap(true, true, true); 
                ATT.modalSpinner.close(); 
                thisOneMap.bAppInitCalled = true; 
                return; 
            }else if(thisOneMap.params['SW'] != "" && thisOneMap.params['NE'] != ""){ 
                if(thisOneMap.params['from-address'] != ""){ 
                    jQuery('#searchTxt').val(thisOneMap.params['from-address']); 
                    ATT.OneMap.strLastValidSearch = thisOneMap.params['from-address']; 
                    thisOneMap.bShowStaticMapForStore = false; 
                    thisOneMap.bShowStaticMapForWifi = false; 
                    thisOneMap.bShowStaticMapForCoverage = false; 
                }else if(thisOneMap.params['locationSearch'] != ""){ 
                    jQuery('#searchTxt').val(thisOneMap.params['locationSearch']); 
                    ATT.OneMap.strLastValidSearch = thisOneMap.params['locationSearch']; 
                    thisOneMap.bShowStaticMapForStore = false; 
                    thisOneMap.bShowStaticMapForWifi = false; 
                    thisOneMap.bShowStaticMapForCoverage = false; 
                }else{ 
                    if(thisOneMap.params['selectedTab'] == "storeLocation"){ 
                        thisOneMap.bShowStaticMapForStore = false; 
                        thisOneMap.bStoreDataByStaticMapClick = true; 
                    }else if(thisOneMap.params['selectedTab'] == "wi-fi"){ 
                        thisOneMap.bShowStaticMapForWifi = false; 
                        thisOneMap.bWifiDataByStaticMapClick = true; 
                } 
                } 
                if(thisOneMap.params['selectedTab'] == "storeLocation"){ 
                    thisOneMap.currentSelectedTab = "storeLocation"; 
                    thisOneMap.advanceSearchString = thisOneMap.params['searchFilter']; 
                    jQuery(".storeMapDesc").show(); 
                    jQuery("#storefooter").show(); 
                    jQuery("#wifibasicfooter").hide(); 
                    jQuery("#wifipremierfooter").hide(); 
                    jQuery("#wifiinternationalfooter").hide(); 
                    thisOneMap.bWifiDataToUpdate = true; 
                }else if(thisOneMap.params['selectedTab'] == "wi-fi"){ 
                    thisOneMap.currentSelectedTab = "wi-fi"; 
                    thisOneMap.wifiFilterString = thisOneMap.params['searchFilter']; 
                    thisOneMap.resetWifiFilterTypes(); 
                    jQuery(".wifiMapDesc").show(); 
                    jQuery("#storefooter").hide(); 
                    jQuery("#wifibasicfooter").show(); 
                    jQuery("#wifipremierfooter").hide(); 
                    jQuery("#wifiinternationalfooter").hide(); 
                    thisOneMap.strWifiPreviousRBselected = thisOneMap.params['subSelection']; 
                    thisOneMap.strWifiRadioSelection = thisOneMap.params['subSelection']; 
                    thisOneMap.bStoreDataToUpdate = true; 
                    if(thisOneMap.strWifiPreviousRBselected == thisOneMap.CODE_WIFI_PREMIER){ 
                        thisOneMap.bShowStaticMapForWifi = true; 
                        jQuery("#strPipe").hide(); 
                        jQuery("#viewDomesticLocation").hide(); 
                    }else{ 
                        thisOneMap.bShowStaticMapForWifi = false; 
                    } 
                } 
                thisOneMap.getMap(); 
                thisOneMap.setTabSelected(); 
                thisOneMap.setCenterPin_fromPrint(); 
                thisOneMap.setViewChangeEvent(); 
                thisOneMap.callRestService(); 
                thisOneMap.setLegends(); 
                jQuery(".searchMapSliderS").show(); 
            }else{ 
                if(window.navigator){ 
                    if((window.navigator.userAgent.match(/iPhone/i)) || (window.navigator.userAgent.match(/iPad/i)) || (window.navigator.userAgent.match(/android/i)) || (window.navigator.userAgent.match(/Windows Phone/i))) { 
                        thisOneMap.getZipForSearchfield =  true; 
                        if (window.navigator.geolocation) { 
                            window.navigator.geolocation.getCurrentPosition(thisOneMap.zoomToLocation, thisOneMap.locationError); 
                        } 
                    } 
                } 
                var userZipCode = ATT.globalVars.cartContents.userZip; 
                if(userZipCode.length > 1){ 
                    //thisOneMap.findLocation(userZipCode); 
                    jQuery('#searchTxt').val(userZipCode); 
                    thisOneMap.resetOtherViewPortData = true; 
                    thisOneMap.bStoreDataToUpdate = true; 
                    thisOneMap.bWifiDataToUpdate = true; 
                    thisOneMap.bCoverageDataToUpdate = true; 
                    thisOneMap.searchLocation(); 
                    //thisOneMap.setZoomLevel(); 
                }else{ 
                    //thisOneMap.findLocation("seattle, wa"); 
                    ATT.modalSpinner.close(); 
                    if(thisOneMap.strWifiRadioSelection == thisOneMap.CODE_WIFI_PREMIER){ 
                        //thisOneMap.hideStaticMaps(); 
                        thisOneMap.findLocation("Europe"); 
                    }else{ 
                        thisOneMap.showStaticMap(true, true, true); 
                    } 
                } 
                if(thisOneMap.currentSelectedTab == "storeLocation"){ 
                    jQuery(".storeMapDesc").show(); 
                    jQuery(".wifiMapDesc").hide(); 
                }else if(thisOneMap.currentSelectedTab == "wi-fi"){ 
                    jQuery(".wifiMapDesc").show(); 
                    jQuery(".storeMapDesc").hide(); 
                } 
            } 
            thisOneMap.bAppInitCalled = true; 
        } 
        this.zoomToLocation = function zoomToLocation(position){ 
            thisOneMap.hideStaticMaps(); 
            var latitude = position.coords.latitude; 
            var longitude = position.coords.longitude; 
            thisOneMap.map.setView({ zoom: zoom_default, center: new Microsoft.Maps.Location(latitude, longitude) }) 
            thisOneMap.onViewChangeEnd(null); 
            //alert(position.address.postalCode); 
        } 
        this.locationError = function locationError(){ 
            alert("Not able to find user location"); 
        } 
        this.showStaticMap = function showStaticMap(bShowStaticMapStore, bShowStaticMapWifi, bShowStaticMapCoverage){ 
            //return; 
            clearInterval(thisOneMap.iStaticMapInterval); 
            if(!thisOneMap.getStaticMapLoadStatus()){ 
                ATT.modalSpinner.show(); 
                thisOneMap.iStaticMapInterval = setInterval( function() { ATT.OneMap.showStaticMap(thisOneMap.bShowStaticMapForStore, thisOneMap.bShowStaticMapForWifi, thisOneMap.bShowStaticMapForCoverage); }, 500 ); 
                return; 
            } 
            ATT.modalSpinner.close(); 
            thisOneMap.hideStaticMaps(); 
            thisOneMap.bShowStaticMapForStore = bShowStaticMapStore; 
            thisOneMap.bShowStaticMapForWifi = bShowStaticMapWifi; 
            thisOneMap.bShowStaticMapForCoverage = bShowStaticMapCoverage; 
            if(bShowStaticMapStore && bShowStaticMapWifi && bShowStaticMapCoverage){ 
                Microsoft.Maps.Events.removeHandler(viewchangeend); 
                thisOneMap.strLastValidSearch = ""; 
                jQuery('#searchTxt').val("").blur(); 
            } 
            jQuery('#storeMap').hide(); 
            jQuery('#wifiMap').hide(); 
            jQuery('#coverageMap').hide();  
            var imageURL = ""; 
            if(thisOneMap.currentSelectedTab == "storeLocation"){ 
                imageURL = thisOneMap.objLocalData[thisOneMap.TEMP_CODE_STORE].staticmapurl; 
                jQuery("#store_mainImg").attr("src",imageURL); 
                jQuery("#staticStoreMap").show(); 
                jQuery(".storeB").hide(); 
                thisOneMap.setStaticLegends(); 
            }else if(thisOneMap.currentSelectedTab == "wi-fi"){ 
                imageURL = thisOneMap.objLocalData[thisOneMap.strWifiPreviousRBselected].staticmapurl; 
                jQuery("#wifi_mainImg").attr("src",imageURL); 
                jQuery(".wifiB").show(); 
                jQuery(".checkboxesfilter ").hide(); 
                if(thisOneMap.strWifiRadioSelection == thisOneMap.CODE_WIFI_PREMIER){ 
                	jQuery("#staticWifiMap").hide(); 
                	jQuery('#wifiMap').show(); 
                	thisOneMap.setLegends(); 
                }else{ 
                	jQuery("#staticWifiMap").show(); 
                	thisOneMap.setStaticLegends(); 
                } 
            }else if(thisOneMap.currentSelectedTab == "coverage"){ 
                imageURL = thisOneMap.objLocalData[thisOneMap.strCoverageRBselected].staticmapurl; 
                jQuery("#coverage_mainImg").attr("src",imageURL); 
                jQuery("#staticCoverageMap").show(); 
                thisOneMap.setStaticLegends(); 
            } 
            jQuery(".searchMapSliderS").hide(); 
            jQuery(".storeB .searchResultList").empty(); 
            jQuery(".wifiB .searchResultList").empty(); 
            jQuery('#page_navigation').html("").hide(); 
            if(thisOneMap.currentSelectedTab != "coverage"){ 
                jQuery(".zoomViewDesc").show(); 
            } 
            jQuery(".pagingBox .searchResultCountT").html(""); 
            //jQuery('#legendContainer li:not(:first)').remove(); 
        } 
        this.getStaticMapLoadStatus = function getStaticMapLoadStatus(){ 
            var bLoaded = false; 
            if(thisOneMap.objLocalData[thisOneMap.getCurrentSelectedCode()].staticmapLoaded || thisOneMap.objLocalData[thisOneMap.getCurrentSelectedCode()].staticmapurl == ""){ 
                bLoaded = true; 
            } 
            return bLoaded; 
        } 
        this.getCurrentSelectedCode = function getCurrentSelectedCode(){ 
            var currCode = ""; 
            if(thisOneMap.currentSelectedTab == "storeLocation"){ 
                currCode = thisOneMap.TEMP_CODE_STORE; 
            }else if(thisOneMap.currentSelectedTab == "wi-fi"){ 
                currCode = thisOneMap.strWifiPreviousRBselected; 
            }else if(thisOneMap.currentSelectedTab == "coverage"){ 
                currCode = thisOneMap.strCoverageRBselected 
            } 
            return currCode; 
        } 
        this.hideStaticMaps = function hideStaticMaps(){ 
            jQuery("#staticWifiMap").hide(); 
            jQuery("#staticCoverageMap").hide(); 
            jQuery("#staticStoreMap").hide(); 
            jQuery(".searchMapSliderS").show(); 
            if(thisOneMap.currentSelectedTab == "storeLocation"){ 
                jQuery(".storeB").show(); 
                thisOneMap.bShowStaticMapForStore = false; 
            }else if(thisOneMap.currentSelectedTab == "wi-fi"){ 
                jQuery(".wifiB").show(); 
                jQuery(".checkboxesfilter ").show(); 
                if(thisOneMap.strWifiRadioSelection != thisOneMap.CODE_WIFI_PREMIER){ 
                    thisOneMap.bShowStaticMapForWifi = false; 
                } 
            } 
            else if(thisOneMap.currentSelectedTab == "coverage"){ 
                jQuery(".coverageB").show(); 
                thisOneMap.bShowStaticMapForCoverage = false; 
            } 
            thisOneMap.setZoomLevel(); 
        } 
        this.callRestService = function callRestService(){ 
            var latlon = thisOneMap.map.getCenter(); 
            var SW = thisOneMap.params['SW']; 
            var NE = thisOneMap.params['NE']; 
            var south = Number(SW.split(',')[0]); 
            var west = Number(SW.split(',')[1]); 
            var north = Number(NE.split(',')[0]); 
            var east = Number(NE.split(',')[1]);         
            var queryString = "sw=" +south+ "," +west+ "&ne=" + north + "," + east+"&origin=" + latlon.latitude + "," + latlon.longitude; 
            if(thisOneMap.params['selectedTab'] == "storeLocation"){ 
                thisOneMap.restService.viewPortStoreLocs(queryString, ATT.OneMap.display.queryResults); 
            }else if(thisOneMap.params['selectedTab'] == "wi-fi"){ 
                thisOneMap.restService.viewPortWifiLocs(queryString, ATT.OneMap.display.queryResultsWifi); 
            } 
        } 
        this.setCenterPin_fromPrint = function setCenterPin_fromPrint(){ 
            if(thisOneMap.params['starLat'] && thisOneMap.params['starLon']){ 
                thisOneMap.centerPin = new Microsoft.Maps.Pushpin(new Microsoft.Maps.Location(thisOneMap.params['starLat'], thisOneMap.params['starLon']), thisOneMap.paths.pushPinOptions["pin_star"]);            
                thisOneMap.map.entities.push(thisOneMap.centerPin); 
            } 
        } 
        this.setTabSelected = function setTabSelected(){ 
            if(thisOneMap.currentSelectedTab == "coverage"){ 
                // do nothing, it would be slected by default 
            }else if(thisOneMap.currentSelectedTab == "wi-fi"){ 
                jQuery(".oneMapTabG .active").removeClass("active"); 
                jQuery(".coverageB, .storeB").hide(); 
                jQuery("." + jQuery("a.wi-fi").attr("rel")).show(); 
                jQuery("a.wi-fi").addClass("active");   
            }else if(thisOneMap.currentSelectedTab == "storeLocation"){ 
                jQuery(".oneMapTabG .active").removeClass("active"); 
                jQuery(".coverageB, .wifiB").hide(); 
                jQuery("." + jQuery("a.storeLocation").attr("rel")).show(); 
                jQuery("a.storeLocation").addClass("active");   
            }      
        }  
      //handles parameters in query string 
        this.setParams = function() { 
            var match, 
                pl     = /\+/g,  // Regex for replacing addition symbol with a space 
                search = /([^&=]+)=?([^&]*)/g, 
                decode = function (s) { return decodeURIComponent(s.replace(pl, " ")); }, 
                query  = window.location.search.substring(1); 
            while (match = search.exec(query)) 
                if (typeof thisOneMap.params[decode(match[1])] !== 'undefined') 
                    thisOneMap.params[decode(match[1])] = decode(match[2]); 
        } 
        //Instantiates map and sets options for customization 
        this.getMap = function getMap(settings) { 
            settings = settings || {}; 
            settings['lat'] = settings['lat'] || thisOneMap.params['lat']; 
            settings['long'] = settings['long'] || thisOneMap.params['long']; 
            settings['to-address'] = settings['to-address'] || thisOneMap.params['to-address']; 
            settings['credentials']  = settings['credentials'] || thisOneMap.credentials; 
            settings['zoom'] = settings['zoom'] || thisOneMap.params['zoom'] || zoom_default; 
            settings['infoboxOptions'] = settings['infoboxOptions'] || {}; 
            var mapOptions = { 
                credentials: settings['credentials'], 
                mapTypeId: Microsoft.Maps.MapTypeId.road, 
                zoom: settings['zoom'], 
                theme: new Microsoft.Maps.Themes.BingTheme(), 
                enableSearchLogo: false, 
                showBreadcrumb: false, 
                showScalebar: true, 
                showMapTypeSelector: false, 
                customizeOverlays:true, 
                enableClickableLogo: false, 
                showCopyright: false 
            }; 
            if(thisOneMap.params['SW'] && thisOneMap.params['NE'] && !thisOneMap.bMapOnceInitialized){ 
                thisOneMap.bMapOnceInitialized = true; 
                var SW = thisOneMap.params['SW']; 
                var NE = thisOneMap.params['NE']; 
                var south = Number(SW.split(',')[0]); 
                var west = Number(SW.split(',')[1]); 
                var north = Number(NE.split(',')[0]); 
                var east = Number(NE.split(',')[1]);         
                var boundingBox  = Microsoft.Maps.LocationRect.fromLocations(new Microsoft.Maps.Location(south, west), new Microsoft.Maps.Location(north, east)); 
                mapOptions.bounds = boundingBox; 
                //thisOneMap.map.setView({ bounds: viewBoundaries}); 
            } 
            if(thisOneMap.currentSelectedTab == "storeLocation"){ 
                jQuery('#storeMap').show(); 
                jQuery('#wifiMap').hide(); 
                jQuery('#coverageMap').hide(); 
                if(thisOneMap.store_map == undefined){ 
                    thisOneMap.store_map = new Microsoft.Maps.Map(document.getElementById('storeMap'), mapOptions); 
                } 
                if(thisOneMap.map == thisOneMap.store_map){ 
                    ATT.modalSpinner.close(); 
                }else{ 
                    thisOneMap.map = thisOneMap.store_map; 
                } 
            }else if(thisOneMap.currentSelectedTab == "wi-fi"){ 
                jQuery('#storeMap').hide(); 
                jQuery('#wifiMap').show(); 
                jQuery('#coverageMap').hide(); 
                if(thisOneMap.wifi_map == undefined){ 
                    thisOneMap.wifi_map = new Microsoft.Maps.Map(document.getElementById('wifiMap'), mapOptions); 
                } 
                if(thisOneMap.map == thisOneMap.wifi_map){ 
                    ATT.modalSpinner.close(); 
                }else{ 
                    thisOneMap.map = thisOneMap.wifi_map; 
                } 
            }else if(thisOneMap.currentSelectedTab == "coverage"){ 
                jQuery('#storeMap').hide(); 
                jQuery('#wifiMap').hide(); 
                jQuery('#coverageMap').show(); 
                if(thisOneMap.coverage_map == undefined){ 
                    thisOneMap.coverage_map = new Microsoft.Maps.Map(document.getElementById('coverageMap'), mapOptions); 
                } 
                if(thisOneMap.map == thisOneMap.coverage_map){ 
                    ATT.modalSpinner.close(); 
                }else{ 
                    thisOneMap.map = thisOneMap.coverage_map; 
                } 
            } 
        }; 
        //location search service 
        this.findLocation = function findLocation(q) {        
            thisOneMap.query = q; 
            thisOneMap.map.getCredentials(thisOneMap.callSearchService);         
        }; 
        //calls BIng Maps's Rest based service for location search 
        this.callSearchService = function callSearchService(credentials) { 
            thisOneMap.map.entities.clear();  
            var searchRequest = '//dev.virtualearth.net/REST/v1/Locations/' + thisOneMap.query + '?output=json&jsonp=ATT.OneMap.searchServiceCallback&key=' + credentials;           
            var mapscript = document.createElement('script');            
            mapscript.type = 'text/javascript'; 
            mapscript.src = searchRequest; 
            var myMap; 
            if(thisOneMap.currentSelectedTab == "wi-fi"){ 
                myMap = document.getElementById('wifiMap'); 
            }else if(thisOneMap.currentSelectedTab == "coverage"){   
                myMap = document.getElementById('coverageMap'); 
            }        
            if (myMap.lastChild.tagName == 'SCRIPT') {                   
                myMap.removeChild(myMap.lastChild);               
            } 
            myMap.appendChild(mapscript); 
        }; 
        //callback function for search location service 
        this.searchServiceCallback = function searchServiceCallback(result){           
            var output = document.getElementById("directions-list");               
            var resultsHeader = document.createElement("h5");           
            //output.appendChild(resultsHeader);                     
            if (result && result.resourceSets && result.resourceSets.length > 0 &&  result.resourceSets[0].resources &&  result.resourceSets[0].resources.length > 0) {               
                resultsHeader.innerHTML = "Bing Maps REST Search API  <br/>  Found location: " + result.resourceSets[0].resources[0].name;               
                var bbox = result.resourceSets[0].resources[0].bbox;               
                var viewBoundaries = Microsoft.Maps.LocationRect.fromLocations(new Microsoft.Maps.Location(bbox[0], bbox[1]), new Microsoft.Maps.Location(bbox[2], bbox[3]));               
                thisOneMap.map.setView({bounds: viewBoundaries}); 
                var location = new Microsoft.Maps.Location(result.resourceSets[0].resources[0].point.coordinates[0] , result.resourceSets[0].resources[0].point.coordinates[1]);               
                //var pushpin = new Microsoft.Maps.Pushpin(location);  
                //var center = map.getCenter(); 
                //var pushpin = new Microsoft.Maps.Pushpin(location, {draggable: false, icon:thisOneMap.paths.pushPinOptions["pin_star"]});              
                //thisOneMap.map.entities.push(pushpin); 
                //var pushpin = new Microsoft.Maps.Pushpin(location, thisOneMap.paths.pushPinOptions["pin_star"]);          
                //thisOneMap.map.entities.push(pushpin);   
                thisOneMap.bCoverageDataToUpdate = false; 
                thisOneMap.hideStaticMaps(); 
                thisOneMap.setViewChangeEvent(); 
                thisOneMap.setLegends(); 
                if(thisOneMap.bSearchOnCoverageInitiated){ 
                    thisOneMap.bSearchOnCoverageInitiated = false; 
                    thisOneMap.strLastValidSearch = jQuery('#searchTxt').val(); 
                    thisOneMap.bShowStaticMapForStore = false; 
                    thisOneMap.bShowStaticMapForWifi = false; 
                    thisOneMap.bShowStaticMapForCoverage = false;  
                    thisOneMap.resetLocalData(); 
                } 
                //var infoboxOptions = {title:'your location', description:result.resourceSets[0].resources[0].name, width:170, height:100};  
                //var defaultInfobox = new Microsoft.Maps.Infobox(location, infoboxOptions );  
               // thisOneMap.map.entities.push(defaultInfobox);  
               /*  jQuery.get('/maps/store-locator.recentSearchList.html?searchOption=RSS_SW&recentSearch=' + jQuery('#searchTxt').val()+'&ms='+(new Date()).getTime(), function(data) { 
                    //alert 
                }); */ 
            } else {               
                if (typeof (response) == 'undefined' || response == null) {                   
                    ("Invalid credentials or no response");               
                }  else {                   
                    if (typeof (response) != 'undefined' && response && result && result.errorDetails) {                       
                        resultsHeader.innerHTML = "Message :"  + response.errorDetails[0]; 
                    }                       
                    alert("No results for the query");                           
                }           
            }     
        }; 
      //rest service call 
        this.restService = { 
            getPlaceById : function(locId, displayFunc) { 
                // using jsonp for cross domain lookups in development environments. 
                jQuery.get(thisOneMap.paths.restapi.place + locId + '.json?jsonp=?', function(resp) {resp.callback = 'placeDetails'; ATT.OneMap.restService.callback(resp, thisOneMap.display.placeDetails);}, 'jsonp'); 
            }, 
            queryStoreLocs : function(q, displayFunc, dfd) { 
                ATT.modalSpinner.show(); 
                thisOneMap.removeViewChangeEvent(); 
                var advanceString = ""; 
                if(thisOneMap.advanceSearchString != ""){ 
                    advanceString = '&services='+ thisOneMap.advanceSearchString; 
                } 
                var finalQuery = thisOneMap.paths.restapi.query + 'poi_types=pos&q='+encodeURI(q)+'&radius=' + intCurrentRadiusSearch+ '&max=' + intMaxResult+ '&min=2'+ advanceString + '&apikey=' + thisOneMap.apiKey_store + '&jsonp=?'; 
                jQuery.ajax({ 
                    type: "GET", 
                    beforeSend: function (xhr) { xhr.setRequestHeader('apikey', thisOneMap.apiKey_store) }, 
                    timeout: 12000, 
                    dataType: "jsonp", 
                    contentType: "text/html; charset=UTF-8", 
                    url: (finalQuery), 
                    error: function(XMLHttpRequest, textStatus) { 
                       // alert("Store Query Error"); 
                    }, 
                    success: function(response, status, httpRequest) { 
                        response.callback = 'queryResultsStore'; 
                        ATT.OneMap.restService.callback(response, thisOneMap.display.queryResultsStore); 
                    } 
                }); 
            }, 
            queryWifiLocs : function(q, displayFunc, dfd) { 
                ATT.modalSpinner.show(); 
                thisOneMap.removeViewChangeEvent(); 
                var currChannel = thisOneMap.getChannels(); 
                var strWifiFilterString= ""; 
                if(thisOneMap.wifiFilterString != ""){ 
                    strWifiFilterString = '&tags=' + thisOneMap.wifiFilterString; 
                } 
                var finalQuery = thisOneMap.paths.restapi.query + 'poi_types=wifi&q='+encodeURI(q)+'&radius=' + intCurrentRadiusSearch + '&max=' + intMaxResult + strWifiFilterString  + '&min=2&channels=' + currChannel + '&apikey=' + thisOneMap.apiKey_wifi + '&jsonp=?'; 
                jQuery.ajax({ 
                    type: "GET", 
                    beforeSend: function (xhr) { xhr.setRequestHeader('apikey', thisOneMap.apiKey_wifi) }, 
                    timeout: 12000, 
                    dataType: "jsonp", 
                    contentType: "text/html; charset=UTF-8", 
                    url: (finalQuery), 
                    error: function(XMLHttpRequest, textStatus) { 
                        //alert("Wifi Query Error"); 
                    }, 
                    success: function(response, status, httpRequest) { 
                        response.callback = 'queryResultsWifi'; 
                        ATT.OneMap.restService.callback(response, thisOneMap.display.queryResultsWifi); 
                    } 
                }); 
            }, 
            viewPortStoreLocs : function(q, displayFunc, dfd) { 
                ATT.modalSpinner.show(); 
                var advanceString = ""; 
                if(thisOneMap.advanceSearchString != ""){ 
                    advanceString = '&services='+ thisOneMap.advanceSearchString; 
                } 
                var finalQuery = thisOneMap.paths.restapi.viewport + 'poi_types=pos&'+encodeURI(q)+ advanceString +  '&apikey=' + thisOneMap.apiKey_store + '&jsonp=?'; 
                jQuery.ajax({ 
                    type: "GET", 
                    beforeSend: function (xhr) { xhr.setRequestHeader('apikey', thisOneMap.apiKey_store) }, 
                    timeout: 12000, 
                    dataType: "jsonp", 
                    contentType: "text/html; charset=UTF-8", 
                    url: (finalQuery), 
                    error: function(XMLHttpRequest, textStatus) { 
                        //alert("Viewport Store Query Error"); 
                    }, 
                    success: function(response, status, httpRequest) { 
                        response.callback = 'viewportStore'; 
                        ATT.OneMap.restService.callback(response, thisOneMap.display.queryResultsStore); 
                    } 
                }); 
            }, 
            viewPortWifiLocs : function(q, displayFunc, dfd) { 
                ATT.modalSpinner.show(); 
                var currChannel = thisOneMap.getChannels(); 
                var strWifiFilterString= ""; 
                if(thisOneMap.wifiFilterString != ""){ 
                    strWifiFilterString = '&tags=' + thisOneMap.wifiFilterString; 
                } 
                var finalQuery = thisOneMap.paths.restapi.viewport + 'poi_types=wifi&'+encodeURI(q)+ strWifiFilterString  + '&channels=' + currChannel + '&apikey=' + thisOneMap.apiKey_wifi + '&jsonp=?'; 
                jQuery.ajax({ 
                    type: "GET", 
                    beforeSend: function (xhr) { xhr.setRequestHeader('apikey', thisOneMap.apiKey_wifi) }, 
                    timeout: 12000, 
                    dataType: "jsonp", 
                    contentType: "text/html; charset=UTF-8", 
                    url: (finalQuery), 
                    error: function(XMLHttpRequest, textStatus) { 
                        //alert("Viewport Wifi Query Error"); 
                    }, 
                    success: function(response, status, httpRequest) { 
                        response.callback = 'viewportWifi'; 
                        ATT.OneMap.restService.callback(response, thisOneMap.display.queryResultsWifi); 
                    } 
                }); 
            }, 
            legendCall : function(legendUrl) { 
                jQuery.ajax({ 
                    type: "GET", 
                    timeout: 12000, 
                    dataType: "json", 
                    contentType: "text/html; charset=UTF-8", 
                    url: (legendUrl), 
                    error: function(XMLHttpRequest, textStatus) { 
                        alert("Error Legend"); 
                    }, 
                    success: function(response) { 
                        response.callback = 'legendCall'; 
                        ATT.OneMap.restService.callback(response, thisOneMap.display.legendResult); 
                    } 
                }); 
            }, 
            initialJsonCall : function() { 
                jQuery.ajax({ 
                    type: "GET", 
                    timeout: 12000, 
                    dataType: "jsonp", 
                    contentType: "text/html; charset=UTF-8", 
                    url: (thisOneMap.paths.restapi.initialJson + 'jsonp=?'), 
                    error: function(XMLHttpRequest, textStatus) { 
                        //error loading initial data 
                    }, 
                    success: function(response) { 
                        response.callback = 'initialJson' 
                        ATT.OneMap.restService.callback(response, thisOneMap.display.initialJsonResult);  
                    } 
                }); 
            }, 
            callback : function(resp, displayFunc) { 
                if (typeof resp == 'object') { 
                    if (resp.callback == 'placeDetails') { 
                        var place = resp.results[0]; 
                        displayFunc(place); 
                    }else{ 
                        displayFunc(resp); 
                    } 
                } else { 
                    thisOneMap.restService.error(); 
               } 
            }, 
            error : function() {} 
        } 
        this.getChannels = function getChannels(){ 
            var currChannel = jQuery('#wi_fi_type_id input:radio:checked').val(); 
            var finalChannelString = thisOneMap.CODE_WIFI_BASIC; 
            if(currChannel == thisOneMap.CODE_WIFI_PREMIER){ 
                finalChannelString += ","+currChannel; 
            } 
            return finalChannelString; 
       } 
      //takes out store details and print on page, might require tweeking once we get real data 
        this.display = { 
            placeDetails:function(place) { 
                toInput = jQuery('#to'); 
                toStr = place.address1 + ', '; 
                if (!!place.address2) toStr += place.address2  + ', '; 
                toStr += place.city+', '+place.region+' '+place.postal; 
                toInput.text(toStr); 
                placeDisplay = '<p><strong>'+place.name+'</strong></p>'+'<p>'+place.address1+'</p>'; 
                if ( !! place.address2 && place.address2 != '') placeDisplay = placeDisplay + '<p>'+place.address2+'</p>'; 
                placeDisplay = placeDisplay + '<p>'+place.city+' ' +place.region+' '+place.postal+'</p>'+ '<p>'+place.phone+'</p>'; 
                if ( !! place.addr_hint) placeDisplay += '<p>'+place.addr_hint+'</p>'; 
                placeDisplay +=  '<p class="hours">'+place.hours+'</p>'; 
                if ( !! place.notes) placeDisplay += '<p>'+place.notes+'</p>'; 
                if (place.poi_type == 'pos') { 
                    jQuery('#store-details').html(placeDisplay); 
                    jQuery('#store-details').data('services',place.services.join('|')); 
                    jQuery('#store-details').data('type',place.vtype); 
                    jQuery('#store-details').data('channel',place.channel); 
                    jQuery('#store-details').data('zipcode',place.postal); 
                } 
                if(localStorage) localStorage[place.id] = JSON.stringify(place,null,2); 
            }, 
            queryResultsStore:function(data) {   
                if(data.callback ==  'queryResultsStore'){ 
                    //thisOneMap.removeViewChangeEvent(); 
                } 
                thisOneMap.resultcount = data.count; 
                if(data.count == 0){ 
                    if(data.callback ==  'queryResultsStore'){ 
                        /* 
                        if(intCurrentRadiusSearch == intMinSearchRadius){ 
                            intCurrentRadiusSearch = intMaxSearchRadius; 
                            thisOneMap.searchLocation(); 
                            return; 
                        }else{ 
                            intCurrentRadiusSearch = intMinSearchRadius; 
                        } 
                        */ 
                        if(thisOneMap.strLastValidSearch == ""){ 
                            thisOneMap.showStaticMap(true, true, true); 
                        }else{ 
                            jQuery('#searchTxt').val(thisOneMap.strLastValidSearch); 
                        } 
                        jQuery(".bingMapError").show(); 
                        thisOneMap.blockElement(true, jQuery('.bingMapError'), ATT.OneMap.labels.error, thisOneMap.errors.errorCode_MAP_201); 
                    }else if(data.callback ==  'viewportStore'){ 
                        jQuery(".pagingBox .searchResultCountT").html(""); 
                        jQuery('#page_navigation').html("").hide(); 
                        jQuery(".storeB .searchResultList").empty(); 
                        jQuery(".wifiB .searchResultList").empty(); 
                        thisOneMap.removeAllPins(false); 
                    } 
                    if(data.callback ==  'queryResultsStore'){ 
                        thisOneMap.iChangeEventInterval = setInterval('ATT.OneMap.setViewChangeEvent()',500); 
                        //thisOneMap.setViewChangeEvent(); 
                    } 
                    ATT.modalSpinner.close(); 
                    return; 
                } 
                jQuery(".bingMapError").hide(); 
                jQuery('.bingMapError').unblock(); 
                //intCurrentRadiusSearch = intMinSearchRadius; 
                thisOneMap.setAllDataToTrue(); 
                thisOneMap.hideStaticMaps(); 
                var totalCorStoreAdded = 0; 
                var totalCorStoreToAdd = 2; 
                var results= data.results; 
                var arrCorStore = new Array(); 
                var arrOtherStore = new Array(); 
                for (i=0; i < results.length; i++) { 
                   if((results[i].channel == 1 || results[i].channel == 8)  && totalCorStoreAdded < totalCorStoreToAdd ){ 
                       totalCorStoreAdded ++; 
                       arrCorStore.push(results[i]); 
                   }else{ 
                       arrOtherStore.push(results[i]); 
                   } 
                   //http://ecomfst12.edc.cingular.net:10110/apis/maps/v2/locator/search/viewport.json?poi_types=pos&sw=47.4506,-122.3134&ne=47.168,-122.0465 
                } 
                thisOneMap.searchOrigin = data.origin; 
                var finalStoreArr = arrCorStore.concat(arrOtherStore); 
                if(thisOneMap.getZipForSearchfield){ 
                    jQuery('#searchTxt').val(finalStoreArr[0].postal); 
                    thisOneMap.strLastValidSearch = finalStoreArr[0].postal; 
                    thisOneMap.getZipForSearchfield = false; 
                } 
                var bSetCenterPinAgain = false; 
                if(data.callback ==  'queryResultsStore'){ 
                    if(thisOneMap.bReturnToSearch_store){ 
                        thisOneMap.bReturnToSearch_store = false; 
                        thisOneMap.bShowStaticMapForStore = false; 
                        thisOneMap.bStoreDataByStaticMapClick = false; 
                        thisOneMap.setBoundaries(data.viewport); 
                    }else{ 
                        thisOneMap.bShowStaticMapForStore = false; 
                        thisOneMap.bShowStaticMapForWifi = false; 
                        thisOneMap.bShowStaticMapForCoverage = false; 
                        thisOneMap.bStoreDataByStaticMapClick = false; 
                        thisOneMap.strLastValidSearch = jQuery('#searchTxt').val(); 
                        thisOneMap.strLastValidSearch_store = jQuery('#searchTxt').val(); 
                        thisOneMap.setBoundaries(data.viewport); 
                        bSetCenterPinAgain = true; 
                    } 
                }else{ 
                    bSetCenterPinAgain = false; 
                } 
                thisOneMap.bStoreDataToUpdate = false; 
                thisOneMap.iCurrentPage = 0; 
                //thisOneMap.map.entities.clear(); 
                thisOneMap.setStorePins(finalStoreArr, bSetCenterPinAgain); 
                thisOneMap.setStoreData(finalStoreArr); 
                thisOneMap.saveStoreId(finalStoreArr); 
                thisOneMap.arrStoreData = finalStoreArr; 
                thisOneMap.setLegends(); 
                if(data.callback ==  'queryResultsStore'){ 
                    thisOneMap.iChangeEventInterval = setInterval('ATT.OneMap.setViewChangeEvent()',500); 
                    thisOneMap.iZoomAndCenterInterval = setInterval('ATT.OneMap.saveMapZoomAndCenter()',1000); 
                    //thisOneMap.setViewChangeEvent(); 
                } 
                ATT.modalSpinner.close(); 
            }, 
            queryResultsWifi:function(data) { 
                if(data.callback ==  'queryResultsWifi'){ 
                    //thisOneMap.removeViewChangeEvent(); 
                } 
                 //sendWtSearchResultCount(data.count); 
                 //sendWtWifiPageParameters(data.count); 
                if(data.count == 0){ 
                    if(data.callback ==  'queryResultsWifi'){ 
                        /* 
                        if(intCurrentRadiusSearch == intMinSearchRadius){ 
                            intCurrentRadiusSearch = intMaxSearchRadius; 
                            thisOneMap.searchLocation(); 
                            return; 
                        }else{ 
                            intCurrentRadiusSearch = intMinSearchRadius; 
                        } 
                        */ 
                        if(thisOneMap.strLastValidSearch == ""){ 
                        	if(thisOneMap.strWifiPreviousRBselected != thisOneMap.CODE_WIFI_PREMIER){ 
                            	thisOneMap.showStaticMap(true, true, true); 
                        	} 
                        }else{ 
                            jQuery('#searchTxt').val(thisOneMap.strLastValidSearch); 
                        } 
                        jQuery(".bingMapError").show(); 
                        thisOneMap.blockElement(true, jQuery('.bingMapError'), ATT.OneMap.labels.error, thisOneMap.errors.errorCode_MAP_300); 
                    }else if(data.callback ==  'viewportWifi'){ 
                        jQuery(".pagingBox .searchResultCountT").html(""); 
                        jQuery('#page_navigation').html("").hide(); 
                        jQuery(".wifiB .searchResultList").empty(); 
                        thisOneMap.removeAllPins(false); 
                    } 
                    if(data.callback ==  'queryResultsWifi'){ 
                        thisOneMap.iChangeEventInterval = setInterval('ATT.OneMap.setViewChangeEvent()',500); 
                        //thisOneMap.setViewChangeEvent(); 
                    } 
                    ATT.modalSpinner.close(); 
                    return; 
                } 
                jQuery('.bingMapError').unblock(); 
                jQuery(".bingMapError").hide(); 
                thisOneMap.setAllDataToTrue(); 
                thisOneMap.hideStaticMaps(); 
                thisOneMap.searchOrigin = data.origin; 
                if(thisOneMap.getZipForSearchfield){ 
                    jQuery('#searchTxt').val(data.results[0].postal); 
                    thisOneMap.strLastValidSearch = data.results[0].postal; 
                    thisOneMap.getZipForSearchfield = false; 
                } 
                var bSetCenterPinAgain = false; 
                if(data.callback ==  'queryResultsWifi'){ 
                    if(thisOneMap.resetOtherViewPortData){ 
                        thisOneMap.resetOtherViewPortData = false; 
                        thisOneMap.resetLocalData(); 
                    } 
                    if(thisOneMap.bReturnToSearch_wifi){ 
                        thisOneMap.bReturnToSearch_wifi = false; 
                        //thisOneMap.bWifiDataToUpdate = false; 
                        thisOneMap.bShowStaticMapForWifi = false; 
                        thisOneMap.setBoundaries(data.viewport); 
                    }else{ 
                        thisOneMap.bShowStaticMapForStore = false; 
                        thisOneMap.bShowStaticMapForWifi = false; 
                        thisOneMap.bShowStaticMapForCoverage = false; 
                        thisOneMap.bWifiDataByStaticMapClick = false; 
                        thisOneMap.strLastValidSearch = jQuery('#searchTxt').val(); 
                        thisOneMap.strLastValidSearch_wifi = jQuery('#searchTxt').val(); 
                        thisOneMap.setBoundaries(data.viewport); 
                        bSetCenterPinAgain = true; 
                    } 
                }else{ 
                    bSetCenterPinAgain = false; 
                } 
                thisOneMap.bWifiDataToUpdate = false; 
                thisOneMap.iCurrentPage = 0; 
                thisOneMap.setWifiPins(data.results, bSetCenterPinAgain); 
                thisOneMap.setStoreData(data.results); 
                thisOneMap.saveStoreId(data.results); 
                thisOneMap.arrWifiData = data.results; 
                thisOneMap.setLegends(); 
                if(runCheckScrollPane){ 
                    jQuery(".wiFiCheckBList").jScrollPane(); 
                    jQuery(".wiFiCheckBList").css('visibility','visible'); 
                    runCheckScrollPane = false; 
                } 
                if(data.callback ==  'queryResultsWifi'){ 
                    thisOneMap.iChangeEventInterval = setInterval('ATT.OneMap.setViewChangeEvent()',500); 
                    thisOneMap.iZoomAndCenterInterval = setInterval('ATT.OneMap.saveMapZoomAndCenter()',1000); 
                } 
                ATT.modalSpinner.close(); 
            }, 
            initialJsonResult:function(data) { 
                if(data.results.store_services.length > 0){ 
                    //successful data retreived 
                } 
                //******data for store added in local storage***** 
                var tempArray = new Array(); 
                var temp = new Object(); 
                temp.code = thisOneMap.TEMP_CODE_STORE; 
                temp.value = "store"; 
                tempArray.push(temp); 
                thisOneMap.setLocalData(tempArray); 
                //*****end*********************** 
                thisOneMap.objInitialJsonData = data.results; 
                thisOneMap.setWifiFilterTypes(); 
                //thisOneMap.setCoverageData(); 
                //thisOneMap.setCoverageDomesticRB(); 
                thisOneMap.loadLegendData(); 
            }, 
            legendResult:function(data) { 
                if(data.name == "store"){ 
                    zoom_min = parseInt(data.zoom_min); 
                    zoom_max = parseInt(data.zoom_max); 
                    zoom_default = parseInt(data.zoom_default); 
                    thisOneMap.apiKey_store = data.apiKey; 
                    var iLayerLength = data.layers.length; 
                    for(var j = 0; j < iLayerLength; j++){ 
                        if(data.layers[j].layer_id == "basemap"){ 
                            thisOneMap.credentials = data.layers[j].credential; 
                        } 
                    } 
                }else if(data.name == "wifibasic" || data.name == "wifipremier"){ 
                    thisOneMap.apiKey_wifi = data.apiKey; 
                } 
                thisOneMap.objLocalData[thisOneMap.strCurrKeyForLegendCall].zoom_min = parseInt(data.zoom_min); 
                thisOneMap.objLocalData[thisOneMap.strCurrKeyForLegendCall].zoom_max = parseInt(data.zoom_max); 
                thisOneMap.objLocalData[thisOneMap.strCurrKeyForLegendCall].zoom_default = parseInt(data.zoom_default); 
                thisOneMap.objLocalData[thisOneMap.strCurrKeyForLegendCall].imageMapArea = data.imagemapareas; 
                thisOneMap.objLocalData[thisOneMap.strCurrKeyForLegendCall].staticmapurl = data.staticmapurl; 
                thisOneMap.objLocalData[thisOneMap.strCurrKeyForLegendCall].staticmapLoaded = false; 
                var iLegendLength = data.legendgroups.length; 
                for(var i = 0; i < iLegendLength; i++){ 
                    if(data.legendgroups[i].type == "primary"){ 
                        thisOneMap.objLocalData[thisOneMap.strCurrKeyForLegendCall].legendPrimary = data.legendgroups[i].markers; 
                    }else if(data.legendgroups[i].type == "secondary"){ 
                        thisOneMap.objLocalData[thisOneMap.strCurrKeyForLegendCall].legendSecondary = data.legendgroups[i].markers; 
                    }else if(data.legendgroups[i].type == "static"){ 
                        thisOneMap.objLocalData[thisOneMap.strCurrKeyForLegendCall].legendStatic = data.legendgroups[i].markers; 
                    } 
                } 
                thisOneMap.loadLegendData(); 
            } 
        } 
        this.loadLegendData = function loadLegendData(){ 
            var currURL = ""; 
            jQuery.each(thisOneMap.objLocalData, function(key, value) { 
                if(thisOneMap.objLocalData[key].staticmapurl == undefined){ 
                    thisOneMap.strCurrKeyForLegendCall = parseInt(key); 
                    currURL = thisOneMap.getLegendURL(key); 
                    if(currURL == null){ 
                        thisOneMap.objLocalData[key].staticmapurl = currURL; 
                        return true; 
                    }else{ 
                        return false; 
                    } 
                } 
            }); 
            if(currURL == "" || currURL == null){ 
                thisOneMap.loadStaticImages(); 
            }else{ 
                thisOneMap.restService.legendCall(currURL); 
            } 
        } 
        this.loadStaticImages = function loadStaticImages(){ 
            var tempImgObject = new Array(); 
            var index = 0; 
            jQuery.each(thisOneMap.objLocalData, function(key, value) { 
                if(thisOneMap.objLocalData[key].staticmapurl == ""){ 
                    return true; 
                } 
                tempImgObject[index] = new Image(); 
                //**remove this block of code once we have have original image deployed**** 
                var arrImagPath = new Array(); 
                arrImagPath = thisOneMap.objLocalData[key].staticmapurl.split("/"); 
                var iLength = arrImagPath.length; 
                var imageSrc = ""; 
                if(arrImagPath[iLength-1] == "data_coverage.png"){ 
                    thisOneMap.objLocalData[key].staticmapurl = "http://localhost:7001/media/cms/shop/images/smart_coverage.png"; 
                }else if(arrImagPath[iLength-1] == "family_coverage.png"){ 
                    thisOneMap.objLocalData[key].staticmapurl = "http://localhost:7001/media/cms/shop/images/family_coverage.png"; 
                }else if(arrImagPath[iLength-1] == "gophone_pay_coverage.png"){ 
                    thisOneMap.objLocalData[key].staticmapurl = "http://localhost:7001/media/cms/shop/images/gophone_pay_coverage.png"; 
                }else if(arrImagPath[iLength-1] == "gophone_pick_coverage.png"){ 
                    thisOneMap.objLocalData[key].staticmapurl = "http://localhost:7001/media/cms/shop/images/gophone_pick_coverage.png"; 
                }else if(arrImagPath[iLength-1] == "smart_coverage.png"){ 
                    thisOneMap.objLocalData[key].staticmapurl = "http://localhost:7001/media/cms/shop/images/smart_coverage.png"; 
                }else if(arrImagPath[iLength-1] == "voice_coverage.png"){ 
                    thisOneMap.objLocalData[key].staticmapurl = "http://localhost:7001/media/cms/shop/images/voice_coverage.png"; 
                }else{ 
                    thisOneMap.objLocalData[key].staticmapurl = thisOneMap.objLocalData[key].staticmapurl; 
                } 
                tempImgObject[index].src = thisOneMap.objLocalData[key].staticmapurl; 
                //******END************** 
                //tempImgObject[index].src = thisOneMap.objLocalData[key].staticmapurl; 
                tempImgObject[index].name = key; 
                jQuery(tempImgObject[index]).load(function(){ 
                    thisOneMap.objLocalData[jQuery(this).attr("name")].staticmapLoaded = true; 
                }); 
                index++; 
            }); 
            thisOneMap.init(); 
        }   
        this.getLegendURL = function getLegendURL(key){ 
            var url = null; 
            if(key == String(thisOneMap.TEMP_CODE_STORE)){ 
                url = thisOneMap.paths.restapi.legendstore; 
            }else if(key == "2001"){ 
                url = thisOneMap.paths.restapi.legendVoice; 
            }else if(key == "2002"){ 
                url = thisOneMap.paths.restapi.legendData; 
            }else if(key == "2003"){ 
                url = thisOneMap.paths.restapi.legendGophone_pay; 
            }else if(key == "2004"){ 
                url = thisOneMap.paths.restapi.legendGophone_pick; 
            }else if(key == "2005"){ 
                url = thisOneMap.paths.restapi.legendFamily; 
            }else if(key == "2006"){ 
                url = thisOneMap.paths.restapi.legendSmartlimits; 
            }else if(key == thisOneMap.CODE_WIFI_BASIC){ 
                url = thisOneMap.paths.restapi.legendwifiBasic; 
            }else if(key == thisOneMap.CODE_WIFI_PREMIER){ 
                url = thisOneMap.paths.restapi.legendwifiPremier; 
        } 
            return url; 
        } 
        this.setStaticLegends = function setStaticLegends(){ 
            var arrMarkerData = thisOneMap.objLocalData[thisOneMap.getCurrentSelectedCode()].legendStatic; 
            var arrLegend = new Array(); 
            jQuery.each(arrMarkerData, function(i, val) { 
                if(val.constructor === Object){ 
                    arrLegend.push(val); 
        } 
            }); 
            jQuery('#legendContainer li:not(:first)').remove(); 
            var strInnerHtml = ""; 
            //for store legends 
            var iTotalLegends = arrLegend.length;//legendgroups.store.primary.markers.length; 
            for(var i = 0; i < iTotalLegends; i++){ 
                var currClass = arrLegend[i].icon_cssclass; 
                      strInnerHtml += "<li class='legend" + (i+1)+ "'> <span class='" + currClass + "'></span>"; 
                      strInnerHtml += " <label>" + arrLegend[i].label_text + "</label></li>"; 
            } 
            jQuery(strInnerHtml).appendTo("#legendContainer"); 
        } 
        this.setLegends = function setLegends(){ 
            var arrMarkerData = thisOneMap.objLocalData[thisOneMap.getCurrentSelectedCode()].legendPrimary; 
            var arrLegend = new Array(); 
            jQuery.each(arrMarkerData, function(i, val) { 
                if(val.constructor === Object){ 
                    arrLegend.push(val); 
        } 
            }); 
            jQuery('#legendContainer li:not(:first)').remove(); 
            //for store legends 
            var iTotalLegends = arrLegend.length; 
            var strInnerHtml = ""; 
            for(var i = 0; i < iTotalLegends; i++){ 
                var currClass = arrLegend[i].icon_cssclass; 
                var currLabel = arrLegend[i].label_text; 
                strInnerHtml += "<li class='legend" + (i+2)+ "'> <span class='" + currClass + "'></span>"; 
                strInnerHtml += " <label>" + currLabel + "</label></li>"; 
            } 
            if(thisOneMap.currentSelectedTab == "storeLocation"){ 
                strInnerHtml +="<li class='legend" + (i+3)+ "'> <label><a id='legendmorelink' href='javascript:void(0);'>" + thisOneMap.labels.lbl_learnmore + "</a></label></li>"; 
            } 
            jQuery(strInnerHtml).appendTo("#legendContainer"); 
        } 
        this.saveStoreId = function saveStoreId(result){ 
            var nLength = result.length; 
            thisOneMap.arrStoreId = new Array(); 
            for(var i = 0; i < nLength; i++){ 
                thisOneMap.arrStoreId.push(result[i].id); 
            } 
            //thisOneMap.arrStoreId 
      } 
        this.removeAllPins = function removeAllPins(bRemoveStartPin){ 
            var count; 
            if(bRemoveStartPin){ 
                count = 0; 
            }else{ 
                count = 1; 
            } 
            var iLength = thisOneMap.map.entities.getLength()-1; 
            for(var i=iLength; i>=count; i--) { 
                var pushpin= thisOneMap.map.entities.get(i);  
                //if (pushpin instanceof Microsoft.Maps.Pushpin) {  
                    thisOneMap.map.entities.removeAt(i);   
                //} ; 
            }  
        } 
        this.setCenterPin = function setCenterPin(){ 
            //var center = thisOneMap.map.getCenter(); 
            thisOneMap.centerPin = new Microsoft.Maps.Pushpin(new Microsoft.Maps.Location(thisOneMap.searchOrigin.lat, thisOneMap.searchOrigin.lon), thisOneMap.paths.pushPinOptions["pin_star"]);  
            //var pushpin = new Microsoft.Maps.Pushpin(center, {draggable: false, icon:thisOneMap.paths["pin_star"]});           
            thisOneMap.map.entities.push(thisOneMap.centerPin); 
        } 
        this.setBoundaries = function setBoundaries(viewport){ 
            if(viewport != null){ 
                var sw = viewport.sw; 
                var ne = viewport.ne; 
                thisOneMap.map.setView({ bounds: Microsoft.Maps.LocationRect.fromLocations(new Microsoft.Maps.Location(sw.lat, sw.lon), new Microsoft.Maps.Location(ne.lat, ne.lon))}); 
            } 
        } 
        this.setViewChangeEvent = function setViewChangeEvent(){ 
            clearInterval(thisOneMap.iChangeEventInterval); 
            thisOneMap.removeViewChangeEvent(); 
            //var bIsAlreadySet = hasHandler(thisOneMap.map, 'viewchangeend'); 
            viewchangeend = Microsoft.Maps.Events.addThrottledHandler(thisOneMap.map, 'viewchangeend', thisOneMap.onViewChangeEnd, 500); 
        } 
        this.removeViewChangeEvent = function removeViewChangeEvent(){ 
            if(viewchangeend != undefined){ 
                Microsoft.Maps.Events.removeHandler(viewchangeend); 
            } 
        } 
        this.setDefaultInfobox = function setDefaultInfobox(){ 
        	var infoboxOptions = {width :200, height :100, showCloseButton: true, zIndex: 0, offset:new Microsoft.Maps.Point(10,0), showPointer: true}; 
            if(thisOneMap.currentSelectedTab == "storeLocation"){ 
            	thisOneMap.objStoreInfobox = new Microsoft.Maps.Infobox(new Microsoft.Maps.Location(0, 0), infoboxOptions ); 
                thisOneMap.defaultInfobox  = thisOneMap.objStoreInfobox; 
            }else if(thisOneMap.currentSelectedTab == "wi-fi"){ 
            	thisOneMap.objWifiInfobox = new Microsoft.Maps.Infobox(new Microsoft.Maps.Location(0, 0), infoboxOptions ); 
                thisOneMap.defaultInfobox  = thisOneMap.objWifiInfobox; 
            }else if(thisOneMap.currentSelectedTab == "coverage"){ 
            	thisOneMap.objCoverageInfobox = new Microsoft.Maps.Infobox(new Microsoft.Maps.Location(0, 0), infoboxOptions ); 
                thisOneMap.defaultInfobox  = thisOneMap.objCoverageInfobox; 
            } 
            thisOneMap.map.entities.push(thisOneMap.defaultInfobox); 
        } 
        this.setStorePins = function setStorePins (storeArr, bSetCenterPinAgain){ 
            thisOneMap.removeAllPins(true); 
            var storeLength = storeArr.length; 
            //if(storeLength > maxPins) storeLength = maxPins; 
            var currPushPinOption; 
			thisOneMap.setDefaultInfobox(); 
            var pushpin = null; 
            var iStartIndex = thisOneMap.iCurrentPage * thisOneMap.iResultPerPage; 
            var iEndIndex = (thisOneMap.iCurrentPage + 1) * thisOneMap.iResultPerPage; 
            for(i = (storeLength-1); i >= 0; i--){ 
                if(i >= iStartIndex && i < iEndIndex){ 
                    //do nothing 
                }else{ 
                    if(storeArr[i].channel == 1 || storeArr[i].channel == 8){ 
                        currPushPinOption = thisOneMap.paths.pushPinOptions["dot_orange_white"]; 
                    }else if(storeArr[i].channel == 2 ){ 
                        currPushPinOption = thisOneMap.paths.pushPinOptions["dot_orange"]; 
                    }else{ 
                        currPushPinOption = thisOneMap.paths.pushPinOptions["dot_blue"]; 
                    } 
                    pushpin = new Microsoft.Maps.Pushpin(new Microsoft.Maps.Location(storeArr[i].lat, storeArr[i].lon), currPushPinOption); 
                    thisOneMap.map.entities.push(pushpin); 
                } 
            } 
            if(iEndIndex > storeLength){ 
                iEndIndex = storeLength; 
            } 
            var iTempIndexForPin = (iEndIndex-1) - iStartIndex; 
            for(var j = (iEndIndex-1); j >= iStartIndex; j--){ 
                var strTitle = ""; 
                if(storeArr[j].channel == 1 || storeArr[j].channel == 8){ 
                    currPushPinOption = thisOneMap.paths.pushPinOptions["blank_orange_white"]; 
                    //strTitle = ATT.OneMap.labels.att_store; 
                    strTitle = storeArr[j].name; 
                }else if(storeArr[j].channel == 2){ 
                    currPushPinOption = thisOneMap.paths.pushPinOptions["blank_orange"]; 
                    //strTitle = ATT.OneMap.labels.att_auth_retail; 
                    strTitle = storeArr[j].name; 
                }else{ 
                    currPushPinOption = thisOneMap.paths.pushPinOptions["blank_blue"]; 
                    //strTitle = ATT.OneMap.labels.other_stores; 
                    strTitle = storeArr[j].name; 
                }  
                currPushPinOption.text = alphaArray[iTempIndexForPin]; 
                iTempIndexForPin--; 
                pushpin = new Microsoft.Maps.Pushpin(new Microsoft.Maps.Location(storeArr[j].lat, storeArr[j].lon), currPushPinOption); 
                pushpin.Title = strTitle; 
                pushpin.id= storeArr[j].id; 
                pushpin.Address1 = storeArr[j].address1; 
                pushpin.Address2 = storeArr[j].address2; 
                pushpin.City = storeArr[j].city; 
                pushpin.Region = storeArr[j].region; 
                pushpin.Postal = storeArr[j].postal; 
                pushpin.Phone = storeArr[j].phone; 
                pushpin.Hours = storeArr[j].hours; 
                pushpin.Sat_open = storeArr[j].sat_open; 
                pushpin.Sat_close = storeArr[j].sat_close; 
                pushpin.id = storeArr[j].id; 
                Microsoft.Maps.Events.addHandler(pushpin, 'click', thisOneMap.displayInfobox); 
                Microsoft.Maps.Events.addHandler(thisOneMap.map, 'viewchange', thisOneMap.hideInfobox); 
                thisOneMap.map.entities.push(pushpin); 
            } 
            if(bSetCenterPinAgain){ 
                thisOneMap.setCenterPin(); 
            }else if(thisOneMap.centerPin != undefined){ 
                thisOneMap.map.entities.push(thisOneMap.centerPin); 
            } 
        } 
        this.displayInfobox = function displayInfobox(e) 
        { 
            if (e.targetType == 'pushpin') { 
                thisOneMap.defaultInfobox.setLocation(e.target.getLocation()); 
                //thisOneMap.defaultInfobox.setOptions({ visible: true, title: e.target.Title, description: e.target.Description }); 
                thisOneMap.defaultInfobox.setOptions({ visible:true }); 
                var satOpen =""; 
                e.target.id == undefined ? e.target.id='' : 0; 
                e.target.Title == undefined ? e.target.Title='' : 0; 
                e.target.Address1 == undefined ? e.target.Address1='' : 0; 
                e.target.City == undefined ? e.target.City='' : 0; 
                e.target.Region == undefined ? e.target.Region='' : 0; 
                e.target.Postal == undefined ? e.target.Postal='' : 0; 
                e.target.Phone == undefined ? e.target.Phone='' : 0; 
                e.target.Hours == undefined ? e.target.Hours='' : 0; 
                //e.target.Sat_open== undefined ? e.target.Sat_open='' : satOpen = 'Sat: ' + e.target.Sat_open + ' - ' + e.target.Sat_close; 
                var address=e.target.Title+"|"+ e.target.Address1; 
                var address2 = ""; 
                if(e.target.Address2){ 
                    address2 = "<p> " + e.target.Address2 + " </p>"; 
                    address = address+"|"+e.target.Address2; 
                } 
                var wifiTip_part1='<div class="tip-arrow tip-arrow-top"></div><table cellspacing="0" cellpadding="0" border="0" style="width: 170px;"><tbody><tr><td style="background-image: url(http://0.ecom.attccc.com/images/global/tooltip/tip-white/tip-white.png);" class="tip-top tip-bg-image" colspan="2"><span></span></td><td style="background-image: url(http://0.ecom.attccc.com/images/global/tooltip/tip-white/tip-white.png);" class="tip-right tip-bg-image" rowspan="2"><span></span></td></tr><tr><td style="background-image:url(http://0.ecom.attccc.com/images/global/tooltip/tip-white/tip-white.png);" class="tip-left tip-bg-image" rowspan="2"><span></span></td><td style="width: 100%;"><div class=" tip-inner ">'; 
                var wifiTip_part2 = '</div></td></tr><tr> <td style="background-image: url(http://0.ecom.attccc.com/images/global/tooltip/tip-white/tip-white.png);" class="tip-bottom tip-bg-image" colspan="2"> <span></span></td></tr></tbody></table>'; 
                var city_region_postal = e.target.City + " " + e.target.Region + " " + e.target.Posta; 
                address = address +"|"+city_region_postal+"|"+e.target.Phone; 
                var locationtype="store"; 
                address = escape(address); 
               // alert(e.target.id + "   ------       " + e.target.name); 
               var fromaddress = ""; 
               if(thisOneMap.strLastValidSearch !=""){ 
                   fromaddress = "&from-address="+thisOneMap.strLastValidSearch; 
               } 
               var directionlink =""; 
               var directionUrl = ""; 
               if(thisOneMap.currentSelectedTab == "storeLocation"){ 
                   locationtype="store"; 
                   directionlink = thisOneMap.directionUrlSendStore+e.target.id+fromaddress; 
                   directionUrl = thisOneMap.directionUrlStore; 
               }else if(thisOneMap.currentSelectedTab == "wi-fi"){ 
                   locationtype="wifi"; 
                   directionlink = thisOneMap.directionUrlSendWiFi+e.target.id+fromaddress; 
                   directionUrl = thisOneMap.directionUrlWiFi; 
               } 
                directionlink = escape(directionlink); 
                var infoinnerhtml = '<div class="tip-white"><table cellspacing="0" cellpadding="0" border="0" style="width: 352px;">' 
                    +'<tbody><tr><td colspan="2" class="tip-top tip-bg-image" style="background-image: url(http://0.ecom.attccc.com/images/global/tooltip/tip-white/tip-white.png);"><span></span></td>' 
                    +'<td rowspan="2" class="tip-right tip-bg-image" style="background-image: url(http://0.ecom.attccc.com/images/global/tooltip/tip-white/tip-white.png);"><span></span></td></tr><tr>' 
                    +'<td rowspan="2" class="tip-left tip-bg-image" style="background-image:url(http://0.ecom.attccc.com/images/global/tooltip/tip-white/tip-white.png);"><span></span></td><td style="width: 100%;">' 
                    +'<div class="tip-inner"><div class="mapTip"><div class="mapModalHeader"><h1>' + e.target.Title + '</h1><a href="index.html#Close" class="closeModal closeTip" onclick="closeTip(this); return false">'  
                    + ATT.OneMap.labels.close + '</a> <div class="clear"></div></div><div class="clear"></div><div class="tipContent"> <div class="leftAddressTip"><p> ' + e.target.Address1 + ' </p>'  
                    + address2 + '<p>' + e.target.City + ' , ' + e.target.Region + ' ' + e.target.Postal + '</p> <p>' + e.target.Phone + '</p></div><div class="rightAddressTip"><p> '  
                    + e.target.Hours + ' </p></div><div class="clear"></div><div class="tipFooter"> <p> <a href="index.html#" class="" onclick="ATT.OneMap.openModalFromTooltip(\''+address+'\',\''+locationtype+'\',\'email\',\''+directionlink+'\')">' 
                    +ATT.OneMap.labels.lbl_email +' </a> | <a href="index.html#" onclick="ATT.OneMap.openModalFromTooltip(\''+address+'\',\''+locationtype +'\',\'sms\',\''+directionlink+'\')">' +ATT.OneMap.labels.lbl_textmsg+ '</a></p> <p> <a href="http://www.att.com/maps/'&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;+&#32;directionUrl+e.target.id+&#32;'&amp;from-address='&#32;+&#32;thisOneMap.strLastValidSearch+"&selectedTab="+thisOneMap.currentSelectedTab+ thisOneMap.getMapDetails() +'" selector=' + ATT.OneMap.labels.lbl_directions +' storeOwnerCode=' + e.target.Title + ' class="oneMapStoreInteractClick">'  
                    +ATT.OneMap.labels.lbl_directions +' </a>'; 
                   if(thisOneMap.currentSelectedTab == "storeLocation"){ 
                     if( ATT.OneMap.labels.lbl_appointment_check == true || ATT.OneMap.labels.lbl_appointment_check == "true"){ 
                        infoinnerhtml=infoinnerhtml+' |'; 
                     } 
                   if(e.target.ras == 'Y'){ 
                         infoinnerhtml=infoinnerhtml+'<a target="_blank" href="http://www.att.com/maps/'+&#32;ATT.OneMap.labels.lbl_appointment_url+e.target.id+'" selector= ' +ATT.OneMap.labels.lbl_appointment + '  storeOwnerCode=' +e.target.Title + ' class="oneMapStoreInteractClick"> '+ ATT.OneMap.labels.lbl_appointment +' </a></p>'; 
                     } 
                    infoinnerhtml=infoinnerhtml+'<p><a href="javascript:ATT.OneMap.printSingleStore(\''+e.target.id+'\')"> ' 
                     +ATT.OneMap.labels.lbl_storedetails+' <span>></span></a></p></div></div></div></td></tr><tr> <td colspan="2" class="tip-bottom tip-bg-image"' 
                     +' style="background-image: url(http://0.ecom.attccc.com/images/global/tooltip/tip-white/tip-white.png);"> <span></span></td></tr></tbody></table>' 
                     +'<div class="tip-arrow tip-arrow-bottom" style="visibility: inherit;"></div></div>'; 
                }else if(thisOneMap.currentSelectedTab == "wi-fi"){ 
                    infoinnerhtml=infoinnerhtml+' | <a href="javascript:ATT.OneMap.printSingleStore(\''+e.target.id+'\')" selector= ' +ATT.OneMap.labels.lbl_hotspotdetails + '  storeOwnerCode=' +e.target.Title + ' class="oneMapStoreInteractClick"> '+ ATT.OneMap.labels.lbl_hotspotdetails +' </a></p>' 
                    +'<p class="networkId">'+ATT.OneMap.labels.lbl_networkid+e.target.ssid+'<span></span></p><div class="networkIdTip tip-white">' + wifiTip_part1 + ATT.OneMap.labels.network_ssid + wifiTip_part2 + '</div>' 
                    +'</div></div></div></td></tr><tr> <td colspan="2" class="tip-bottom tip-bg-image"' 
                    +' style="background-image: url(http://0.ecom.attccc.com/images/global/tooltip/tip-white/tip-white.png);"> <span></span></td></tr></tbody></table>' 
                    +'<div class="tip-arrow tip-arrow-bottom" style="visibility: inherit;"></div></div>'; 
                }    
                thisOneMap.defaultInfobox.setHtmlContent(infoinnerhtml); 
            } 
        }                     
        this.hideInfobox = function hideInfobox(e) 
        { 
            thisOneMap.defaultInfobox.setOptions({ visible: false }); 
        } 
        this.setWifiPins = function setWifiPins (wifiArr, bSetCenterPinAgain){ 
            thisOneMap.removeAllPins(true); 
            var storeLength = wifiArr.length; 
            //if(storeLength > maxPins) storeLength = maxPins; 
            thisOneMap.setDefaultInfobox(); 
            var pushpin = null; 
            var currPushPinOption; 
            //var iTempIndexForPin = 9; 
            var iStartIndex = thisOneMap.iCurrentPage * thisOneMap.iResultPerPage; 
            var iEndIndex = (thisOneMap.iCurrentPage + 1) * thisOneMap.iResultPerPage; 
            for(i = (storeLength-1); i >= 0; i--){ 
                var currStoreName = wifiArr[i].name; 
                if(i >= iStartIndex && i < iEndIndex){ 
                    //do nothing 
                }else{ 
                    if (currStoreName.toLowerCase().indexOf("starbucks") != -1){ 
                        currPushPinOption = thisOneMap.paths.pushPinOptions["dot_green"]; 
                    }else if(currStoreName.toLowerCase().indexOf("barnes & noble") != -1){ 
                        currPushPinOption = thisOneMap.paths.pushPinOptions["dot_purple"]; 
                    }else if(currStoreName.toLowerCase().indexOf("hilton") != -1){ 
                        currPushPinOption = thisOneMap.paths.pushPinOptions["dot_brown"]; 
                    }else if(currStoreName.toLowerCase().indexOf("fedex") != -1){ 
                        currPushPinOption = thisOneMap.paths.pushPinOptions["dot_grey"]; 
                    }else if(currStoreName.toLowerCase().indexOf("mcdonalds") != -1 || currStoreName.toLowerCase().indexOf("mcdonald's") != -1){ 
                        currPushPinOption = thisOneMap.paths.pushPinOptions["dot_yellow"]; 
                    }else if(currStoreName.toLowerCase().indexOf("hotel") != -1){ 
                        currPushPinOption = thisOneMap.paths.pushPinOptions["dot_orange"]; 
                    }else if(currStoreName.toLowerCase().indexOf("convention") != -1 || currStoreName.toLowerCase().indexOf("conv") != -1){ 
                        currPushPinOption = thisOneMap.paths.pushPinOptions["dot_orange"]; 
                    }else{ 
                        currPushPinOption = thisOneMap.paths.pushPinOptions["dot_orange"]; 
                    } 
                    pushpin = new Microsoft.Maps.Pushpin(new Microsoft.Maps.Location(wifiArr[i].lat, wifiArr[i].lon), currPushPinOption); 
                    thisOneMap.map.entities.push(pushpin); 
                } 
            } 
            if(iEndIndex > storeLength){ 
                iEndIndex = storeLength; 
            } 
            var iTempIndexForPin = (iEndIndex-1) - iStartIndex; 
            for(var j = (iEndIndex-1); j >= iStartIndex; j--){ 
                var currStoreName = wifiArr[j].name; 
                if (currStoreName.toLowerCase().indexOf("starbucks") != -1){ 
                    currPushPinOption = thisOneMap.paths.pushPinOptions["blank_green"]; 
                }else if(currStoreName.toLowerCase().indexOf("barnes & noble") != -1){ 
                    currPushPinOption = thisOneMap.paths.pushPinOptions["blank_purple"]; 
                }else if(currStoreName.toLowerCase().indexOf("hilton") != -1){ 
                    currPushPinOption = thisOneMap.paths.pushPinOptions["blank_brown"]; 
                }else if(currStoreName.toLowerCase().indexOf("fedex") != -1){ 
                    currPushPinOption = thisOneMap.paths.pushPinOptions["blank_grey"]; 
                }else if(currStoreName.toLowerCase().indexOf("mcdonalds") != -1 || currStoreName.toLowerCase().indexOf("mcdonald's") != -1){ 
                    currPushPinOption = thisOneMap.paths.pushPinOptions["blank_yellow"]; 
                }else if(currStoreName.toLowerCase().indexOf("hotel") != -1){ 
                    currPushPinOption = thisOneMap.paths.pushPinOptions["blank_orange"]; 
                }else if(currStoreName.toLowerCase().indexOf("convention") != -1 || currStoreName.toLowerCase().indexOf("conv") != -1){ 
                    currPushPinOption = thisOneMap.paths.pushPinOptions["blank_orange"]; 
                }else{ 
                    currPushPinOption = thisOneMap.paths.pushPinOptions["blank_orange"]; 
                }    
                currPushPinOption.text = alphaArray[iTempIndexForPin];  
                iTempIndexForPin--; 
                pushpin = new Microsoft.Maps.Pushpin(new Microsoft.Maps.Location(wifiArr[j].lat, wifiArr[j].lon), currPushPinOption); 
                pushpin.Title = wifiArr[j].name; 
                pushpin.Address1 = wifiArr[j].address1; 
                pushpin.ssid = wifiArr[j].ssid; 
                pushpin.City = wifiArr[j].city; 
                pushpin.Region = wifiArr[j].region; 
                pushpin.Postal = wifiArr[j].postal; 
                pushpin.Phone = wifiArr[j].phone; 
                pushpin.Hours = wifiArr[j].hours; 
                pushpin.Sat_open = wifiArr[j].sat_open; 
                pushpin.Sat_close = wifiArr[j].sat_close; 
                pushpin.id = wifiArr[j].id; 
                Microsoft.Maps.Events.addHandler(pushpin, 'click', thisOneMap.displayInfobox); 
                Microsoft.Maps.Events.addHandler(thisOneMap.map, 'viewchange', thisOneMap.hideInfobox); 
                thisOneMap.map.entities.push(pushpin); 
           } 
            if(bSetCenterPinAgain){ 
                thisOneMap.setCenterPin(); 
            }else if(thisOneMap.centerPin != undefined){ 
                thisOneMap.map.entities.push(thisOneMap.centerPin); 
            } 
        } 
        this.setStoreData = function setStoreData (storeArr){ 
            jQuery(".storeB .searchResultList").empty(); 
            jQuery(".wifiB .searchResultList").empty(); 
            rcd = new Array(); 
            allpagination = new Array(); 
            var iTempIndexForPin = 0; 
            if(jQuery('#searchTxt').val() != "" && jQuery('#searchTxt').val() && jQuery('#searchTxt').val() != thisOneMap.labels.searchText){ 
                jQuery.get('/maps/store-locator.recentSearchList.html?searchOption=RSS_SW&recentSearch=' + jQuery('#searchTxt').val()+'&ms='+(new Date()).getTime(), function(data) { 
                    //alert 
                }); 
            } 
            jQuery.each(storeArr, function(i, item) { 
            /*Null Check*/ 
            if(item.city == null) 
            item.city =''; 
            if(item.region == null) 
            item.region =''; 
            if(item.postal== null) 
            item.postal=''; 
                var currName = ""; 
                var city_region_postal = item.city + " " + item.region + " " + item.postal; 
                var sendTo = thisOneMap.labels.lbl_sendto; 
                var txtText = thisOneMap.labels.lbl_textmsg; 
                var txtInteract = thisOneMap.labels.lbl_interact; 
                var txtEmail =  thisOneMap.labels.lbl_email; 
                var txtDirections =  thisOneMap.labels.lbl_directions; 
                var txtAppointment =  thisOneMap.labels.lbl_appointment; 
                var txtStoreDetails = thisOneMap.labels.lbl_storedetails; 
                var emailModalUrl = thisOneMap.emailModalUrl ; 
                var smsModalUrl = thisOneMap.smsModalUrl ; 
                var currItemId = "searchResultItem_" + i; 
                var currFooterId = "searchFooter_" + i; 
                /*temp variables*/ 
                var indicationNewStore =" "; 
                var locationhint = item.addr_hint; 
                var storeHours =item.hours; 
                var storeServices=item.services; 
                var specialInstructions =item.notes; 
                var storeDetailOverylayInfo = '<div class="inlineModalHeader modalHeader"><h1>Store Detail</h1><a href="index.html#Close" class="closeModal" onclick="jQuery.colorbox.close();return false;">Close</a></div><div class="modalContent">'; 
                var address=item.name+"|"+item.address1; 
                var currPushPin, currPushPinClass; 
                var topATTStore = 1; 
                var topATTStoreColor=''; 
                if(thisOneMap.currentSelectedTab == "storeLocation"){ 
                    if(item.channel == 1 || item.channel == 8){ 
                        currPushPin = thisOneMap.paths["blank_orange_white_small"]; 
                        currPushPinClass = 'blank_orange_white_small'; 
                        //currName = "<p class='searchResult_companyName'>" + ATT.OneMap.labels.att_store; 
                    }else if(item.channel == 2){ 
                        currPushPin = thisOneMap.paths["blank_orange_small"]; 
                        currPushPinClass  = 'blank_orange_small'; 
                        //currName = "<p class='searchResult_companyName'>" + ATT.OneMap.labels.att_auth_retail; 
                    }else{ 
                        currPushPin = thisOneMap.paths["blank_blue_small"]; 
                        currPushPinClass  = 'blank_blue_small'; 
                        //currName = "<p class='searchResult_companyName'>" + ATT.OneMap.labels.other_stores + "</p><p class='searchResult_companyName'>" + item.name; 
                    } 
                    currName = "<p class='searchResult_companyName'>" + item.name; 
                }else{ 
                    var currStoreName = storeArr[i].name; 
                    if (currStoreName.toLowerCase().indexOf("starbucks") != -1){ 
                        currPushPin = thisOneMap.paths["blank_green_small"]; 
                        currPushPinClass  = 'blank_green_small'; 
                    }else if(currStoreName.toLowerCase().indexOf("barnes & noble") != -1){ 
                        currPushPin = thisOneMap.paths["blank_purple_small"]; 
                        currPushPinClass  = 'blank_purple_small'; 
                    }else if(currStoreName.toLowerCase().indexOf("hilton") != -1){ 
                        currPushPin = thisOneMap.paths["blank_brown_small"]; 
                        currPushPinClass  = 'blank_brown_small'; 
                    }else if(currStoreName.toLowerCase().indexOf("fedex") != -1){ 
                        currPushPin = thisOneMap.paths["blank_grey_small"]; 
                        currPushPinClass  = 'blank_grey_small'; 
                    }else if(currStoreName.toLowerCase().indexOf("mcdonalds") != -1 || currStoreName.toLowerCase().indexOf("mcdonald's") != -1){ 
                        currPushPin = thisOneMap.paths["blank_yellow_small"]; 
                        currPushPinClass  = 'blank_yellow_small'; 
                    }else if(currStoreName.toLowerCase().indexOf("hotel") != -1){ 
                        currPushPin = thisOneMap.paths["blank_orange_small"]; 
                        currPushPinClass  = 'blank_orange_small'; 
                    }else if(currStoreName.toLowerCase().indexOf("convention") != -1 || currStoreName.toLowerCase().indexOf("conv") != -1){ 
                        currPushPin = thisOneMap.paths["blank_orange_small"]; 
                        currPushPinClass  = 'blank_orange_small'; 
                    }else{ 
                        currPushPin = thisOneMap.paths["blank_orange_small"]; 
                        currPushPinClass  = 'blank_orange_small'; 
                    }   
                    currName = "<p class='searchResult_companyName'>" + item.name;  
                } 
                if(iTempIndexForPin == thisOneMap.iResultPerPage){ 
                    iTempIndexForPin = 0; 
                } 
                var newStore = ""; 
                if(item.opening != undefined){ 
                    var openingDate = new Date(item.opening); 
                    var daydiff = thisOneMap.getDaydiff(openingDate, new Date()); 
                    //182 = (365days in a year/2) 
                    if(daydiff < 182){ 
                        currName += "<span id='newStoreEnglish'></span>"; 
                    } 
                } 
                currName += "</p>"; 
                var currAlphabet = alphaArray[iTempIndexForPin]; 
                iTempIndexForPin++; 
                if((item.channel == 1 || item.channel == 8)  && topATTStore <=2) 
                { 
                topATTStore++; 
                topATTStoreColor='toptwoStore';   
                } 
                var innerHtml = "<div class= '" + topATTStoreColor + " SearchResultItem' id=" + currItemId + "><div class='locationPinM'><span class='" + currPushPinClass    + "'>" + currAlphabet + "</span></div><div class='storeAddressPL'>" + currName +"<p class='searchResult_companyAddress'>" + item.address1 + "</p>"; 
                storeDetailOverylayInfo = storeDetailOverylayInfo + "<p class='searchResult_companyName'>" + item.name + "</p><p class='searchResult_companyAddress'>" + item.address1 + "</p>"; 
                topATTStoreColor = ''; 
                if(item.address2){ 
                   innerHtml = innerHtml +"<p class='searchResult_companyAddress'>" + item.address2 + "</p>"; 
                   storeDetailOverylayInfo = storeDetailOverylayInfo + "<p class='searchResult_companyAddress'>" + item.address2 + "</p>"; 
                   address = address+"|"+item.address2; 
                } 
                var strPhone = ""; 
                if(item.phone){ 
                    strPhone = item.phone; 
                 } 
                address = address+"|"+city_region_postal+"|"+strPhone; 
                address = escape(address); 
                var locationtype="store"; 
                var fromaddress = ""; 
                if(thisOneMap.strLastValidSearch !=""){ 
                    fromaddress = "&from-address="+thisOneMap.strLastValidSearch; 
                } 
                var directionlink = ""; 
                var directionUrl = ""; 
                if(thisOneMap.currentSelectedTab == "storeLocation"){ 
                    locationtype="store"; 
                    directionlink = thisOneMap.directionUrlSendStore+item.id+fromaddress; 
                    directionUrl = thisOneMap.directionUrlStore; 
                }else if(thisOneMap.currentSelectedTab == "wi-fi"){ 
                    locationtype="wifi"; 
                    directionlink = thisOneMap.directionUrlSendWiFi+item.id+fromaddress; 
                    directionUrl = thisOneMap.directionUrlWiFi; 
                } 
                if(indicationNewStore == undefined) 
                indicationNewStore =''; 
                else 
                indicationNewStore = "<p class='indicationNewStore'><label>New Store : </label><span>" + indicationNewStore +"</span></p>"; 
                if(locationhint == undefined) 
                locationhint =''; 
                else 
                locationhint = "<p class='locationhint'><label>Location hint : </label><span>" + locationhint +"</span></p>"; 
                if(storeHours == undefined) 
                storeHours =''; 
                else 
                storeHours = "<p class='storeHours'><label>Store Hours : </label><span>" + storeHours +"</span></p>"; 
                if(storeServices == undefined) 
                storeServices =''; 
                else 
                storeServices = "<p class='storeServices'><label>Store Services : </label><span>" + storeServices +"</span></p>"; 
                if(specialInstructions == undefined) 
                specialInstructions =''; 
                else 
                specialInstructions = "<p class='specialInstructions'><label>Special Instructions : </label><span>" + specialInstructions +"</span></p>"; 
                directionlink = escape(directionlink); 
                innerHtml = innerHtml +"<p class='searchResult_companyAddress'>" + city_region_postal + "</p><p class='searchResult_companyAddress'>" + strPhone + "</p>" 
                +"<div class='clear'></div>"+"<div class='searchFooter' id=" + currFooterId + "></div>" 
                +"<p class='searchResult_subText'>"+ sendTo +  "<a selector="+"\""+txtEmail+"\""+" storeOwnerCode="+"\""+item.channel+"\""+"  storeId="+"\""+item.id+"\""+" href='http://www.att.com/maps/&quot;+thisOneMap.emailModalUrl+&quot;?address=&quot;+address+&quot;&amp;contenttype=address&amp;locationtype=&quot;+locationtype+&quot;&amp;directionlink=&quot;+directionlink+&quot;' class='openModal channelModal' onClick='oneMapStoreSendLinkClick(this)'> "+ txtEmail + "  </a> | <a selector="+"\""+txtText +"\""+" storeOwnerCode="+"\""+item.channel+"\""+"  storeId="+"\""+item.id+"\""+" href='http://www.att.com/maps/&quot;+thisOneMap.smsModalUrl+&quot;?address=&quot;+address+&quot;&amp;contenttype=address&amp;locationtype=&quot;+locationtype+&quot;&amp;directionlink=&quot;+directionlink+&quot;' class='openModal channelModal' onClick='oneMapStoreSendLinkClick(this)'>" + txtText + "</a></p>" 
                +"<p class='searchResult_subText'>"+ txtInteract +  "<a href='index.html#' selector=Directions storeOwnerCode="+"\""+item.channel+"\""+"  storeId="+"\""+item.id+"\""+" class='oneMapStoreInteractClick'> "+ txtDirections + "  </a>"; 
                storeDetailOverylayInfo = storeDetailOverylayInfo + +"<p class='searchResult_companyAddress'>" + city_region_postal + "</p><p class='searchResult_companyAddress'>" + strPhone + "</p>" 
                +"<div class='clear'></div>"+"<div class='searchFooter' id=" + currFooterId + "></div>" + indicationNewStore + locationhint + storeHours + storeServices + specialInstructions + "<p class='searchResult_subText'>"+ sendTo +  "<a selector="+"\""+txtEmail+"\""+" storeOwnerCode="+"\""+item.name+"\""+"  storeId="+"\""+item.id+"\""+" href='http://www.att.com/maps/&quot;+thisOneMap.emailModalUrl+&quot;?address=&quot;+address+&quot;&amp;contenttype=address&amp;locationtype=&quot;+locationtype+&quot;&amp;directionlink=&quot;+directionlink+&quot;' class='openModal channelModal' onClick='oneMapStoreSendLinkClick(this)'> "+ txtEmail + "  </a> | <a selector="+"\""+txtText +"\""+" storeOwnerCode="+"\""+item.name+"\""+"  storeId="+"\""+item.id+"\""+" href='http://www.att.com/maps/&quot;+thisOneMap.smsModalUrl+&quot;?address=&quot;+address+&quot;&amp;contenttype=address&amp;locationtype=&quot;+locationtype+&quot;&amp;directionlink=&quot;+directionlink+&quot;' class='openModal channelModal' onClick='oneMapStoreSendLinkClick(this)'>" + txtText + "</a></p>" 
                +"<p class='searchResult_subText'>"+ txtInteract +  "<a href='http://www.att.com/maps/&quot;+directionUrl+item.id+&quot;&amp;from-address=&quot;+thisOneMap.strLastValidSearch+&#32;&quot;&amp;selectedTab=&quot;+thisOneMap.currentSelectedTab;+&quot;' selector="+"\""+txtDirections+"\"" +" storeOwnerCode="+"\""+item.name+"\""+"  storeId="+"\""+item.id+"\""+" class='oneMapStoreInteractClick'> "+ txtDirections + "  </a>"; 
                var wifiTip_part1='<div class="tip-arrow tip-arrow-top"></div><table cellspacing="0" cellpadding="0" border="0" style="width: 170px;"><tbody><tr><td style="background-image: url(http://0.ecom.attccc.com/images/global/tooltip/tip-white/tip-white.png);" class="tip-top tip-bg-image" colspan="2"><span></span></td><td style="background-image: url(http://0.ecom.attccc.com/images/global/tooltip/tip-white/tip-white.png);" class="tip-right tip-bg-image" rowspan="2"><span></span></td></tr><tr><td style="background-image:url(http://0.ecom.attccc.com/images/global/tooltip/tip-white/tip-white.png);" class="tip-left tip-bg-image" rowspan="2"><span></span></td><td style="width: 100%;"><div class=" tip-inner ">'; 
                var wifiTip_part2 = '</div></td></tr><tr> <td style="background-image: url(http://0.ecom.attccc.com/images/global/tooltip/tip-white/tip-white.png);" class="tip-bottom tip-bg-image" colspan="2"> <span></span></td></tr></tbody></table>'; 
                if(thisOneMap.currentSelectedTab == "storeLocation"){ 
                     if(thisOneMap.labels.lbl_appointment_check == true || thisOneMap.labels.lbl_appointment_check == "true"){ 
                         if(item.ras == "Y"){ 
                         innerHtml = innerHtml+" |"; 
                             innerHtml=innerHtml+"<a target=\"_blank\" href='http://www.att.com/maps/&quot;+thisOneMap.labels.lbl_appointment_url+item.id+&quot;' selector=Appointment storeOwnerCode="+"\""+item.channel+"\""+"  storeId="+"\""+item.id+"\""+" class='oneMapStoreInteractClick'> " + txtAppointment + "</a></p>"; 
                    } 
                    } 
                    innerHtml=innerHtml+"<p><a storeOwnerCode="+"\""+item.channel+"\""+"  storeId="+"\""+ item.id+"\""+" onclick='wtOneMapStoreDetailsClick(this);' href='javascript:ATT.OneMap.printSingleStore(" + item.id + ")'>"+ txtStoreDetails + "<span>></span></a></p><div class='storeDetailOverylayInfo'>" + storeDetailOverylayInfo +  "</div></div></div>"; 
                }else if(thisOneMap.currentSelectedTab == "wi-fi"){ 
                    innerHtml=innerHtml+" |<a href='javascript:ATT.OneMap.printSingleStore(\"" + escape(item.id) + "\")' selector="+"\""+thisOneMap.labels.lbl_hotspotdetails +"\""+" storeOwnerCode="+"\""+item.channel+"\""+"  storeId="+"\""+item.id+"\""+" class=''> " + thisOneMap.labels.lbl_hotspotdetails  + "</a></p>" 
                    +"<p class='networkId'>"+thisOneMap.labels.lbl_networkid+item.ssid+"<span></span></p><div class='networkIdTip tip-white'>" + wifiTip_part1 + ATT.OneMap.labels.network_ssid + wifiTip_part2 + "</div>" 
                    +"<p class='storeOwnerCode'><a storeOwnerCode="+"\""+item.channel+"\""+"  storeId="+"\""+ item.id+"\""+" href='JavaScript:void(0);'>"+ thisOneMap.labels.lbl_adwifi + "<span></span></a></p><div class='storeOwnerCodeTip tip-white'>" + wifiTip_part1 + ATT.OneMap.labels.wifi_experience + wifiTip_part2 +  "</div></div>"; 
                } 
               rcd[i]= innerHtml ; 
              }); 
            //getting the amount of elements inside content div   
            var number_of_items = rcd.length;   
            //calculate the number of pages we are going to have   
            var number_of_pages = Math.ceil(number_of_items/thisOneMap.iResultPerPage);   
            var number_of_main_pages=0; 
            if(number_of_pages >7){ 
                var number_of_pages1 = Math.ceil(number_of_items/thisOneMap.iResultPerPage);  
                number_of_main_pages = Math.floor(number_of_pages1/7); 
                var  number_of_main_pages_remain = number_of_pages1%7;            
                var i=0; 
                var current_link = 0; 
                var number_of_pages_tmp = 7; 
                while(number_of_main_pages>0){ 
                    var navigation_html = '<a class="previous_link" href="javascript:ATT.OneMap.previous();">'+ATT.OneMap.labels.lbl_prev+'</a>';   
                    if(current_link == 0){ 
                        navigation_html = '<a class="previous_link" style ="color:#ccc; cursor:text;" href="javascript:void(0);">'+ATT.OneMap.labels.lbl_prev+'</a>'; 
                    }else{ 
                        navigation_html = '<a class="previous_link" href="javascript:ATT.OneMap.previous();">'+ATT.OneMap.labels.lbl_prev+'</a>'; 
                    } 
                    while(number_of_pages_tmp > current_link){   
                        navigation_html += '<a  class="page_link" pagecount="'+i+'" href="javascript:ATT.OneMap.go_to_page(' + current_link +')" longdesc="' + current_link +'">'+ (current_link + 1) +'</a>';   
                        current_link++;   
                    }   
                    number_of_pages_tmp=number_of_pages_tmp+7; 
                    if(number_of_main_pages == 0 && number_of_main_pages_remain == 0){ 
                        //navigation_html += '<a class="next_link" href="javascript:ATT.OneMap.next();">'+ATT.OneMap.labels.lbl_next+'</a>';  
                        navigation_html += '<a class="next_link" style ="color:#ccc; cursor:text;" href="javascript:void(0);">'+ATT.OneMap.labels.lbl_next+'</a>'; 
                    }else{ 
                        navigation_html += '<a class="next_link" href="javascript:ATT.OneMap.next();">'+ATT.OneMap.labels.lbl_next+'</a>'; 
                    } 
                    allpagination[i] = navigation_html;  
                    --number_of_main_pages;  
                    i++; 
                } 
                if(number_of_main_pages_remain>0){ 
                    var navigation_html = '<a class="previous_link" href="javascript:ATT.OneMap.previous();">'+ATT.OneMap.labels.lbl_prev+'</a>';   
                   number_of_pages_tmp=number_of_pages_tmp+number_of_main_pages_remain-7; 
                    while(number_of_pages_tmp > current_link){   
                        navigation_html += '<a  class="page_link" pagecount="'+i+'" href="javascript:ATT.OneMap.go_to_page(' + current_link +')" longdesc="' + current_link +'">'+ (current_link + 1) +'</a>';   
                        current_link++;   
                    }   
                   //navigation_html += '<a class="next_link" href="javascript:ATT.OneMap.next();">'+ATT.OneMap.labels.lbl_next+'</a>';  
                   navigation_html += '<a class="next_link" style ="color:#ccc; cursor:text;" href="javascript:void(0);">'+ATT.OneMap.labels.lbl_next+'</a>'; 
                   allpagination[i] = navigation_html;      
                } 
            }else{ 
                var navigation_html = '<a class="previous_link" style ="color:#ccc; cursor:text;" href="javascript:void(0);">'+ATT.OneMap.labels.lbl_prev+'</a>'; 
                 var current_link = 0;   
                 while(number_of_pages > current_link){   
                    navigation_html += '<a  class="page_link" href="javascript:ATT.OneMap.go_to_page(' + current_link +')" longdesc="' + current_link +'">'+ (current_link + 1) +'</a>';   
                    current_link++;   
                 }   
                navigation_html += '<a class="next_link" href="javascript:ATT.OneMap.next();">'+ATT.OneMap.labels.lbl_next+'</a>';  
                // navigation_html += '<a class="next_link" style ="color:#ccc; cursor:text;" href="javascript:return false;">'+ATT.OneMap.labels.lbl_next+'</a>'; 
                 allpagination[0] = navigation_html;          
            } 
            jQuery('#page_navigation').html(allpagination[0]).show();   
            jQuery(".pagingBox").show(); 
            jQuery('#page_navigation .page_link:first').addClass('active_page');   
            jQuery(".pagingBox .searchResultCountT").html("<strong>" + number_of_items + "</strong> results"); 
            thisOneMap.go_to_page(thisOneMap.iCurrentPage); 
            if(thisOneMap.currentSelectedTab == "wi-fi") 
            { 
	            if(jQuery(".wiFiCheckBList").css('display')=='block'){ 
	            	jQuery(".searchResultList.WiFiListPane").attr('style','height:260px; height:245px\0/; *height:245px'); 
	        	}else{ 
	            	jQuery(".searchResultList.WiFiListPane").css('height','378px'); 
	            } 
	            var api = jQuery('.searchResultList.WiFiListPane').jScrollPane().data('jsp'); 
	            api.reinitialise(); 
            } 
        } 
        this.getMapDetails = function getMapDetails(){ 
            var stringURL = ""; 
            var bounds = thisOneMap.map.getBounds(); 
            var north = bounds.getNorth(), 
            south = bounds.getSouth(), 
            east = bounds.getEast(), 
            west = bounds.getWest(); 
            stringURL += "&SW=" + (south+ "," +west); 
            stringURL += "&NE=" + (north+ "," +east); 
            stringURL += "&zoom=" + thisOneMap.map.getZoom(); 
            if(thisOneMap.searchOrigin.lat && thisOneMap.searchOrigin.lon){ 
                stringURL += "&starLat=" + thisOneMap.searchOrigin.lat; 
                stringURL += "&starLon=" + thisOneMap.searchOrigin.lon; 
            } 
            return stringURL; 
        } 
        this.getDaydiff = function daydiff(first, second) { 
            return (second-first)/(1000*60*60*24); 
        } 
        this.printSingleStore = function printSingleStore(id){ 
            var locationSearch = thisOneMap.strLastValidSearch; 
            if(locationSearch != ""){ 
                var stringURL = ""; 
                if(thisOneMap.currentSelectedTab == "storeLocation"){ 
                    stringURL += "selectedTab=storeLocation"; 
                    if(thisOneMap.advanceSearchString != ""){ 
                        stringURL += "&searchFilter=" + thisOneMap.advanceSearchString; 
                    }  
                }else if(thisOneMap.currentSelectedTab == "wi-fi"){ 
                    stringURL += "selectedTab=wi-fi"; 
                    stringURL += "&subSelection="+jQuery('#wi_fi_type_id input:radio:checked').val(); 
                    if(thisOneMap.wifiFilterString != ""){ 
                        stringURL += "&searchFilter=" + thisOneMap.wifiFilterString; 
                    } 
                } 
                stringURL += "&locationSearch=" + locationSearch; 
                stringURL += "&subSelection="+thisOneMap.TEMP_CODE_STORE; 
                var latlon = thisOneMap.map.getCenter(); 
                var bounds = thisOneMap.map.getBounds(); 
                var n = bounds.getNorth(), 
                s = bounds.getSouth(), 
                e = bounds.getEast(), 
                w = bounds.getWest(); 
                stringURL += "&SW=" + (s+ "," +w); 
                stringURL += "&NE=" + (n+ "," +e); 
                //var origin = latlon.latitude + "," + latlon.longitude; 
                //stringURL += "&lat=" + latlon.latitude; 
                //stringURL += "&long=" + latlon.longitude; 
                stringURL += "&starLat=" + thisOneMap.searchOrigin.lat; 
                stringURL += "&starLon=" + thisOneMap.searchOrigin.lon; 
                stringURL += "&placeId=" + id; 
                stringURL += "&singleDetail=" + true; 
                stringURL += "&pageNum="+pageNum; 
                var targetURL = ATT.OneMap.paths["printURL"]; 
                stringURL = encodeURI(stringURL ); 
                window.location = targetURL+stringURL; 
            } 
        } 
        this.onViewChangeEnd = function onViewChangeEnd(e){ 
            if(thisOneMap.bTabSwitched){ 
                thisOneMap.bTabSwitched = false; 
                if(thisOneMap.currentSelectedTab == "storeLocation" && thisOneMap.bStoreDataToUpdate){ 
                	if(jQuery('#searchTxt').val() != "" && jQuery('#searchTxt').val() && jQuery('#searchTxt').val() != thisOneMap.labels.searchText){ 
                    	thisOneMap.searchLocation(); 
                	} 
                }else if(thisOneMap.currentSelectedTab == "wi-fi" && thisOneMap.bWifiDataToUpdate){ 
                	if(jQuery('#searchTxt').val() != "" && jQuery('#searchTxt').val() && jQuery('#searchTxt').val() != thisOneMap.labels.searchText){ 
                    	thisOneMap.searchLocation(); 
                	} 
                } 
                ATT.modalSpinner.close(); 
                thisOneMap.bRadioButtonOrTabClicked = false; 
                return; 
            } 
            var currCode = thisOneMap.getCurrentSelectedCode(); 
            if(thisOneMap.objLocalData[currCode].zoom != "" && thisOneMap.objLocalData[currCode].currMapCenter != "" && !thisOneMap.bRadioButtonOrTabClicked){ 
                if(thisOneMap.objLocalData[currCode].zoom == thisOneMap.map.getZoom()){ 
                    var coverageArea = thisOneMap.getReducedCoverage(); 
                    if(coverageArea.contains(thisOneMap.objLocalData[currCode].currMapCenter)){ 
                        return; 
                    } 
                } 
            } 
            var queryString = thisOneMap.getNewQuery(); 
            if(thisOneMap.currentSelectedTab == "storeLocation"){ 
                sendWtSearchResultCount(thisOneMap.resultcount); 
                thisOneMap.restService.viewPortStoreLocs(queryString, ATT.OneMap.display.queryResultsStore); 
            }else if(thisOneMap.currentSelectedTab == "wi-fi"){ 
                sendWtWifiPageParameters(thisOneMap.resultcount); 
                thisOneMap.restService.viewPortWifiLocs(queryString, ATT.OneMap.display.queryResultsWifi); 
            }else if(thisOneMap.currentSelectedTab == "coverage"){ 
                //thisOneMap.setLegends(); 
            } 
            thisOneMap.objLocalData[currCode].zoom = thisOneMap.map.getZoom(); 
            thisOneMap.objLocalData[currCode].currMapCenter = thisOneMap.map.getCenter(); 
            thisOneMap.bRadioButtonOrTabClicked = false; 
            if(thisOneMap.currentSelectedTab == "storeLocation"){ 
                var nLength = thisOneMap.arrCoverageArea.length; 
                var nOutOfBounds = 0; 
                for(var i = 0; i < nLength; i++){ 
                    if(!thisOneMap.arrCoverageArea[i].contains(thisOneMap.map.getCenter())){ 
                        nOutOfBounds++; 
                    } 
                } 
                if(nOutOfBounds == nLength){ 
                    //alert("OUT"); 
                    if(thisOneMap.bCoverageAlertToShow){ 
                            thisOneMap.blockElementForCoverage(jQuery('#content-right'), thisOneMap.labels.store_avail, thisOneMap.errors.errorCode_MAP_600); 
                    } 
                } 
            } 
        } 
        this.getReducedCoverage = function getReducedCoverage(){ 
            var bReducedCoverage = true; 
            var latlon = thisOneMap.map.getCenter(); 
            var bounds = thisOneMap.map.getBounds(); 
            var n = bounds.getNorth(), 
            s = bounds.getSouth(), 
            e = bounds.getEast(), 
            w = bounds.getWest(); 
            var coverageArea; 
            if(bReducedCoverage){ 
                var north = n -  (((n - latlon.latitude)/100)*30); 
                var east = e - (((e - latlon.longitude)/100)*30); 
                var south = s - (((s - latlon.latitude)/100)*30); 
                var west = w - (((w - latlon.longitude)/100)*30); 
                coverageArea = Microsoft.Maps.LocationRect.fromEdges(north, west, south, east); 
            }else{ 
                coverageArea = Microsoft.Maps.LocationRect.fromEdges(n, w, s, e); 
            } 
            return coverageArea; 
        } 
        this.getNewQuery = function getNewQuery(){ 
            var bExtendedViewport = true; 
            var queryString = ""; 
            var latlon = thisOneMap.map.getCenter(); 
            var bounds = thisOneMap.map.getBounds(); 
            var n = bounds.getNorth(), 
            s = bounds.getSouth(), 
            e = bounds.getEast(), 
            w = bounds.getWest(); 
            if(!bExtendedViewport){ 
                queryString = "sw=" +s+ "," +w+ "&ne=" + n + "," + e+"&origin=" + latlon.latitude + "," + latlon.longitude; 
            }else{ 
                var north = n +  (((n - latlon.latitude)/100)*60); 
                var east = e + (((e - latlon.longitude)/100)*60); 
                var south = s + (((s - latlon.latitude)/100)*60); 
                var west = w + (((w - latlon.longitude)/100)*60); 
                queryString = "sw=" +south+ "," +west+ "&ne=" + north + "," + east+"&origin=" + latlon.latitude + "," + latlon.longitude; 
            } 
            return queryString; 
        } 
        this.blockElementForCoverage = function blockElementForCoverage(element, title, msg, errorAddress){ 
            element.block({ 
                message: '<div id="alertBoxMapCoverage"><div><h3 class="coverage-error">' + title + '</h3></div><div class="clear"></div><div class="contentBox-map contentBox-map-error"><p style="margin-bottom:15px;"><label>' + msg + '</label></p><p><input type="checkbox" id="btnCoverage"></input> <label class="btnCoverageLbl" for="btnCoverage">' + ATT.OneMap.labels.dont_show + '</label><a class="okButton" href="index.html#" onclick="jQuery(\'#content-right\').unblock(); return false"><img src="http://www.att.com/content/dam/att/2011/global/btn/btn-en-OK-blu29.gif" alt="ok" /></a></p></div><div class="clearB"></div><a style="right:15px;top:19px" onclick="jQuery(\'#content-right\').unblock(); return false" class="closeModal" id="closeBut" href="index.html#Close">' + ATT.OneMap.labels.close + '</a>', 
                css: { border: '1px solid #FF'} 
            }); 
            jQuery('#btnCoverage').uniform(); 
            jQuery('#alertBoxMapCoverage input:checkbox').bind('change', function () { 
                if (jQuery(this).is(':checked')){ 
                    thisOneMap.bCoverageAlertToShow = false; 
                }else{ 
                    thisOneMap.bCoverageAlertToShow = true; 
                } 
            }); 
        } 
        this.blockElement = function blockElement(bNormalError, element, title, msg, errorAddress, resultAddress, optMsg1, optMsg2){ 
            if(bNormalError){ 
                element.block({  
                    message: '<div id="alertBoxMap"><div><h3 class="direction-error">' + title + '</h3></div><div class="clear"></div><div class="contentBox-map contentBox-map-error"><p>' + msg + '</p></div><a style="right:15px;top:19px" onclick="jQuery(\'.bingMapError\').unblock(); jQuery(\'.bingMapError\').hide(); return false" class="closeModal" id="closeBut" href="index.html#Close">' + ATT.OneMap.labels.close + '</a>',  
                    css: { border: '1px solid #FF'}  
                }); 
            }else{ 
                /*element.block({  
                    message: '<div id="alertBoxMap"><div><h3>' + title + '</h3></div><div class="clear"></div><div class="contentBox-map"><p>' + msg + '<span>' + errorAddress+ '</span>'+  optMsg1 + '</p><p><span>' + optMsg2 + '</span></p>' + resultAddress + '</div><a style="right:15px;top:19px" onclick="jQuery(\'#content-right\').unblock(); return false" class="closeModal" id="closeBut" href="index.html#Close">Close</a>',  
                    css: { border: '1px solid #FF'}  
                });*/ 
                element.block({  
                    message: '<div id="alertBoxMap"><div><h3>' + title + '</h3></div><div class="clear"></div><div class="contentBox-map"><p>' + msg +'</p>' + errorAddress + '</div><a style="right:15px;top:19px" onclick="jQuery(\'.bingMapError\').unblock(); return false" class="closeModal" id="closeBut" href="index.html#Close">' + ATT.OneMap.labels.close + '</a>',  
                    css: { border: '1px solid #FF'}  
                }); 
            } 
        } 
        this.searchLocation = function searchLocation(bTabSwitched){ 
            jQuery('.bingMapError').unblock(); 
            jQuery(".bingMapError").hide(); 
            thisOneMap.getMap(); 
            if(bTabSwitched && thisOneMap.strLastValidSearch != ""){ 
                jQuery("#searchTxt").val(thisOneMap.strLastValidSearch); 
                if(thisOneMap.currentSelectedTab == "storeLocation"){ 
                    thisOneMap.restService.queryStoreLocs(thisOneMap.strLastValidSearch, ATT.OneMap.display.queryResults); 
                }else if(thisOneMap.currentSelectedTab == "wi-fi"){ 
                    thisOneMap.restService.queryWifiLocs(thisOneMap.strLastValidSearch, ATT.OneMap.display.queryResultsWifi); 
                }else if(thisOneMap.currentSelectedTab == "coverage"){ 
                    thisOneMap.findLocation(jQuery("#searchTxt").val()); 
                } 
                return; 
            } 
            if(jQuery('#searchTxt').val() != "" && jQuery('#searchTxt').val() && jQuery('#searchTxt').val() != thisOneMap.labels.searchText){ 
                if(thisOneMap.currentSelectedTab == "storeLocation"){ 
                    thisOneMap.restService.queryStoreLocs(jQuery("#searchTxt").val(), ATT.OneMap.display.queryResults); 
                }else if(thisOneMap.currentSelectedTab == "wi-fi"){ 
                    thisOneMap.restService.queryWifiLocs(jQuery("#searchTxt").val(), ATT.OneMap.display.queryResultsWifi); 
                }else if(thisOneMap.currentSelectedTab == "coverage"){ 
                    //thisOneMap.restService.queryWifiLocs(jQuery("#searchTxt").val(), ATT.OneMap.display.queryResultsWifi); 
                    thisOneMap.findLocation(jQuery("#searchTxt").val()); 
                    thisOneMap.bSearchOnCoverageInitiated = true; 
                } 
            }else{ 
                jQuery(".bingMapError").show(); 
                thisOneMap.blockElement(true, jQuery('.bingMapError'), ATT.OneMap.labels.error, ATT.OneMap.errors.errorCode_MAP_200); 
            } 
        } 
        this.filterCollapseExpand = function filterCollapseExpand(id) 
        { 
            if(jQuery(".wiFiCheckBList").css('display')=='none'){ 
                jQuery(".wiFiCheckBList").show(); 
                jQuery("#wifichecboxheader").addClass("active"); 
               // jQuery(".searchResultList.WiFiListPane").css('height','200px'); 
                jQuery(".searchResultList.WiFiListPane").attr('style','height:260px; height:245px\0/; *height:245px'); 
                } 
            else{ 
                jQuery(".wiFiCheckBList").hide(); 
                 jQuery("#wifichecboxheader").removeClass("active"); 
                  jQuery(".searchResultList.WiFiListPane").css('height','378px'); 
                } 
                var api = jQuery('.searchResultList.WiFiListPane').jScrollPane().data('jsp'); 
                api.reinitialise(); 
                var api = jQuery('.wiFiCheckBList').jScrollPane().data('jsp'); 
                api.reinitialise(); 
           return false; 
        } 
        this.resetZoomLevel = function resetZoomLevel(){ 
            thisOneMap.map.getZoomRange = function () 
            { 
              return { 
                max:      20, 
                min:      1 
              }; 
            };           
        } 
        this.setZoomLevel = function setZoomLevel(){ 
            if(thisOneMap.map == undefined){ 
                return; 
            } 
            thisOneMap.map.getZoomRange = function () 
            { 
                var iMaxZoom = thisOneMap.objLocalData[thisOneMap.getCurrentSelectedCode()].zoom_max; 
                var iMinZoom = thisOneMap.objLocalData[thisOneMap.getCurrentSelectedCode()].zoom_min; 
                if( iMaxZoom == undefined){ 
                	return { 
                    	max:      20, 
                    	min:      1 
                    }; 
                }else{ 
	            	return { 
	               		max:      iMaxZoom, 
	                	min:      iMinZoom 
	              	}; 
                } 
            };           
        } 
        this.restrictZoom = function restrictZoom() 
        { 
          if (map.getZoom() <= map.getZoomRange().min)  
          { 
            map.setView({ 
              'zoom':       map.getZoomRange().min, 
              'animate':    false 
            }); 
          } 
          else if (map.getZoom() >= map.getZoomRange().max)  
          { 
            map.setView({ 
              'zoom':       map.getZoomRange().max, 
              'animate':    false 
            }); 
          } 
        } 
        this.previous = function previous(){   
            var new_page = thisOneMap.iCurrentPage - 1;   
            //if there is an item before the current active link run the function   
            if(jQuery('.active_page').prev('.page_link').length==true){   
                thisOneMap.go_to_page(new_page);   
                if(new_page >0){ 
                    jQuery(".previous_link").attr("style", "color:#RRGGBB;"); 
                    jQuery(".previous_link").attr("href", "javascript:ATT.OneMap.previous();"); 
            }else{ 
                    jQuery(".previous_link").attr("style", "color:#ccc; cursor:text;"); 
                    jQuery(".previous_link").attr("href", "javascript:void(0);"); 
                } 
            }else{ 
                 if(allpagination.length>1){ 
                    var pagecount = jQuery('.active_page').attr("pagecount"); 
                    pagecount = parseInt(pagecount) - 1; 
                    jQuery('#page_navigation').html(allpagination[pagecount]).show();   
                    if(pagecount ==0){ 
                        jQuery('#page_navigation a').css("padding","1px 6px"); 
                    }else if(pagecount==1){ 
                        jQuery('#page_navigation a').css("padding","1px 4px"); 
                    }else{ 
                         jQuery('#page_navigation a').css("padding","1px 3px"); 
                    }       
                    jQuery('#page_navigation .page_link:last').addClass('active_page');   
                    var currentpagecount = parseInt(jQuery('#page_navigation .page_link:last').html()); 
                    thisOneMap.go_to_page(currentpagecount-1); 
                  } 
            } 
        }   
        this.next = function next(){   
            var new_page = thisOneMap.iCurrentPage + 1;   
            //if there is an item after the current active link run the function   
            if(jQuery('.active_page').next('.page_link').length==true){   
                thisOneMap.go_to_page(new_page);   
                if(new_page >0){ 
                    jQuery(".previous_link").attr("style", "color:#RRGGBB;"); 
                    jQuery(".previous_link").attr("href", "javascript:ATT.OneMap.previous();"); 
                }else{ 
                    jQuery(".previous_link").attr("style", "color:#ccc; cursor:text;"); 
                    jQuery(".previous_link").attr("href", "javascript:void(0);"); 
                } 
            }else{ 
                if(allpagination.length>1){ 
                    var pagecount = jQuery('.active_page').attr("pagecount"); 
                    pagecount = parseInt(pagecount) +1; 
                    jQuery('#page_navigation').html(allpagination[pagecount]).show();   
                    if(pagecount ==0){ 
                        jQuery('#page_navigation a').css("padding","1px 6px"); 
                    }else if(pagecount==1){ 
                        jQuery('#page_navigation a').css("padding","1px 4px"); 
                    }else{ 
                         jQuery('#page_navigation a').css("padding","1px 3px"); 
                    }       
                    jQuery('#page_navigation .page_link:first').addClass('active_page');   
                    var currentpagecount = parseInt(jQuery('#page_navigation .page_link:first').html()); 
                    thisOneMap.go_to_page(currentpagecount-1); 
                  } 
            }   
            if(allpagination.length<=1){ 
                    if(jQuery('.active_page').next('.page_link').length!=true){ 
                        jQuery(".next_link").attr("style", "color:#ccc; cursor:text;"); 
                        jQuery(".next_link").attr("href", "javascript:void(0);"); 
                   }else{ 
                       jQuery(".next_link").attr("style", "color:#RRGGBB;"); 
                       jQuery(".next_link").attr("href", "javascript:ATT.OneMap.next();"); 
                   } 
              } 
        }   
        this.go_to_page = function go_to_page(page_num){ 
            pageNum=page_num; 
            if(page_num >0){ 
                jQuery(".previous_link").attr("style", "color:#RRGGBB;"); 
                jQuery(".previous_link").attr("href", "javascript:ATT.OneMap.previous();"); 
            }else{ 
                jQuery(".previous_link").attr("style", "color:#ccc; cursor:text;"); 
                jQuery(".previous_link").attr("href", "javascript:void(0);"); 
            } 
            jQuery(".storeB .searchResultList").empty(); 
            jQuery(".wifiB .searchResultList").empty(); 
            jQuery(".storeB .searchResultList").remove(); 
            jQuery(".storeB").append('<div class="searchResultList storeListPane"></div>'); 
            jQuery(".wifiB .searchResultList").remove(); 
            jQuery(".wifiB").append('<div class="searchResultList WiFiListPane"></div>'); 
            //jQuery(".wiFiCheckBList").remove(); 
            //jQuery("#wifiForm").append('<div class="wiFiCheckBList">' + tempVar + '</div>'); 
            //get the element number where to start the slice from   
            start_from = page_num * thisOneMap.iResultPerPage;   
            //get the element number where to end the slice   
            end_on = start_from + thisOneMap.iResultPerPage;   
            var check=''; 
            jQuery(".zoomViewDesc").hide(); 
            for(i = start_from; i<end_on; i++){ 
                if(thisOneMap.currentSelectedTab == "storeLocation"){ 
                    jQuery(rcd[i]).appendTo(".storeB .searchResultList"); 
                }else if(ATT.OneMap.currentSelectedTab == "wi-fi"){ 
                    jQuery(rcd[i]).appendTo(".wifiB .searchResultList"); 
                } 
                jQuery('.page_link[longdesc=' + page_num +']').addClass('active_page').siblings('.active_page').removeClass('active_page');   
            } 
            if(ATT.OneMap.currentSelectedTab == "wi-fi"){ 
                    jQuery("<div class='wifiTipSpace'></div>").appendTo(".wifiB .searchResultList"); 
                } 
            jQuery(".searchResultList.storeListPane").show(); 
            jQuery(".wifiB .WiFiListPane").jScrollPane(); 
            jQuery(".storeB .searchResultList").jScrollPane(); 
            //jQuery(".wiFiCheckBList").jScrollPane(); 
            thisOneMap.setPinsAndListAgain(page_num); 
            //jQuery("input").uniform(); 
            if(jQuery(".wiFiCheckBList").css('display')=='none'){ 
                jQuery(".searchResultList.WiFiListPane").css('height','378px'); 
                } 
            else{ 
                jQuery(".searchResultList.WiFiListPane").attr('style','height:260px; height:245px\0/; *height:245px'); 
                } 
            //alert(":::" + jQuery(".searchResultList.WiFiListPane").height()); 
            var api = jQuery('.searchResultList.WiFiListPane').jScrollPane().data('jsp'); 
            api.reinitialise(); 
            var api = jQuery('.wiFiCheckBList').jScrollPane().data('jsp'); 
            api.reinitialise(); 
            if(allpagination.length<=1){ 
                 if(jQuery('.active_page').next('.page_link').length!=true){ 
                    jQuery(".next_link").attr("style", "color:#ccc; cursor:text;"); 
                     jQuery(".next_link").attr("href", "javascript:void(0);"); 
                }else{ 
                    jQuery(".next_link").attr("style", "color:#RRGGBB;"); 
                    jQuery(".next_link").attr("href", "javascript:ATT.OneMap.next();"); 
                } 
           } 
        }   
      //code for auto complete start******************************************* 
        var bDropDownClicked = false; 
        jQuery( "#searchTxt" ).autocomplete({ 
             source: function( request, response ) { 
            jQuery.ajax({ 
                     url: "/maps/store-locator.jsonRecentSearchList.html?ms="+(new Date()).getTime(), 
                     dataType: "json", 
                     data: { 
                         term: request.term 
                     }, 
                     success: function( data ) { 
                         data=data.response; 
                         var nLength = data.docs.length; 
                         var obj = []; 
                         //added 1 to the length, as we need to add last li element for 'Clear History' 
                         if(nLength == 0) return; 
                         jQuery("#autoCompleteBlocker").removeClass('whiteBlock').hide(); 
                         nLength++; 
                         for(i=0; i < nLength; i++){ 
                             var tempObj = []; 
                             if(i == (nLength-1)){ 
                                 tempObj.label = ATT.OneMap.labels.lbl_clearhistory; 
                                 tempObj.value = ''; 
                             }else{ 
                                 tempObj.label = data.docs[i].userQuery; 
                                 tempObj.value = data.docs[i].userQuery; 
                             } 
                             obj[i] = tempObj; 
                         }            
                         response(obj); 
                     } 
                 }); 
             }, 
             minLength: 1, 
             select: function( event, ui ) { 
                 if(ui.item.label == ATT.OneMap.labels.lbl_clearhistor){ 
                     jQuery.get('/maps/store-locator.recentSearchList.xhr.html?searchOption=CRS_SW&ms='+(new Date()).getTime(), function(data) { 
                         //clears history 
                     }); 
                     jQuery("#autoCompleteBlocker").addClass('whiteBlock').show(); 
                 } 
                 /*log( ui.item ? 
                     "Selected: " + ui.item.label : 
                     "Nothing selected, input was " + this.value);*/ 
             }, 
             open: function() { 
                 /*jQuery( this ).removeClass( "ui-corner-all" ).addClass( "ui-corner-top" );*/ 
             }, 
             close: function() { 
                 bDropDownClicked = false; 
                 /*jQuery( this ).removeClass( "ui-corner-top" ).addClass( "ui-corner-all" );*/ 
             } 
         }); 
         jQuery('#dropDownBtn').button({ 
            icons: { 
               primary: "ui-icon-triangle-1-s" //this puts the down arrow into the button 
            }, 
            text: false //no text inside the button, just the arrow 
        }) 
         .unbind('click')    
         .click(function() {   //set up click binding event 
             bDropDownClicked = true; 
            if (jQuery( "#searchTxt" ).autocomplete("widget").is(":visible")) {   //close the displaying result if it's visible already 
                jQuery( "#searchTxt" ).autocomplete("close"); 
               return false; 
            } 
            jQuery( "#searchTxt" ).autocomplete( "option" , "minLength" , [0] ); 
            jQuery( "#searchTxt" ).autocomplete("search", ""); //pass empty string as search query, this is why you need to set minLength = 0 so that it still searches, but displays all possible choices 
            jQuery( "#searchTxt" ).focus();  //focus on the text field 
            return false;  //disable form submit 
         }); 
         jQuery( "#searchTxt" ).parents(':first').find('.ui-autocomplete') //configure result display so that it won't shift down the content 
         .css('width', '150px') 
         //.css('height', '100px') 
         .css('overflow', 'auto'); 
        this.onAdvanceSearchClose = function onAdvanceSearchClose(){ 
            thisOneMap.advanceSearchString = ""; 
            advanceSearchStringForReport =""; 
            var length = jQuery("#advanceForm input:checkbox:checked").length; 
            //var nCount = 0; 
            jQuery("#advanceForm input:checkbox:checked").each(function(index) { 
                var selectedCheck = jQuery(this); 
                selectChecklabel = jQuery("label[for=" + selectedCheck.attr("id") + "]"); 
                if(selectedCheck.val() != 999999){ 
                    if (index === length - 1) { 
                         thisOneMap.advanceSearchString += selectedCheck.val(); 
                         advanceSearchStringForReport += selectChecklabel.text(); 
                    }else{ 
                        thisOneMap.advanceSearchString += (selectedCheck.val() + ","); 
                        advanceSearchStringForReport  += (selectChecklabel.text() + "|"); 
                    } 
                    //nCount++; 
                    //if(nCount >= thisOneMap.objInitialJsonData.store_services.length){ 
                        //thisOneMap.advanceSearchString = ""; 
                        //advanceSearchStringForReport = ""; 
                    //} 
                } 
            }); 
            ATT.OneMap.oneMapAdvanceSearchClick(advanceSearchStringForReport ); 
            jQuery.colorbox.close(); 
            if(ATT.OneMap.strLastValidSearch != ""){ 
                thisOneMap.bRadioButtonOrTabClicked = true; 
                ATT.OneMap.onViewChangeEnd(null); 
            } 
        } 
        this.oneMapAdvanceSearchClick = function oneMapAdvanceSearchClick (filterContent){ 
              cqClickId='/apps/att/common/components/page/map/advsearchfilter/jcr:content/checkboxesfilter'; 
                  wtargs = ['DCS.dcsuri', '/maps/modals/advsearchmodal.html', 'DCSext.wtEvent',"Map_AdvancedSearchUpdate_Submit", 'DCSext.wtSuccessFlag', 1, 
                        'DCSext.wtStatusCode', "0", 'DCSext.wtCQClickId',cqClickId, 'DCSext.wtMapResultCt',getSearchResultCount(), 
                         'DCSext.wtMapOptions',filterContent,'DCSext.wtZipCode',ATT.globalVars.zip()]; 
                window.dcsMultiTrack.apply(this, wtargs); 
       } 
        this.setPinsAndListAgain = function setPinsAndListAgain(page_num){ 
            if(thisOneMap.iCurrentPage != page_num){ 
                thisOneMap.iCurrentPage = page_num; 
                //thisOneMap.removeAllPins(false); 
                if(thisOneMap.currentSelectedTab == "storeLocation"){ 
                    thisOneMap.setStorePins(thisOneMap.arrStoreData, false); 
                }else if(ATT.OneMap.currentSelectedTab == "wi-fi"){ 
                    thisOneMap.setWifiPins(thisOneMap.arrWifiData, false); 
                } 
            } 
        } 
        this.openModalForAdvanceSearch = function openModalForAdvanceSearch(){ 
            jQuery.colorbox({iframe:false, height:700, width:780, scrolling:false, href: "modals/advsearchmodal.html"}); 
         }  
        this.openModalFromTooltip = function openModalFromTooltip(_address, _locationtype, _modaltype, _directionlink){ 
            if(_modaltype =='email'){ 
                jQuery.colorbox({iframe:false, height:530, width:860, scrolling:false, href: thisOneMap.emailModalUrl+"?address="+_address+"&contenttype=address&locationtype="+_locationtype+"&directionlink="+_directionlink}); 
            } 
            else{ 
                jQuery.colorbox({iframe:false, height:530, width:860, scrolling:false, href: thisOneMap.smsModalUrl+"?address="+_address+"&contenttype=address&locationtype="+_locationtype+"&directionlink="+_directionlink}); 
            } 
        } 
        this.setBoundingBoxForCoverage = function setBoundingBoxForCoverage(){ 
            var nLength = thisOneMap.objInitialJsonData.domestic_bbox.length; 
            var arrBbox = new Array(); 
            thisOneMap.arrCoverageArea = new Array(); 
            for(var i = 0; i < nLength; i++){ 
                var arrBB = thisOneMap.objInitialJsonData.domestic_bbox[i].value.split(","); 
                //arrBbox.push(arrBB); 
                var vertices = new Array(); 
                for(var k = 1; k < (arrBB.length); k+=2){ 
                    vertices.push(new Microsoft.Maps.Location(arrBB[k],arrBB[k-1])); 
                } 
                var polygon = new Microsoft.Maps.Polygon(vertices,{fillColor: new Microsoft.Maps.Color(100,100,0,100), strokeColor: new Microsoft.Maps.Color(200,0,100,100), strokeThickness: 2}); 
                //thisOneMap.map.entities.push(polygon); 
                thisOneMap.arrCoverageArea.push(Microsoft.Maps.LocationRect.fromLocations(vertices)); 
            } 
        } 
        this.setWifiFilterTypes = function setWifiFilterTypes(){ 
            thisOneMap.setLocalData(thisOneMap.objInitialJsonData.wifi_channels); 
            var nLength = thisOneMap.objInitialJsonData.wifi_channels.length; 
            for(var j = 0; j < nLength; j++){ 
                var currCode = thisOneMap.objInitialJsonData.wifi_channels[j].code; 
                var currName = thisOneMap.objInitialJsonData.wifi_channels[j].value; 
                strLiElement = "<li><input id='" + currCode + "' type='radio' value='" + currCode + "' name = 'wifi_type'/><label for='" + currCode +"'>" + currName + "</label></li>"; 
                jQuery(strLiElement).appendTo("#wi_fi_type_id"); 
            } 
            jQuery('#wi_fi_type_id input:radio').live('click',function (e) { 
                var selectedCheck = jQuery(this); 
                if(selectedCheck.val() == thisOneMap.CODE_WIFI_PREMIER){ 
                    jQuery("#storefooter").hide(); 
                    jQuery("#wifibasicfooter").hide(); 
                    jQuery("#wifipremierfooter").show(); 
                    jQuery("#wifiinternationalfooter").hide(); 
                    jQuery(".wifiMapDesc h5").html(thisOneMap.labels.wifi_premiere_hotspot);  
                    thisOneMap.setWifiFilters(selectedCheck.val(), "wifi_premier_tags"); 
                }else if(selectedCheck.val() == thisOneMap.CODE_WIFI_INTERNATIONAL){ 
                    jQuery("#storefooter").hide(); 
                    jQuery("#wifibasicfooter").hide(); 
                    jQuery("#wifipremierfooter").hide(); 
                    jQuery("#wifiinternationalfooter").show(); 
                    jQuery(".wifiMapDesc h5").html(thisOneMap.labels.wifi_internatl_hotspot ); 
                    thisOneMap.setWifiFilters(selectedCheck.val(), "wifi_international_tags"); 
                }else if(selectedCheck.val() == thisOneMap.CODE_WIFI_BASIC){ 
                    jQuery("#storefooter").hide(); 
                    jQuery("#wifibasicfooter").show(); 
                    jQuery("#wifipremierfooter").hide(); 
                    jQuery("#wifiinternationalfooter").hide(); 
                    jQuery(".wifiMapDesc h5").html(thisOneMap.labels.wifi_hotspot ); 
                    thisOneMap.setWifiFilters(selectedCheck.val(), "wifi_basic_tags"); 
                } 
                if(thisOneMap.currentSelectedTab == "storeLocation"){ 
                    jQuery("#storefooter").show(); 
                    jQuery("#wifibasicfooter").hide(); 
                    jQuery("#wifipremierfooter").hide(); 
                    jQuery("#wifiinternationalfooter").hide(); 
                } 
            }); 
            var currWifiType = '1000'; 
            thisOneMap.strWifiPreviousRBselected = currWifiType; 
            jQuery('#' + currWifiType).attr('checked', 'checked'); 
            jQuery('#' + currWifiType).click(); 
            jQuery('#wi_fi_type_id input:radio').uniform(); 
        } 
        this.setWifiFilters = function setWifiFilters(strSelectedCode, strTagType){ 
            if(strSelectedCode == thisOneMap.strWifiRadioSelection){ 
                //return; 
            } 
            if(strSelectedCode == thisOneMap.CODE_WIFI_PREMIER){ 
                jQuery("#strPipe").hide(); 
                jQuery("#viewDomesticLocation").hide(); 
            }else{ 
                jQuery("#strPipe").show(); 
                jQuery("#viewDomesticLocation").show(); 
            } 
            thisOneMap.bRadioButtonOrTabClicked = true; 
            thisOneMap.saveMapDetails(thisOneMap.strWifiPreviousRBselected); 
            thisOneMap.strWifiRadioSelection = strSelectedCode; 
            jQuery("#wi_fi_location_id").empty(); 
            var objCurrentWifiTags = thisOneMap.objInitialJsonData[strTagType]; 
            var wifiTagLength = objCurrentWifiTags.length; 
            thisOneMap.objCheckBoxCount[strSelectedCode] = wifiTagLength; 
            var strAll = ATT.OneMap.labels.all; 
            var strLiElement = "<li><input id='wi_fi_location0' type='checkbox' name='wi_fi_location' value='999999' class='listFilterGroup' /><label for='wi_fi_location0'>" + strAll + "</label></li>"; 
            jQuery(strLiElement).appendTo("form #wi_fi_location_id"); 
            var strLiElement = ""; 
            for(var i=0; i < wifiTagLength; i++){ 
                strLiElement = "<li><input id='wi_fi_location" + (i+1)+ "' type='checkbox' value='" + objCurrentWifiTags[i].code + "' name='wi_fi_location' class='listFilterGroup'/><label for='wi_fi_location" + (i+1)+"'>" + objCurrentWifiTags[i].value + "</label></li>"; 
                jQuery(strLiElement).appendTo("#wi_fi_location_id"); 
            } 
          //selects all checkboxes on click on "ALL" checkbox and deselect "ALL" checkbox on select on any other checkbox 
            jQuery('#wifiForm input:checkbox').bind('change', function () { 
                    var thisCheck = jQuery(this); 
                    var valueSelected = thisCheck.val(); 
                    if (jQuery(this).is(':checked')){ 
                        if(valueSelected == 999999){ 
                            var all = jQuery('#wifiForm input:checkbox:not("#wi_fi_location0")').attr('checked', false); 
                            jQuery.uniform.update(all); 
                        }else{ 
                            var firstCheckbox = jQuery('#wi_fi_location0').attr('checked', false); 
                            jQuery.uniform.update(firstCheckbox); 
                        } 
                    }else{ 
                        if(valueSelected == 999999){ 
                            var firstCheckbox = jQuery('#wi_fi_location0'); 
                            jQuery.uniform.update(firstCheckbox); 
                        }else if(valueSelected != 999999){ 
                            var allUnselected = jQuery('#wifiForm input:checkbox:not(:checked)'); 
                            jQuery.uniform.update(allUnselected); 
                            var totalCheckBox = thisOneMap.objCheckBoxCount[jQuery('#wi_fi_type_id input:radio:checked').val()]; 
                            if(allUnselected.length == (totalCheckBox+1)){ 
                                var firstCheckbox = jQuery('#wi_fi_location0').attr('checked', 'checked'); 
                                jQuery.uniform.update(firstCheckbox); 
                            } 
                        } 
                    } 
                    thisOneMap.checkSelectedWifiFilter(); 
            }); 
            var arrSearchString = thisOneMap.objWifiFilterSelection[thisOneMap.strWifiRadioSelection]; 
            if(arrSearchString !=  undefined && arrSearchString.length > 0){ 
                jQuery.each(arrSearchString, function(i, item) { 
                    var currCB = jQuery("#wifiForm input:checkbox").filter(function() { 
                        return this.value == item; 
                    }).attr("checked", "true"); 
                    jQuery.uniform.update(currCB); 
                }); 
            }else{ 
                var firstCheckbox = jQuery('#wi_fi_location0').attr('checked', 'checked'); 
                jQuery.uniform.update(firstCheckbox); 
            } 
            //jQuery('select, input, radio, check').uniform(); 
            jQuery('#wifiForm input:checkbox').uniform(); 
            thisOneMap.strWifiPreviousRBselected = strSelectedCode; 
            thisOneMap.onWifiTypeRBselect(strSelectedCode); 
        } 
        this.checkSelectedWifiFilter = function checkSelectedWifiFilter(){ 
            thisOneMap.wifiFilterString = ""; 
            var length = jQuery("#wifiForm input:checkbox:checked").length; 
            thisOneMap.objWifiFilterSelection[thisOneMap.strWifiRadioSelection] = new Array(); 
            if(jQuery("#wi_fi_location_id li").size()  == length){ 
                //alert("ALL SELECTED"); 
            } 
            //var nWifiCount = 0; 
            jQuery("#wifiForm input:checkbox:checked").each(function(index) { 
                var selectedCheck = jQuery(this); 
                if(selectedCheck.val() != 999999){ 
                    if (index == (length - 1)) { 
                        thisOneMap.wifiFilterString += selectedCheck.val(); 
                    }else{ 
                        thisOneMap.wifiFilterString += (selectedCheck.val() + ","); 
                    } 
                    //nWifiCount++; 
                    thisOneMap.objWifiFilterSelection[thisOneMap.strWifiRadioSelection].push(selectedCheck.val()); 
                } 
                //if(nWifiCount >= thisOneMap.objCheckBoxCount[jQuery('#wi_fi_type_id input:radio:checked').val()]){ 
                    //thisOneMap.wifiFilterString = ""; 
                //} 
            }); 
            if(thisOneMap.strLastValidSearch != "" || !thisOneMap.bShowStaticMapForWifi || thisOneMap.strWifiRadioSelection == thisOneMap.CODE_WIFI_PREMIER){ 
                thisOneMap.bRadioButtonOrTabClicked = true; 
                thisOneMap.onViewChangeEnd(null); 
            } 
        } 
        this.resetWifiFilterTypes = function resetWifiFilterTypes(){ 
            var currWifiType = thisOneMap.params['subSelection']; 
            if(currWifiType){ 
                //jQuery('#wi_fi_type_id input:radio:checked') 
                var wifiRadioButton = jQuery('#' + currWifiType).attr('checked', 'checked'); 
                //jQuery('#' + currWifiType).click(); 
                jQuery.uniform.update(jQuery('#wi_fi_type_id input:radio')); 
                if(thisOneMap.wifiFilterString != ""){ 
                    thisOneMap.objWifiFilterSelection[currWifiType] = thisOneMap.wifiFilterString.split(","); 
                    var arrSearchString = thisOneMap.objWifiFilterSelection[currWifiType]; 
                    if(arrSearchString !=  undefined && arrSearchString.length > 0){ 
                        jQuery.each(arrSearchString, function(i, item) { 
                            var currCB = jQuery("#wifiForm input:checkbox").filter(function() { 
                                return this.value == item; 
                            }).attr("checked", "true"); 
                            jQuery.uniform.update(currCB); 
                        }); 
                        var firstCheckbox = jQuery('#wi_fi_location0').attr('checked', false); 
                        jQuery.uniform.update(firstCheckbox); 
                    } 
                } 
                //jQuery('#' + currWifiType).click(); 
            } 
        } 
        this.doubleClickStaticMap = function doubleClickStaticMap(e, currObject){ 
            thisOneMap.resetZoomLevel(); 
            var offset = jQuery(currObject).offset(); 
            var dLat = e.pageX - offset.left; 
            var dLong = e.pageY - offset.top; 
            var arrCurrStoreImageMapAreas = new Array(); 
            arrCurrStoreImageMapAreas = thisOneMap.objLocalData[thisOneMap.getCurrentSelectedCode()].imageMapArea; 
            var nLength = arrCurrStoreImageMapAreas.length; 
            for(var i = 0; i < nLength; i++){ 
                var currCoords = arrCurrStoreImageMapAreas[i].area_coords; 
                var currBbox = arrCurrStoreImageMapAreas[i].bbox; 
                if((dLat > currCoords[0] && dLat < currCoords[2]) && (dLong > currCoords[1] && dLong < currCoords[3])){ 
                    var px_width = currCoords[2] - currCoords[0]; 
                    var px_height = currCoords[3] - currCoords[1]; 
                    var lat_diff = currBbox[2] - currBbox[0]; 
                    var lon_diff = currBbox[3] - currBbox[1]; 
                    var rel_x = dLat - currCoords[0]; 
                    var rel_y = dLong - currCoords[1]; 
                    var center_lat = currBbox[2] - (rel_y * lat_diff)/px_height; 
                    var center_lon = (rel_x * lon_diff)/px_width + currBbox[1]; 
                    if(thisOneMap.currentSelectedTab == "storeLocation"){ 
                        thisOneMap.bStoreDataByStaticMapClick = true; 
                    }else if(thisOneMap.currentSelectedTab == "wi-fi"){ 
                        thisOneMap.bWifiDataByStaticMapClick = true; 
                    } 
                    thisOneMap.getMap(); 
                    thisOneMap.map.setView({ zoom: zoom_default, center: new Microsoft.Maps.Location(center_lat, center_lon) }); 
                    thisOneMap.hideStaticMaps(); 
                    thisOneMap.setViewChangeEvent(); 
                    thisOneMap.iZoomAndCenterInterval = setInterval('ATT.OneMap.saveMapZoomAndCenter()',1000); 
                    //thisOneMap.onViewChangeEnd(null); 
                    return; 
                } 
            } 
        } 
        //**********Phase II functionality ******************* 
        this.onWifiTypeRBselect = function onWifiTypeRBselect(currValue){ 
            thisOneMap.bTabSwitched = false; 
            if(thisOneMap.bShowStaticMapForWifi && thisOneMap.strWifiRadioSelection != thisOneMap.CODE_WIFI_PREMIER){ 
                if(thisOneMap.bAppInitCalled){ 
                    thisOneMap.showStaticMap(ATT.OneMap.bShowStaticMapForStore, ATT.OneMap.bShowStaticMapForWifi, ATT.OneMap.bShowStaticMapForCoverage); 
                } 
            } else{ 
                thisOneMap.getMap(); 
                if(thisOneMap.objLocalData[currValue].south != "" && thisOneMap.objLocalData[currValue].south != undefined){ 
                    thisOneMap.hideStaticMaps(); 
                    var currRBobject = thisOneMap.objLocalData[currValue]; 
                    thisOneMap.map.setView({zoom: currRBobject.zoom, bounds: Microsoft.Maps.LocationRect.fromLocations(new Microsoft.Maps.Location(currRBobject.south, currRBobject.west), new Microsoft.Maps.Location(currRBobject.north, currRBobject.east))}); 
                    thisOneMap.map.setView({zoom: currRBobject.zoom}); 
                    var bounds = thisOneMap.map.getBounds(); 
                    var north = bounds.getNorth(); 
                    var south = bounds.getSouth(); 
                    if(currRBobject.south == south && currRBobject.north == north){ 
                        thisOneMap.onViewChangeEnd(null); 
                    } 
                        thisOneMap.iChangeEventInterval = setInterval('ATT.OneMap.setViewChangeEvent()',500); 
                    thisOneMap.setLegends(); 
                }else{ 
                    thisOneMap.resetOtherViewPortData = false; 
                    if(thisOneMap.strWifiRadioSelection == thisOneMap.CODE_WIFI_PREMIER && thisOneMap.strLastValidSearch == ""){ 
                        thisOneMap.hideStaticMaps(); 
                        thisOneMap.findLocation("Europe"); 
                    }else{ 
                        thisOneMap.searchLocation(); 
                    } 
                } 
            } 
        } 
        this.setCoverageData = function setCoverageData(){ 
            thisOneMap.arrCoverageDomesticData = new Array(); 
            var temp1 = new Object(); 
            temp1.code = 2001; 
            temp1.value = "Voice"; 
            thisOneMap.arrCoverageDomesticData.push(temp1); 
            var temp2 = new Object(); 
            temp2.code = 2002; 
            temp2.value = "Data"; 
            thisOneMap.arrCoverageDomesticData.push(temp2); 
            var temp3 = new Object(); 
            temp3.code = 2003; 
            temp3.value = "GoPhone Pay As You Go"; 
            thisOneMap.arrCoverageDomesticData.push(temp3); 
            var temp4 = new Object(); 
            temp4.code = 2004; 
            temp4.value = "GoPhone Pick Your Plan"; 
            thisOneMap.arrCoverageDomesticData.push(temp4); 
            var temp5 = new Object(); 
            temp5.code = 2005; 
            temp5.value = "Smart Limits"; 
            thisOneMap.arrCoverageDomesticData.push(temp5); 
            var temp6 = new Object(); 
            temp6.code = 2006; 
            temp6.value = "Family Map"; 
            thisOneMap.arrCoverageDomesticData.push(temp6); 
            thisOneMap.arrCoverageIntlData = new Array(); 
            var temp11 = new Object(); 
            temp11.code = 2007; 
            temp11.value = "Voice"; 
            thisOneMap.arrCoverageIntlData.push(temp11); 
            var temp12 = new Object(); 
            temp12.code = 2008; 
            temp12.value = "Data"; 
            thisOneMap.arrCoverageIntlData.push(temp12); 
            var temp13 = new Object(); 
            temp13.code = 2009; 
            temp13.value = "Discounted Data"; 
            thisOneMap.arrCoverageIntlData.push(temp13); 
            thisOneMap.setLocalData(thisOneMap.arrCoverageDomesticData); 
            thisOneMap.setLocalData(thisOneMap.arrCoverageIntlData); 
        } 
        this.setLocalData = function setLocalData(arrData){ 
            var nLength = arrData.length; 
            for(var j = 0; j < nLength; j++){ 
                var currCode = arrData[j].code; 
                thisOneMap.objLocalData[currCode] = new Object(); 
                thisOneMap.objLocalData[currCode].name = arrData[j].value; 
            } 
        } 
        this.resetLocalData = function resetLocalData(){ 
            var objDataSet; 
            var strException; 
            if(thisOneMap.currentSelectedTab == "wi-fi"){ 
                objDataSet = thisOneMap.objInitialJsonData.wifi_channels; 
            }else if(thisOneMap.currentSelectedTab == "coverage"){ 
                objDataSet = thisOneMap.arrCoverageDomesticData.concat(thisOneMap.arrCoverageIntlData); 
            } 
            var nLength = objDataSet.length; 
            for(var j = 0; j < nLength; j++){ 
                var currCode = objDataSet[j].code; 
                thisOneMap.objLocalData[currCode].south = ""; 
                thisOneMap.objLocalData[currCode].north = ""; 
                thisOneMap.objLocalData[currCode].west = ""; 
                thisOneMap.objLocalData[currCode].east = ""; 
                thisOneMap.objLocalData[currCode].zoom = ""; 
            } 
        } 
        this.setCoverageDomesticRB = function setCoverageDomesticRB(){ 
            var nLength = thisOneMap.arrCoverageDomesticData.length; 
            for(var j = 0; j < nLength; j++){ 
                var currCode = thisOneMap.arrCoverageDomesticData[j].code; 
                var currName = thisOneMap.arrCoverageDomesticData[j].value; 
                var strLiElement = "<li><input id='" + currCode + "' type='radio' value='" + currCode + "' name = 'coverageRB'/><label for='" + currCode +"'>" + currName + "</label></li>"; 
                jQuery(strLiElement).appendTo("#coverage_domestic_type_id"); 
            } 
            var nIntlLength = thisOneMap.arrCoverageIntlData.length; 
            for(var k = 0; k < nIntlLength; k++){ 
                var currCode = thisOneMap.arrCoverageIntlData[k].code; 
                var currName = thisOneMap.arrCoverageIntlData[k].value; 
                var strLiElement = "<li><input id='" + currCode + "' type='radio' value='" + currCode + "' name = 'coverageRB'/><label for='" + currCode +"'>" + currName + "</label></li>"; 
                jQuery(strLiElement).appendTo("#coverage_intl_type_id"); 
            } 
            jQuery('#coverage_domestic_type_id input:radio').live('click',function (e) { 
                //alert(jQuery(this).attr('id')); 
                var selectedCheck = jQuery(this); 
                thisOneMap.onCoverageDomesticRBclicked(selectedCheck.val()); 
            }); 
            thisOneMap.strCoverageRBselected = "2001"; 
            jQuery('#2001').attr('checked', 'checked'); 
            //jQuery('#2001').click(); 
            jQuery('#coverage_domestic_type_id input:radio').uniform(); 
            jQuery('#coverage_intl_type_id input:radio').uniform(); 
        } 
        this.onCoverageDomesticRBclicked = function onCoverageDomesticRBclicked(currValue){ 
            thisOneMap.saveMapDetails(thisOneMap.strCoverageRBselected); 
            thisOneMap.strCoverageRBselected = currValue; 
            thisOneMap.setLegends(); 
            if(thisOneMap.bShowStaticMapForCoverage){ 
                thisOneMap.showStaticMap(ATT.OneMap.bShowStaticMapForStore, ATT.OneMap.bShowStaticMapForWifi, ATT.OneMap.bShowStaticMapForCoverage); 
            }else{ 
                thisOneMap.getMap(); 
                if(thisOneMap.objLocalData[currValue].south != "" && thisOneMap.objLocalData[currValue].south != undefined){ 
                    var currRBobject = thisOneMap.objLocalData[currValue]; 
                    thisOneMap.map.setView({zoom: currRBobject.zoom, bounds: Microsoft.Maps.LocationRect.fromLocations(new Microsoft.Maps.Location(currRBobject.south, currRBobject.west), new Microsoft.Maps.Location(currRBobject.north, currRBobject.east))}); 
                    thisOneMap.map.setView({zoom: currRBobject.zoom}); 
                    var bounds = thisOneMap.map.getBounds(); 
                    var north = bounds.getNorth(); 
                    var south = bounds.getSouth(); 
                    if(currRBobject.south == south && currRBobject.north == north){ 
                        thisOneMap.onViewChangeEnd(null); 
                    } 
                }else{ 
                    //thisOneMap.resetOtherViewPortData = false; 
                    //thisOneMap.searchLocation(); 
                    //new Search 
                    thisOneMap.findLocation(jQuery("#searchTxt").val()); 
                } 
            } 
        } 
        this.saveMapDetails = function saveMapDetails(currValue){ 
            if(thisOneMap.map == undefined || (thisOneMap.currentSelectedTab == "storeLocation" && thisOneMap.bShowStaticMapForStore) || (thisOneMap.currentSelectedTab == "wi-fi" && thisOneMap.bShowStaticMapForWifi && thisOneMap.strWifiRadioSelection != thisOneMap.CODE_WIFI_PREMIER) || (thisOneMap.currentSelectedTab == "coverage" && thisOneMap.bShowStaticMapForCoverage)){ 
                return; 
            } 
            var bounds = thisOneMap.map.getBounds(); 
            thisOneMap.objLocalData[currValue].north = bounds.getNorth(); 
            thisOneMap.objLocalData[currValue].south = bounds.getSouth(); 
            thisOneMap.objLocalData[currValue].east = bounds.getEast(); 
            thisOneMap.objLocalData[currValue].west = bounds.getWest(); 
            thisOneMap.objLocalData[currValue].zoom = thisOneMap.map.getZoom(); 
            if(thisOneMap.searchOrigin != undefined){ 
                thisOneMap.objLocalData[currValue].starLat = thisOneMap.searchOrigin.lat; 
                thisOneMap.objLocalData[currValue].starLong = thisOneMap.searchOrigin.lon; 
            } 
        } 
        this.saveMapZoomAndCenter = function saveMapZoomAndCenter(){ 
            var currCode = thisOneMap.getCurrentSelectedCode(); 
            thisOneMap.objLocalData[currCode].zoom = thisOneMap.map.getZoom(); 
            thisOneMap.objLocalData[currCode].currMapCenter = thisOneMap.map.getCenter(); 
            clearInterval(thisOneMap.iZoomAndCenterInterval); 
        } 
        this.setAllDataToTrue = function setAllDataToTrue(){ 
            if(thisOneMap.bAlldataToUpdate){ 
            	thisOneMap.bAlldataToUpdate = false; 
	        	thisOneMap.resetOtherViewPortData = true; 
	        	thisOneMap.bStoreDataToUpdate = true; 
	        	thisOneMap.bWifiDataToUpdate = true; 
	        	thisOneMap.bCoverageDataToUpdate = true; 
            } 
        } 
    } 
    Microsoft.Maps.Map.prototype.pan = function (x, y) { 
        var pos = this.tryPixelToLocation(new Microsoft.Maps.Point(x, y), Microsoft.Maps.PixelReference.control); 
        this.setView({ center: pos }); 
    }; 
    jQuery(window).load(function() { 
        ATT.OneMap.loadTheme(); 
        jQuery.blockUI.defaults.overlayCSS.opacity = .2; 
        jQuery.blockUI.defaults.overlayCSS.cursor = 'default';; 
        jQuery.blockUI.defaults.css.cursor = 'default';  
        jQuery('select, input, radio, check').uniform(); 
        jQuery('#searchResultList').jScrollPane(); 
        jQuery('#searchResultList').jScrollPane({verticalDragMaxHeight : 30}); 
        tempVar = jQuery(".wiFiCheckBList").html(); 
        //jQuery(".wiFiCheckBList").jScrollPane(); 
        scrollFlag = false; 
        jQuery("#content-left a.slideLeft").click(function() { 
            jQuery('#content-left').animate({ 
              left: '-295px' 
            }, 500, function() { 
              jQuery("#content-left a.slideLeft").hide();  
              jQuery("#content-left a.slideRight").show(); 
            }); 
            jQuery('.bingMapError').animate({ 
              width: '950px' 
            }, 500, function() { 
            }); 
            return false; 
        }); 
        jQuery("#content-left a.slideRight").click(function() { 
            jQuery('#content-left').animate({ 
              left: '0' 
            }, 500, function() { 
              jQuery("#content-left a.slideRight").hide();  
              jQuery("#content-left a.slideLeft").show(); 
            }); 
            jQuery('.bingMapError').animate({ 
              width: '635px' 
            }, 500, function() { 
            }); 
            return false; 
         }); 
        jQuery('.ui-corner-all').live('click',function (e){ 
           if(jQuery(this).html()==ATT.OneMap.labels.lbl_clearhistory){ 
               jQuery.get('/maps/store-locator.recentSearchList.xhr.html?searchOption=CRS_SW&ms='+(new Date()).getTime(), function(data) { 
                        //clears history 
                    }); 
                    } 
           }); 
        jQuery("#rtnsrchlocation").click(function(){ 
            if(ATT.OneMap.strLastValidSearch != ""){ 
                if(ATT.OneMap.currentSelectedTab == "storeLocation"){ 
                    ATT.OneMap.bReturnToSearch_store = true; 
                }else if(ATT.OneMap.currentSelectedTab == "wi-fi"){ 
                    ATT.OneMap.bReturnToSearch_wifi = true; 
                }else if(ATT.OneMap.currentSelectedTab == "coverage"){ 
                    ATT.OneMap.bSearchOnCoverageInitiated = true; 
                } 
                ATT.OneMap.searchLocation(true); 
           } 
       }); 
        jQuery("#viewDomesticLocation").click(function(){ 
            if(ATT.OneMap.currentSelectedTab == "storeLocation"){ 
                ATT.OneMap.showStaticMap(true, ATT.OneMap.bShowStaticMapForWifi, ATT.OneMap.bShowStaticMapForCoverage); 
            }else if(ATT.OneMap.currentSelectedTab == "wi-fi"){ 
                ATT.OneMap.showStaticMap(ATT.OneMap.bShowStaticMapForStore, true, ATT.OneMap.bShowStaticMapForCoverage); 
            }else if(ATT.OneMap.currentSelectedTab == "coverage"){ 
                ATT.OneMap.showStaticMap(ATT.OneMap.bShowStaticMapForStore, ATT.OneMap.bShowStaticMapForWifi, true); 
            } 
        }); 
        jQuery("#searchBtn").click(function(){ 
            ATT.OneMap.bAlldataToUpdate = true; 
            ATT.OneMap.searchLocation(); 
        }); 
       jQuery('#searchTxt').keypress(function(e) 
        { 
            code= (e.keyCode ? e.keyCode : e.which); 
            if (code == 13){ 
            	ATT.OneMap.bAlldataToUpdate = true; 
                ATT.OneMap.searchLocation(); 
                return false; 
            } 
        }); 
       jQuery(".oneMapTabG a").click(function(arg){ 
            ATT.OneMap.bRadioButtonOrTabClicked = true; 
            jQuery(".oneMapTabG .active").removeClass("active"); 
            jQuery(".coverageB, .storeB, .wifiB").hide(); 
            jQuery('#page_navigation').html("").hide(); 
            jQuery(".pagingBox .searchResultCountT").html(""); 
            jQuery(this).addClass("active"); 
            jQuery("." + jQuery(this).attr("rel")).show(); 
            if(runCheckScrollPane && (jQuery(this).attr('rel')=="wifiB")) 
            { 
                jQuery(".wiFiCheckBList").jScrollPane(); 
                jQuery(".wiFiCheckBList").css('visibility','visible'); 
                runCheckScrollPane = false; 
            } 
           if(arg.currentTarget.rel == "storeB"){ 
                ATT.OneMap.currentSelectedTab = "storeLocation"; 
                jQuery(".storeMapDesc").show(); 
                jQuery(".wifiMapDesc").hide(); 
                //footer 
                jQuery("#storefooter").show(); 
                jQuery("#wifibasicfooter").hide(); 
                jQuery("#wifipremierfooter").hide(); 
                jQuery("#wifiinternationalfooter").hide(); 
                jQuery("#strPipe").show(); 
                jQuery("#viewDomesticLocation").show(); 
                //jQuery("#copyRight").hide(); 
            }else if(arg.currentTarget.rel == "wifiB"){ 
                ATT.OneMap.currentSelectedTab = "wi-fi"; 
                //footer 
               jQuery("#storefooter").hide(); 
                jQuery("#wifibasicfooter").show(); 
                jQuery("#wifipremierfooter").hide(); 
                jQuery("#wifiinternationalfooter").hide(); 
                jQuery(".storeMapDesc").hide(); 
                //jQuery("#copyRight").show(); 
                jQuery(".wifiMapDesc").show(); 
                if(ATT.OneMap.strWifiRadioSelection == ATT.OneMap.CODE_WIFI_PREMIER){ 
                    jQuery("#strPipe").hide(); 
                    jQuery("#viewDomesticLocation").hide(); 
                }else{ 
                    jQuery("#strPipe").show(); 
                    jQuery("#viewDomesticLocation").show(); 
                } 
                if(scrollFlag) 
                { 
                    tempVar = jQuery(".wiFiCheckBList").html(); 
                    scrollFlag = false; 
                } 
                jQuery(".searchMapSliderS").show(); 
                //jQuery(".wiFiCheckBList").remove(); 
                //jQuery("#wifiForm").append('<div class="wiFiCheckBList">' + tempVar + '</div>'); 
                //jQuery(".wiFiCheckBList").jScrollPane(); 
                //jQuery("input").uniform(); 
            } 
            else if(arg.currentTarget.rel == "coverageB"){ 
                ATT.OneMap.currentSelectedTab = "coverage"; 
                jQuery(".storeMapDesc").hide(); 
                jQuery(".wifiMapDesc").hide(); 
                jQuery(".zoomViewDesc").hide(); 
            } 
            if(ATT.OneMap.currentSelectedTab == "storeLocation"){ 
                if(ATT.OneMap.bShowStaticMapForStore){ 
                	ATT.OneMap.bTabSwitched = true; 
                    ATT.OneMap.showStaticMap(ATT.OneMap.bShowStaticMapForStore, ATT.OneMap.bShowStaticMapForWifi, ATT.OneMap.bShowStaticMapForCoverage); 
                } else{ 
                    if(!ATT.OneMap.bStoreDataToUpdate){ 
                    	if(!jQuery.browser.msie){ 
                        	ATT.modalSpinner.show(); 
                    	} 
                        ATT.OneMap.getMap(); 
                        ATT.OneMap.setDefaultInfobox(); 
                        ATT.OneMap.hideStaticMaps(); 
                        ATT.OneMap.bTabSwitched = true; 
                        ATT.OneMap.setViewChangeEvent(); 
                        ATT.OneMap.setStoreData(ATT.OneMap.arrStoreData); 
                        ATT.OneMap.setLegends(); 
                    }else{ 
                        ATT.OneMap.getMap(); 
                        ATT.OneMap.searchLocation(); 
                    } 
                } 
            }else if(ATT.OneMap.currentSelectedTab == "wi-fi"){ 
                if(ATT.OneMap.bShowStaticMapForWifi && ATT.OneMap.strWifiRadioSelection != ATT.OneMap.CODE_WIFI_PREMIER){ 
                	ATT.OneMap.bTabSwitched = true; 
                    ATT.OneMap.showStaticMap(ATT.OneMap.bShowStaticMapForStore, ATT.OneMap.bShowStaticMapForWifi, ATT.OneMap.bShowStaticMapForCoverage); 
                } else{ 
                    if(!ATT.OneMap.bWifiDataToUpdate){ 
                    	if(!jQuery.browser.msie){ 
                        	ATT.modalSpinner.show(); 
                    	} 
                        ATT.OneMap.getMap(); 
                        ATT.OneMap.setDefaultInfobox(); 
                        ATT.OneMap.hideStaticMaps(); 
                        ATT.OneMap.bTabSwitched = true; 
                        ATT.OneMap.setViewChangeEvent(); 
                        if(ATT.OneMap.arrWifiData != undefined){ 
                        	ATT.OneMap.setStoreData(ATT.OneMap.arrWifiData); 
                        } 
                        ATT.OneMap.setLegends(); 
                    }else{ 
                        ATT.OneMap.getMap(); 
                        if(ATT.OneMap.strWifiRadioSelection == ATT.OneMap.CODE_WIFI_PREMIER){ 
                        	ATT.OneMap.hideStaticMaps(); 
                        } 
                        if(jQuery('#searchTxt').val() != "" && jQuery('#searchTxt').val() && jQuery('#searchTxt').val() != ATT.OneMap.labels.searchText){ 
                        	ATT.OneMap.searchLocation(); 
                    	} 
                    } 
                } 
            }else if(ATT.OneMap.currentSelectedTab == "coverage"){ 
                if(ATT.OneMap.bShowStaticMapForCoverage){ 
                	ATT.OneMap.bTabSwitched = true; 
                    ATT.OneMap.showStaticMap(ATT.OneMap.bShowStaticMapForStore, ATT.OneMap.bShowStaticMapForWifi, ATT.OneMap.bShowStaticMapForCoverage); 
                } else{ 
                    if(!ATT.OneMap.bCoverageDataToUpdate){ 
                    	if(!jQuery.browser.msie){ 
                        	//ATT.modalSpinner.show(); 
                    	} 
                        ATT.OneMap.getMap(); 
                        ATT.OneMap.setDefaultInfobox(); 
                        ATT.OneMap.hideStaticMaps(); 
                        ATT.OneMap.bTabSwitched = true; 
                        ATT.OneMap.setViewChangeEvent(); 
                        ATT.OneMap.setLegends(); 
                        //ATT.OneMap.setStoreData(ATT.OneMap.arrWifiData); 
                        //ATT.OneMap.setWifiLegends(ATT.OneMap.arrWifiData); 
                    }else{ 
                        ATT.OneMap.getMap(); 
                        ATT.OneMap.searchLocation(); 
                    }  
                } 
            } 
           return false; 
        }); 
        jQuery("#legendmorelink").live('click',function (e){ 
           jQuery("#legend-learn-more").css("display", "block"); 
           jQuery("#legend-learn-more .inlineModalHeader").addClass("modalHeader"); 
           jQuery("#legend-learn-more .inlineModalContent").addClass("modalContent"); 
           jQuery.colorbox({inline:true, href:'#legend-learn-more', innerWidth:'505px', innerHeight:'270px'}); 
           jQuery(document).bind('cbox_cleanup', function(){jQuery("#legend-learn-more").css("display", "none")}); 
        }); 
        jQuery("a.print").mousedown(function(){ 
            var locationSearch = ATT.OneMap.strLastValidSearch; 
            var stringURL = ""; 
            var bStaticMapVisible = false; 
            var bDataThroughStaticMap = false; 
            if(ATT.OneMap.currentSelectedTab == "storeLocation"){ 
                if(ATT.OneMap.bShowStaticMapForStore){ 
                    bStaticMapVisible = true; 
                }else{ 
                    bStaticMapVisible = false; 
                }  
                if(ATT.OneMap.bStoreDataByStaticMapClick){ 
                    bDataThroughStaticMap = true; 
                } 
            }else if(ATT.OneMap.currentSelectedTab == "wi-fi"){ 
                if(ATT.OneMap.bShowStaticMapForWifi && ATT.OneMap.strWifiRadioSelection != ATT.OneMap.CODE_WIFI_PREMIER){ 
                    bStaticMapVisible = true; 
                }else{ 
                    bStaticMapVisible = false; 
                }  
                if(ATT.OneMap.bWifiDataByStaticMapClick || ATT.OneMap.strWifiRadioSelection == ATT.OneMap.CODE_WIFI_PREMIER){ 
                    bDataThroughStaticMap = true; 
                } 
            }else if(ATT.OneMap.currentSelectedTab == "coverage"){ 
                if(ATT.OneMap.bShowStaticMapForCoverage){ 
                    bStaticMapVisible = true; 
                }else{ 
                    bStaticMapVisible = false; 
                }  
                if(ATT.OneMap.bWifiDataByStaticMapClick){ 
                    bDataThroughStaticMap = true; 
                } 
            } 
            if((locationSearch != "" && !bStaticMapVisible) || bDataThroughStaticMap){ 
                if(ATT.OneMap.currentSelectedTab == "storeLocation"){ 
                    stringURL += "selectedTab=storeLocation"; 
                    if(ATT.OneMap.advanceSearchString != ""){ 
                        stringURL += "&searchFilter=" + ATT.OneMap.advanceSearchString; 
                    } 
                    stringURL += "&subSelection="+ATT.OneMap.TEMP_CODE_STORE; 
                }else if(ATT.OneMap.currentSelectedTab == "wi-fi"){ 
                    stringURL += "selectedTab=wi-fi"; 
                    if(ATT.OneMap.wifiFilterString != ""){ 
                        stringURL += "&searchFilter=" + ATT.OneMap.wifiFilterString; 
                    } 
                    stringURL += "&channels="+ATT.OneMap.getChannels(); 
                    stringURL += "&subSelection="+jQuery('#wi_fi_type_id input:radio:checked').val(); 
                } 
                stringURL += "&locationSearch=" + locationSearch; 
               // var latlon = ATT.OneMap.map.getCenter(); 
                var bounds = ATT.OneMap.map.getBounds(); 
                var n = bounds.getNorth(), 
                s = bounds.getSouth(), 
                e = bounds.getEast(), 
                w = bounds.getWest(); 
                stringURL += "&SW=" + (s+ "," +w); 
                stringURL += "&NE=" + (n+ "," +e); 
                if(ATT.OneMap.searchOrigin != undefined){ 
                    stringURL += "&starLat=" + ATT.OneMap.searchOrigin.lat; 
                    stringURL += "&starLon=" + ATT.OneMap.searchOrigin.lon; 
                } 
                stringURL += "&zoom="+ATT.OneMap.map.getZoom(); 
                stringURL += "&pageNum="+pageNum; 
            }else{ 
                //ATT.OneMap.blockElement(true, jQuery('#content-right'), ATT.OneMap.labels.error, ATT.OneMap.labels.direct_m010); 
                if(ATT.OneMap.currentSelectedTab == "storeLocation"){ 
                    stringURL += "selectedTab=storeLocation"; 
                    stringURL += "&subSelection="+ATT.OneMap.TEMP_CODE_STORE; 
                }else if(ATT.OneMap.currentSelectedTab == "wi-fi"){ 
                    stringURL += "selectedTab=wi-fi"; 
                    stringURL += "&subSelection="+jQuery('#wi_fi_type_id input:radio:checked').val(); 
                } 
                stringURL += "&staticMap=true"; 
            } 
            var targetURL = ATT.OneMap.paths["printURL"]; 
            stringURL = encodeURI(stringURL ); 
            window.location = targetURL+stringURL; 
           //var queryString = "sw=" +n+ "," +w+ "&ne=" + s + "," + e+"&origin=" + latlon.latitude + "," + latlon.longitude; 
       }); 
        jQuery('#store_mainImg, #wifi_mainImg').click(function(e) { 
            ATT.OneMap.doubleClickStaticMap(e, this); 
        }); 
    }); 
    ATT.OneMap.labels.lbl_learnmore='Learn more'; 
    ATT.OneMap.labels.lbl_prev='Prev'; 
    ATT.OneMap.labels.lbl_next='Next'; 
    ATT.OneMap.labels.lbl_clearhistory = 'Clear recent searches'; 
    ATT.OneMap.labels.lbl_sendto = ''; 
    ATT.OneMap.labels.lbl_textmsg = 'Text'; 
    ATT.OneMap.labels.lbl_email = 'Email'; 
    ATT.OneMap.labels.lbl_directions = 'Get Directions'; 
    ATT.OneMap.labels.lbl_appointment_check = 'true'; 
    if( ATT.OneMap.labels.lbl_appointment_check == true || ATT.OneMap.labels.lbl_appointment_check == "true"){ 
        ATT.OneMap.labels.lbl_appointment = 'Make appointment'; 
        ATT.OneMap.labels.lbl_appointment_url = 'https://www.att.com/storeappointment/Location.aspx?appid=STORE&amp;StoreID='; 
    }else{ 
        ATT.OneMap.labels.lbl_appointment = ''; 
         ATT.OneMap.labels.lbl_appointment_url = '#'; 
    } 
    ATT.OneMap.labels.lbl_storedetails = 'Store Details'; 
    ATT.OneMap.labels.lbl_hotspotdetails = 'Hotspot details'; 
    ATT.OneMap.labels.lbl_networkid = 'Network ID (SSID):'; 
    ATT.OneMap.labels.lbl_adwifi = ''; 
    ATT.OneMap.labels.lbl_interact = ''; 
    ATT.OneMap.currentSelectedTab = 'storeLocation'; 
    ATT.OneMap.currentLocale = 'en_US'; 
    if(ATT.OneMap.currentLocale=="es_US"){ 
         ATT.OneMap.emailModalUrl = '/maps/es/modals/emailmodal/jcr:content/mainpar/emailmodal.xhr.html'; 
         ATT.OneMap.smsModalUrl = '/maps/es/modals/smsmodal/jcr:content/mainpar/smsmodal.xhr.html'; 
         ATT.OneMap.directionUrlSend='/maps/es/directions.html?location-id='; 
         ATT.OneMap.directionUrlSendStore='/maps/es/directions.store.html?location-id='; 
         ATT.OneMap.directionUrlSendWiFi='/maps/es/directions.wifi.html?location-id='; 
         ATT.OneMap.directionUrl='/maps/es/directions.html?location-id='; 
         ATT.OneMap.directionUrlStore='/maps/es/directions.store.html?location-id='; 
         ATT.OneMap.directionUrlWiFi='/maps/es/directions.wifi.html?location-id='; 
    }else{ 
         ATT.OneMap.emailModalUrl = '/maps/modals/emailmodal/jcr:content/mainpar/emailmodal.xhr.html'; 
         ATT.OneMap.smsModalUrl = '/maps/modals/smsmodal/jcr:content/mainpar/smsmodal.xhr.html'; 
         ATT.OneMap.directionUrlSend='/maps/directions.html?location-id='; 
         ATT.OneMap.directionUrlSendStore='/maps/directions.store.html?location-id='; 
         ATT.OneMap.directionUrlSendWiFi='/maps/directions.wifi.html?location-id='; 
         ATT.OneMap.directionUrl='/maps/directions.html?location-id='; 
         ATT.OneMap.directionUrlStore='/maps/directions.store.html?location-id='; 
         ATT.OneMap.directionUrlWiFi='/maps/directions.wifi.html?location-id='; 
    } 
    ATT.OneMap.labels.direct_m010 = 'This page did not print. Please try again after the directions, steps, and route have displayed.'; 
    ATT.OneMap.labels.direct_m020 = 'There are no matches for this address. Please enter a different location and try again.'; 
    ATT.OneMap.labels.direct_m030 = 'We\'re sorry, but we are unable to retrieve driving directions to this store. Please try again later, or select a different location.'; 
    ATT.OneMap.labels.direct_m040 = 'Based on your search, there are no locations near your search. Please enter another location and try again.'; 
    ATT.OneMap.labels.direct_F250 = 'We found some close matches to the address you entered. Please select one from this list or try your search again.'; 
    ATT.OneMap.labels.error = 'Error'; 
    ATT.OneMap.labels.close = 'Close'; 
    ATT.OneMap.paths.printDirections = '/maps/print/printdirections.html?'; 
    ATT.OneMap.paths.restapi.place = 'http://wacdtd02ky7418:7001/apis/maps/v2/locator/place/'; 
    //Store Locator Error 
    ATT.OneMap.errors.errorCode_MAP_100 = "AT&T stores are located in the U.S., Puerto Rico and U.S. Virgin Islands. Please select a location in any of these areas and try your search again."; 
    ATT.OneMap.errors.errorCode_MAP_102 = "Based on your search, there are no stores within 250 miles of your location. Please select a different location on the map or enter another address in the search field."; 
    //Common Error 
    ATT.OneMap.errors.errorCode_MAP_200 = "Your location information is missing. You can search by entering an address, ZIP Code, city/state, intersection or landmark. Please enter a location in the search field and try again."; 
    ATT.OneMap.errors.errorCode_MAP_201 = "Based on your search, no locations were found. Please change your search and try again."; 
    ATT.OneMap.errors.errorCode_MAP_202 = "We're sorry, but we are unable to process your request right now. Please try again later."; 
    //Wi-Fi Locator Error 
    ATT.OneMap.errors.errorCode_MAP_300 = "Based on your search, there are no AT&T Wi-Fi Hot Spots within 250 miles of your location. Please change your search and try again."; 
    ATT.OneMap.errors.errorCode_MAP_301 = "Based on your search, there are no AT&T Wi-Fi Premier locations within 250 miles of your location. Please change your search and try again."; 
    ATT.OneMap.errors.errorCode_MAP_302 = "Based on your search, there are no AT&T Wi-Fi International hotspots within 250 miles of your location. Please change your search and try again."; 
    //Email and SMS Error 
    ATT.OneMap.errors.errorCode_MAP_500 = "At least one email address is required. Please enter a valid email address and try again."; 
    ATT.OneMap.errors.errorCode_MAP_501 = "Your email address was not entered in the correct format (Ex: johndoe@att.net). Please try again."; 
    ATT.OneMap.errors.errorCode_MAP_502 = "Your email address is too long. Please provide an email address that is 64 characters in length or less."; 
    ATT.OneMap.errors.errorCode_MAP_503 = "At least one mobile number is required. Please enter a valid 10-digit mobile number and try again."; 
    ATT.OneMap.errors.errorCode_MAP_504 = "The mobile number you entered is invalid or incomplete. Please enter a valid 10-digit mobile number and try again."; 
    ATT.OneMap.errors.errorCode_MAP_507 = "The characters you entered don't match the image. Please try again."; 
    ATT.OneMap.errors.errorCode_MAP_508 = "Your authentication efforts were unsuccessful. Please restart your browser and try again."; 
    //Map Error 
    ATT.OneMap.errors.errorCode_MAP_600 = "AT&T stores are located in the U.S., Puerto Rico and U.S. Virgin Islands. Please select a location in any of these areas and try your search again. "; 
    ATT.OneMap.errors.errorCode_MAP_601 = "Based on your search, there are no locations within 250 miles of your search. Please select a different location on the map or enter another location in the search field."; 
    ATT.OneMap.errors.errorCode_MAP_603 = "At least one mobile number is required. Please enter a valid 10-digit mobile number and try again."; 
    ATT.OneMap.errors.errorCode_MAP_604 = "The mobile number you entered is invalid or incomplete. Please enter a valid 10-digit mobile number and try again."; 
    ATT.OneMap.labels.yr_search = 'Your search'; 
    ATT.OneMap.labels.att_store = 'AT&T stores'; 
    ATT.OneMap.labels.att_auth_retail = 'AT&T authorized retailers'; 
    ATT.OneMap.labels.other_stores = 'Other stores'; 
    ATT.OneMap.labels.a_att_store = 'A AT&T store'; 
    ATT.OneMap.labels.b_att_auth_retail = 'B AT&T authorized retailer'; 
    ATT.OneMap.labels.c_other_stores = 'C Other Store'; 
    ATT.OneMap.labels.domestic_map = 'View domestic locations'; 
    ATT.OneMap.labels.wifi_hotspot = 'AT&T Wi-Fi Hot Spot locations'; 
    ATT.OneMap.labels.wifi_premiere_hotspot = 'AT&T Wi-Fi Premier hotspot locations'; 
    ATT.OneMap.labels.wifi_internatl_hotspot = 'AT&T Wi-Fi International hotspot locations'; 
    ATT.OneMap.labels.all = 'All'; 
    ATT.OneMap.labels.store_avail = 'AT&T Store Availability'; 
    ATT.OneMap.labels.dont_show = 'Do not show this again'; 
    ATT.OneMap.labels.att_wifi_premier_loc = 'All AT&T Wi-Fi Premier locations'; 
    ATT.OneMap.labels.att_wifi_basic_loc = 'AT&T Wi-Fi Basic locations'; 
    // Wifi Tooltip 
    ATT.OneMap.labels.wifi_experience='Your Wi-Fi experience at this location will include advertising messages'; 
    ATT.OneMap.labels.network_ssid='The network ID is the name of the wireless network (SSID) you select to activate a Wi-Fi connection. Ex.: attwifi.'; 
    ATT.OneMap.labels.searchText='Search by address, ZIP Code, country, or landmark'; 
    jQuery.when(reporting_ready).then(function (reporting) { 
        reporting.capture([ 
            {selector: '#directionsBtnRpt', type: 'wtevent', name: 'Map_ViewDirections_Submit', params: 'wtStoreService,wtStoreType,wtStoreChannel,wtMapOptions,wtStoreDistance,wtZipCode'}, 
            {selector: '#directionsBtnRpt', type: 'wtparam', name: 'wtStoreService', value: function() { return jQuery('#store-details').data('services'); }}, 
            {selector: '#directionsBtnRpt', type: 'wtparam', name: 'wtStoreType', value: function() { return jQuery('#store-details').data('type');; }}, 
            {selector: '#directionsBtnRpt', type: 'wtparam', name: 'wtStoreChannel', value: function() { return jQuery('#store-details').data('channel');; }}, 
            {selector: '#directionsBtnRpt', type: 'wtparam', name: 'wtMapOptions', value: function() {  
                var wtMapOptions = '|'; 
                if (jQuery('#hwy').is(':checked')) wtMapOptions += "Avoid Highways|"; 
                if (jQuery('#toll').is(':checked')) wtMapOptions += "Avoid Tolls|"; 
                if (jQuery('#rb_miles').is(':checked')) wtMapOptions += "Miles|"; 
                if (jQuery('#rb_km').is(':checked')) wtMapOptions += "Km|"; 
                return wtMapOptions.substr(1,wtMapOptions.length-1); 
            }}, 
            {selector: '#directionsBtnRpt', type: 'wtparam', name: 'wtStoreDistance', value: function() { return jQuery('#directions-output1_SummaryContainer > div').html(); }}, 
            {selector: '#directionsBtnRpt', type: 'wtparam', name: 'wtZipCode', value: function() { return jQuery('#store-details').data('zipcode'); }} 
        ]); 
    }); 
jQuery(window).load(function(){ 
    jQuery.get('modals/advsearchmodal.html', function(data) { 
        //alert 
    }); 
    jQuery(".autoSuggestS .arrowSuggest").click(function(){ 
    if(jQuery(".autoSuggestS  ul").css('display')=='none') 
    jQuery(".autoSuggestS  ul").show(); 
    else 
    jQuery(".autoSuggestS  ul").hide(); 
    return false; 
    }); 
    var slideFlag= 1; 
    jQuery(".searchMap .searchMapSliderS").click(function(){ 
    if(slideFlag == 1) 
    { 
    jQuery('.searchMap .searchMapSliderS').animate({ 
        left: 87 
      }, 500, function() { 
        jQuery(this).addClass("active"); 
      }); 
    jQuery(".zoomViewDesc").hide(); 
    jQuery('.bingMapError, #content-right').animate({ 
        width: '839px' 
      }, 500, function() { 
        // Animation complete. 
      }); 
      jQuery('.oneMapTabBox').animate({ 
        width: 0 
      }, 500, function() { 
        // Animation complete. 
      });  
      slideFlag  = 2;  
      } 
      else 
      { 
      slideFlag = 1; 
      jQuery('.searchMap .searchMapSliderS').animate({ 
        left: 348 
      }, 500, function() { 
        jQuery(this).removeClass("active"); 
      }); 
    jQuery('.bingMapError, #content-right').animate({ 
        width: '579px' 
      }, 500, function() { 
        // Animation complete. 
      }); 
      jQuery('.oneMapTabBox').animate({ 
        width: '260px' 
      }, 500, function() { 
        // Animation complete. 
      });   
      } 
    return false; 
    }); 
    }) 
    function closeTip(thisBox) 
    { 
        jQuery(thisBox).parents('.tip-white').hide(); 
    } 
    function getOwnerCode(channelType) 
     { 
        if(channelType == 1){ 
            return "Company"; 
        }else{ 
            return "Other"; 
        } 
     } 
/****5.2.3  Store Details Link Clicks  
           wtEvent 
           wtSuccessFlag 
           wtStatusCode 
           wtCQClickId 
           wtStoreId 
           wtStoreOwnerCode 
***************/ 
         function wtOneMapStoreDetailsClick(e){ 
                  varStoreOwnerCode  = e.getAttribute("storeOwnerCode"); 
                  varStoreId = e.getAttribute("storeId"); 
                 var cqClickId='/content/att/map/maplocator/jcr:content/maplocator'; 
                  wtargs = [ 'DCSext.wtEvent',"Map_StoreDetails_Click", 'DCSext.wtSuccessFlag', 1, 
                        'DCSext.wtStatusCode', "0", 'DCSext.wtCQClickId',cqClickId,'DCSext.wtMapResultCt',getSearchResultCount(), 
                        'DCSext.wtStoreId',varStoreId ,'DCSext.wtStoreOwnerCode',getOwnerCode(varStoreOwnerCode),'DCSext.wtZipCode',ATT.globalVars.zip() ]; 
                window.dcsMultiTrack.apply(this, wtargs); 
        }    
  /****5.2.2  Store Send to Link Clicks   
           wtEvent 
           wtSuccessFlag 
           wtStatusCode 
           wtCQClickId 
           wtStoreId 
           wtStoreOwnerCode 
           wtStoreContactMethod 
***************/ 
    var selectedStoreOwnerCode=""; 
    var selectedStoreId=""; 
           function oneMapStoreSendLinkClick(e) { 
            varStoreContactMethod  = e.getAttribute("selector"); 
            varStoreOwnerCode  = e.getAttribute("storeOwnerCode"); 
            varStoreId = e.getAttribute("storeId");     
                   cqClickId='/content/att/map/jcr:content/maplocator'; 
                  wtargs = [ 'DCSext.wtEvent',"Map_StoreContact_Click", 'DCSext.wtSuccessFlag', 1, 
                        'DCSext.wtStatusCode', "0", 'DCSext.wtCQClickId',cqClickId,'DCSext.wtMapResultCt',getSearchResultCount(), 
                        'DCSext.wtStoreId',varStoreId ,'DCSext.wtStoreOwnerCode',getOwnerCode(varStoreOwnerCode), 
                        'DCSext.wtStoreContactMethod',varStoreContactMethod ,'DCSext.wtZipCode',ATT.globalVars.zip()]; 
                  selectedStoreOwnerCode=getOwnerCode(varStoreOwnerCode); 
                  selectedStoreId=varStoreId; 
                window.dcsMultiTrack.apply(this, wtargs); 
    } 
/****5.2.2.1    Store Interact Link Clicks  
           wtEvent 
           wtSuccessFlag 
           wtStatusCode 
           wtCQClickId 
           wtStoreId 
           wtStoreOwnerCode 
           wtStoreInteractMethod 
***************/ 
          jQuery(".oneMapStoreInteractClick").live('click',function (e) { 
                varStoreInteractMethod  = e.target.getAttribute("selector"); 
                 varStoreOwnerCode  = e.target.getAttribute("storeOwnerCode"); 
                  varStoreId = e.target.getAttribute("storeId");     
                   cqClickId='/content/att/map/jcr:content/maplocator'; 
                  wtargs = [ 'DCSext.wtEvent',"Map_StoreInteract_Click", 'DCSext.wtSuccessFlag', 1, 
                        'DCSext.wtStatusCode', "0", 'DCSext.wtCQClickId',cqClickId,'DCSext.wtMapResultCt',getSearchResultCount(), 
                        'DCSext.wtStoreId',varStoreId ,'DCSext.wtStoreOwnerCode',getOwnerCode(varStoreOwnerCode)  , 
                        'DCSext.wtStoreInteractMethod',varStoreInteractMethod,'DCSext.wtZipCode',ATT.globalVars.zip()];  
                window.dcsMultiTrack.apply(this, wtargs); 
                if(varStoreInteractMethod == "Directions"){ 
                    var directionUrl = ""; 
                    var subSection = "&subSelection="; 
                    if(ATT.OneMap.currentSelectedTab == "storeLocation"){ 
                        directionUrl = ATT.OneMap.directionUrlStore; 
                        subSection += ATT.OneMap.TEMP_CODE_STORE; 
                    }else if(ATT.OneMap.currentSelectedTab == "wi-fi"){ 
                        directionUrl = ATT.OneMap.directionUrlWiFi; 
                        subSection += jQuery('#wi_fi_type_id input:radio:checked').val(); 
                    } 
                    directionUrl += varStoreId+"&from-address="+ATT.OneMap.strLastValidSearch+ "&selectedTab="+ATT.OneMap.currentSelectedTab + ATT.OneMap.getMapDetails() + subSection; 
                    window.location = encodeURI(directionUrl ); 
                } 
        }); 
          jQuery(".wtOneMapSelector").click(function (e) { 
              var wtSelectorVar = e.target.getAttribute("selector"); 
              var resultcountstring=""; 
             /* if(wtSelectorVar.indexOf("search")>0){ 
                  if(getSearchResultCount() =="0"){ 
                        resultcountstring =""; 
                  } 
                  else{ 
                      resultcountstring = getSearchResultCount(); 
                  } 
              }else{ 
                  resultcountstring =""; 
              }*/ 
              var cqClickId = e.target.getAttribute("data-cqpath"); 
             var r = (ATT.util.getCookie("colam_ctn") || ""), 
                 j = jQuery.parseJSON('{"' + r.replace(/%3B/gi, '","').replace(/%3D/gi, '":"').replace(/%40/gi, '@') + '":""}'), 
                 a=/^[0-9]*$/; 
             ctn=""; 
             slid=""; 
             if (j.uid !== undefined ) { 
                 var logintype = a.test(j.uid) ? "CTN" : "SLID"; 
                 if (logintype === "CTN") { 
                     ctn=j.uid; 
                 }else { 
                     slid=j.uid; 
                 } 
             } 
             var cartId = ""; 
             if (ATT.globalVars.cartContents && ATT.globalVars.cartContents.cartId) { 
                          cartId = ATT.globalVars.cartContents.cartId; 
                 }  
             wtargs = [ 'DCSext.wtEvent',"Map_MapSelector_Click", 'DCSext.wtSuccessFlag', 1, 
                        'DCSext.wtStatusCode', "0", 'DCSext.wtCQClickId', cqClickId, 
                        'DCSext.wtBAN', ATT.globalVars.ban,'DCSext.wtCartID',cartId,'DCSext.wtMapResultCt',resultcountstring, 
                        'DCSext.wtCartType','eCommerce','DCSext.wtCartState', ATT.globalVars.wtCartState, 
                        'DCSext.wtCTN', ctn, 'DCSext.wtSLID',slid, 'DCSext.wtBuyFlowCode',ATT.globalVars.flowcode, 
                        'DCSext.wtMapSelector',wtSelectorVar,'DCSext.wtZipCode',ATT.globalVars.zip()]; 
             window.dcsMultiTrack.apply(this, wtargs); 
     });    
/****5.1.1  Social Media ? Event Parameters   
           wtEvent 
           wtSuccessFlag 
           wtStatusCode 
           wtCQClickId 
           wtSLID 
           wtBAN/wtCTN/wtBTN  
           wtCartID 
           wtCartType 
           wtCartState 
           wtBuyFlowCode 
           wtShareMethod 
***************/ 
        function oneMapShareServiceClick(wtShare) { 
        var cqClickId= '/apps/att/common/components/map/jcr:content/socialmedia' ; 
                var r = (ATT.util.getCookie("colam_ctn") || ""), 
                    j = jQuery.parseJSON('{"' + r.replace(/%3B/gi, '","').replace(/%3D/gi, '":"').replace(/%40/gi, '@') + '":""}'), 
                    a=/^[0-9]*$/; 
                ctn=""; 
                slid=""; 
                if (j.uid !== undefined ) { 
                    var logintype = a.test(j.uid) ? "CTN" : "SLID"; 
                    if (logintype === "CTN") { 
                        ctn=j.uid; 
                    }else { 
                        slid=j.uid; 
                    } 
                } 
                var cartId = ""; 
                if (ATT.globalVars.cartContents && ATT.globalVars.cartContents.cartId) { 
                             cartId = ATT.globalVars.cartContents.cartId; 
                    }  
                 wtargs = [ 'DCSext.wtEvent',"Map_Social_Media_Click", 'DCSext.wtSuccessFlag', 1, 
                        'DCSext.wtStatusCode', "0", 'DCSext.wtCQClickId',cqClickId,'DCSext.wtMapResultCt',getSearchResultCount(), 
                        'DCSext.wtBAN', ATT.globalVars.ban,'DCSext.wtCartID',cartId, 
                        'DCSext.wtCartType','eCommerce','DCSext.wtCartState', ATT.globalVars.wtCartState, 
                        'DCSext.wtCTN', ctn, 'DCSext.wtSLID',slid,'DCSext.wtBuyFlowCode',ATT.globalVars.flowcode, 
                        'DCSext.wtShareMethod',wtShare,'DCSext.wtZipCode',ATT.globalVars.zip()]; 
                window.dcsMultiTrack.apply(this, wtargs); 
        } 
        jQuery('document').ready(function(){ 
                ATT.modalSpinner.show(); 
                jQuery("map").unbind('click'); 
                jQuery("map").bind('click',function (e) { 
                 var wtShare = e.target.getAttribute("title"); 
                oneMapShareServiceClick(wtShare ); 
                e.stopPropagation(); 
        }); 
        }); 
        function getSearchResultCount(){ 
               var resultCount=jQuery(".pagingBox .searchResultCountT strong").html(); 
                  if (resultCount== null) { 
                      resultCount="0"; 
                  } 
         return resultCount; 
        }   
         jQuery('.storeLocation').click(function(e){ 
             cqClickId = e.target.getAttribute("data-cqpath"); 
             cqClickId = cqClickId + '~storelocation'; 
             wtargs = ['DCSext.wtCQClickId',cqClickId,'DCSext.wtZipCode',ATT.globalVars.zip()]; 
             window.dcsMultiTrack.apply(this, wtargs); 
        }); 
         jQuery('.wi-fi').click(function(e){ 
            cqClickId = e.target.getAttribute("data-cqpath"); 
             cqClickId = cqClickId + '~wi-fi'; 
             wtargs = ['DCSext.wtCQClickId',cqClickId,'DCSext.wtZipCode',ATT.globalVars.zip()]; 
             window.dcsMultiTrack.apply(this, wtargs); 
        }); 
        function sendWtSearchResultCount(varCount){ 
            wtargs = ['DCSext.wtMapResultCt',varCount,'DCSext.wtZipCode',ATT.globalVars.zip(), "DCSext.wtCustType", "consumer", 'DCSext.wtBuyFlowCode', ATT.globalVars.flowcode]; 
            window.dcsMultiTrack.apply(this, wtargs); 
        } 
        function sendWtWifiPageParameters(varCount){ 
            var wififilterString = ""; 
            var length = jQuery("#wifiForm input:checkbox:checked").length; 
            jQuery("#wifiForm input:checkbox:checked").each(function(index) { 
                var selectedCheck = jQuery(this); 
                if(selectedCheck.val() != 999999){ 
                    if (index == (length - 1)) { 
                        wififilterString += jQuery("label[for=" + this.id+ "]").text(); 
                    }else{ 
                        wififilterString += (jQuery("label[for=" + this.id+ "]").text() + "|"); 
                    } 
                } 
            }); 
             var strValue = ATT.OneMap.strWifiRadioSelection; 
             var mapType=''; 
             if(strValue == ATT.OneMap.CODE_WIFI_PREMIER){ 
                 mapType = "AT&T Wi-Fi Premier"; 
                 }else if(strValue == ATT.OneMap.CODE_WIFI_BASIC){ 
                     mapType =   "AT&T Wi-Fi Basic "; 
                 }else if(strValue == ATT.OneMap.CODE_WIFI_INTERNATIONAL){ 
                     mapType = "AT&T Wi-Fi International"; 
                 } 
             wtargs = ['DCSext.wtMapResultCt',varCount,'DCSext.wtZipCode',ATT.globalVars.zip(), "DCSext.wtCustType", "consumer", 'DCSext.wtBuyFlowCode', ATT.globalVars.flowcode, 'DCSext.wtMapType', mapType, 'DCSext.wtMapFilterOptions', wififilterString]; 
            window.dcsMultiTrack.apply(this, wtargs); 
         } 
        /****5.5.1  Send Email/SMS Overlay:: On click of "send" buttons  
           wtEvent 
           wtSuccessFlag 
           wtStatusCode 
           wtCQClickId 
           wtStoreId 
           wtStoreOwnerCode 
           wtMapRouteType 
           wtUserResp 
***************/ 
var errorMessageTrend, wtStatusCodeVal; 
function webTrendTrack(eId,clickStatus) 
{ 
                     if(clickStatus) 
    { 
                    wtStatusCodeVal = 1; 
                    errorMessageTrend='SUCCESS'; 
            } 
                    else 
                    { 
                    wtStatusCodeVal = "0"; 
                    errorMessageTrend=jQuery(".errorMsg.box error label").html(); 
                    } 
                  reportData=""; 
                   selectorType = jQuery("#"+ eId +" a").attr("selector"); 
                    if(selectorType == "email"){ 
                        jQuery(".emailGroup").each(function(){ 
                            if(jQuery(this).val()!=""){ 
                                if(reportData==""){ 
                                    reportData=jQuery(this).val(); 
                                }else{ 
                                    reportData=reportData+"|"+jQuery(this).val(); 
                                } 
                            } 
                        }); 
                    }else{ 
                        jQuery(".mobileGroup").each(function(){ 
                            if(jQuery(this).val()!=""){ 
                                if(reportData==""){ 
                                    reportData=jQuery(this).val(); 
                                }else{ 
                                    reportData=reportData+"|"+jQuery(this).val(); 
                                } 
                            } 
                        }); 
                    } 
                  cqClickId = jQuery("#"+ eId +" a").attr("data-cqpath"); 
                  wtargs = [ 'DCSext.wtEvent',"Map_SendDirections_Submit", 'DCSext.wtSuccessFlag', wtStatusCodeVal, 
                        'DCSext.wtStatusMsg',errorMessageTrend,'DCSext.wtCQClickId',cqClickId, 
                        'DCSext.wtStoreId',selectedStoreId, 'DCSext.wtStoreOwnerCode',selectedStoreOwnerCode,'DCSext.wtUserResp',reportData, 
                         'DCSext.wtZipCode',ATT.globalVars.zip()]; 
                window.dcsMultiTrack.apply(this, wtargs); 
        } 
        var thisB, oldPositionLeft, LeftPosChange, arrowPosLeft, topPosChange; 
        jQuery(".MapPushpinBase").die('click'); 
        jQuery(".MapPushpinBase").live('click',function(){ 
            thisB = this; 
            LeftPosChange = false; 
            topPosChange = false; 
            jQuery(".InfoboxExtension").css('visibility', 'hidden'); 
            jQuery(".InfoboxExtension").removeClass('done'); 
            setTimeout("calculateTip_Position()",100); 
        }); 
        function calculateTip_Position(){ 
            var mapLeftOffset = 300, 
                            mapTopOffset = 305, 
                            newLeftOffsetD = 20, 
                            newTopOffsetD = 60, 
                            newBtmOffsetD = 7; 
            jQuery(".dummyC").remove();  
            oldPositionLeft = jQuery(".InfoboxExtension").css('left'); 
            if(oldPositionLeft == undefined) 
            return false; 
            oldPositionLeft = eval(oldPositionLeft.replace("px","")); 
            var position = jQuery(thisB).position(); 
            fromLeft = Math.round(Math.abs(position.left + mapLeftOffset)); 
            fromTop = Math.round(Math.abs(position.top + mapTopOffset)); 
            fromRight = Math.round(Math.abs(position.left - mapLeftOffset)); 
            fromBtm = Math.round(Math.abs(position.top - mapTopOffset)); 
            var tooltipPosition =jQuery(".InfoboxExtension").position(); 
            tooltipWidthMid= jQuery(".mapcontrol .tip-white").width() / 2; 
            tooltipHeightMid = (jQuery(".mapcontrol .tip-white").height()); 
            if(tooltipWidthMid > fromRight && tooltipWidthMid < fromLeft) 
            { 
            LeftPosChange = true; 
            newPositionFromLeft = (Math.round(Math.abs(tooltipPosition.left))) - (tooltipWidthMid - fromRight) - newLeftOffsetD; 
            jQuery(".InfoboxExtension").addClass('done'); 
            jQuery('body').append('<div class="dummyC"><style>.done{left:' + newPositionFromLeft + 'px !important;}</style></div>'); 
            } 
            if(tooltipWidthMid < fromRight && tooltipWidthMid > fromLeft) 
            { 
            LeftPosChange = true; 
            newPositionFromLeft = (Math.round(Math.abs(tooltipPosition.left))) + (tooltipWidthMid - fromLeft); 
            jQuery(".InfoboxExtension").addClass('done'); 
            jQuery('body').append('<div class="dummyC"><style>.done{left:' + newPositionFromLeft + 'px !important;}</style></div>'); 
            } 
            if(tooltipHeightMid > fromTop && tooltipHeightMid < fromBtm) 
            { 
            topPosChange = true; 
            jQuery(".InfoboxExtension").addClass('done'); 
            jQuery('body').append('<div class="dummyC"><style>.done{top:' + ((fromTop) + newTopOffsetD) + 'px !important;}</style></div>'); 
            } 
            if(tooltipHeightMid < fromTop && tooltipHeightMid > fromBtm) 
            { 
            jQuery(".InfoboxExtension").addClass('done'); 
            jQuery('body').append('<div class="dummyC"><style>.done{top:auto !important; bottom:' + ((fromBtm) - newBtmOffsetD) + 'px !important;}</style></div>'); 
            } 
            if(LeftPosChange) 
            { 
                            arrowPosLeft = jQuery(".mapcontrol .tip-white .tip-arrow").css('margin-left'); 
                            arrowPosLeft = eval(arrowPosLeft.replace("px","")); 
                            arrowPosLeft = arrowPosLeft + (oldPositionLeft - newPositionFromLeft); 
                            jQuery(".mapcontrol .tip-white .tip-arrow").css('margin-left', arrowPosLeft + 'px'); 
            } 
            if(topPosChange) 
            { 
                            jQuery(".mapcontrol .tip-white .tip-arrow").addClass("tip-arrow-top").removeClass("tip-arrow-bottom"); 
                            jQuery(".mapcontrol .tip-white .tip-arrow").css('margin-top', '-40px'); 
            } 
            else 
            { 
                            jQuery(".mapcontrol .tip-white .tip-arrow").removeClass("tip-arrow-top").addClass("tip-arrow-bottom"); 
                            jQuery(".mapcontrol .tip-white .tip-arrow").css('margin-top', '-6px'); 
            } 
            jQuery(".InfoboxExtension").css('visibility', 'visible'); 
        } 
        jQuery(document).ready(function(){ 
            runCheckScrollPaneInt = setInterval('runjScrollPane()',1000); 
           jQuery('.storeOwnerCode a').live({ 
                mouseenter: function() {        
                    jQuery(".storeOwnerCodeTip", jQuery(this).parents(".storeAddressPL")).show(); 
                    }, 
                mouseleave: function() { 
                    jQuery(".storeOwnerCodeTip", jQuery(this).parents(".storeAddressPL")).hide(); 
                } 
            }); 
           var listMapping = 4, oldList=0;  
           jQuery('.MicrosoftMap.BingTheme a').live({  
               click: function() {  
               oldList = listMapping;        
                 if((jQuery('div', this).html()) != null)  
                 {  
                jQuery('div', this).html() == "A" ? listMapping = 0 : -1;  
                jQuery('div', this).html() == "B" ? listMapping = 1 : -1;  
                jQuery('div', this).html() == "C" ? listMapping = 2 : -1;  
                jQuery('div', this).html() == "D" ? listMapping = 3 : -1;  
                jQuery('div', this).html() == "E" ? listMapping = 4 : -1;  
                jQuery('div', this).html() == "F" ? listMapping = 5 : -1;  
                jQuery('div', this).html() == "G" ? listMapping = 6 : -1;  
                jQuery('div', this).html() == "H" ? listMapping = 7 : -1;  
                jQuery('div', this).html() == "I" ? listMapping = 8 : -1;  
                jQuery('div', this).html() == "J" ? listMapping = 9 : -1;  
                jQuery(".SearchResultItem:eq(" + oldList + ")").css('background','#ffffff');  
                jQuery("#searchResultItem_0.toptwoStore, #searchResultItem_1.toptwoStore").css('background','#FEFCE1');  
                jQuery(".SearchResultItem:eq(" + listMapping + ")").css('background','#DFEEF5');  
                var pane = jQuery('.WiFiListPane.searchResultList');  
                var api = pane.data('jsp');  
                api.scrollTo(0,(listMapping * 165));  
                pane = jQuery('.storeListPane.searchResultList');  
                api = pane.data('jsp');  
                api.scrollTo(0,(listMapping * 165));  
                }  
                   }  
           });  
            jQuery('.networkId span').live({ 
                mouseenter: function() {        
                    jQuery(".networkIdTip", jQuery(this).parents(".storeAddressPL")).show(); 
                    jQuery(".networkIdTip", jQuery(this).parents(".mapTip")).show(); 
                }, 
                mouseleave: function() { 
                    jQuery(".networkIdTip", jQuery(this).parents(".storeAddressPL")).hide(); 
                    jQuery(".networkIdTip", jQuery(this).parents(".mapTip")).hide(); 
                } 
            }); 
        }); 
            function runjScrollPane() 
            { 
            checkListDataCount++; 
            if(checkListDataCount > 5)  
            clearInterval(runCheckScrollPaneInt); 
            if((jQuery(".wiFiCheckBList").height()) > 0) 
            { 
            jQuery(".wiFiCheckBList").jScrollPane(); 
             jQuery(".wiFiCheckBList").css('visibility','visible'); 
             clearInterval(runCheckScrollPaneInt ); 
             runCheckScrollPane = false; 
             } 
            } 
    </script> 
	<!-- Webtrend global --> 
<script> 
//<![CDATA[ 
	ATT.globalVars.wtCartState =  'E';  
ATT.globalVars.statuscode = ""; 
ATT.globalVars.custType = ""; 
ATT.globalVars.ban = ""; 
ATT.globalVars.flowIndicator = ""; 
ATT.globalVars.buyflow = "NEW"; 
ATT.globalVars.ckavailUserZip = ""; 
ATT.globalVars.zip = function (){ 
	var wtzip; 
	if (ATT.globalVars.cartContents && ATT.globalVars.cartContents.userZip){ 
		wtzip = ATT.globalVars.cartContents.userZip; 
	} else if (ATT.util.attPLCookie()) { 
		wtzip = (document.cookie.match(/attPersistantLocalization.*zip=(\d{5})/)||[])[1]; 
	} else if (ATT.globalVars.ckavailUserZip)	{ 
	   wtzip = ATT.globalVars.ckavailUserZip; 
	} 
	else { 
		wtzip =""; 
	} 
	return wtzip; 
}; 
ATT.globalVars.buyflowCheck = function () { 
	var flowType, listYes = /\/addaline\.html|\/login\.html|\/upgradephone\.html/, 
		sessionExpiredPage = /\/ordersummary\.html/.test(location.href); 
	if( (listYes.test(location.href) && !/checkout/.test(location.href)) || ""){ 
		flowType =""; 
	}else if (ATT.globalVars.cartContents && ATT.globalVars.cartContents.flowIndicator && !sessionExpiredPage){ 
		flowType = ATT.globalVars.cartContents.flowIndicator; 
	}else if (ATT.globalVars.cartContents && ATT.globalVars.cartContents.buyFlowType && !sessionExpiredPage){ 
		flowType = ATT.globalVars.cartContents.buyFlowType; 
	} else { 
		flowType ="NEW"; 
	} 
	return flowType; 
 }; 
ATT.globalVars.wtFull = function(){ 
	var urival = location.pathname.split('/'), href = location.href, wtsku, $ = jQuery,   
    	regnolist = /\/login\.html|\/bundles\.html|\/wireless\.html|\/internet\.html|\/availability\.html|\/cellphone|\/tablets|\/mobilebroadband|\/packageslist|\/individualplans|\/familyplans|\/prepaidplans|\/dataplans|\/serviceslist|\/cartsummary|\/accessorieslist|\/checkout\//, 
       teaserid = function () { 
                var $r = jQuery("div[data-teaserid]"), teaser =[], 
                	i = $r.length, href = location.href,temp, 
                	prodid, urlpart1, urlpart2, fullurl, fullpath; 
                while(i--){ 
                    teaser[i] = $($r[i]).data('teaserid');// jQuery($r[i]).data('cqpath'); 
                } 
                ATT.log("teaser length:" + teaser.length); 
             teaser = teaser.join('|'); 
             ATT.log(teaser); 
             return (teaser || ''); 
        }; 
        $('<meta/>', {name: 'DCSext.wtCQDynId', content: teaserid()}).appendTo('head'); 
        ATT.log('regex block'); 
        if(~href.indexOf('/accessorieslist') && ~href.indexOf('.prod')){ 
        	temp = location.pathname.split('/').slice(-1).join('').split('.'); 
        	prodid = temp[1]; 
        	urlpart1 = temp[0]; 
        	fullurl = urlpart1+'.html'; 
        	fullpath = location.pathname.split('/').slice(0,-1).join('/')+'/' + fullurl; 
        	$('<meta/>', {name: 'DCS.dcsuri', content:fullpath}).appendTo('head'); 
        	$('<meta/>', {name: 'DCS.wtFullUri', content:location.href}).appendTo('head'); 
        	$('<meta/>', {name: 'DCS.wtProdId', content:prodid}).appendTo('head'); 
        } 
        if ($('meta[name*=detailPage]').length){ 
        	if($('meta[name*=detailPage]').attr('content') === 'package' || $('meta[name*=detailPage]').attr('content') === 'service'){ 
        		$('<meta/>', {name: 'DCS.dcsuri', content:urival.slice(0,-1).join('/')}).appendTo('head'); 
        	}else{ 
            	$('<meta/>', {name: 'DCS.dcsuri', content:urival.slice(0,-2).join('/')}).appendTo('head'); 
        	} 
            $('<meta/>', {name: 'DCSext.wtFullUri', content:location.pathname}).appendTo('head'); 
            $('<meta/>', {name: 'DCSext.wtSku', content:jQuery("div[data-sku]").data('sku')? jQuery("div[data-sku]").data('sku') : ""}).appendTo('head'); 
        } 
}; 
var reporting_ready = window.reporting_ready || new jQuery.Deferred(); 
jQuery.when(reporting_ready).then(function (reporting) { 
	// reporting.appname = 'shop'; 
	if ('') { 
		reporting.errors.push(''); 
	} else if(''){ 
		reporting.errors.push('');	 
	}else{ 
		reporting.errors.push(''); 
	} 
	reporting.capture([ 
	    {selector:'head', type:'wtmeta', name:'wtCustType', value:"Consumer"},               
	    {selector:'head', type:'wtmeta', name:'wtBuyFlowCode', value: function () { 
	    	var flowCodeck = ATT.globalVars.buyflowCheck() ? ATT.globalVars.buyflowCheck() :  
	    				     window.localStorage ?  window.localStorage.getItem('buyflowCode') : ''; 
	    	ATT.globalVars.flowcode = ["HR", flowCodeck,"~W", flowCodeck,"~U","~H", 
	    	                           "~I","~D","~BW"].join(''); 
	    	return ATT.globalVars.flowcode; 
	    }},                
	    {selector:'head', type:'wtmeta', name:'wtZipCode', value: function () { 
	    	return ATT.globalVars.zip(); 
	    }},  
	    {selector:'head', type:'wtmeta', name:'wtCity', value: function () { 
	    	var wtCity; 
	    	if(document.cookie.match(/attPersistantLocalization.*city=(\w*)/)){ 
	    		wtCity = (document.cookie.match(/attPersistantLocalization.*city=((\w|\s)*)/)||[])[1]; 
	    	} else { 
	    		wtCity = ""; 
	    	} 
	    	return wtCity; 
	    }}, 
	    {selector:'head', type:'wtmeta', name:'wtState', value: function () { 
	    	var wtState; 
	    	if(document.cookie.match(/attPersistantLocalization.*state=(\w*)/)){ 
	    		wtState = (document.cookie.match(/attPersistantLocalization.*state=((\w|\s)*)/)||[])[1]; 
	    	} else { 
	    		wtState = ""; 
	    	} 
	    	return wtState; 
	    }}	    
	]); 
	reporting.tag.perform('inline'); 
}); 
//]]> 
</script> 
<script> 
//<![CDATA[ 
if (window.webTrendTag_unprototype) webTrendTag_unprototype(); 
//]]> 
</script> 
<script> 
//<![CDATA[ 
	ATT.namespace("DCSSignals"); 
	ATT.DCSSignals = (function(){ 
		var dfd = new jQuery.Deferred(); 
		setTimeout(function(){ dfd.resolve(); }, 15000); 
		return { 
			"dcs_ready_promise" : dfd.promise(), 
			"resolveDCSFuncs" : dfd.resolve 
		}; 
	}()); 
    // Use any event to append the code 
    jQuery(document).ready(function(){ 
        jQuery.when(reporting_ready).then(function() { 
        	setTimeout(function () { 
	        	ATT.globalVars.wtFull(); 
	        	ATT.checkPromo(); 
	            ATT.log('dcs injection block'); 
	            var s = document.createElement("script"); 
	            s.type = "text/javascript"; 
	            s.src = "http://1.ecom.attccc.com/webtrends/scripts/dcs_tag.js"; 
	            s.onload = (function() { ATT.DCSSignals.resolveDCSFuncs(); }); 
	            s.onreadystatechange = (function(){ if (s.readyState === 'loaded') s.onload(); }); 
	            // Use any selector 
	            jQuery("head")[0].appendChild(s); 
				//PROD12-3312 PROD_RPT_WT Rotating Marquees are not passing log for 1st rotation consistently	 
				if (window.JSAM) 
				JSAM.Stat.reportReady(); 
        	}, 3000);     
        }); 
    }); 
  //]]> 
</script> 
<script src="http://www.att.com/media/cms/shop/scripts/ATT.cqWebtrend.js" type="text/javascript"></script> 
     <!-- Chat component --> 
    <div class="parbase chat"> 
<script> 
//<![CDATA[ 
//minimal set of configuration setting to set up connection to liveperson server  
var lpMTagConfig = lpMTagConfig || {}; 
    lpMTagConfig.vars = lpMTagConfig.vars || []; 
    ATT.globalVars.custName = ["",""].join(' '); 
    ATT.globalVars.orderNumber = ""; 
    ATT.globalVars.customerItemsOwned = ATT.util.filter(['','','',''], function(n){return n;}).join('|'); 
lpMTagConfig.lpServer = "sales.liveperson.net"; 
lpMTagConfig.lpTagSrv = lpMTagConfig.lpServer; 
lpMTagConfig.lpNumber = "76226072";	 
lpMTagConfig.deploymentID = "att"; 
lpMTagConfig.vars.push(["page","unit","wireless"]); 
lpMTagConfig.vars.push(["session","language","english"]); 
lpMTagConfig.vars.push(["visitor","visitorId","BdKfRJbRLccjjXf7RJdfc2n1!-1970425659!1363762001015"]); 
lpMTagConfig.vars.push(["page","visitorType",ATT.globalVars.buyflowCheck() || ""]); 
lpMTagConfig.vars.push(["visitor","customerType","consumer"]); 
lpMTagConfig.vars.push(["visitor","customerName",ATT.globalVars.custName]); 
lpMTagConfig.vars.push(["visitor","customerZip",""]); 
lpMTagConfig.vars.push(["visitor","customerCity",""]); 
lpMTagConfig.vars.push(["visitor","customerState",""]); 
lpMTagConfig.vars.push(["visitor","customerAccountInfo", '']); 
lpMTagConfig.vars.push(["visitor","customerItemsOwned", ATT.globalVars.customerItemsOwned]); 
lpMTagConfig.vars.push(["visitor","customerQualification",""]); 
lpMTagConfig.vars.push(["page","applicationName","shop"]); 
lpMTagConfig.vars.push(["page","departmentName","wireless"]); 
lpMTagConfig.vars.push(["visitor","customerLocalization",ATT.globalVars.zip()]); 
lpMTagConfig.vars.push(["session","clickAction",""]); 
lpMTagConfig.vars.push(["page","errorName",""]); 
lpMTagConfig.vars.push(["page","modalFlag","off"]); 
//]]> 
</script> 
<script src="http://www.att.com/media/cms/shop/scripts/ATT.c2c.js" type="text/javascript"></script> 
<script type="text/javascript" src="http://www.att.com/media/cms/shop/scripts/mtagconfig.js"></script> 
</div> 
		<!-- atlastag --> 
	<div class="atlastag"> 
</div> 
	<!-- after footer this file is required to call any cleanup script needed on page like seession end. --> 
	<!--  To create CLT cookies in existing customer flow --> 
<!-- To create localization cookies. --> 
</body> 
</html> 
