!function($){if(!window.console){window.console={log:function(){},info:function(){},debug:function(){},error:function(){}}}if(Function.prototype.bind&&console&&typeof console.log=="object"){["log","info","warn","error","assert","dir","clear","profile","profileEnd"].forEach(function(method){console[method]=this.bind(console[method],console)},Function.prototype.call)}$.fn.attention=function(opts){opts=$.extend({start:"#ff9",end:"white",delay:0,prop:"backgroundColor"},opts);var $this=$(this);setTimeout(function(){var start={};start[opts.prop]=opts.start;var end={};end[opts.prop]=opts.end;$this.css(start).animate(end,1500)},opts.delay)};$.fn.front=function(reveal){if(reveal===undefined){reveal="show"}var top=Math.max.apply(null,$.map($("body > *"),function(el,n){var pos=$(el).css("position");if(pos=="absolute"||pos=="fixed"){return parseInt($(el).css("z-index"))||1}else{return 0}}));this.each(function(i,e){$(e).css("z-index",++top);if(reveal){$(e)[reveal](reveal=="fadeIn"?"slow":null)}});return this};$.fn.fixAt=function(pos){this.css({position:"absolute",top:(pos)+"px"});return this};$.fn.destroy=function(){this.trigger("destroy");this.remove();return this};$.fn.captcha=function(image_only,tabindex){var element=this.first();tabindex=(tabindex==undefined?"":tabindex);$(element).load("/auth"+(image_only?"/ajax_captcha_image?tabindex="+tabindex:"/ajax_captcha?tabindex="+tabindex))};$.fn.wait=function(opts){var $this=$(this);var hide=false;if(opts===false){hide=true}else{if(opts==undefined){opts={lines:12,length:7,width:4,radius:10,color:"#000",speed:1,trail:60,shadow:false}}}if(hide&&$this.data("spinner")){$this.spin(false)}else{if(!hide&&!$this.data("spinner")){$this.spin(opts)}else{if(hide){$this.spin(false)}}}return this};var depSrcsLoading=[];var depSrcsLoaded=[];var module_count=1;var nextModalId=0;var lazyLoad=[];var DEPS={};var Facebook={};var host="";var auth="";var statichost="";var embedded=false;if("Squidoo" in window){host=window.Squidoo.host;statichost=window.Squidoo.statichost;auth=window.Squidoo.auth;embedded=squidoo_embedded;if("lazyload" in Squidoo){lazyLoad=window.Squidoo.lazyLoad}if("DEPS" in Squidoo){DEPS=$.extend(DEPS,Squidoo.DEPS)}if("Facebook" in Squidoo){Facebook=$.extend(Facebook,Squidoo.Facebook)}}window._gaq=window._gaq?window._gaq:[];window.Squidoo=window.Squidoo||{};var self=window.$Sq=window.Squidoo={DEPS:DEPS,Facebook:Facebook,host:host,auth:auth,statichost:statichost,lazyLoad:lazyLoad,embedded:embedded,oAuth:{},editModule:function(lens_name,lmi_or_module_type,sort_order){$Sq.wait();$(function(){var $overlay=$("body"),id="edit_module_modal",src=$Sq.host+"/workshop/"+lens_name+"/module/"+lmi_or_module_type;if(!/^\d+$/.test(lmi_or_module_type)){var new_module=true;src=$Sq.host+"/workshop/"+lens_name+"/module/new/"+lmi_or_module_type}src+="?_host="+encodeURIComponent(document.location.href.split("#")[0]);if(sort_order){src+="&sort_order="+sort_order}if($('iframe[name="'+id+'_iframe"]').length>0){$('iframe[name="'+id+'_iframe"]').remove()}var $iframe=$('<iframe name="'+id+'_iframe" src="'+src+'" allowTransparency="true" style="display:none; background:transparent; position:fixed; top:0; left:0; z-index:60000; width:100%; height:100%; "></iframe>');$("body").addClass("noscroll").css({overflow:"hidden"});$overlay.append($iframe);$.receiveMessage(function(e){var data=Object.fromQueryString(e.data);if(data.close===true){if(data.html){if(new_module){$Sq.wait();location.reload()}else{var $el=$('[data-lmi="'+lmi_or_module_type+'"]'),type=$el.data("module-type");if($el[type]){if($el.data(type)["redo_module"]){$el.data(type).redo_module()}$el.data(type,false)}$('[data-lmi="'+lmi_or_module_type+'"] .module').html(unescape(data.html));$('[data-lmi="'+lmi_or_module_type+'"] .module_title').text(unescape(data.title));$('[data-lmi="'+lmi_or_module_type+'"] .module_subtitle').text(unescape(data.subtitle));if($el[type]){$el[type]({el:$el})}}}else{if(data.error=="F-1"){$Sq.notify.error(data.textStatus,{hideAfter:5000})}}$("body").removeClass("noscroll").css({overflow:"scroll"});$iframe.remove()}if(data.done===true){$Sq.wait(false);$iframe.show()}})})},unlock:function(btn,lensId){var $btn=$(btn);$btn.text("Unlocking...");$.post("/admin/unlock_lens_ajax/"+lensId+"/unlock",function(result){if(result.indexOf("error")===-1){$btn.text("Unlocked!");setTimeout(function(){$btn.remove()},3000)}});return false},evt:function(category,action,opt_label,opt_value){if(arguments[0] instanceof Array){var cmds=[];for(var i=0;i<arguments.length;i++){var cmd=arguments[i];cmd.unshift("sqev._trackEvent");cmds.push(cmd)}_gaq.push.apply(_gaq,cmds)}else{_gaq.push(["sqev._trackEvent",category,action,opt_label,opt_value])}},onPageletLoad:function(pagelet){self.withDeps(pagelet.js?pagelet.js:[],function(){if(!$.trim(pagelet.html)){$("#"+pagelet.id).remove()}else{$("#"+pagelet.id).html(pagelet.html);$("#"+pagelet.id).children("*:first").unwrap()}},true)},lazyLoadModule:function(lmi,workshop){module_count++;setTimeout(function(){(function($){var mod=$("#module"+lmi+"_lazyload");var action=(workshop?"/utility/lazyload_draft/":"/utility/lazyload/")+lmi;if(window.isMAP){action+="?map=1"}$.get(action,function(data){mod.html(data);module_count--;if(workshop){}else{var clickout_interval=setInterval(function(){if(window.setClickOutTracking){clearInterval(clickout_interval);setClickOutTracking(mod.attr("id"))}},100)}})})(jQuery)},200*(module_count-1))},lazyLoadAll:function(draft){var pods=[],cntToBeLoaded=this.lazyLoad.length;if(!this.lazyLoad.length){$(window).trigger("squidoo.lazyload.finished");return}else{if(this.lazyLoad.length==1){pods=[this.lazyLoad]}else{var max=5;var maxEbay=1;var eBayType="52";pods=this.lazyLoad.chunk(max);for(var i=0;i<pods.length;i++){var p=pods[i];p=p.sort(function(a,b){return b.type==eBayType?1:-1});var contents=p.chunk(max);p=pods[i]=contents.shift();if(contents.length){pods[i+1]=Array.prototype.concat.apply(pods[i+1]||[],contents)}var types=$.map(p,function(mod){return mod.type});if(types.lastIndexOf(eBayType)>=maxEbay-1){var contents={ebay:p.slice(0,types.lastIndexOf(eBayType)+1),notEbay:p.slice(types.lastIndexOf(eBayType)+1)};var ebay=contents.ebay.chunk(maxEbay);p=pods[i]=contents.notEbay.concat(ebay.shift());if(ebay.length){pods[i+1]=Array.prototype.concat.apply(pods[i+1]||[],ebay)}}}}}var cntCompleted=0;for(var i=0;i<pods.length;i++){var p=pods[i];var action=(draft?"/utility/lazyload_draft/":"/utility/lazyload/")+$.map(p,function(mod){return mod.lmi});if(window.isMAP){action+="?map=1"}$.get(action,function(p){return function(content){var mods=[];if(p.length>1){var raw=content.split("M\x1A");$.each(raw,function(i,R){R=$.trim(R);if(R.length){var data=R.split("\x1B");mods.push({lmi:data.shift(),html:data.join("\x1B")})}})}else{mods.push({lmi:p[0].lmi,html:content})}$.each(mods,function(i,mod){var con=$("#module"+mod.lmi+"_lazyload");con.html(mod.html);var $mod=con.closest("[data-module-type]"),type=$mod.data("module-type");if($mod[type]){$mod[type]({el:$mod});var $comments=$mod.find('[data-module-type="comments"]');if($comments.length){$comments.comments({el:$comments})}}else{}cntCompleted++;if(cntCompleted===cntToBeLoaded){$(window).trigger("squidoo.lazyload.finished")}if(!window.isWorkshop){var clickout_interval=setInterval(function(){if(window.setClickOutTracking){clearInterval(clickout_interval);setClickOutTracking(con.attr("id"))}},100)}})}}(p))}},wait:function(toggle,callback,message_object){if(toggle===undefined){toggle=true}else{if($.isFunction(toggle)){callback=toggle;toggle=true}}self.waitForSelection("body",function(){if(!toggle){$('[data-onion="wait"]').spin(false).remove()}else{var wait=$('[data-onion="wait"]');if(!wait.size()){wait=$('<div data-onion="wait"></div>').css({position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"transparent",backgroundColor:"rgba(0, 0, 0, 0.5)"});if(message_object!=undefined){var wait_message=$('<div data-wait-message="true"></div>').css({backgroundColor:"rgba(50, 50, 50, 0.7)",border:"2px solid #444",top:"50%",padding:"70px 0px",width:"95%",margin:"40px auto 0px",position:"relative",color:"rgb(255, 255, 255)",textAlign:"center",borderRadius:"30px"}).html(message_object.message);if(Object.has(message_object,"callback")&&$.isFunction(message_object.callback)){wait_message.css("cursor","pointer");wait_message.click(function(){message_object.callback()})}wait.append(wait_message)}$("body").append(wait)}wait.front().spin({color:"white"})}if($.isFunction(callback)){callback()}})},waitForSelection:function(selector,callback){var $selector=$(selector);var interval=setInterval(function(){if($selector.length){clearInterval(interval);callback($selector)}},100)},getScriptSrc:function(ref){if(!ref||ref.match(/\.js$/i)){if(!ref.match(/^\/\//)){return(document.location.protocol.toLowerCase()!="https:"?Squidoo.statichost:"")+ref}else{return ref}}else{var url=("DEPS" in Squidoo&&"__HOST__" in Squidoo.DEPS?Squidoo.DEPS.__HOST__:"/")+"scripts/";if("DEPS" in Squidoo&&"__VERSIONS__" in Squidoo.DEPS&&Squidoo.DEPS.__VERSIONS__[ref]){url+=ref+".v"+Squidoo.DEPS.__VERSIONS__[ref]+".js"}else{url+=ref+".js"}return url}},withTemplates:function(callback){Squidoo.withDeps([Squidoo.DEPS.TEMPLATES],function(){callback()})},withTracker:function(token,member,callback){Squidoo.withDeps([Squidoo.DEPS.TRACKER],function(){Squidoo.Tracker.init(token,member,callback)})},_loadDependency:function(dep,onAfterLoad){if($.inArray(dep.src,depSrcsLoaded)>-1){return onAfterLoad()}else{if(depSrcsLoading[dep.src]){return depSrcsLoading[dep.src].push(onAfterLoad)}else{depSrcsLoading[dep.src]=[];depSrcsLoading[dep.src].push(onAfterLoad)}}var onAfterLoad=function(){for(var i=0;i<depSrcsLoading[dep.src].length;i++){depSrcsLoading[dep.src][i].apply(this,arguments)}};self.withDeps(dep.deps,function(){$.ajax({url:self.getScriptSrc(dep.src),dataType:"script",success:function(){depSrcsLoaded[dep.src]=true;"onLoad" in dep?dep.onLoad(onAfterLoad):onAfterLoad()},error:function(xhr){console.error("Failed to load dependency: "+dep.src,dep,xhr);if(dep.alt){$.ajax({url:self.getScriptSrc(dep.alt),dataType:"script",success:function(){"onLoad" in dep?dep.onLoad(onAfterLoad):onAfterLoad()},error:function(xhr){console.error("Failed to load dependency alternate: "+dep.alt,xhr)}})}}})})},withDeps:function(deps,callback,doCallbackWithoutDeps){if(deps==undefined||deps.length<1){return callback()}if(doCallbackWithoutDeps){callback();callback=null}var d=0;var loadNext=function(){var dep=deps[d++];if(!$.isPlainObject(dep)){dep={src:dep,isLoaded:function(callback){callback($.inArray(this.src,depSrcsLoaded)>-1)}}}dep.isLoaded(function(loaded){if(loaded){if(d<deps.length){loadNext()}else{callback?callback():null}}else{self._loadDependency(dep,function(){if(d<deps.length){loadNext()}else{callback?callback():null}})}})};loadNext()},handleAjaxError:function(xhr,textStatus,errorThrown){var _gaq=_gaq||[];_gaq.push(["_setAccount","UA-185209-2"]);_gaq.push(["_setDomainName","www.squidoo.com"]);_gaq.push(["_trackEvent","Errors",'Exception, "'+xhr.responseText+'"']);(function(){var ga=document.createElement("script");ga.type="text/javascript";ga.async=true;ga.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(ga,s)})();alert("Oops! Squidoo's tentacles are in a twist. We're working to sort it out speedily.\n\nConsistently receiving this message? You can reach us at squidsupport@squidoo.com");Squidoo.wait(false)},waitFor:(function(){var waitFor=function(bool,callback,delay){if(delay==undefined){delay=100}var i=setInterval(function(){if(bool()){clearInterval(i)}else{return false}callback(jQuery)},delay)};waitFor.bootstrap=function(){return"jQuery" in window&&"button" in jQuery.fn};return waitFor})(),showDialog:function(selector){$this=$(selector).first();Squidoo.dialog({title:$this.data("info-title"),content:$this.data("info-content")})},dialog:function(opts){if(opts==undefined){opts={}}opts=$.extend({title:"",content:"",buttons:{OK:false}},opts);$dialog=$('<div><div class="dialog-title"></div><div class="dialog-content"></div></div>');$close=$('<div><div class="close_bar"><a href="#" onclick="Squidoo.close(this); return false;" class="btn_social float_right">Close</a></div>');if(opts.title){$dialog.find(".dialog-title").replaceWith("<h3>"+opts.title+"</h3>")}if(opts.content){$dialog.find(".dialog-content").html(opts.content)}Squidoo.modal({html:'<div class="overlay">'+$dialog.html()+"</div>"+$close.html()},null,{type:"dialog",onSubmit:function(dialog){console.log(dialog.serialize());return true}})},_processModalPath:function(path,data,doWithModal){try{if($.isPlainObject(path)||opts.iframe){return doWithModal(path)}else{if($(path).size()){$path=$(path);if($path.attr("type")=="text/x-jquery-tmpl"){return Squidoo.Templates.render(path,data,function(html){data.html=html;doWithModal(data)})}else{return doWithModal({html:$path.clone()})}}}}catch(e){}self.withDeps([Squidoo.DEPS.JQUERY_UI],function(){$.ajax({type:"POST",url:path,data:data,success:doWithModal,error:Squidoo.handleAjaxError})})},layer:function(path,data,callback){if($.isFunction(data)){callback=data;data=null}self.waitForSelection("body",function(){var id="squidoo_modal"+(++nextModalId);var onion=$('<div class="layer_onion"></div>');$("body").append(onion);onion.front();var layerCon=$('<div class="layer"></div>');$("body").append(layerCon);layerCon.front();self.withDeps([Squidoo.DEPS.LAYERS],function(){self._processModalPath(path,data,function(layer){if(!$.isPlainObject(layer)){layer={html:layer}}self.withDeps("js" in layer?layer.js:[],function(){var data=($.isPlainObject(data)?data:{});data.callback=callback;var layerObj=$(layer.html);layerCon.append(layerObj);setTimeout(function(){$("#content_wrap").hide()},1000);layerObj.on("destroy",function(){$("#content_wrap").show();onion.remove();layerCon.remove()});var type=layerObj.data("layer");if(type){layerObj[type](data)}})})})})},onboard:function(options){$Sq.wait();if(!$.isPlainObject(options)){options={}}$(function(){var $overlay=$("body"),id="onboard_modal",src=$Sq.host+"/onboard/index?";if($('iframe[name="'+id+'_iframe"]').length>0){$('iframe[name="'+id+'_iframe"]').remove()}src+="options="+encodeURIComponent(JSON.stringify(options));if(!$Sq.embedded){src+="&_host="+encodeURIComponent(document.location.href.split("#")[0])}var $iframe=$('<iframe name="'+id+'_iframe" src="'+src+'" allowTransparency="true" style="display:none; background:transparent; position:fixed; top:0; left:0; z-index:60000; width:100%; height:100%; "></iframe>');$("body").addClass("noscroll");if($Sq.embedded){var $iframeToPostMessage=$("<div>").append($iframe.clone()).remove().html();$.postMessage({iframe:$iframeToPostMessage,id:$Sq.embedded},document.referrer,parent);return false}else{$overlay.append($iframe)}$.receiveMessage(function(e){var data=Object.fromQueryString(e.data);if(data.close===true){$("body").removeClass("noscroll");$iframe.remove()}if(data.where){$Sq.withTracker(function(tracker){tracker.push(["track","Onboard Dismiss "+data.where])})}if(data.new_module){document.location="/workshop/edit/"+data.new_module+"?splash"}if(data.done===true){$Sq.wait(false);$iframe.show()}})})},modal:function(path,data,opts){if($.isFunction(data)){opts=data;data=null}if($.isFunction(opts)){opts={onLoad:opts,onSubmit:false}}opts=$.extend({type:"normal",iframe:false,wide:false},opts);if($.isFunction(opts.onSubmit)){opts.type="dialog"}var doWithModal=function(modal){if(!$.isPlainObject(modal)){modal={html:modal}}self.withDeps("js" in modal?modal.js:[],function(){self.waitForSelection("body",function(){var id="squidoo_modal_"+(++nextModalId),onion,con;$("body").append(onion=$('<div id="'+id+'_onion" class="default_onion"></div>'));$("body").append(con=$('<div id="'+id+'" class="squidoo_modal novib"></div>'));onion.front();var dialog=false;var overlay=null;if(opts.type=="dialog"||opts.iframe){con.html(overlay=$('<div class="overlay_wrap '+(opts.wide?"overlay_tabs_wrap":"")+' squidoo_modal novib"></div>'));if(opts.type=="dialog"){dialog=overlay.append('<form action="#" method="post"></form>').find("form");dialog.html(modal.html)}}else{con.html(modal.html).css({position:"absolute"}).front()}if(opts.iframe){var iframe_height,iframe;var src=modal.html;var hash=src.match(/(#.*)$/);if(src.indexOf("?")===-1){if(hash){src=src.replace(/#.*$/,"")}src+="?"}src+="&_host="+encodeURIComponent(document.location);if(hash){src+=hash[1]}overlay.append(iframe=$('<iframe name="'+id+'_iframe" src="'+src+'" style="width:100%; height:427px; display:block;"></iframe>'));$(function(){$.receiveMessage(function(e){var h=Number(e.data.replace(/.*iframe_height=(\d+)(?:&|$)/,"$1"));if(!isNaN(h)&&h>0&&h!==iframe_height){iframe.height(iframe_height=h)}})})}con.bind("destroy",function(){con.remove();onion.remove()});if(opts.type!="dialog"){onion.click(function(){con.destroy()})}var $toCenter=con.find("*:first");$toCenter.fixAt((($(window).height()-$toCenter.height())/2)).front("fadeIn");if(jQuery.ui&&$.fn.tabs){con.find(".tabs").tabs()}if(dialog){if(!$.isFunction(opts.onSubmit)){opts.onSubmit=function(){return true}}dialog.submit(function(){var result=opts.onSubmit(dialog);if(result!==false){con.trigger("destroy")}return false});dialog[0].callback=function(value){var result=opts.onSubmit(value);if(result!==false){con.trigger("destroy")}}}if(opts.type!="iframe"&&$.isFunction(opts.onLoad)){opts.onLoad(con)}self.wait(false)})})};try{if($.isPlainObject(path)||opts.iframe){return doWithModal(path)}else{if($(path).size()){var $path=$(path);if($path.attr("type")=="text/x-jquery-tmpl"){return Squidoo.Templates.render(path,data,function(html){data.html=html;doWithModal(data)})}else{return doWithModal({html:$path.clone()})}}}}catch(e){}self.wait(function(){self.withDeps([Squidoo.DEPS.JQUERY_UI],function(){$.ajax({type:"POST",url:path,data:data,success:doWithModal,error:Squidoo.handleAjaxError})})})},notify:{info:function(message,options){$Sq.notify._notify(message,$.extend({barColor:"#ff9900",forgetful:true,onClose:function(){$("#hellobar-wrapper").remove()}},options))},error:function(message,options){$Sq.notify._notify(message,$.extend({barColor:"#990000",forgetful:true,onClose:function(){$("#hellobar-wrapper").remove()}},options))},_notify:function(message,options){if(message==undefined){message="Hello, Squidoo!"}new HelloBar(message,$.extend({helloBarLogo:false},options),1);$("#hellobar-wrapper").front()},hide:function(){$("#hellobar-wrapper").remove()}},shorten:function(string,maxLength){if(!string){return""}if(maxLength==undefined){maxLength=137}if(string.length<=maxLength){return string}var shorter=string.substr(0,maxLength);if(!shorter.match(/\s$/)){shorter=shorter.substr(0,shorter.lastIndexOf(" "))}return $.trim(shorter)+"..."},close:function(el){var con;if("location" in el){con=$('iframe[name="'+el.name+'"]')}else{con=$(el).closest(".squidoo_modal")}con.closest(".squidoo_modal").fadeOut("fast",function(){$(this).destroy()})},hide:function(el){return $(el).closest(".squidoo_modal").hide()},profile:function(tab){self.modal("/profile/modal"+(tab?"#profile-"+tab:""),{},{iframe:true,wide:true})},bug:function(options){if(!$.isPlainObject(options)){options={lensName:options}}if(options.lensName==undefined&&"theLensName" in window){options.lensName=window.theLensName}if(options.lensName==undefined&&"theLens" in window){options.lensName=window.theLens.lensName}window.open("/bug/modal"+(options.lensName?"/"+options.lensName:"")+"?"+$.param(options),"bugbox","width=490,height=600,location=no")},og:function(lens_name,settings){if(lens_name==undefined){lens_name=window.theLensName}if(lens_name==undefined){lens_name=window.theLens.lensName}Squidoo.modal("/workshop/ajax_opengraph_modal/"+(lens_name?lens_name:"__INPROGRESS__"),{og_settings:settings})},login:function(target,bindEvent,callback){Squidoo._openAuthModal(target,bindEvent,callback,"login");return false},register:function(target,bindEvent,callback,type){Squidoo._openAuthModal(target,bindEvent,callback,"registration",type);return false},_openAuthModal:function(target,bindEvent,callback,screen,type){var popup;var openModal=function($button){var left=($(window).width()-850)/2;var top=($(window).height()-500)/2;var windowName=Math.floor(Math.random()*10000000)+"sso";var modal=((type)?"modal="+type:"modal");popup=window.open($Sq.auth+"/member/"+screen+"?"+modal,windowName,"width=850,height=650,status=1,toolbar=0,left="+left+",top="+top);var check=setInterval(function(){if(popup.closed){clearInterval(check);Squidoo.getLoginStatus(function(response){window.isLoggedIn=response.status==="connected";if(window.isLoggedIn&&!window.theMember){Squidoo.withTracker(function(tracker){tracker.push(["identify",response.member.id]);tracker.push(["name_tag",response.member.username]);tracker.push(["register",{"Recently Registered":Date.create().secondsSince(Date.create(response.member.registered))<60,"Registration Date":Date.create(response.member.registered),"Launch Tier":$.cookie("tracker.launch.tier")||"Unknown"}]);$.cookie("tracker.launch.tier",null)});window.theMember=response.member}window.__squid_like?(window.__squid_like.logged_in=true):false;Squidoo.wait(false);if($.isFunction(callback)){callback(response.status=="connected",response,$button)}else{if(response.status=="connected"){document.location.reload()}}})}},100)};if($.isFunction(target)){callback=target;openModal();return false}if($.isFunction(bindEvent)){if(!screen&&callback){screen=callback}callback=bindEvent;bindEvent="click"}var $button=$(target);$button.unbind(bindEvent);$button.bind(bindEvent,function(){var $this=$(this);if(window.isLoggedIn){if($.isFunction(callback)){return callback(true,{status:"connected",member:window.theMember},$this)}else{return true}}Squidoo.wait(true,undefined,{message:"<h3>If you do not see a popup window. Click here.</h3>",callback:function(){popup.focus()}});openModal($this);return false})},getLoginStatus:function(callback){$.get("/auth/json_status",function(response,textStatus,jqXHR){if(response.status!="connected"){window.isLoggedIn=false;window.theMember=false}else{window.CSRF=jqXHR.getResponseHeader("X-CSRF")}$('[data-session="image"]').attr("src",response.member.image);$('[data-session="username"]').text(response.member.username);$.isFunction(callback)?callback(response):false})},crawl:function(url,options){if($.isFunction(options)){options={success:options}}else{if(!options){options={success:function(result){console.log(result)}}}}if(!options.error){options.error=function(){$Sq.notify.error("Oops! We couldn't find your link. Please try again.")}}return $Sq.api("hulla",theMember.roles&&theMember.roles.admin?"post":"get",{url:url},options.success,options.error)},api:function(path,method,data,onSuccess,onError,onTransportError){var dataType=document.location.host.match(/\.squidoo\.com$/i)?"json":"jsonp";if($.isFunction(method)){onSuccess=method;data={};method="get"}else{if($.isFunction(data)){if($.isPlainObject(method)){onSuccess=data;data=method;method="get"}else{onSuccess=data;data={}}}else{if($.isPlainObject(method)&&$.isPlainObject(data)){onSuccess=data;data=method;method="get"}}}if($.isPlainObject(onSuccess)){onError=onSuccess.error;onTransportError=onSuccess.transportError;dataType=onSuccess.dataType||dataType;onSuccess=onSuccess.success}var defaultApiErrorHandler=function(response){console.error(response.message())};var defaultTransportErrorHandler=function(jqXHR,textStatus,errorThrown){console.error(path,jqXHR,textStatus,errorThrown)};if(!$.isFunction(onError)){onError=defaultApiErrorHandler}if(!$.isFunction(onTransportError)){onTransportError=defaultTransportErrorHandler}if(path.substring(0,1)=="/"){path=path.substring(1)}var host=Squidoo.host||"http://www.squidoo.com";var method=method.toUpperCase(),type=method;if(type==="PUT"||type==="DELETE"){type="POST"}$.ajax({type:type,url:host+"/api/"+path,data:data,beforeSend:function(xhr){if(method!==type){xhr.setRequestHeader("X-HTTP-Method-Override",method)}if(type!=="GET"){xhr.setRequestHeader("X-CSRF",CSRF)}},dataType:dataType,success:function(response){if(response.errors){var errors=$Sq.api._wrapError(response.errors);if(errors.hasCode("csrf")){$Sq.notify.error("Oops! Please reload this page to continue.")}else{onError(errors)}}else{if($.isFunction(onSuccess)){onSuccess(response.result)}}},error:function(jqXHR,textStatus,errorThrown){var errors=$Sq.api._parseErrors(jqXHR);if(errors){if(errors.hasCode("csrf")){$Sq.notify.error("Oops! Please reload this page to continue.")}else{onError(errors)}}else{onTransportError(jqXHR,textStatus,errorThrown)}}})}};$Sq.api._wrapError=function(packet){var error={type:function(){return packet[0].type},message:function(){return packet[0].message},hasType:function(type){for(var i=0;i<packet.length;i++){if(packet[i].type==type){return true}}return false},hasCode:function(code){for(var i=0;i<packet.length;i++){if(packet[i].code==code){return true}}return false},all:function(type){if(type==undefined){return packet}else{var errors=[];for(var i=0;i<packet.length;i++){if(packet[i].type==type){errors.push(packet[i])}}return errors}}};return error};$Sq.api._parseErrors=function(xhr){if(xhr.responseText.indexOf('{"errors":')===0){var response=eval("("+xhr.responseText+")");var errors=$Sq.api._wrapError(response.errors);return errors}return false};var d=document,na=navigator,ua=na.userAgent;$Sq.isOpera=window.opera&&opera.buildNumber;$Sq.isWebKit=/WebKit/.test(ua);$Sq.isIE=!$Sq.isWebKit&&!$Sq.isOpera&&(/MSIE/gi).test(ua)&&(/Explorer/gi).test(na.appName);$Sq.isIE6=$Sq.isIE&&/MSIE [56]/.test(ua);$Sq.isIE7=$Sq.isIE&&/MSIE [7]/.test(ua);$Sq.isIE8=$Sq.isIE&&/MSIE [8]/.test(ua);$Sq.isIE9=$Sq.isIE&&/MSIE [9]/.test(ua);$Sq.isGecko=!$Sq.isWebKit&&/Gecko/.test(ua);$Sq.isFirefox=/Firefox/.test(ua);$Sq.isMac=ua.indexOf("Mac")!=-1;$Sq.isAir=/adobeair/i.test(ua);$Sq.isIDevice=/(iPad|iPhone)/.test(ua);$Sq.isIPad=/iPad/.test(ua);$Sq.isIOS5=$Sq.isIDevice&&ua.match(/AppleWebKit\/(\d*)/)[1]>=534;var isProfileRequest=document.location.hash.match(/profile(\-(\d+))?/);if(isProfileRequest&&document.location.pathname!="/profile/modal"&&document.location.pathname!="/profile/modal/"){Squidoo.profile(isProfileRequest[2])}var isAmazonOnboard=document.location.hash.match(/^#amazon_onboard$/);var isHeroOnboard=document.location.hash.match(/^#hero_onboard$/);if(isAmazonOnboard||isHeroOnboard){if(isAmazonOnboard){$Sq.onboard({onboard_type:"generic",module_type:"amazonpost",topic:"amazon"});return false}else{$Sq.onboard({onboard_type:"hero",topic:"hero"});return false}}var isBugReportRequest=document.location.hash.match(/bugbox/);if(isBugReportRequest){Squidoo.bug()}Squidoo.Validation=("Validation" in Squidoo)?Squidoo.Validation:{};if(!$.fn.validatable){$.fn.validatable=function(enable_client_side,onSuccess,onErrors,onReset){var forms=this;Squidoo.withDeps([Squidoo.DEPS.VALIDATION],function(){Squidoo.Validation.apply(forms,enable_client_side,onSuccess,onErrors,onReset)})}}Squidoo.Plupload=Squidoo.Plupload||{};Squidoo.Plupload.apply=function(selector,options,callback){Squidoo.withDeps([Squidoo.DEPS.PLUPLOAD],function(){$(selector).plupload(options,callback)})};$.fn.plupload=function(options,callback){Squidoo.Plupload.apply(this,options,callback);return this};Squidoo.Upload=Squidoo.Upload||{};Squidoo.Upload.apply=function(selector,options,callback){Squidoo.withDeps([Squidoo.DEPS.UPLOAD],function(){$(selector).upload(options,callback)})};$.fn.upload=function(options,callback){Squidoo.Upload.apply(this,options,callback);return this};Squidoo.Autocomplete=Squidoo.Autocomplete||{};Squidoo.Autocomplete.apply=function(selector,options){Squidoo.withDeps([Squidoo.DEPS.AUTOCOMPLETE],function(){Squidoo.Autocomplete.apply(selector,options)})};Squidoo.Autocomplete.lens=function(selector,lens_name_field){Squidoo.withDeps([Squidoo.DEPS.AUTOCOMPLETE],function(){Squidoo.Autocomplete.lens(selector,lens_name_field)})};Squidoo.Templates={};Squidoo.Templates.apply=function(selector,template,data,onError){Squidoo.withDeps([Squidoo.DEPS.TEMPLATES],function(){Squidoo.Templates.apply(selector,template,data,onError)})};Squidoo.Templates.render=function(template,data,callback,onError){Squidoo.withDeps([Squidoo.DEPS.TEMPLATES],function(){Squidoo.Templates.render(template,data,callback,onError)})};Squidoo.Facebook.login=function(target,opts,callback){var args=arguments;if($.isFunction(opts)){callback=opts;opts={scope:false}}else{if(opts===undefined){opts={scope:false}}else{if(!$.isPlainObject(opts)){opts={scope:opts}}}}var onSuccess=function($button,response){if(callback){if(!$.isFunction(callback)){document.location=callback}else{$Sq.wait(false);callback(response)}}else{if($button.attr("href")&&$button.attr("href")!="#"){document.location=$button.attr("href")}else{document.location.reload()}}};var onDenied=function(response){$Sq.wait(false);$.isFunction(callback)?callback(response):false};var doLogin=function($button){FB.login(function(response){if(response.authResponse){Squidoo.Facebook.isAuthorized(opts.scope,function(authorized){if(authorized){Squidoo.getLoginStatus(function(response){if(!response.facebook){$Sq.notify.error("Oops! Something went wrong. Please try logging into Facebook again.");onDenied(response)}else{onSuccess($button,response)}})}else{onDenied(response)}})}else{onDenied(response)}},opts)};Squidoo.withDeps([Squidoo.DEPS.FACEBOOK],function(){Squidoo.Facebook.withFB(function(){$(target).unbind("click");$(target).click(function(){$Sq.wait();var $button=$(this);Squidoo.getLoginStatus(function(response){if(response.facebook){Squidoo.Facebook.isAuthorized(opts.scope,function(authorized){if(authorized){onSuccess($button,response)}else{doLogin($button)}})}else{doLogin($button)}});return false})})})};Squidoo.oAuth.login=function(target,opts,callback){if(!$.isPlainObject(opts)){opts={service:opts}}var $this=$(target);var openModal=function(){var left=($(window).width()-850)/2;var top=($(window).height()-500)/2;var windowTitle=Math.floor(Math.random()*10000000)+"sso";var popup=window.open($Sq.auth+"/oauth/auth_token_url/"+opts.service+"/redirect",windowTitle,"width=850,height=650,status=1,toolbar=0,left="+left+",top="+top);var check=setInterval(function(){if(popup.closed){clearInterval(check);Squidoo.getLoginStatus(function(response){window.isLoggedIn=response.status=="connected";window.theMember=response.member;window.__squid_like?(window.__squid_like.logged_in=true):false;if($.isFunction(callback)){$Sq.wait(false);callback(response,$this)}else{if(response.status=="connected"){document.location.reload()}}})}},100)};$this.click(function(){$Sq.wait();if(window.isLoggedIn){Squidoo.getLoginStatus(function(response){if(response[opts.service]&&$.isFunction(callback)){$Sq.wait(false);callback(response,$this)}else{openModal();return false}})}else{openModal()}return false})};Squidoo.Facebook.logout=function(){Squidoo.withDeps([Squidoo.DEPS.FACEBOOK],function(){Squidoo.Facebook.logout()})};Squidoo.Facebook.isAuthorized=function(perms,callback){if($.isFunction(perms)){callback=perms;perms=false}Squidoo.withDeps([Squidoo.DEPS.FACEBOOK],function(){Squidoo.Facebook.isAuthorized(perms,callback)})};var facebook_init;Squidoo.Facebook.init=function(){if(facebook_init){return}facebook_init=true;var args=arguments;Squidoo.withDeps([Squidoo.DEPS.FACEBOOK],function(){})};if(!window.doOnFbAsyncInit){window.doOnFbAsyncInit=[]}doOnFbAsyncInit.push(function(){Squidoo.Facebook.init();Squidoo.Facebook.sdkLoaded=true});Squidoo.tooltip=function(selector,options,action,callback){if(!$.isPlainObject(options)){action=options;options={}}if(!action){action="show"}Squidoo.withDeps([Squidoo.DEPS.TOOLTIP],function(){options=$.extend({animation:true,placement:"right",selector:false,trigger:"hover",title:"",delay:0||{show:500,hide:100}},options);$(selector).tooltip(options).tooltip(action);if($.isFunction(callback)){callback()}})},Squidoo.getQuery=function(s){var query={};s.replace(/\b([^&=]*)=([^&=]*)\b/g,function(m,a,d){if(typeof query[a]!="undefined"){query[a]+=","+d}else{query[a]=d}});return query};Squidoo.meebo=function(infolinks){window.Meebo||function(b){function p(){return["<",i,' onload="var d=',g,";d.getElementsByTagName('head')[0].",j,"(d.",h,"('script')).",k,"='//",b.stage?"stage-":"","cim.meebo.com/cim?iv=",a.v,"&",q,"=",b[q],b[l]?"&"+l+"="+b[l]:"",b[e]?"&"+e+"="+b[e]:"","'\"></",i,">"].join("")}var f=window,a=f.Meebo=f.Meebo||function(){(a._=a._||[]).push(arguments)},d=document,i="body",m=d[i],r;if(!m){r=arguments.callee;return setTimeout(function(){r(b)},100)}a.$={0:+new Date};a.T=function(u){a.$[u]=new Date-a.$[0]};a.v=4;var j="appendChild",h="createElement",k="src",l="lang",q="network",e="domain",n=d[h]("div"),v=n[j](d[h]("m")),c=d[h]("iframe"),g="document",o,s=function(){a.T("load");a("load")};f.addEventListener?f.addEventListener("load",s,false):f.attachEvent("onload",s);n.style.display="none";m.insertBefore(n,m.firstChild).id="meebo";c.frameBorder="0";c.id="meebo-iframe";c.allowTransparency="true";v[j](c);try{c.contentWindow[g].open()}catch(w){b[e]=d[e];o="javascript:var d="+g+".open();d.domain='"+d.domain+"';";c[k]=o+"void(0);"}try{var t=c.contentWindow[g];t.write(p());t.close()}catch(x){c[k]=o+'d.write("'+p().replace(/"/g,'\\"')+'");d.close();'}a.T(1)}({network:"squidoo"});Meebo("addButton",{id:"meebobutton1",type:"menu",icon:"http://the.squidoocdn.com/imgs/modules/meebo/smiley.png",label:"Fun stuff to DO!",items:[{value:"http://blogs.squidoo.com/lensoftheday/",text:"Lens of the Day"},{value:"http://www.squidoo.com/browse/top_lenses",text:"See the Top 100"},{value:"http://www.squidoo.com/build/start",text:"Make a lens"},{value:"http://squidu.com/forum",text:"Say hi in the forum"},{value:"http://www.squidoo.com/squidquiz/hq",text:"P.S. Take a quiz!"},{value:"http://www.squidoo.com/squidwho/hq",text:"P.P.S. Get famous"},],onSelect:function(url){window.open(url,"resizable=1,scrolling=1,scrollbars=1,status=1,toolbar=1")}});Meebo("domReady")};if(document.location.hostname.match(/(www|octo)\.squidoo\.com$/)){var img=new Image();img.src=(location.protocol=="https:"?"/imgs/loading_big.gif":"http://the.squidoocdn.com/imgs/loading_big.gif")}$(function($){$("form.login_reg_form input").bind("focus.labelPlaceholder",function(){$(this).prev().hide()}).bind("blur.labelPlaceholder",function(){$(this).prev()[!this.value?"show":"hide"]()}).trigger("blur.labelPlaceholder");if($("form.login_reg_form input").size()){setInterval(function(){$("form.login_reg_form input").each(function(i,input){if($(input).val()){$(input).prev().hide()}})},100)}});$(function(){$.fn.redrawScrollable=function(){var $this=$(this),$parent=$this.parent(),h=$this.children("ul:first").height();if(h>$this.innerHeight()){if($this.scrollTop()==0){$parent.removeClass("more_above").addClass("more_below")}else{if($this.scrollTop()==h-$this.innerHeight()){$parent.removeClass("more_below").addClass("more_above")}else{$parent.addClass("more_above more_below")}}}else{$parent.removeClass("more_above more_below")}};var timeout;$(".scrollable").on("scroll",function(){var $this=$(this);clearTimeout(timeout);timeout=setTimeout(function(){$this.redrawScrollable()},10)})});$("#squidnav div").live("mouseenter",function(){$(this).parents("li").addClass("active_li")}).live("mouseleave",function(){$(this).parents("li").removeClass("active_li")});$Sq.bless=function(namespace,prototype){if($.isPlainObject(prototype)){var P=function(element,options){this._init($(element),options||{})};P.prototype=$.extend({_init:function($element,opts){this.$el=$element;if("init" in this){this.init(opts,this)}}},prototype);prototype=P}$.fn[namespace]=function(action,options){return this.each(function(){var $this=$(this);var data=$this.data(namespace);if(!data){$this.data(namespace,(data=new prototype(this,typeof action!="string"?action:null)))}if(typeof action=="string"){data[action](options)}})};$.fn[namespace].Constructor=prototype};window.CACHE_MIN=60;window.CACHE_5MIN=300;window.CACHE_10MIN=600;window.CACHE_HOUR=3600;window.CACHE_8HOURS=28800;window.CACHE_DAY=86400;window.CACHE_WEEK=604800;window.CACHE_MONTH=18144000;$Sq.Cache={store:function(group){return{get:function(key,defaultValue){var packet=$.jStorage.get(group+"_"+key);if(packet&&(packet.t==-1||(new Date().getTime()/1000)<packet.t)){return packet.d}else{return defaultValue}},set:function(key,data,timeout){var packet={d:data,t:(timeout==undefined||timeout==0)?-1:((new Date().getTime()/1000)+timeout)};$.jStorage.set(group+"_"+key,packet);return this},del:function(key){$.jStorage.deleteKey(group+"_"+key);return this},flush:function(){$.each($.jStorage.index(),function(i,key){if(key.indexOf(group+"_")===0){$.jStorage.deleteKey(key)}});return this}}}};Squidoo.resetHeight=function(container,id){if(!container){container=$("body")}$.postMessage({iframe_height:container.outerHeight(true),id:id},document.referrer,parent)}}(jQuery);!function(a){a.fn.relative=function(){this.each(function(c,d){var b=a(d),e=b.data("dobj");if(!e){b.data("dobj",e=Date.create(b.data("date")?b.data("date"):b.text()))}b.text(e.relative());b.attr("title",e["long"]())})}}(jQuery);!function(b){b.fn.adaptImages=b.fn.adapt=function(){return this.find(".adaptive_resize").each(function(){b(this).find("img").parent().each(function(){var c=b(this);c.css("max-height",c.width())})})};b(function(){b("body").adapt()});var a;b(window).resize(function(){clearTimeout(a);a=setTimeout(function(){b("body").adapt()},1000)})}(jQuery);!function(b){b.fn.adaptImages_hd=b.fn.adapt_hd=function(){return this.find(".adaptive_resize_hd").each(function(){b(this).find("img").parent().each(function(){var c=b(this);c.css("height",Math.round((c.width()/4)*3))})})};b(function(){b("body").adapt_hd()});var a;b(window).resize(function(){clearTimeout(a);a=setTimeout(function(){b("body").adapt_hd()},1000)})}(jQuery);(function(i,k,a){var e=["webkit","Moz","ms","O"];var p={};var o;function g(q,t){var r=k.createElement(q||"div");var s;for(s in t){r[s]=t[s]}return r}function h(r){for(var q=1,s=arguments.length;q<s;q++){r.appendChild(arguments[q])}return r}var j=function(){var q=g("style");h(k.getElementsByTagName("head")[0],q);return q.sheet||q.styleSheet}();function c(u,q,v,y){var r=["opacity",q,~~(u*100),v,y].join("-");var s=0.01+v/y*100;var x=Math.max(1-(1-u)/q*(100-s),u);var w=o.substring(0,o.indexOf("Animation")).toLowerCase();var t=w&&"-"+w+"-"||"";if(!p[r]){j.insertRule("@"+t+"keyframes "+r+"{0%{opacity:"+x+"}"+s+"%{opacity:"+u+"}"+(s+0.01)+"%{opacity:1}"+(s+q)%100+"%{opacity:"+u+"}100%{opacity:"+x+"}}",0);p[r]=1}return r}function n(u,v){var t=u.style;var q;var r;if(t[v]!==a){return v}v=v.charAt(0).toUpperCase()+v.slice(1);for(r=0;r<e.length;r++){q=e[r]+v;if(t[q]!==a){return q}}}function f(q,s){for(var r in s){q.style[n(q,r)||r]=s[r]}return q}function m(s){for(var q=1;q<arguments.length;q++){var r=arguments[q];for(var t in r){if(s[t]===a){s[t]=r[t]}}}return s}function l(q){var r={x:q.offsetLeft,y:q.offsetTop};while((q=q.offsetParent)){r.x+=q.offsetLeft;r.y+=q.offsetTop}return r}var d={lines:12,length:7,width:5,radius:10,rotate:0,color:"#000",speed:1,trail:100,opacity:1/4,fps:20,zIndex:2000000000,className:"spinner",top:"auto",left:"auto"};var b=function b(q){if(!this.spin){return new b(q)}this.opts=m(q||{},b.defaults,d)};b.defaults={};m(b.prototype,{spin:function(x){this.stop();var B=this;var q=B.opts;var r=B.el=f(g(0,{className:q.className}),{position:"relative",zIndex:q.zIndex});var A=q.radius+q.length+q.width;var C;var z;if(x){x.insertBefore(r,x.firstChild||null);z=l(x);C=l(r);f(r,{left:(q.left=="auto"?z.x-C.x+(x.offsetWidth>>1):q.left+A)+"px",top:(q.top=="auto"?z.y-C.y+(x.offsetHeight>>1):q.top+A)+"px"})}r.setAttribute("aria-role","progressbar");B.lines(r,B.opts);if(!o){var u=0;var s=q.fps;var w=s/q.speed;var v=(1-q.opacity)/(w*q.trail/100);var y=w/q.lines;!function t(){u++;for(var D=q.lines;D;D--){var E=Math.max(1-(u+D*y)%w*v,q.opacity);B.opacity(r,q.lines-D,E,q)}B.timeout=B.el&&setTimeout(t,~~(1000/s))}()}return B},stop:function(){var q=this.el;if(q){clearTimeout(this.timeout);if(q.parentNode){q.parentNode.removeChild(q)}this.el=a}return this},lines:function(s,u){var r=0;var q;function t(v,w){return f(g(),{position:"absolute",width:(u.length+u.width)+"px",height:u.width+"px",background:v,boxShadow:w,transformOrigin:"left",transform:"rotate("+~~(360/u.lines*r+u.rotate)+"deg) translate("+u.radius+"px,0)",borderRadius:(u.width>>1)+"px"})}for(;r<u.lines;r++){q=f(g(),{position:"absolute",top:1+~(u.width/2)+"px",transform:u.hwaccel?"translate3d(0,0,0)":"",opacity:u.opacity,animation:o&&c(u.opacity,u.trail,r,u.lines)+" "+1/u.speed+"s linear infinite"});if(u.shadow){h(q,f(t("#000","0 0 4px #000"),{top:2+"px"}))}h(s,h(q,t(u.color,"0 0 1px rgba(0,0,0,.1)")))}return s},opacity:function(r,q,s){if(q<r.childNodes.length){r.childNodes[q].style.opacity=s}}});!function(){function q(t,s){return g("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',s)}var r=f(g("group"),{behavior:"url(#default#VML)"});if(!n(r,"transform")&&r.adj){j.addRule(".spin-vml","behavior:url(#default#VML)");b.prototype.lines=function(v,u){var t=u.length+u.width;var B=2*t;function A(){return f(q("group",{coordsize:B+" "+B,coordorigin:-t+" "+-t}),{width:B,height:B})}var w=-(u.width+u.length)*2+"px";var z=f(A(),{position:"absolute",top:w,left:w});var y;function x(C,s,D){h(z,h(f(A(),{rotation:360/u.lines*C+"deg",left:~~s}),h(f(q("roundrect",{arcsize:1}),{width:t,height:u.width,left:u.radius,top:-u.width>>1,filter:D}),q("fill",{color:u.color,opacity:u.opacity}),q("stroke",{opacity:0}))))}if(u.shadow){for(y=1;y<=u.lines;y++){x(y,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)")}}for(y=1;y<=u.lines;y++){x(y)}return h(v,z)};b.prototype.opacity=function(t,s,v,u){var w=t.firstChild;u=u.shadow&&u.lines||0;if(w&&s+u<w.childNodes.length){w=w.childNodes[s+u];w=w&&w.firstChild;w=w&&w.firstChild;if(w){w.opacity=v}}}}else{o=n(r,"animation")}}();i.Spinner=b})(window,document);var SPINNER_HOME={lines:8,trail:51,length:7,width:9,radius:16,color:"#555",opacity:1/4,speed:1};var SPINNER_FIT;var SPINNER_SMALL;(function(a){a.fn.spin=function(b){if(b==undefined){}this.each(function(){var d=a(this),c=d.data();if(c.spinner){c.spinner.stop();delete c.spinner}if(b!==false){c.spinner=new Spinner(a.extend({color:d.css("color")},b)).spin(this)}});return this}})(jQuery);var sprintf=(function(){function a(d){return Object.prototype.toString.call(d).slice(8,-1).toLowerCase()}function b(e,f){for(var d=[];f>0;d[--f]=e){}return d.join("")}var c=function(){if(!c.cache.hasOwnProperty(arguments[0])){c.cache[arguments[0]]=c.parse(arguments[0])}return c.format.call(null,c.cache[arguments[0]],arguments)};c.format=function(m,l){var q=1,o=m.length,g="",r,d=[],h,f,j,e,n,p;for(h=0;h<o;h++){g=a(m[h]);if(g==="string"){d.push(m[h])}else{if(g==="array"){j=m[h];if(j[2]){r=l[q];for(f=0;f<j[2].length;f++){if(!r.hasOwnProperty(j[2][f])){throw (sprintf('[sprintf] property "%s" does not exist',j[2][f]))}r=r[j[2][f]]}}else{if(j[1]){r=l[j[1]]}else{r=l[q++]}}if(/[^s]/.test(j[8])&&(a(r)!="number")){throw (sprintf("[sprintf] expecting number but found %s",a(r)))}switch(j[8]){case"b":r=r.toString(2);break;case"c":r=String.fromCharCode(r);break;case"d":r=parseInt(r,10);break;case"e":r=j[7]?r.toExponential(j[7]):r.toExponential();break;case"f":r=j[7]?parseFloat(r).toFixed(j[7]):parseFloat(r);break;case"o":r=r.toString(8);break;case"s":r=((r=String(r))&&j[7]?r.substring(0,j[7]):r);break;case"u":r=Math.abs(r);break;case"x":r=r.toString(16);break;case"X":r=r.toString(16).toUpperCase();break}r=(/[def]/.test(j[8])&&j[3]&&r>=0?"+"+r:r);n=j[4]?j[4]=="0"?"0":j[4].charAt(1):" ";p=j[6]-String(r).length;e=j[6]?b(n,p):"";d.push(j[5]?r+e:e+r)}}}return d.join("")};c.cache={};c.parse=function(d){var g=d,h=[],j=[],i=0;while(g){if((h=/^[^\x25]+/.exec(g))!==null){j.push(h[0])}else{if((h=/^\x25{2}/.exec(g))!==null){j.push("%")}else{if((h=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(g))!==null){if(h[2]){i|=1;var k=[],f=h[2],e=[];if((e=/^([a-z_][a-z_\d]*)/i.exec(f))!==null){k.push(e[1]);while((f=f.substring(e[0].length))!==""){if((e=/^\.([a-z_][a-z_\d]*)/i.exec(f))!==null){k.push(e[1])}else{if((e=/^\[(\d+)\]/.exec(f))!==null){k.push(e[1])}else{throw ("[sprintf] huh?")}}}}else{throw ("[sprintf] huh?")}h[2]=k}else{i|=2}if(i===3){throw ("[sprintf] mixing positional and named placeholders is not (yet) supported")}j.push(h)}else{throw ("[sprintf] huh?")}}}g=g.substring(h[0].length)}return j};return c})();var vsprintf=function(b,a){a.unshift(b);return sprintf.apply(null,a)};(function($){var escapeable=/["\\\x00-\x1f\x7f-\x9f]/g,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};$.toJSON=typeof JSON==="object"&&JSON.stringify?JSON.stringify:function(o){if(o===null){return"null"}var type=typeof o;if(type==="undefined"){return undefined}if(type==="number"||type==="boolean"){return""+o}if(type==="string"){return $.quoteString(o)}if(type==="object"){if(typeof o.toJSON==="function"){return $.toJSON(o.toJSON())}if(o.constructor===Date){var month=o.getUTCMonth()+1,day=o.getUTCDate(),year=o.getUTCFullYear(),hours=o.getUTCHours(),minutes=o.getUTCMinutes(),seconds=o.getUTCSeconds(),milli=o.getUTCMilliseconds();if(month<10){month="0"+month}if(day<10){day="0"+day}if(hours<10){hours="0"+hours}if(minutes<10){minutes="0"+minutes}if(seconds<10){seconds="0"+seconds}if(milli<100){milli="0"+milli}if(milli<10){milli="0"+milli}return'"'+year+"-"+month+"-"+day+"T"+hours+":"+minutes+":"+seconds+"."+milli+'Z"'}if(o.constructor===Array){var ret=[];for(var i=0;i<o.length;i++){ret.push($.toJSON(o[i])||"null")}return"["+ret.join(",")+"]"}var name,val,pairs=[];for(var k in o){type=typeof k;if(type==="number"){name='"'+k+'"'}else{if(type==="string"){name=$.quoteString(k)}else{continue}}type=typeof o[k];if(type==="function"||type==="undefined"){continue}val=$.toJSON(o[k]);pairs.push(name+":"+val)}return"{"+pairs.join(",")+"}"}};$.evalJSON=typeof JSON==="object"&&JSON.parse?JSON.parse:function(src){return eval("("+src+")")};$.secureEvalJSON=typeof JSON==="object"&&JSON.parse?JSON.parse:function(src){var filtered=src.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"");if(/^[\],:{}\s]*$/.test(filtered)){return eval("("+src+")")}else{throw new SyntaxError("Error parsing JSON, source is not valid.")}};$.quoteString=function(string){if(string.match(escapeable)){return'"'+string.replace(escapeable,function(a){var c=meta[a];if(typeof c==="string"){return c}c=a.charCodeAt();return"\\u00"+Math.floor(c/16).toString(16)+(c%16).toString(16)})+'"'}return'"'+string+'"'}})(jQuery);(function(u){function o(){if(v.jStorage){try{w=n(String(v.jStorage))}catch(b){v.jStorage="{}"}}else{v.jStorage="{}"}s=v.jStorage?String(v.jStorage).length:0}function r(){try{v.jStorage=a(w),x&&(x.setAttribute("jStorage",v.jStorage),x.save("jStorage")),s=v.jStorage?String(v.jStorage).length:0}catch(b){}}function q(b){if(!b||typeof b!="string"&&typeof b!="number"){throw new TypeError("Key name must be string or numeric")}return true}if(!u||!u.toJSON&&!Object.toJSON&&!window.JSON){throw Error("jQuery, MooTools or Prototype needs to be loaded before jStorage!")}var w={},v={jStorage:"{}"},x=null,s=0,a=u.toJSON||Object.toJSON||window.JSON&&(JSON.encode||JSON.stringify),n=u.evalJSON||window.JSON&&(JSON.decode||JSON.parse)||function(b){return String(b).evalJSON()},t=false,p={isXML:function(b){return(b=(b?b.ownerDocument||b:0).documentElement)?b.nodeName!=="HTML":false},encode:function(e){if(!this.isXML(e)){return false}try{return(new XMLSerializer).serializeToString(e)}catch(d){try{return e.xml}catch(f){}}return false},decode:function(d){var c="DOMParser" in window&&(new DOMParser).parseFromString||window.ActiveXObject&&function(f){var e=new ActiveXObject("Microsoft.XMLDOM");e.async="false";e.loadXML(f);return e};if(!c){return false}d=c.call("DOMParser" in window&&new DOMParser||window,d,"text/xml");return this.isXML(d)?d:false}};u.jStorage={version:"0.1.5.4",set:function(d,c){q(d);p.isXML(c)&&(c={_is_xml:true,xml:p.encode(c)});w[d]=c;r();return c},get:function(d,c){q(d);return d in w?w[d]&&typeof w[d]=="object"&&w[d]._is_xml&&w[d]._is_xml?p.decode(w[d].xml):w[d]:typeof c=="undefined"?null:c},deleteKey:function(b){q(b);return b in w?(delete w[b],r(),true):false},flush:function(){w={};r();return true},storageObj:function(){function b(){}b.prototype=w;return new b},index:function(){var d=[],c;for(c in w){w.hasOwnProperty(c)&&d.push(c)}return d},storageSize:function(){return s},currentBackend:function(){return t},storageAvailable:function(){return !!t},reInit:function(){var b;if(x&&x.addBehavior){b=document.createElement("link");x.parentNode.replaceChild(b,x);x=b;x.style.behavior="url(#default#userData)";document.getElementsByTagName("head")[0].appendChild(x);x.load("jStorage");b="{}";try{b=x.getAttribute("jStorage")}catch(d){}v.jStorage=b;t="userDataBehavior"}o()}};(function(){var b=false;if("localStorage" in window){try{window.localStorage.setItem("_tmptest","tmpval"),b=true,window.localStorage.removeItem("_tmptest")}catch(j){}}if(b){try{if(window.localStorage){v=window.localStorage,t="localStorage"}}catch(i){}}else{if("globalStorage" in window){try{window.globalStorage&&(v=window.globalStorage[window.location.hostname],t="globalStorage")}catch(f){}}else{if(x=document.createElement("link"),x.addBehavior){x.style.behavior="url(#default#userData)";document.getElementsByTagName("head")[0].appendChild(x);x.load("jStorage");b="{}";try{b=x.getAttribute("jStorage")}catch(d){}v.jStorage=b;t="userDataBehavior"}else{x=null;return}}}o()})()})(window.jQuery||window.$);(function(a){if(!(a.ScrollTo||false)){a.ScrollTo={config:{duration:400,easing:"swing",callback:undefined,durationMode:"each"},configure:function(c){var b=a.ScrollTo;a.extend(b.config,c||{});return this},scroll:function(f,c){var e=a.ScrollTo;var h=f.pop(),l=h.$container,b=h.$target;var d=a("<span/>").css({position:"absolute",top:"0px",left:"0px"});var g=l.css("position");l.css("position","relative");d.appendTo(l);var i=d.offset().top,m=b.offset().top,j=m-i;d.remove();l.css("position",g);var k=function(n){if(f.length===0){if(typeof c.callback==="function"){c.callback.apply(this,[n])}}else{e.scroll(f,c)}return true};l.animate({scrollTop:j+"px"},c.duration,c.easing,k);return true},fn:function(e){var d=a.ScrollTo;var b=a(this);if(b.length===0){return this}var g=b.parent(),f=[];config=a.extend({},d.config,e);while(g.length===1&&!g.is("body")&&!(g.get(0)===document)){var c=g.get(0);if(g.css("overflow-y")!=="visible"&&c.scrollHeight!==c.clientHeight){f.push({"$container":g,"$target":b});b=g}g=g.parent()}f.push({"$container":a(a.browser.msie?"html":"body"),"$target":b});if(config.durationMode==="all"){config.duration/=f.length}d.scroll(f,config);return this},construct:function(c){var b=a.ScrollTo;a.fn.ScrollTo=b.fn;b.config=a.extend(b.config,c);return this}};a.ScrollTo.construct()}else{window.console.warn("$.ScrollTo has already been defined...")}})(jQuery);(function(n,c){var i="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color outlineColor".split(" "),f=/^([\-+])=\s*(\d+\.?\d*)/,e=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(o){return[o[1],o[2],o[3],o[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(o){return[2.55*o[1],2.55*o[2],2.55*o[3],o[4]]}},{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,parse:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/,parse:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(o){return[o[1],o[2]/100,o[3]/100,o[4]]}}],d=n.Color=function(p,q,o,r){return new n.Color.fn.parse(p,q,o,r)},h={rgba:{cache:"_rgba",props:{red:{idx:0,type:"byte",empty:true},green:{idx:1,type:"byte",empty:true},blue:{idx:2,type:"byte",empty:true},alpha:{idx:3,type:"percent",def:1}}},hsla:{cache:"_hsla",props:{hue:{idx:0,type:"degrees",empty:true},saturation:{idx:1,type:"percent",empty:true},lightness:{idx:2,type:"percent",empty:true}}}},m={"byte":{floor:true,min:0,max:255},percent:{min:0,max:1},degrees:{mod:360,floor:true}},k=h.rgba.props,l=d.support={},a,j=n.each;h.hsla.props.alpha=k.alpha;function g(q,s,p){var o=m[s.type]||{},r=s.empty||p;if(r&&q==null){return null}if(s.def&&q==null){return s.def}if(o.floor){q=~~q}else{q=parseFloat(q)}if(q==null||isNaN(q)){return s.def}if(o.mod){q=q%o.mod;return q<0?o.mod+q:q}return o.min>q?o.min:o.max<q?o.max:q}d.fn=d.prototype={constructor:d,parse:function(v,t,o,u){if(v===c){this._rgba=[null,null,null,null];return this}if(v instanceof n||v.nodeType){v=v instanceof n?v.css(t):n(v).css(t);t=c}var s=this,q=n.type(v),p=this._rgba=[],r;if(t!==c){v=[v,t,o,u];q="array"}if(q==="string"){v=v.toLowerCase();j(e,function(B,C){var A=C.re.exec(v),z=A&&C.parse(A),y,x=C.space||"rgba",w=h[x].cache;if(z){y=s[x](z);s[w]=y[w];p=s._rgba=y._rgba;return false}});if(p.length!==0){if(Math.max.apply(Math,p)===0){n.extend(p,a.transparent)}return this}v=a[v]||a._default;return this.parse(v)}if(q==="array"){j(k,function(w,x){p[x.idx]=g(v[x.idx],x)});return this}if(q==="object"){if(v instanceof d){j(h,function(w,x){if(v[x.cache]){s[x.cache]=v[x.cache].slice()}})}else{j(h,function(w,x){j(x.props,function(z,A){var y=x.cache;if(!s[y]&&x.to){if(v[z]==null||z==="alpha"){return}s[y]=x.to(s._rgba)}s[y][A.idx]=g(v[z],A,true)})})}return this}},is:function(q){var p=d(q),r=true,o=this;j(h,function(s,u){var t=p[u.cache],v;if(t){v=o[u.cache]||u.to&&u.to(o._rgba)||[];j(u.props,function(w,x){if(t[x.idx]!=null){r=(t[x.idx]==v[x.idx]);return r}})}return r});return r},_space:function(){var o=[],p=this;j(h,function(q,r){if(p[r.cache]){o.push(q)}});return o.pop()},transition:function(p,u){var q=d(p),r=q._space(),s=h[r],t=this[s.cache]||s.to(this._rgba),o=t.slice();q=q[s.cache];j(s.props,function(y,A){var x=A.idx,w=t[x],v=q[x],z=m[A.type]||{};if(v===null){return}if(w===null){o[x]=v}else{if(z.mod){if(v-w>z.mod/2){w+=z.mod}else{if(w-v>z.mod/2){w-=z.mod}}}o[A.idx]=g((v-w)*u+w,A)}});return this[r](o)},blend:function(r){if(this._rgba[3]===1){return this}var q=this._rgba.slice(),p=q.pop(),o=d(r)._rgba;return d(n.map(q,function(s,t){return(1-p)*o[t]+p*s}))},toRgbaString:function(){var p="rgba(",o=n.map(this._rgba,function(q,r){return q==null?(r>2?1:0):q});if(o[3]===1){o.pop();p="rgb("}return p+o.join(",")+")"},toHslaString:function(){var p="hsla(",o=n.map(this.hsla(),function(q,r){if(q==null){q=r>2?1:0}if(r&&r<3){q=Math.round(q*100)+"%"}return q});if(o[3]==1){o.pop();p="hsl("}return p+o.join(",")+")"},toHexString:function(o){var p=this._rgba.slice(),q=p.pop();if(o){p.push(~~(q*255))}return"#"+n.map(p,function(r,s){r=(r||0).toString(16);return r.length==1?"0"+r:r}).join("")},toString:function(){return this._rgba[3]===0?"transparent":this.toRgbaString()}};d.fn.parse.prototype=d.fn;function b(s,r,o){o=(o+1)%1;if(o*6<1){return s+(r-s)*6*o}if(o*2<1){return r}if(o*3<2){return s+(r-s)*((2/3)-o)*6}return s}h.hsla.to=function(q){if(q[0]==null||q[1]==null||q[2]==null){return[null,null,null,q[3]]}var o=q[0]/255,v=q[1]/255,w=q[2]/255,y=q[3],x=Math.max(o,v,w),t=Math.min(o,v,w),z=x-t,A=x+t,p=A*0.5,u,B;if(t===x){u=0}else{if(o===x){u=(60*(v-w)/z)+360}else{if(v===x){u=(60*(w-o)/z)+120}else{u=(60*(o-v)/z)+240}}}if(p===0||p===1){B=p}else{if(p<=0.5){B=z/A}else{B=z/(2-A)}}return[Math.round(u)%360,B,p,y==null?1:y]};h.hsla.from=function(u){if(u[0]==null||u[1]==null||u[2]==null){return[null,null,null,u[3]]}var x=u[0]/360,B=u[1],w=u[2],A=u[3],t=w<=0.5?w*(1+B):w+B-w*B,v=2*w-t,o,y,z;return[Math.round(b(v,t,x+(1/3))*255),Math.round(b(v,t,x)*255),Math.round(b(v,t,x-(1/3))*255),A]};j(h,function(p,r){var q=r.props,o=r.cache,t=r.to,s=r.from;d.fn[p]=function(y){if(t&&!this[o]){this[o]=t(this._rgba)}if(y===c){return this[o].slice()}var x=n.type(y),u=(x==="array"||x==="object")?y:arguments,w=this[o].slice(),v;j(q,function(z,B){var A=u[x==="object"?z:B.idx];if(A==null){A=w[B.idx]}w[B.idx]=g(A,B)});if(s){v=d(s(w));v[o]=w;return v}else{return d(w)}};j(q,function(u,v){if(d.fn[u]){return}d.fn[u]=function(z){var B=n.type(z),y=(u==="alpha"?(this._hsla?"hsla":"rgba"):p),x=this[y](),A=x[v.idx],w;if(B==="undefined"){return A}if(B==="function"){z=z.call(this,A);B=n.type(z)}if(z==null&&v.empty){return this}if(B==="string"){w=f.exec(z);if(w){z=A+parseFloat(w[2])*(w[1]==="+"?1:-1)}}x[v.idx]=z;return this[y](x)}})});j(i,function(o,p){n.cssHooks[p]={set:function(s,t){t=d(t);if(!l.rgba&&t._rgba[3]!==1){var q,r=p==="backgroundColor"?s.parentNode:s;do{q=n.curCSS(r,"backgroundColor")}while((q===""||q==="transparent")&&(r=r.parentNode)&&r.style);t=t.blend(q&&q!=="transparent"?q:"_default")}t=t.toRgbaString();s.style[p]=t}};n.fx.step[p]=function(q){if(!q.colorInit){q.start=d(q.elem,p);q.end=d(q.end);q.colorInit=true}n.cssHooks[p].set(q.elem,q.start.transition(q.end,q.pos))}});n(function(){var p=document.createElement("div"),o=p.style;o.cssText="background-color:rgba(1,1,1,.5)";l.rgba=o.backgroundColor.indexOf("rgba")>-1});a=n.Color.names={aqua:"#00ffff",azure:"#f0ffff",beige:"#f5f5dc",black:"#000000",blue:"#0000ff",brown:"#a52a2a",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgrey:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkviolet:"#9400d3",fuchsia:"#ff00ff",gold:"#ffd700",green:"#008000",indigo:"#4b0082",khaki:"#f0e68c",lightblue:"#add8e6",lightcyan:"#e0ffff",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightyellow:"#ffffe0",lime:"#00ff00",magenta:"#ff00ff",maroon:"#800000",navy:"#000080",olive:"#808000",orange:"#ffa500",pink:"#ffc0cb",purple:"#800080",violet:"#800080",red:"#ff0000",silver:"#c0c0c0",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}})(jQuery);
/*!
 * jQuery postMessage - v0.5 - 9/11/2009
 * http://benalman.com/projects/jquery-postmessage-plugin/
 * 
 * Copyright (c) 2009 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
(function($){var b,d,j=1,a,f=this,g=!1,h="postMessage",c="addEventListener",e,i=f[h]&&!$.browser.opera;$[h]=function(k,m,l){if(!m){return}k=typeof k==="string"?k:$.param(k);l=l||parent;if(i){l[h](k,m.replace(/([^:]+:\/\/[^\/]+).*/,"$1"))}else{if(m){l.location=m.replace(/#.*$/,"")+"#"+(+new Date)+(j++)+"&"+k}}};$.receiveMessage=e=function(m,l,k){if(i){if(m){a&&e();a=function(n){if((typeof l==="string"&&n.origin!==l)||($.isFunction(l)&&l(n.origin)===g)){return g}m(n)}}if(f[c]){f[m?c:"removeEventListener"]("message",a,g)}else{f[m?"attachEvent":"detachEvent"]("onmessage",a)}}else{b&&clearInterval(b);b=null;if(m){k=typeof l==="number"?l:typeof k==="number"?k:100;b=setInterval(function(){var o=document.location.hash,n=/^#?\d+&/;if(o!==d&&n.test(o)){d=o;m({data:o.replace(n,"")})}},k)}}}})(jQuery);!function(a){a.fn.expando=function(b){return this.each(function(){var f=a(this);var e=f.data("expando");if(!("expando" in a.valHooks)){a.valHooks.expando={get:function(g){return a(g).find("textarea").val()},set:function(h,j){$el=a(h);var i=$el.find("textarea")[0];var g=$el.find("span")[0];i.value=j;if(i.addEventListener){g.textContent=i.value}else{if(i.attachEvent){g.innerText=i.value}}}}}if(!e){f.removeClass("expando").addClass("expandable");f.wrap('<div class="expando"></div>');f=f.parent();f.prepend("<pre><span></span><br></pre>");var c=f.find("span");var d=f.find("textarea");f.attr("style",d.attr("style"));d.attr("style","");f[0].type="expando";d=d[0];c=c[0];if(d.addEventListener){d.addEventListener("input",function(){c.textContent=d.value},false);c.textContent=d.value}else{if(d.attachEvent){d.attachEvent("onpropertychange",function(){c.innerText=d.value});c.innerText=d.value}}f.addClass("active");f.data("expando",true)}if(b!=undefined){f.val(b)}})}}(jQuery);var HelloBar=function(m,r,t){var k=this,e="http://www.hellobar.com",I="The HelloBar - a little bar that gets noticed!",M="hellobar",K,w={},O=30,g=3,p=5,d={afterOpen:null,afterClose:null,onOpen:null,onClose:null,onReady:null,height:O,borderSize:g,showWait:0,hideAfter:-1,wiggleWait:15000,barColor:"#eb593c",shadow:true,textColor:"#ffffff",linkColor:"#80ccff",linkStyle:"button",forgetful:false,positioning:"sticky",transition:"bouncy",speed:500,closable:true,helloBarLogo:true,tabSide:"right",showTabInstantly:false,texture:""};var B=true,j=false,o=k.isOpen=true,L=["wrapper","container","content","shadow","logo","close","open","pusher"],R={},s={wrapper:{type:"DIV",style:"display:none;"},container:{type:"DIV"},content:{type:"DIV"},shadow:{type:"DIV"},logo:{type:"A",href:e,title:I,text:I,target:"_blank"},close:{type:"A",href:"#close",text:"Close",onclick:function(){k.close();return false},onmouseover:function(){A()},onmouseout:function(){E()}},open:{type:"A",href:"#close",text:"Open",onclick:function(){k.open();return false},onmouseover:function(){A()},onmouseout:function(){E()}},pusher:{type:"DIV"}};var y=navigator.userAgent.toLowerCase(),P={chrome:y.match(/chrome/)?true:false,firefox:y.match(/firefox/)?true:false,firefox2:y.match(/firefox\/2/)?true:false,firefox30:y.match(/firefox\/3\.[0-9]/)?true:false,firefox40:y.match(/firefox\/4\.[0-9]/)?true:false,msie:y.match(/msie/)?true:false,msie6:(y.match(/msie 6/)&&!y.match(/msie 7|8/))?true:false,msie7:y.match(/msie 7/)?true:false,msie8:y.match(/msie 8/)?true:false,chromeFrame:(y.match(/msie/)&&y.match(/chrome/))?true:false,opera:y.match(/opera/)?true:false,safari:(y.match(/safari/)&&!y.match(/chrome/))?true:false};function D(){var T={};for(var aa=0;aa<L.length;aa++){var V=L[aa],U=true;if(w.closable===false){if(V=="close"||V=="open"){U=false}}if(typeof(w.helloBarLogo)!="undefined"){if(w.helloBarLogo){if(V=="logo"){U=true}}}if(U===true){var ab;for(var ae in s[V]){var W=s[V][ae];switch(ae){case"type":ab=document.createElement(W);break;case"text":ab.appendChild(document.createTextNode(W));break;case"onclick":ab.onclick=W;break;case"onmouseover":ab.onmouseover=W;break;case"onmouseout":ab.onmouseout=W;break;default:ab.setAttribute(ae,W);break}}ab.id=R[V];T[V]=ab}}if(B===false){T.container.style.top=(0-(w.height+w.borderSize))+"px"}if(w.positioning=="fixed"||w.positioning=="sticky"){if(P.msie6){w.positioning="overlap";T.pusher.style.display="none"}}switch(w.positioning){case"push":break;case"overlap":T.wrapper.style.position="absolute";T.wrapper.style.width="100%";T.wrapper.style.top="0";T.wrapper.style.left="0";T.wrapper.style.zIndex="5000";break;case"fixed":T.wrapper.style.position="fixed";T.wrapper.style.width="100%";T.wrapper.style.top="0";T.wrapper.style.left="0";T.wrapper.style.zIndex="5000";break;case"sticky":T.wrapper.style.position="fixed";T.wrapper.style.width="100%";T.wrapper.style.top="0";T.wrapper.style.left="0";T.wrapper.style.zIndex="5000";break}T.container.style.height=w.height+"px";T.wrapper.style.height=w.height+"px";T.pusher.style.height=0+"px";if(w.height<60){if(typeof(w.helloBarLogo)!="undefined"){if(w.helloBarLogo){T.logo.style.marginTop="-11px";T.logo.style.top="50%"}}if(T.close){T.close.style.marginTop="-10px";T.close.style.top="50%"}}if(typeof(w.texture)!="undefined"){if(w.texture!==""){var ag=T.container.className.split(" ");ag.push("texture");ag.push(w.texture);T.container.className=ag.join(" ")}}if(typeof(w.tabRadius)!="undefined"){if(w.tabRadius!==""){var Z=["borderRadius","mozBorderRadius","webkitBorderRadius","oBorderRadius","khtmlBorderRadius"];for(var Y in Z){if(typeof(document.body.style[Z[Y]])!=="undefined"){T.open.style[Z[Y]]=w.tabRadius}}}}if(typeof(w.borderSize)!="undefined"){if(w.borderSize!==""){T.container.style.borderBottomWidth=w.borderSize+"px";T.shadow.style.bottom=(0-(w.borderSize+p))+"px";if(T.open){T.open.style.borderWidth=w.borderSize+"px"}}}if(typeof(w.borderColor)!="undefined"){if(w.borderColor!==""){T.container.style.borderBottomColor=w.borderColor;T.open.style.borderColor=w.borderColor}}if(typeof(w.shadow)!="undefined"){if(!w.shadow){T.shadow.style.display="none"}}if(typeof(w.barColor)!="undefined"){if(w.barColor!==""){q(w.barColor);T.container.style.backgroundColor=w.barColor;if(T.open){T.open.style.backgroundColor=w.barColor}}}if(typeof(w.textColor)!="undefined"){if(w.textColor!==""){T.container.style.color=w.textColor}}if(typeof(w.fontWeight)!="undefined"){if(w.fontWeight!==""){T.container.style.fontWeight=w.fontWeight}}if(typeof(w.fontStyle)!="undefined"){if(w.fontStyle!==""){T.container.style.fontStyle=w.fontStyle}}if(typeof(w.lineHeight)!="undefined"){if(w.lineHeight!==""){T.container.style.lineHeight=w.lineHeight}}else{T.container.style.lineHeight=w.height+"px"}if(typeof(w.fontSize)!="undefined"){if(w.fontSize!==""){T.container.style.fontSize=w.fontSize}}if(typeof(w.fonts)!="undefined"){if(w.fonts!==""){T.container.style.fontFamily=w.fonts}}if(typeof(w.googleFont)!="undefined"){if(w.googleFont!==""){if(typeof(WebFontConfig)=="undefined"){WebFontConfig={google:{families:[w.googleFont]}};(function(){var aj=document.createElement("script");aj.src=("https:"==document.location.protocol?"https":"http")+"://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js";aj.type="text/javascript";aj.async="true";var ai=document.getElementsByTagName("script")[0];ai.parentNode.insertBefore(aj,ai)})()}T.container.style.fontFamily=w.googleFont.split(":")[0].replace(/\+/g," ")}}var af=T.wrapper.className.split(" ");af.push(M+"-"+w.tabSide);af.push(M+"-"+w.imageStyle);if(w.linkStyle!="link"){af.push(M+"-"+w.linkStyle)}T.wrapper.className=af.join(" ");T.content.innerHTML=unescape(k.message.replace(/\+/g," "));T.container.appendChild(T.content);if(typeof(w.helloBarLogo)!="undefined"){if(w.helloBarLogo){T.container.appendChild(T.logo)}}if(typeof(T.logo)!="undefined"){T.logo.href=T.logo.href+="?utm_source="+document.location.hostname+"&utm_medium=hellobar&utm_campaign=HBSolo"}if(w.closable===true){T.container.appendChild(T.close)}T.container.appendChild(T.shadow);T.wrapper.appendChild(T.container);if(w.closable===true){T.wrapper.appendChild(T.open)}document.body.children[0].parentNode.insertBefore(T.wrapper,document.body.children[0]);if(w.positioning=="sticky"){document.body.children[0].parentNode.insertBefore(T.pusher,document.body.children[0])}var ah=document.getElementById("hellobar-container").getElementsByTagName("A");for(var X in ah){var ac=ah[X],ad=null;if(typeof(ad)=="function"){ad()}if(ac.id===""){if(typeof(w.linkColor)!="undefined"){if(w.linkColor!==""){ac.style.color=w.linkColor}}ac.onclick=function(){if(typeof(ad)=="function"){ad()}}}else{if(ac.id==M+"-logo"){ac.onclick=function(){if(typeof(ad)=="function"){ad()}return false}}}}}function h(){var V=document.cookie.split("; ");for(var U=0;U<V.length;U++){var T=V[U].split("=")[0],W=V[U].split("=")[1];if(T==M+"_"+t+"_hide"){B=W==1?false:true}if(T==M+"_"+t+"_shown"){j=W==1?true:false}}}function n(Y,V,ab){if(w.forgetful===true){return false}var Z=false,X=new Date(),aa=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],U=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Nov","Dec"],T=new Date(X.getTime()+(365*86400000));if(typeof(ab)!="undefined"){if(ab===true){T=new Date(X.getTime()-(1*86400000))}if(ab=="this_session"){Z=true}}var W=aa[T.getUTCDay()]+", "+T.getUTCDate()+" "+U[T.getUTCMonth()]+" "+T.getUTCFullYear()+" "+T.getUTCHours()+":"+T.getUTCMinutes()+":"+T.getUTCSeconds()+" UTC";if(Z){document.cookie=Y+"="+V+"; path=/"}else{document.cookie=Y+"="+V+"; expires="+W+"; path=/"}}function F(T){if(o){n(M+"_"+t+"_hide",1);n(M+"_"+t+"_shown",0,"this_session");if(typeof(w.onClose)=="function"){w.onClose(k,w,"onClose")}a(b(function(){if(typeof(w.afterClose)=="function"){w.afterClose(k,w,"afterClose")}if(typeof(T)=="function"){T(k,w,"afterClose")}}));o=k.isOpen=false}}function v(T){if(!o){if(w.hideAfter<w.showWait){clearInterval(window._hellobar_wiggleWaitTimer);clearTimeout(window._hellobar_hideAfterTimer)}n(M+"_"+t+"_hide",0,true);n(M+"_"+t+"_shown",1,"this_session");if(typeof(w.onOpen)=="function"){w.onOpen(k,w,"onOpen")}i(N(function(){if(typeof(w.afterOpen)=="function"){w.afterOpen(k,w,"afterOpen")}if(typeof(T)=="function"){T(k,w,"afterOpen")}}));o=k.isOpen=true}}function A(){k.elements.open.style.backgroundColor=z(w.barColor)}function E(){k.elements.open.style.backgroundColor=w.barColor}function S(){var T=3;return function(U){return((-Math.cos(U*Math.PI*((1+(2*T))*U))/2)+0.5)}}function C(){var T=new Animator({transition:S(),duration:500}).addSubject(new NumericalStyleSubject(k.elements.open,"right",10,13));T.play()}function G(){if(w.wiggleWait>0){window._hellobar_wiggleWaitTimer="";window._hellobar_wiggleWaitTimer=setInterval(function(){C()},w.wiggleWait)}}function a(U){var T=new Animator({transition:Animator.tx[w.transition],duration:w.speed,onComplete:function(){if(typeof(U)=="function"){U()}}}).addSubject(new NumericalStyleSubject(k.elements.open,"top",-96,-50));T.play()}function Q(){k.elements.open.style.top="-50px"}function i(U){var T=new Animator({transition:Animator.tx[w.transition],duration:w.speed,onComplete:function(){if(typeof(U)=="function"){U()}}}).addSubject(new NumericalStyleSubject(k.elements.open,"top",-50,-96));T.play()}function N(U){var T=new Animator({transition:Animator.tx[w.transition],duration:w.speed,onComplete:function(){U(k,w,"afterOpen")}}).addSubject(new NumericalStyleSubject(k.elements.wrapper,"height",0,(w.height+w.borderSize))).addSubject(new NumericalStyleSubject(k.elements.container,"top",(0-(w.height+w.borderSize+p)),0));if(w.positioning=="sticky"){T.addSubject(new NumericalStyleSubject(k.elements.pusher,"height",0,(0)))}T.play()}function b(U){var T=new Animator({transition:Animator.tx.easeOut,duration:w.speed,onComplete:function(){U(k,w,"afterClose")}}).addSubject(new NumericalStyleSubject(k.elements.wrapper,"height",(w.height+w.borderSize),0)).addSubject(new NumericalStyleSubject(k.elements.container,"top",0,(0-(w.height+w.borderSize+p))));if(w.positioning=="sticky"){T.addSubject(new NumericalStyleSubject(k.elements.pusher,"height",(0),0))}T.play()}function H(T){if(!T.match("^#")){T="#"+T}if(T.length==4){return"#"+T.substr(1,3)+T.substr(1,3)}return T}function l(T){return new RGBColor(T)}function c(T){if(T.match("^rgb")){return true}else{return false}}function u(T){var U=T.match(/((\d+)?\.?\d+)/g);return{r:U[0],g:U[1],b:U[2]}}function J(U){if(c(U)){rgb=u(U)}else{hex=H(U);rgb=l(hex)}if(rgb){var T=((rgb.r*299)+(rgb.g*587)+(rgb.b*114))/1000;if(T>125){return true}else{return false}}}function q(T){if(J(T)){w.imageStyle="dark-images"}else{w.imageStyle="light-images"}}function z(U){if(c(U)){rgb=u(U)}else{hex=H(U);rgb=l(hex)}if(J(U)){var T=38;return"rgb("+Math.min(rgb.r+T,255)+","+Math.min(rgb.g+T,255)+","+Math.min(rgb.b+T,255)+")"}else{var T=(0-38);return"rgb("+Math.max(rgb.r+T,0)+","+Math.max(rgb.g+T,0)+","+Math.max(rgb.b+T,0)+")"}var T=38;return"rgb("+Math.min(rgb.r+T,255)+","+Math.min(rgb.g+T,255)+","+Math.min(rgb.b+T,255)+")"}function x(){var T=Math.floor(new Date().getTime()/1000);return T}this.close=function(T){F(T);return false};this.open=function(T){v(T);clearTimeout(window._hellobar_wiggleWaitTimer);return false};function f(ad,Y,Z){k.message=ad;if(document.getElementById("hellobar-wrapper")){document.getElementById("hellobar-wrapper").parentNode.removeChild(document.getElementById("hellobar-wrapper"))}if(document.getElementById("hellobar-pusher")){document.getElementById("hellobar-pusher").parentNode.removeChild(document.getElementById("hellobar-pusher"))}clearTimeout(window._hellobar_showWaitTimer);clearTimeout(window._hellobar_hideAfterTimer);clearTimeout(window._hellobar_wiggleWaitTimer);var ab=document.cookie.match(/hellobar_current\=([0-9]+)/);if(ab){var aa=ab[1];if(parseInt(aa,10)!=parseInt(Z,10)){var ac=document.cookie.match(/hellobar_([0-9]+)_(variation|hide|shown)/g);for(var U in ac){var V=ac[U];n(V,0,true)}n("hellobar_current",0,true)}}n("hellobar_current",Z);K=x();for(var X in L){keyname=L[X];R[keyname]=[M,keyname].join("-")}for(var W in d){w[W]=d[W]}if(typeof(Y)!="undefined"){for(var W in Y){w[W]=Y[W]}}if(typeof(w.hideDestination)!="undefined"){if(w.hideDestination==1&&document.location.href==w.destinationUrl){return false}}if(w.forgetful===false){h()}else{G()}w.height=Math.max(w.height,O);if(w.height>O){w.texture=""}if(!document.getElementById(R.wrapper)){D();k.elements={};for(var X=0;X<L.length;X++){var T=L[X];k.elements[T]=document.getElementById(R[T])}document.getElementById(R.wrapper).hellobar=k;if(typeof(w.onReady)=="function"){w.onReady(k,w,"onReady")}}if(B===true&&j===true){k.elements.wrapper.style.display="block";k.elements.container.style.top="0px";k.elements.wrapper.style.height=(w.height+w.borderSize)+"px";if(w.positioning=="sticky"){k.elements.pusher.style.height=(0-(0))+"px"}}k.elements.wrapper.style.display="block";if(B===true){if(k.elements.open){k.elements.open.style.top="-96px"}if(j!==true){if(w.showWait>0){if((w.showWait<w.hideAfter)||(w.hideAfter<0)){k.elements.container.style.top=(0-(w.height+w.borderSize+p))+"px";k.elements.wrapper.style.height="0px";if(w.positioning=="sticky"){k.elements.pusher.style.height="0px"}if(w.showTabInstantly){Q()}else{a()}o=k.isOpen=false}window._hellobar_showWaitTimer="";window._hellobar_showWaitTimer=setTimeout(function(){v()},w.showWait)}else{v()}}if(w.hideAfter>0){w.hideAfter=w.hideAfter+w.showWait;window._hellobar_hideAfterTimer="";window._hellobar_hideAfterTimer=setTimeout(function(){F()},w.hideAfter)}}else{k.elements.container.style.top=(0-(w.height+w.borderSize+p))+"px";k.elements.wrapper.style.height="0px";if(w.positioning=="sticky"){k.elements.pusher.style.height="0px"}a();o=k.isOpen=false;G()}}f(m,r,t)};function Animator(d){this.setOptions(d);var c=this;this.timerDelegate=function(){c.onTimerEvent()};this.subjects=[];this.state=this.target=0;this.lastTime=null}Animator.prototype={setOptions:function(b){this.options=Animator.applyDefaults({interval:20,duration:400,onComplete:function(){},onStep:function(){},transition:Animator.tx.easeInOut},b)},seekTo:function(b){this.seekFromTo(this.state,b)},seekFromTo:function(d,c){this.target=Math.max(0,Math.min(1,c));this.state=Math.max(0,Math.min(1,d));this.lastTime=(new Date).getTime();if(!this.intervalId){this.intervalId=window.setInterval(this.timerDelegate,this.options.interval)}},jumpTo:function(b){this.target=this.state=Math.max(0,Math.min(1,b));this.propagate()},toggle:function(){this.seekTo(1-this.target)},addSubject:function(b){this.subjects[this.subjects.length]=b;return this},clearSubjects:function(){this.subjects=[]},propagate:function(){for(var d=this.options.transition(this.state),c=0;c<this.subjects.length;c++){if(this.subjects[c].setState){this.subjects[c].setState(d)}else{this.subjects[c](d)}}},onTimerEvent:function(){var d=(new Date).getTime(),c=d-this.lastTime;this.lastTime=d;d=c/this.options.duration*(this.state<this.target?1:-1);Math.abs(d)>=Math.abs(this.state-this.target)?this.state=this.target:this.state+=d;try{this.propagate()}finally{this.options.onStep.call(this),this.target==this.state&&this.stop()}},stop:function(){if(this.intervalId){window.clearInterval(this.intervalId),this.intervalId=null,this.options.onComplete.call(this)}},play:function(){this.seekFromTo(0,1)},reverse:function(){this.seekFromTo(1,0)},inspect:function(){for(var d="#<Animator:\n",c=0;c<this.subjects.length;c++){d+=this.subjects[c].inspect()}d+=">";return d}};Animator.applyDefaults=function(f,e){var e=e||{},h,g={};for(h in f){g[h]=e[h]!==void 0?e[h]:f[h]}return g};Animator.makeArrayOfElements=function(e){if(e==null){return[]}if("string"==typeof e){return[document.getElementById(e)]}if(!e.length){return[e]}for(var d=[],f=0;f<e.length;f++){d[f]="string"==typeof e[f]?document.getElementById(e[f]):e[f]}return d};Animator.camelize=function(g){var f=g.split("-");if(f.length==1){return f[0]}for(var g=g.indexOf("-")==0?f[0].charAt(0).toUpperCase()+f[0].substring(1):f[0],j=1,i=f.length;j<i;j++){var h=f[j];g+=h.charAt(0).toUpperCase()+h.substring(1)}return g};Animator.apply=function(e,d,f){if(d instanceof Array){return(new Animator(f)).addSubject(new CSSStyleSubject(e,d[0],d[1]))}return(new Animator(f)).addSubject(new CSSStyleSubject(e,d))};Animator.makeEaseIn=function(b){return function(a){return Math.pow(a,b*2)}};Animator.makeEaseOut=function(b){return function(a){return 1-Math.pow(1-a,b*2)}};Animator.makeElastic=function(b){return function(a){a=Animator.tx.easeInOut(a);return(1-Math.cos(a*Math.PI*b))*(1-a)+a}};Animator.makeADSR=function(f,e,h,g){g==null&&(g=0.5);return function(a){if(a<f){return a/f}if(a<e){return 1-(a-f)/(e-f)*(1-g)}if(a<h){return g}return g*(1-(a-h)/(1-h))}};Animator.makeBounce=function(d){var c=Animator.makeElastic(d);return function(b){b=c(b);return b<=1?b:2-b}};Animator.tx={easeInOut:function(b){return -Math.cos(b*Math.PI)/2+0.5},linear:function(b){return b},easeIn:Animator.makeEaseIn(1.5),easeOut:Animator.makeEaseOut(1.5),strongEaseIn:Animator.makeEaseIn(2.5),strongEaseOut:Animator.makeEaseOut(2.5),elastic:Animator.makeElastic(1),veryElastic:Animator.makeElastic(3),bouncy:Animator.makeBounce(1),veryBouncy:Animator.makeBounce(3)};function NumericalStyleSubject(g,f,j,i,h){this.els=Animator.makeArrayOfElements(g);this.property=f=="opacity"&&window.ActiveXObject?"filter":Animator.camelize(f);this.from=parseFloat(j);this.to=parseFloat(i);this.units=h!=null?h:"px"}NumericalStyleSubject.prototype={setState:function(f){for(var f=this.getStyle(f),e=0,h=0;h<this.els.length;h++){try{this.els[h].style[this.property]=f}catch(g){if(this.property!="fontWeight"){throw g}}if(e++>20){break}}},getStyle:function(b){b=this.from+(this.to-this.from)*b;if(this.property=="filter"){return"alpha(opacity="+Math.round(b*100)+")"}if(this.property=="opacity"){return b}return Math.round(b)+this.units},inspect:function(){return"\t"+this.property+"("+this.from+this.units+" to "+this.to+this.units+")\n"}};function ColorStyleSubject(f,e,h,g){this.els=Animator.makeArrayOfElements(f);this.property=Animator.camelize(e);this.to=this.expandColor(g);this.from=this.expandColor(h);this.origFrom=h;this.origTo=g}ColorStyleSubject.prototype={expandColor:function(e){var d,f;if(d=ColorStyleSubject.parseColor(e)){return e=parseInt(d.slice(1,3),16),f=parseInt(d.slice(3,5),16),d=parseInt(d.slice(5,7),16),[e,f,d]}window.ANIMATOR_DEBUG&&alert("Invalid colour: '"+e+"'")},getValueForState:function(d,c){return Math.round(this.from[d]+(this.to[d]-this.from[d])*c)},setState:function(d){for(var d="#"+ColorStyleSubject.toColorPart(this.getValueForState(0,d))+ColorStyleSubject.toColorPart(this.getValueForState(1,d))+ColorStyleSubject.toColorPart(this.getValueForState(2,d)),c=0;c<this.els.length;c++){this.els[c].style[this.property]=d}},inspect:function(){return"\t"+this.property+"("+this.origFrom+" to "+this.origTo+")\n"}};ColorStyleSubject.parseColor=function(f){var e="#",h;if(h=ColorStyleSubject.parseColor.rgbRe.exec(f)){for(var g=1;g<=3;g++){f=Math.max(0,Math.min(255,parseInt(h[g]))),e+=ColorStyleSubject.toColorPart(f)}return e}if(h=ColorStyleSubject.parseColor.hexRe.exec(f)){if(h[1].length==3){for(g=0;g<3;g++){e+=h[1].charAt(g)+h[1].charAt(g)}return e}return"#"+h[1]}return !1};ColorStyleSubject.toColorPart=function(d){d>255&&(d=255);var c=d.toString(16);if(d<16){return"0"+c}return c};ColorStyleSubject.parseColor.rgbRe=/^rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/i;ColorStyleSubject.parseColor.hexRe=/^\#([0-9a-fA-F]{3}|[0-9a-fA-F]{6})$/;function DiscreteStyleSubject(g,f,j,i,h){this.els=Animator.makeArrayOfElements(g);this.property=Animator.camelize(f);this.from=j;this.to=i;this.threshold=h||0.5}DiscreteStyleSubject.prototype={setState:function(d){for(var c=0;c<this.els.length;c++){this.els[c].style[this.property]=d<=this.threshold?this.from:this.to}},inspect:function(){return"\t"+this.property+"("+this.from+" to "+this.to+" @ "+this.threshold+")\n"}};function CSSStyleSubject(t,s,r){t=Animator.makeArrayOfElements(t);this.subjects=[];if(t.length!=0){var q;if(r){s=this.parseStyle(s,t[0]),r=this.parseStyle(r,t[0])}else{for(q in r=this.parseStyle(s,t[0]),s={},r){s[q]=CSSStyleSubject.getStyle(t[0],q)}}for(q in s){s[q]==r[q]&&(delete s[q],delete r[q])}var p,o,m,k;for(q in s){var l=String(s[q]),n=String(r[q]);if(r[q]==null){window.ANIMATOR_DEBUG&&alert("No to style provided for '"+q+'"')}else{if(m=ColorStyleSubject.parseColor(l)){k=ColorStyleSubject.parseColor(n),o=ColorStyleSubject}else{if(l.match(CSSStyleSubject.numericalRe)&&n.match(CSSStyleSubject.numericalRe)){m=parseFloat(l),k=parseFloat(n),o=NumericalStyleSubject,p=CSSStyleSubject.numericalRe.exec(l),n=CSSStyleSubject.numericalRe.exec(n),p=p[1]!=null?p[1]:n[1]!=null?n[1]:n}else{if(l.match(CSSStyleSubject.discreteRe)&&n.match(CSSStyleSubject.discreteRe)){m=l,k=n,o=DiscreteStyleSubject,p=0}else{window.ANIMATOR_DEBUG&&alert("Unrecognised format for value of "+q+": '"+s[q]+"'");continue}}}this.subjects[this.subjects.length]=new o(t,q,m,k,p)}}}}CSSStyleSubject.prototype={parseStyle:function(i,g){var n={};if(i.indexOf(":")!=-1){for(var m=i.split(";"),l=0;l<m.length;l++){var k=CSSStyleSubject.ruleRe.exec(m[l]);k&&(n[k[1]]=k[2])}}else{var j;j=g.className;g.className=i;for(l=0;l<CSSStyleSubject.cssProperties.length;l++){m=CSSStyleSubject.cssProperties[l],k=CSSStyleSubject.getStyle(g,m),k!=null&&(n[m]=k)}g.className=j}return n},setState:function(d){for(var c=0;c<this.subjects.length;c++){this.subjects[c].setState(d)}},inspect:function(){for(var d="",c=0;c<this.subjects.length;c++){d+=this.subjects[c].inspect()}return d}};CSSStyleSubject.getStyle=function(e,d){var f;if(document.defaultView&&document.defaultView.getComputedStyle&&(f=document.defaultView.getComputedStyle(e,"").getPropertyValue(d))){return f}d=Animator.camelize(d);e.currentStyle&&(f=e.currentStyle[d]);return f||e.style[d]};CSSStyleSubject.ruleRe=/^\s*([a-zA-Z\-]+)\s*:\s*(\S(.+\S)?)\s*$/;CSSStyleSubject.numericalRe=/^-?\d+(?:\.\d+)?(%|[a-zA-Z]{2})?$/;CSSStyleSubject.discreteRe=/^\w+$/;CSSStyleSubject.cssProperties=["azimuth","background","background-attachment","background-color","background-image","background-position","background-repeat","border-collapse","border-color","border-spacing","border-style","border-top","border-top-color","border-right-color","border-bottom-color","border-left-color","border-top-style","border-right-style","border-bottom-style","border-left-style","border-top-width","border-right-width","border-bottom-width","border-left-width","border-width","bottom","clear","clip","color","content","cursor","direction","display","elevation","empty-cells","css-float","font","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","height","left","letter-spacing","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-top","margin-right","margin-bottom","margin-left","max-height","max-width","min-height","min-width","orphans","outline","outline-color","outline-style","outline-width","overflow","padding","padding-top","padding-right","padding-bottom","padding-left","pause","position","right","size","table-layout","text-align","text-decoration","text-indent","text-shadow","text-transform","top","vertical-align","visibility","white-space","width","word-spacing","z-index","opacity","outline-offset","overflow-x","overflow-y"];function AnimatorChain(e,d){this.animators=e;this.setOptions(d);for(var f=0;f<this.animators.length;f++){this.listenTo(this.animators[f])}this.forwards=!1;this.current=0}AnimatorChain.prototype={setOptions:function(b){this.options=Animator.applyDefaults({resetOnPlay:!0},b)},play:function(){this.forwards=!0;this.current=-1;if(this.options.resetOnPlay){for(var b=0;b<this.animators.length;b++){this.animators[b].jumpTo(0)}}this.advance()},reverse:function(){this.forwards=!1;this.current=this.animators.length;if(this.options.resetOnPlay){for(var b=0;b<this.animators.length;b++){this.animators[b].jumpTo(1)}}this.advance()},toggle:function(){this.forwards?this.seekTo(0):this.seekTo(1)},listenTo:function(e){var d=e.options.onComplete,f=this;e.options.onComplete=function(){d&&d.call(e);f.advance()}},advance:function(){this.forwards?this.animators[this.current+1]!=null&&(this.current++,this.animators[this.current].play()):this.animators[this.current-1]!=null&&(this.current--,this.animators[this.current].reverse())},seekTo:function(b){b<=0?(this.forwards=!1,this.animators[this.current].seekTo(0)):(this.forwards=!0,this.animators[this.current].seekTo(1))}};function RGBColor(g){this.ok=false;if(g.charAt(0)=="#"){g=g.substr(1,6)}g=g.replace(/ /g,"");g=g.toLowerCase();var a={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};for(var c in a){if(g==c){g=a[c]}}var h=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(i){return[parseInt(i[1]),parseInt(i[2]),parseInt(i[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(i){return[parseInt(i[1],16),parseInt(i[2],16),parseInt(i[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(i){return[parseInt(i[1]+i[1],16),parseInt(i[2]+i[2],16),parseInt(i[3]+i[3],16)]}}];for(var b=0;b<h.length;b++){var e=h[b].re,d=h[b].process,f=e.exec(g);if(f){channels=d(f);this.r=channels[0];this.g=channels[1];this.b=channels[2];this.ok=true}}this.r=(this.r<0||isNaN(this.r))?0:((this.r>255)?255:this.r);this.g=(this.g<0||isNaN(this.g))?0:((this.g>255)?255:this.g);this.b=(this.b<0||isNaN(this.b))?0:((this.b>255)?255:this.b);this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"};this.toHex=function(){var k=this.r.toString(16),j=this.g.toString(16),i=this.b.toString(16);if(k.length==1){k="0"+k}if(j.length==1){j="0"+j}if(i.length==1){i="0"+i}return"#"+k+j+i};this.getHelpXML=function(){var m=new Array();for(var o=0;o<h.length;o++){var l=h[o].example;for(var n=0;n<l.length;n++){m[m.length]=l[n]}}for(var t in a){m[m.length]=t}var p=document.createElement("ul");p.setAttribute("id","rgbcolor-examples");for(var o=0;o<m.length;o++){try{var q=document.createElement("li"),s=new RGBColor(m[o]),u=document.createElement("div");u.style.cssText="margin: 3px; border: 1px solid black; background:"+s.toHex()+"; color:"+s.toHex();u.appendChild(document.createTextNode("test"));var k=document.createTextNode(" "+m[o]+" -> "+s.toRGB()+" -> "+s.toHex());q.appendChild(u);q.appendChild(k);p.appendChild(q)}catch(r){}}return p}}(function(a){a.cookie=function(e,f,c){if(arguments.length>1&&String(f)!=="[object Object]"){c=jQuery.extend({},c);if(f===null||f===undefined){c.expires=-1}if(typeof c.expires==="number"){var h=c.expires,d=c.expires=new Date();d.setDate(d.getDate()+h)}f=String(f);return(document.cookie=[encodeURIComponent(e),"=",c.raw?f:encodeURIComponent(f),c.expires?"; expires="+c.expires.toUTCString():"",c.path?"; path="+c.path:"",c.domain?"; domain="+c.domain:"",c.secure?"; secure":""].join(""))}c=f||{};var b,g=c.raw?function(i){return i}:decodeURIComponent;return(b=new RegExp("(?:^|; )"+encodeURIComponent(e)+"=([^;]*)").exec(document.cookie))?g(b[1]):null}})(jQuery);!function(a){var c="38,38,40,40,37,39,37,39,66,65",b=[];a(document).keyup(function(d){b.push(d.keyCode);if(b.toString().indexOf(c)>=0){console.log("konami!");a(window).trigger("konami");b=[]}})}(jQuery);(function(a){a.fn.fitVids=function(b){var c={customSelector:null};var e=document.createElement("div"),d=document.getElementsByTagName("base")[0]||document.getElementsByTagName("script")[0];e.className="fit-vids-style";e.innerHTML="&shy;<style>               .fluid-width-video-wrapper {                 width: 100%;                              position: relative;                       padding: 0;                            }                                                                                   .fluid-width-video-wrapper iframe,        .fluid-width-video-wrapper object,        .fluid-width-video-wrapper embed {           position: absolute;                       top: 0;                                   left: 0;                                  width: 100%;                              height: 100%;                          }                                       </style>";d.parentNode.insertBefore(e,d);if(b){a.extend(c,b)}return this.each(function(){var f=["iframe[src*='player.vimeo.com']","iframe[src*='www.youtube.com']","iframe[src*='www.kickstarter.com']","object","embed"];if(c.customSelector){f.push(c.customSelector)}var g=a(this).find(f.join(","));g.each(function(){var k=a(this);if(this.tagName.toLowerCase()=="embed"&&k.parent("object").length||k.parent(".fluid-width-video-wrapper").length){return}var h=this.tagName.toLowerCase()=="object"?k.attr("height"):k.height(),i=h/k.width();if(!k.attr("id")){var j="fitvid"+Math.floor(Math.random()*999999);k.attr("id",j)}k.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",(i*100)+"%");k.removeAttr("height").removeAttr("width")})})}})(jQuery);(function(){var N=Object,D=Array,bq=RegExp,a4=Date,a=String,aY=Number,aU=Math,u;var ar=typeof global!=="undefined"?global:this;var bL=N.defineProperty&&N.defineProperties;var C="Array,Boolean,Date,Function,Number,String,RegExp".split(",");var aF=by(C[0]);var aH=by(C[1]);var am=by(C[2]);var x=by(C[3]);var aq=by(C[4]);var bo=by(C[5]);var bK=by(C[6]);function by(cd){return function(ce){return bx(ce,cd)}}function bx(cd,ce){return N.prototype.toString.call(cd)==="[object "+ce+"]"}function bZ(){b4(N);aP(C,function(ce,cd){b4(ar[cd])})}function b4(cd){if(cd.SugarMethods){return}bw(cd,"SugarMethods",{});be(cd,false,false,{restore:function(){var cf=arguments.length===0,ce=b0(arguments);aP(cd.SugarMethods,function(ch,cg){if(cf||ce.indexOf(ch)>-1){bw(cg.instance?cd.prototype:cd,ch,cg.method)}})},extend:function(cf,cg,ce){be(cd,ce!==false,cg,cf)}})}function be(ce,cd,ch,cf){var ci=cd?ce.prototype:ce,cg;b4(ce);aP(cf,function(cj,ck){cg=ci[cj];if(typeof ch==="function"){ck=P(ci[cj],ck,ch)}if(ch!==false||!ci[cj]){bw(ci,cj,ck)}ce.SugarMethods[cj]={instance:cd,method:ck,original:cg}})}function ao(ce,cd,cg,ci,ch){var cf={};ci=bo(ci)?ci.split(","):ci;ci.forEach(function(cj,ck){ch(cf,cj,ck)});be(ce,cd,cg,cf)}function P(ce,cd,cf){return function(){if(ce&&(cf===true||!cf.apply(this,arguments))){return ce.apply(this,arguments)}else{return cd.apply(this,arguments)}}}function bw(ce,cd,cf){if(bL){N.defineProperty(ce,cd,{value:cf,configurable:true,enumerable:false,writable:true})}else{ce[cd]=cf}}function b0(ce,cg){var cd=[],cf=0;for(cf=0;cf<ce.length;cf++){cd.push(ce[cf]);if(cg){cg.call(ce,ce[cf],cf)}}return cd}function bF(cd){return cd!==u}function aX(cd){return cd===u}function T(cd){return cd&&typeof cd==="object"}function cb(cd){return !!cd&&bx(cd,"Object")&&a(cd.constructor)===a(N)}function ab(ce,cd){return N.hasOwnProperty.call(ce,cd)}function aP(cf,ce){var cd;for(cd in cf){if(!ab(cf,cd)){continue}if(ce.call(cf,cd,cf[cd])===false){break}}}function a5(ce,cd){aP(cd,function(cf){ce[cf]=cd[cf]});return ce}function a6(cd){a5(this,cd)}a6.prototype.constructor=N;function bV(cj,cf,cg,ch){var cd=[],ce=parseInt(cj),ci=ch<0;while((!ci&&ce<=cf)||(ci&&ce>=cf)){cd.push(ce);if(cg){cg.call(this,ce)}ce+=ch||1}return cd}function J(cf,cd,ch){var ce=aU[ch||"round"];var cg=aU.pow(10,aU.abs(cd||0));if(cd<0){cg=1/cg}return ce(cf*cg)/cg}function Y(ce,cd){return J(ce,cd,"ceil")}function bG(ce,cd){return J(ce,cd,"floor")}function bu(cf,ce,cd,cg){var ch=aU.abs(cf).toString(cg||10);ch=ay(ce-ch.replace(/\.\d+/,"").length,"0")+ch;if(cd||cf<0){ch=(cf<0?"-":"+")+ch}return ch}function z(cd){if(cd>=11&&cd<=13){return"th"}else{switch(cd%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}}}function G(){return"\u0009\u000A\u000B\u000C\u000D\u0020\u00A0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u2028\u2029\u3000\uFEFF"}function ay(ce,cd){return D(aU.max(0,bF(ce)?ce:1)+1).join(cd||"")}function aT(ce,cf){var cd=ce.toString().match(/[^/]*$/)[0];if(cf){cd=(cd+cf).split("").sort().join("").replace(/([gimy])\1+/g,"$1")}return cd}function bb(cd){if(!bo(cd)){cd=a(cd)}return cd.replace(/([\\/'*+?|()\[\]{}.^$])/g,"\\$1")}function E(cl,ci){var cj,cg,cm,cf,ce,cd,ck,ch=typeof cl;if(ch==="string"){return cl}cg=N.prototype.toString.call(cl);cm=cg==="[object Object]";cf=cg==="[object Array]";if(cl!=null&&cm||cf){if(!ci){ci=[]}if(ci.length>1){cd=ci.length;while(cd--){if(ci[cd]===cl){return"CYC"}}}ci.push(cl);cj=a(cl.constructor);ce=cf?cl:N.keys(cl).sort();for(cd=0;cd<ce.length;cd++){ck=cf?cd:ce[cd];cj+=ck+E(cl[ck],ci)}ci.pop()}else{if(1/cl===-Infinity){cj="-0"}else{cj=a(cl&&cl.valueOf())}}return ch+cg+cj}function bT(ce,cg,cj){var cd=[],ci=ce.length,cf=cg[cg.length-1]!==false,ch;b0(cg,function(ck){if(aH(ck)){return false}if(cf){ck=ck%ci;if(ck<0){ck=ci+ck}}ch=cj?ce.charAt(ck)||"":ce[ck];cd.push(ch)});return cd.length<2?cd[0]:cd}function bQ(ce,cd){ao(cd,true,false,ce,function(cf,cg){cf[cg+(cg==="equal"?"s":"")]=function(){return N[cg].apply(null,[this].concat(b0(arguments)))}})}bZ();be(N,false,false,{keys:function(ce){var cd=[];if(!T(ce)&&!bK(ce)&&!x(ce)){throw new TypeError("Object required")}aP(ce,function(cf,cg){cd.push(cf)});return cd}});function W(ce,cg,ch,cd){var cj=ce.length,ci=cd==-1,ck=ci?cj-1:0,cf=aS(ch,ck);if(cf<0){cf=cj+cf}if((!ci&&cf<0)||(ci&&cf>=cj)){cf=ck}while((ci&&cf>=0)||(!ci&&cf<cj)){if(ce[cf]===cg){return cf}cf+=cd}return -1}function bM(cg,cj,ck,cd){var ce=cg.length,ci=0,cf=bF(ck),cl,ch;bk(cj);if(ce==0&&!cf){throw new TypeError("Reduce called on empty array with no initial value")}else{if(cf){cl=ck}else{cl=cg[cd?ce-1:ci];ci++}}while(ci<ce){ch=cd?ce-ci-1:ci;if(ch in cg){cl=cj(cl,cg[ch],ch,cg)}ci++}return cl}function aS(cd,ce){if(isNaN(cd)){return ce}else{return parseInt(cd>>0)}}function bk(cd){if(!cd||!cd.call){throw new TypeError("Callback is not callable")}}function A(cd){if(cd.length===0){throw new TypeError("First argument must be defined")}}be(D,false,false,{isArray:function(cd){return bx(cd,"Array")}});be(D,true,false,{every:function(cf,ce){var cg=this.length,cd=0;A(arguments);while(cd<cg){if(cd in this&&!cf.call(ce,this[cd],cd,this)){return false}cd++}return true},some:function(cf,ce){var cg=this.length,cd=0;A(arguments);while(cd<cg){if(cd in this&&cf.call(ce,this[cd],cd,this)){return true}cd++}return false},map:function(cg,cf){var ch=this.length,ce=0,cd=new Array(ch);A(arguments);while(ce<ch){if(ce in this){cd[ce]=cg.call(cf,this[ce],ce,this)}ce++}return cd},filter:function(cg,cf){var ch=this.length,ce=0,cd=[];A(arguments);while(ce<ch){if(ce in this&&cg.call(cf,this[ce],ce,this)){cd.push(this[ce])}ce++}return cd},indexOf:function(cd,ce){if(bo(this)){return this.indexOf(cd,ce)}return W(this,cd,ce,1)},lastIndexOf:function(cd,ce){if(bo(this)){return this.lastIndexOf(cd,ce)}return W(this,cd,ce,-1)},forEach:function(cf,ce){var cg=this.length,cd=0;bk(cf);while(cd<cg){if(cd in this){cf.call(ce,this[cd],cd,this)}cd++}},reduce:function(cd,ce){return bM(this,cd,ce)},reduceRight:function(cd,ce){return bM(this,cd,ce,true)}});function bj(){var cd=G().match(/^\s+$/);try{a.prototype.trim.call([1])}catch(ce){cd=false}be(a,true,!cd,{trim:function(){return this.toString().trimLeft().trimRight()},trimLeft:function(){return this.replace(bq("^["+G()+"]+"),"")},trimRight:function(){return this.replace(bq("["+G()+"]+$"),"")}})}function j(){var cd=false;if(Function.prototype.bind){function ce(){}var cf=ce.bind();cd=(new cf instanceof cf)&&!(new ce instanceof cf)}be(Function,true,!cd,{bind:function(cj){var ci=this,cg=b0(arguments).slice(1),ck,ch;if(!x(this)){throw new TypeError("Function.prototype.bind called on a non-function")}ch=function(){return ci.apply(ci.prototype&&this instanceof ci?this:cj,cg.concat(b0(arguments)))};ck=function(){};ck.prototype=this.prototype;ch.prototype=new ck();return ch}})}be(a4,false,false,{now:function(){return new a4().getTime()}});function ax(){var cf=new a4(a4.UTC(1999,11,31)),ce="1999-12-31T00:00:00.000Z";var cd=cf.toISOString&&cf.toISOString()===ce;ao(a4,true,!cd,"toISOString,toJSON",function(cg,ch){cg[ch]=function(){return bu(this.getUTCFullYear(),4)+"-"+bu(this.getUTCMonth()+1,2)+"-"+bu(this.getUTCDate(),2)+"T"+bu(this.getUTCHours(),2)+":"+bu(this.getUTCMinutes(),2)+":"+bu(this.getUTCSeconds(),2)+"."+bu(this.getUTCMilliseconds(),3)+"Z"}})}bj();j();ax();function bE(cg,ce,cf,ch){var cd=true;if(cg===ce){return true}else{if(bK(ce)&&bo(cg)){return bq(ce).test(cg)}else{if(x(ce)){return ce.apply(cf,ch)}else{if(cb(ce)&&T(cg)){aP(ce,function(ci,cj){if(!bE(cg[ci],ce[ci],cf,[cg[ci],cg])){cd=false}});return N.keys(ce).length>0&&cd}else{return E(cg)===E(ce)}}}}}function aL(cf,cg,cd,ce){if(aX(cg)){return cf}else{if(x(cg)){return cg.apply(cd,ce||[])}else{if(x(cf[cg])){return cf[cg].call(cf)}else{return cf[cg]}}}}function aE(cd,ch,cj,ce){var ci,cf,cg;if(cj<0){cj=cd.length+cj}cg=isNaN(cj)?0:cj;ci=ce===true?cd.length+cg:cd.length;while(cg<ci){cf=cg%cd.length;if(!(cf in cd)){return az(cd,ch,cg,ce)}else{if(ch.call(cd,cd[cf],cf,cd)===false){break}}cg++}}function az(cd,ci,ch,ce){var cf=[],cg;for(cg in cd){if(ad(cd,cg)&&cg>=ch){cf.push(parseInt(cg))}}cf.sort().each(function(cj){return ci.call(cd,cd[cj],cj,cd)});return cd}function ad(cd,ce){return ce in cd&&R(ce)==ce&&ce!=4294967295}function R(cd){return cd>>>0}function bf(ce,ci,cj,cg,cf){var cd,ch;aE(ce,function(cm,cl,ck){if(bE(cm,ci,ck,[cm,cl,ck])){cd=cm;ch=cl;return false}},cj,cg);return cf?ch:cd}function bl(ce,ch){var cd=[],ci={},cg,cf;aE(ce,function(ck,cj){cf=ch?aL(ck,ch,ce,[ck,cj,ce]):ck;cg=E(cf);if(!o(ci,cg,ck)){ci[cg]=cf;cd.push(ck)}});return cd}function aG(cf,ce,cg){var cd=[],ch={};ce.each(function(ci){ch[E(ci)]=ci});cf.each(function(cj){var ci=E(cj),ck=o(ch,ci,cj);if(ck!=cg){delete ch[ci];cd.push(cj)}});return cd}function M(ce,cg,cf){cg=cg||Infinity;cf=cf||0;var cd=[];aE(ce,function(ch){if(aF(ch)&&cf<cg){cd=cd.concat(M(ch,cg,cf+1))}else{cd.push(ch)}});return cd}function ba(ce){var cd=[];b0(ce,function(cf){cd=cd.concat(cf)});return cd}function o(cf,cd,ce){return cd in cf&&(typeof ce!=="function"||ce===cf[cd])}function b5(ch,cd,cf,ck){var ce,cl=[],cj=cf==="max",cg=cf==="min",ci=Array.isArray(ch);aP(ch,function(cm){var cn=ch[cm];var co=aL(cn,cd,ch,ci?[cn,parseInt(cm),ch]:[]);if(co===ce){cl.push(cn)}else{if(aX(ce)||(cj&&co>ce)||(cg&&co<ce)){cl=[cn];ce=co}}});if(!ci){cl=M(cl,1)}return ck?cl:cl[0]}function aj(ck,cj){var cg,ci,cm,cl,cd,cf,ch=0,ce=0;ck=av(ck);cj=av(cj);do{cm=a9(ck,ch);cl=a9(cj,ch);cg=bS(cm);ci=bS(cl);if(cg===-1||ci===-1){cg=ck.charCodeAt(ch)||null;ci=cj.charCodeAt(ch)||null}cd=cm!==ck.charAt(ch);cf=cl!==cj.charAt(ch);if(cd!==cf&&ce===0){ce=cd-cf}ch+=1}while(cg!=null&&ci!=null&&cg===ci);if(cg===ci){return ce}return cg<ci?-1:1}function av(cd){if(D[ai]){cd=cd.toLowerCase()}return cd.replace(D[aR],"")}function a9(cg,ce){var cf=cg.charAt(ce),cd=D[y]||{};return cd[cf]||cf}function bS(ce){var cd=D[bc];if(!ce){return null}else{return cd.indexOf(ce)}}var bc="AlphanumericSortOrder";var aR="AlphanumericSortIgnore";var ai="AlphanumericSortIgnoreCase";var y="AlphanumericSortEquivalents";function d(){var cd=function(){var ce=arguments;return ce.length>0&&!x(ce[0])};ao(D,true,cd,"map,every,all,some,any,none,filter",function(ce,cf){ce[cf]=function(cg){return this[cf](function(ci,ch){if(cf==="map"){return aL(ci,cg,this,[ci,ch,this])}else{return bE(ci,cg,this,[ci,ch,this])}})}})}function aB(){var ce="ABCDEFGHIJKLMNOPQRSTUVWXYZ";var cd="A,C,E,I,O,S,U";D[bc]=ce.split("").map(function(cg){return cg+cg.toLowerCase()}).join("");var cf={};aE(cd.split(","),function(ch){var cg=ch.charAt(0);aE(ch.slice(1).split(""),function(ci){cf[ci]=cg;cf[ci.toLowerCase()]=cg.toLowerCase()})});D[ai]=true;D[y]=cf}be(D,false,false,{create:function(){var cd=[];b0(arguments,function(ce){if(ce&&ce.callee){ce=b0(ce)}cd=cd.concat(ce)});return cd}});be(D,true,false,{find:function(cf,ce,cd){return bf(this,cf,ce,cd)},findAll:function(cg,cf,ce){var cd=[];aE(this,function(cj,ci,ch){if(bE(cj,cg,ch,[cj,ci,ch])){cd.push(cj)}},cf,ce);return cd},findIndex:function(cf,cg,cd){var ce=bf(this,cf,cg,cd,true);return aX(ce)?-1:ce},count:function(cd){if(aX(cd)){return this.length}return this.findAll(cd).length},removeAt:function(cf,cd){if(aX(cf)){return this}if(aX(cd)){cd=cf}for(var ce=0;ce<=(cd-cf);ce++){this.splice(cf,1)}return this},include:function(ce,cd){return this.clone().add(ce,cd)},exclude:function(){return D.prototype.remove.apply(this.clone(),arguments)},clone:function(){return a5([],this)},unique:function(cd){return bl(this,cd)},flatten:function(cd){return M(this,cd)},union:function(){return bl(this.concat(ba(arguments)))},intersect:function(){return aG(this,ba(arguments),false)},subtract:function(cd){return aG(this,ba(arguments),true)},at:function(){return bT(this,arguments)},first:function(cd){if(aX(cd)){return this[0]}if(cd<0){cd=0}return this.slice(0,cd)},last:function(cd){if(aX(cd)){return this[this.length-1]}var ce=this.length-cd<0?0:this.length-cd;return this.slice(ce)},from:function(cd){return this.slice(cd)},to:function(cd){if(aX(cd)){cd=this.length}return this.slice(0,cd)},min:function(ce,cd){return b5(this,ce,"min",cd)},max:function(ce,cd){return b5(this,ce,"max",cd)},least:function(ce,cd){return b5(this.groupBy.apply(this,[ce]),"length","min",cd)},most:function(ce,cd){return b5(this.groupBy.apply(this,[ce]),"length","max",cd)},sum:function(ce){var cd=ce?this.map(ce):this;return cd.length>0?cd.reduce(function(cg,cf){return cg+cf}):0},average:function(ce){var cd=ce?this.map(ce):this;return cd.length>0?cd.sum()/cd.length:0},inGroups:function(cf,ch){var cg=arguments.length>1;var ce=this;var cd=[];var ci=Y(this.length/cf);bV(0,cf-1,function(ck){var cj=ck*ci;var cl=ce.slice(cj,cj+ci);if(cg&&cl.length<ci){bV(1,ci-cl.length,function(){cl=cl.add(ch)})}cd.push(cl)});return cd},inGroupsOf:function(cg,ci){var cf=[],ce=this.length,cd=this,ch;if(ce===0||cg===0){return cd}if(aX(cg)){cg=1}if(aX(ci)){ci=null}bV(0,Y(ce/cg)-1,function(cj){ch=cd.slice(cg*cj,cg*cj+cg);while(ch.length<cg){ch.push(ci)}cf.push(ch)});return cf},isEmpty:function(){return this.compact().length==0},sortBy:function(ce,cf){var cd=this.clone();cd.sort(function(ch,cg){var cj,ck,ci;cj=aL(ch,ce,cd,[ch]);ck=aL(cg,ce,cd,[cg]);if(bo(cj)&&bo(ck)){ci=aj(cj,ck)}else{if(cj<ck){ci=-1}else{if(cj>ck){ci=1}else{ci=0}}}return ci*(cf?-1:1)});return cd},randomize:function(){var ce=this.concat();for(var cf,cd,cg=ce.length;cg;cf=parseInt(aU.random()*cg),cd=ce[--cg],ce[cg]=ce[cf],ce[cf]=cd){}return ce},zip:function(){var cd=b0(arguments);return this.map(function(cf,ce){return[cf].concat(cd.map(function(cg){return(ce in cg)?cg[ce]:null}))})},sample:function(cg){var ce=[],cd=this.clone(),cf;if(aX(cg)){cg=1}while(ce.length<cg){cf=bG(aU.random()*(cd.length-1));ce.push(cd[cf]);cd.removeAt(cf);if(cd.length==0){break}}return arguments.length>0?ce:ce[0]},each:function(cf,ce,cd){aE(this,cf,ce,cd);return this},add:function(ce,cd){if(!aq(aY(cd))||isNaN(cd)){cd=this.length}D.prototype.splice.apply(this,[cd,0].concat(ce));return this},remove:function(){var ce,cd=this;b0(arguments,function(cf){ce=0;while(ce<cd.length){if(bE(cd[ce],cf,cd,[cd[ce],ce,cd])){cd.splice(ce,1)}else{ce++}}});return cd},compact:function(ce){var cd=[];aE(this,function(cg,cf){if(aF(cg)){cd.push(cg.compact())}else{if(ce&&cg){cd.push(cg)}else{if(!ce&&cg!=null&&cg.valueOf()===cg.valueOf()){cd.push(cg)}}}});return cd},groupBy:function(ch,cg){var ce=this,cd={},cf;aE(ce,function(cj,ci){cf=aL(cj,ch,ce,[cj,ci,ce]);if(!cd[cf]){cd[cf]=[]}cd[cf].push(cj)});if(cg){aP(cd,cg)}return cd},none:function(){return !this.any.apply(this,arguments)}});be(D,true,false,{all:D.prototype.every,any:D.prototype.some,insert:D.prototype.add});function k(cd){if(cd&&cd.valueOf){cd=cd.valueOf()}return N.keys(cd)}function S(ce,cd){ao(N,false,false,ce,function(cf,cg){cf[cg]=function(ck,cj,ci){var ch;ch=D.prototype[cg].call(k(ck),function(cl){if(cd){return aL(ck[cl],cj,ck,[cl,ck[cl],ck])}else{return bE(ck[cl],cj,ck,[cl,ck[cl],ck])}},ci);if(aF(ch)){ch=ch.reduce(function(cn,cm,cl){cn[cm]=ck[cm];return cn},{})}return ch}});bQ(ce,a6)}be(N,false,false,{map:function(ce,cd){return k(ce).reduce(function(cf,cg){cf[cg]=aL(ce[cg],cd,ce,[cg,ce[cg],ce]);return cf},{})},reduce:function(ce){var cd=k(ce).map(function(cf){return ce[cf]});return cd.reduce.apply(cd,b0(arguments).slice(1))},size:function(cd){return k(cd).length}});d();aB();S("each,any,all,none,count,find,findAll,isEmpty");S("sum,average,min,max,least,most",true);bQ("map,reduce,size",a6);var n;var aA;var bA=["ampm","hour","minute","second","ampm","utc","offset_sign","offset_hours","offset_minutes","ampm"];var bJ="\\d{1,2}(?:[,.]\\d+)?";var L="({t})?\\s*("+bJ+")(?:{h}("+bJ+")?{m}(?::?("+bJ+"){s})?\\s*(?:({t})|(Z)|(?:([+-])(\\d{2,2})(?::?(\\d{2,2}))?)?)?|\\s*({t}))";var bH="";var c="";var bC={};var ca;var at;var ap;var aO=[];var bi=[{token:"f{1,4}|ms|milliseconds",format:function(cd){return cd.getMilliseconds()}},{token:"ss?|seconds",format:function(ce,cd){return ce.getSeconds()}},{token:"mm?|minutes",format:function(ce,cd){return ce.getMinutes()}},{token:"hh?|hours|12hr",format:function(cd){return b8(cd)}},{token:"HH?|24hr",format:function(cd){return cd.getHours()}},{token:"dd?|date|day",format:function(cd){return cd.getDate()}},{token:"dow|weekday",word:true,format:function(cf,ce,cg,cd){return ce.weekdays[cf.getDay()+(cg-1)*7]}},{token:"MM?",format:function(cd){return cd.getMonth()+1}},{token:"mon|month",word:true,format:function(cf,ce,cg,cd){return ce.months[cf.getMonth()+(cg-1)*12]}},{token:"y{2,4}|year",format:function(cd){return cd.getFullYear()}},{token:"[Tt]{1,2}",format:function(cg,cf,ch,cd){var ce=cf.ampm[bG(cg.getHours()/12)];if(cd.length===1){ce=ce.slice(0,1)}if(cd.slice(0,1)==="T"){ce=ce.toUpperCase()}return ce}},{token:"z{1,4}|tz|timezone",text:true,format:function(cf,ce,ch,cd){var cg=cf.getUTCOffset();if(cd=="z"||cd=="zz"){cg=cg.replace(/(\d{2})(\d{2})/,function(ck,cj,ci){return bu(cj,cd.length)})}return cg}},{token:"iso(tz|timezone)",format:function(cd){return cd.getUTCOffset(true)}},{token:"ord",format:function(cd){var cd=cd.getDate();return cd+z(cd)}}];var aJ=[{unit:"year",method:"FullYear",multiplier:function(ce){var cd=ce?(ce.isLeapYear()?1:0):0.25;return(365+cd)*24*60*60*1000}},{unit:"month",method:"Month",ambiguous:true,multiplier:function(cf,cd){var cg=30.4375,ce;if(cf){ce=cf.daysInMonth();if(cd<=ce.days()){cg=ce}}return cg*24*60*60*1000}},{unit:"week",method:"Week",multiplier:function(){return 7*24*60*60*1000}},{unit:"day",method:"Date",ambiguous:true,multiplier:function(){return 24*60*60*1000}},{unit:"hour",method:"Hours",multiplier:function(){return 60*60*1000}},{unit:"minute",method:"Minutes",multiplier:function(){return 60*1000}},{unit:"second",method:"Seconds",multiplier:function(){return 1000}},{unit:"millisecond",method:"Milliseconds",multiplier:function(){return 1}}];var bv={};function bs(cd){a5(this,cd);this.compiledFormats=aO.concat()}bs.prototype={getMonth:function(cd){if(aq(cd)){return cd-1}else{return this["months"].indexOf(cd)%12}},getWeekday:function(cd){return this["weekdays"].indexOf(cd)%7},getNumber:function(ce){var cd;if(aq(ce)){return ce}else{if(ce&&(cd=this["numbers"].indexOf(ce))!==-1){return(cd+1)%10}else{return 1}}},getNumericDate:function(ce){var cd=this;return ce.replace(bq(this["num"],"g"),function(cg){var cf=cd.getNumber(cg);return cf||""})},getEnglishUnit:function(cd){return n.units[this["units"].indexOf(cd)%8]},relative:function(cd){return this.convertAdjustedToFormat(cd,cd[2]>0?"future":"past")},getDuration:function(cd){return this.convertAdjustedToFormat(b6(cd),"duration")},hasVariant:function(cd){cd=cd||this.code;return cd==="en"||cd==="en-US"?true:this["variant"]},matchPM:function(cd){return cd===this["ampm"][1]},convertAdjustedToFormat:function(ce,ci){var ch=ce[0],cl=ce[1],cd=ce[2],cf,cj,ck,cg;if(this["code"]=="ru"){ck=ch.toString().slice(-1);switch(true){case ck==1:cg=1;break;case ck>=2&&ck<=4:cg=2;break;default:cg=3}}else{cg=this["plural"]&&ch>1?1:0}cj=this["units"][cg*8+cl]||this["units"][cl];if(this["capitalizeUnit"]){cj=q(cj)}cf=this["modifiers"].filter(function(cm){return cm.name=="sign"&&cm.value==(cd>0?1:-1)})[0];return this[ci].replace(/\{(.*?)\}/g,function(cn,cm){switch(cm){case"num":return ch;case"unit":return cj;case"sign":return cf.src}})},getFormats:function(){return this.cachedFormat?[this.cachedFormat].concat(this.compiledFormats):this.compiledFormats},addFormat:function(cd,ch,cg,cf,cm){var cl=cg||[],ci=this,ce,cj,ck;cd=cd.replace(/\s+/g,"[-,. ]*");cd=cd.replace(/\{([^,]+?)\}/g,function(cr,co){var cq=co.match(/\?$/),ct=co.match(/(\d)(?:-(\d))?/),cu=co.match(/^\d+$/),cp=co.replace(/[^a-z]+$/,""),cs,cn;if(cu){cs=ci.optionals[cu[0]]}else{if(ci[cp]){cs=ci[cp]}else{if(ci[cp+"s"]){cs=ci[cp+"s"];if(ct){cn=[];cs.forEach(function(cv,cx){var cw=cx%(ci.units?8:cs.length);if(cw>=ct[1]&&cw<=(ct[2]||ct[1])){cn.push(cv)}});cs=cn}cs=h(cs)}}}if(cu){return"(?:"+cs+")?"}else{if(!cg){cl.push(cp)}return"("+cs+")"+(cq?"?":"")}});if(ch){ce=bW(L,ci,cm);cj=["t","[\\s\\u3000]"].concat(ci.timeMarker);ck=cd.match(/\\d\{\d,\d\}\)+\??$/);t(ci,"(?:"+ce+")[,\\s\\u3000]+?"+cd,bA.concat(cl),cf);t(ci,cd+"(?:[,\\s]*(?:"+cj.join("|")+(ck?"+":"*")+")"+ce+")?",cl.concat(bA),cf)}else{t(ci,cd,cl,cf)}}};function H(cd,cf){var ce;if(!bo(cd)){cd=""}ce=bv[cd]||bv[cd.slice(0,2)];if(cf===false&&!ce){throw new Error("Invalid locale.")}return ce||aA}function U(cd,ck){var ch;function cl(cm){var cn=ch[cm];if(bo(cn)){ch[cm]=cn.split(",")}else{if(!cn){ch[cm]=[]}}}function ci(cn,cm){cn=cn.split("+").map(function(co){return co.replace(/(.+):(.+)$/,function(cq,cr,cp){return cp.split("|").map(function(cs){return cr+cs}).join("|")})}).join("|");return cn.split("|").forEach(cm)}function cf(cp,co,cn){var cm=[];if(!ch[cp]){return}ch[cp].forEach(function(cr,cq){ci(cr,function(ct,cs){cm[cs*cn+cq]=ct.toLowerCase()})});if(co){cm=cm.concat(ch[cp].map(function(cq){return cq.slice(0,3).toLowerCase()}))}return ch[cp]=cm}function cg(cp,cm,co){var cn="\\d{"+cp+","+cm+"}";if(co){cn+="|(?:"+h(ch.numbers)+")+"}return cn}function ce(){var cm=["\\d+"].concat(ch.articles);if(ch.numbers){cm=cm.concat(ch.numbers)}return h(cm)}function cj(){var cm=[];ch.modifiersByName={};ch.modifiers.forEach(function(cn){var co=cn.name;ci(cn.src,function(cq){var cp=ch[co];ch.modifiersByName[cq]=cn;cm.push({name:co,src:cq,value:cn.value});ch[co]=cp?cp+"|"+cq:cq})});ch.day+="|"+h(ch.weekdays);ch.modifiers=cm}ch=new bs(ck);cl("modifiers");"months,weekdays,units,numbers,articles,optionals,timeMarker,ampm,timeSuffixes,dateParse,timeParse".split(",").forEach(cl);cf("months",true,12);cf("weekdays",true,7);cf("units",false,8);cf("numbers",false,10);ch.code=cd;ch.date=cg(1,2,ch.digitDate);ch.year=cg(4,4);ch.num=ce();cj();if(ch.monthSuffix){ch.month=cg(1,2);ch.months=bV(1,12).map(function(cm){return cm+ch.monthSuffix})}ch.full_month=cg(1,2)+"|"+h(ch.months);if(ch.timeSuffixes.length>0){ch.addFormat(bW(L,ch),false,bA)}ch.addFormat("{day}",true);ch.addFormat("{month}"+(ch.monthSuffix||""));ch.addFormat("{year}"+(ch.yearSuffix||""));ch.timeParse.forEach(function(cm){ch.addFormat(cm,true)});ch.dateParse.forEach(function(cm){ch.addFormat(cm)});return bv[cd]=ch}function t(cd,cg,ce,cf){cd.compiledFormats.unshift({variant:cf,locale:cd,reg:bq("^"+cg+"$","i"),to:ce})}function q(cd){return cd.slice(0,1).toUpperCase()+cd.slice(1)}function h(cd){return cd.filter(function(ce){return !!ce}).join("|")}function bg(cf,ce){var cg,cd;if(cb(cf[0])){return cf}else{if(aq(cf[0])&&!aq(cf[1])){return[cf[0]]}else{if(bo(cf[0])&&ce){return[bt(cf[0]),cf[1]]}}}cg={};at.forEach(function(ch,ci){cg[ch.unit]=cf[ci]});return[cg]}function bt(cf,cd){var ce={};match=cf.match(/^(\d+)?\s?(\w+?)s?$/i);if(aX(cd)){cd=parseInt(match[1])||1}ce[match[2].toLowerCase()]=cd;return ce}function s(cf,cd){var ch={},cg,ce;cd.forEach(function(cj,ci){cg=cf[ci+1];if(aX(cg)||cg===""){return}if(cj==="year"){ch.yearAsString=cg}ce=parseFloat(cg.replace(/,/,"."));ch[cj]=!isNaN(ce)?ce:cg.toLowerCase()});return ch}function I(cd){cd=cd.trim().replace(/^(just )?now|\.+$/i,"");return ak(cd)}function ak(cd){return cd.replace(ca,function(ch,ck,cg){var ci=0,cf=1,cj,ce;if(ck){return ch}cg.split("").reverse().forEach(function(cm){var cn=bC[cm],cl=cn>9;if(cl){if(cj){ci+=cf}cf*=cn/(ce||1);ce=cn}else{if(cj===false){cf*=10}ci+=cf*cn}cj=cl});if(cj){ci+=cf}return ci})}function bI(cm,cd,cg){var cn=new a4(),cf=false,ck,cl,cq,cp,co,cj,ci,ch,ce;if(am(cm)){cn=cm.clone()}else{if(aq(cm)){cn=new a4(cm)}else{if(cb(cm)){cn=new a4().set(cm,true);cp=cm}else{if(bo(cm)){ck=H(cd);cm=I(cm);if(ck){aP(ck.getFormats(),function(ct,cs){var cr=cm.match(cs.reg);if(cr){cq=cs;cl=cq.locale;cp=s(cr,cq.to,cl);cl.cachedFormat=cq;if(cp.timestamp){cp=cp.timestamp;return false}if(cq.variant&&!bo(cp.month)&&(bo(cp.date)||ck.hasVariant(cd))){ch=cp.month;cp.month=cp.date;cp.date=ch}if(cp.year&&cp.yearAsString.length===2){cp.year=bD(cp.year)}if(cp.month){cp.month=cl.getMonth(cp.month);if(cp.shift&&!cp.unit){cp.unit=cl.units[7]}}if(cp.weekday&&cp.date){delete cp.weekday}else{if(cp.weekday){cp.weekday=cl.getWeekday(cp.weekday);if(cp.shift&&!cp.unit){cp.unit=cl.units[5]}}}if(cp.day&&(ch=cl.modifiersByName[cp.day])){cp.day=ch.value;cn.reset();cf=true}else{if(cp.day&&(cj=cl.getWeekday(cp.day))>-1){delete cp.day;if(cp.num&&cp.month){ce=function(){B(cn,{weekday:cj+(7*(cp.num-1))},false,false,false,1)};cp.day=1}else{cp.weekday=cj}}}if(cp.date&&!aq(cp.date)){cp.date=cl.getNumericDate(cp.date)}if(cl.matchPM(cp.ampm)&&cp.hour<12){cp.hour+=12}if("offset_hours" in cp||"offset_minutes" in cp){cp.utc=true;cp.offset_minutes=cp.offset_minutes||0;cp.offset_minutes+=cp.offset_hours*60;if(cp.offset_sign==="-"){cp.offset_minutes*=-1}cp.minute-=cp.offset_minutes}if(cp.unit){cf=true;ci=cl.getNumber(cp.num);co=cl.getEnglishUnit(cp.unit);if(cp.shift||cp.edge){ci*=(ch=cl.modifiersByName[cp.shift])?ch.value:0;if(co==="month"&&bF(cp.date)){cn.set({day:cp.date},true);delete cp.date}if(co==="year"&&bF(cp.month)){cn.set({month:cp.month,day:cp.date},true);delete cp.month;delete cp.date}}if(cp.sign&&(ch=cl.modifiersByName[cp.sign])){ci*=ch.value}if(bF(cp.weekday)){cn.set({weekday:cp.weekday},true);delete cp.weekday}cp[co]=(cp[co]||0)+ci}if(cp.year_sign==="-"){cp.year*=-1}ap.slice(1,4).forEach(function(cu,cv){var cx=cp[cu.unit],cw=cx%1;if(cw){cp[ap[cv].unit]=J(cw*(cu.unit==="second"?1000:60));cp[cu.unit]=bG(cx)}});return false}})}if(!cq){cn=cm?new a4(cm):new a4()}else{if(cf){cn.advance(cp)}else{if(cp.utc){cn.reset()}B(cn,cp,true,cp.utc,false,cg)}}if(cp&&cp.edge){ch=cl.modifiersByName[cp.edge];aP(ap.slice(4),function(cs,cr){if(bF(cp[cr.unit])){co=cr.unit;return false}});if(co==="year"){cp.specificity="month"}else{if(co==="month"||co==="week"){cp.specificity="day"}}cn[(ch.value<0?"endOf":"beginningOf")+q(co)]();if(ch.value===-2){cn.reset()}}if(ce){ce()}}}}}return{date:cn,set:cp}}function bD(cd){return J(new a4().getFullYear()/100)*100-J(cd/100)*100+cd}function b8(cf,ce){var cd=a0(cf,"get",ce,"Hours");return cd===0?12:cd-(bG(cd/13)*12)}function X(cd){var ce=cd.getDay()||7;cd.addDays(4-ce).reset();return 1+bG(cd.daysSince(cd.clone().beginningOfYear())/7)}function b6(ce){var cf,cd=aU.abs(ce),ch=cd,cg=0;ap.slice(1).forEach(function(ci,cj){cf=bG(J(cd/ci.multiplier()*10)/10);if(cf>=1){ch=cf;cg=cj+1}});return[ch,cg,ce]}function r(cg,ck,ce,cd){var cf,cj=H(cd),ch=bq(/^[A-Z]/),cl,ci;if(!cg.isValid()){return"Invalid Date"}else{if(Date[ck]){ck=Date[ck]}else{if(x(ck)){cf=b6(cg.millisecondsFromNow());ck=ck.apply(cg,cf.concat(cj))}}}if(!ck&&ce){cf=cf||b6(cg.millisecondsFromNow());if(cf[1]===0){cf[1]=1;cf[0]=1}return cj.relative(cf)}ck=ck||"long";ck=cj[ck]||ck;bi.forEach(function(cm){ck=ck.replace(bq("\\{("+cm.token+")(\\d)?\\}",cm.word?"i":""),function(cn,cq,cs){var cr=cm.format(cg,cj,cs||1,cq),co=cq.length,cp=cq.match(/^(.)\1+$/);if(cm.word){if(co===3){cr=cr.slice(0,3)}if(cp||cq.match(ch)){cr=q(cr)}}else{if(cp&&!cm.text){cr=(aq(cr)?bu(cr,co):cr.toString()).slice(-co)}}return cr})});return ck}function ag(cl,ck,ci){var cd=bI(ck),cf=0,cg=0,cn=0,ce,cj;if(ci>0){cg=cn=ci;ce=true}if(!cd.date.isValid()){return false}if(cd.set&&cd.set.specificity){aJ.forEach(function(cp,cq){if(cp.unit===cd.set.specificity){cf=cp.multiplier(cd.date,cl-cd.date)-1}});cj=q(cd.set.specificity);if(cd.set.edge||cd.set.shift){cd.date["beginningOf"+cj]()}if(cd.set.specificity==="month"){cm=cd.date.clone()["endOf"+cj]().getTime()}if(!ce&&cd.set.sign&&cd.set.specificity!="millisecond"){cg=50;cn=-50}}var co=cl.getTime();var ch=cd.date.getTime();var cm=cm||(ch+cf);return co>=(ch-cg)&&co<=(cm+cn)}function B(ck,cg,ci,cm,cn,cd){var ch;function co(cp){return bF(cg[cp])?cg[cp]:cg[cp+"s"]}function cj(cp){return bF(co(cp))}function cl(cp,cq){return cd&&cp.ambiguous&&!cj(cq.unit)}if(aq(cg)&&cn){cg={milliseconds:cg}}else{if(aq(cg)){ck.setTime(cg);return ck}}if(cg.date){cg.day=cg.date}aP(ap,function(cq,cp){var cr=cp.unit==="day";if(cj(cp.unit)||(cr&&cj("weekday"))){cg.specificity=cp.unit;return false}else{if(ci&&cp.unit!=="week"&&(!cr||!cj("week"))){a0(ck,"set",cm,cp.method,(cr?1:0))}}});aJ.forEach(function(cp,cq){var cr=cp.unit,cv=cp.method,cu=aJ[cq-1],cs;cs=co(cr);if(aX(cs)){return}if(cl(cp,cu)){var ct=a0(new a4,"get",cm,cp.method);if(ct>=cs===(cd===1)){ck[cu.addMethod](cd)}}if(cn){if(cr==="week"){cs=(cg.day||0)+(cs*7);cv="Date"}cs=(cs*cn)+a0(ck,"get",false,cv)}else{if(cr==="month"&&cj("day")){ck.setDate(15)}}a0(ck,"set",cm,cv,cs);if(cn&&cr==="month"){a3(ck,cs)}});if(!cn&&!cj("day")&&cj("weekday")){var ch=co("weekday"),ce,cf;if(bF(cd)){ce=a0(ck,"get",cm,"Day")-(ch%7)>=0;cf=cd===1;if(ce===cf){ch+=cd*7}}a0(ck,"set",cm,"Weekday",ch)}return ck}function a0(cg,cf,cd,ch,ce){return cg[cf+(cd?"UTC":"")+ch](ce)}function bW(cg,ch,ce){var cd={h:0,m:1,s:2},cf;ch=ch||n;return cg.replace(/{([a-z])}/g,function(cm,cl){var ck=[],cj=cl==="h",ci=cj&&!ce;if(cl==="t"){return ch.ampm.join("|")}else{if(cj){ck.push(":")}if(cf=ch.timeSuffixes[cd[cl]]){ck.push(cf+"\\s*")}return ck.length===0?"":"(?:"+ck.join("|")+")"+(ci?"":"?")}})}function a3(cd,ce){if(ce<0){ce+=12}if(ce%12!=cd.getMonth()){cd.setDate(0)}}function ac(cd,ce){var cf;if(aq(cd[1])){cf=bg(cd)[0]}else{cf=cd[0]}return bI(cf,cd[1],ce).date}function K(){ap=aJ.concat().reverse();at=aJ.concat();at.splice(2,1)}function V(){ao(a4,true,false,aJ,function(cd,ce,cf){var ch=ce.unit,cg=q(ch),ck=ce.multiplier(),cj,ci;ce.addMethod="add"+cg+"s";cj=function(cm,cl){return J((this.getTime()-a4.create(cm,cl).getTime())/ck)};ci=function(cm,cl){return J((a4.create(cm,cl).getTime()-this.getTime())/ck)};cd[ch+"sAgo"]=ci;cd[ch+"sUntil"]=ci;cd[ch+"sSince"]=cj;cd[ch+"sFromNow"]=cj;cd[ce.addMethod]=function(cl,cm){var cn={};cn[ch]=cl;return this.advance(cn,cm)};bR(ce,ck);if(cf<3){["Last","This","Next"].forEach(function(cl){cd["is"+cl+cg]=function(){return this.is(cl+" "+ch)}})}if(cf<4){cd["beginningOf"+cg]=function(){var cl={};switch(ch){case"year":cl.year=this.getFullYear();break;case"month":cl.month=this.getMonth();break;case"day":cl.day=this.getDate();break;case"week":cl.weekday=0;break}return this.set(cl,true)};cd["endOf"+cg]=function(){var cl={hours:23,minutes:59,seconds:59,milliseconds:999};switch(ch){case"year":cl.month=11;cl.day=31;break;case"month":cl.day=this.daysInMonth();break;case"week":cl.weekday=6;break}return this.set(cl,true)}}})}function Z(){n.addFormat("([+-])?(\\d{4,4})[-.]?{full_month}[-.]?(\\d{1,2})?",true,["year_sign","year","month","date"],false,true);n.addFormat("(\\d{1,2})[-.\\/]{full_month}(?:[-.\\/](\\d{2,4}))?",true,["date","month","year"],true);n.addFormat("{full_month}[-.](\\d{4,4})",false,["month","year"]);n.addFormat("\\/Date\\((\\d+(?:\\+\\d{4,4})?)\\)\\/",false,["timestamp"]);n.addFormat(bW(L,n),false,bA);aO=n.compiledFormats.slice(0,7).reverse();n.compiledFormats=n.compiledFormats.slice(7).concat(aO)}function aN(){ao(a4,true,false,"short,long,full",function(cd,ce){cd[ce]=function(cf){return r(this,ce,false,cf)}})}function aw(){bH.split("").forEach(function(cf,ce){var cd;if(ce>9){ce=aU.pow(10,ce-9)}bC[cf]=ce});c.split("").forEach(function(ce,cd){bC[ce]=cd});ca=bq("([])?(["+bH+c+"]+)(?!)","g")}function aK(){var cf="today,yesterday,tomorrow,weekday,weekend,future,past".split(",");var ce=n.weekdays.slice(0,7);var cd=n.months.slice(0,12);ao(a4,true,false,cf.concat(ce).concat(cd),function(cg,ch){cg["is"+q(ch)]=function(){return this.is(ch)}})}function b3(){a4.extend({RFC1123:"{Dow}, {dd} {Mon} {yyyy} {HH}:{mm}:{ss} {tz}",RFC1036:"{Weekday}, {dd}-{Mon}-{yy} {HH}:{mm}:{ss} {tz}",ISO8601_DATE:"{yyyy}-{MM}-{dd}",ISO8601_DATETIME:"{yyyy}-{MM}-{dd}T{HH}:{mm}:{ss}.{fff}{isotz}"},false,false)}function p(){K();V();Z();aN();aw();aK();b3()}a4.extend({create:function(){return ac(arguments)},past:function(){return ac(arguments,-1)},future:function(){return ac(arguments,1)},addLocale:function(cd,ce){return U(cd,ce)},setLocale:function(cd,cf){var ce=H(cd,false);aA=ce;if(cd&&cd!=ce.code){ce.code=cd}return ce},getLocale:function(cd){return !cd?aA:H(cd,false)},addFormat:function(cf,cd,ce){t(H(ce),cf,cd)}},false,false);a4.extend({set:function(){var cd=bg(arguments);return B(this,cd[0],cd[1])},setUTC:function(){var cd=bg(arguments);return B(this,cd[0],cd[1],true)},setWeekday:function(cd){if(aX(cd)){return}this.setDate(this.getDate()+cd-this.getDay())},setUTCWeekday:function(cd){if(aX(cd)){return}this.setDate(this.getUTCDate()+cd-this.getDay())},setWeek:function(ce){if(aX(ce)){return}var cd=this.getDate();this.setMonth(0);this.setDate((ce*7)+1)},setUTCWeek:function(ce){if(aX(ce)){return}var cd=this.getUTCDate();this.setMonth(0);this.setUTCDate((ce*7)+1)},getWeek:function(){return X(this)},getUTCWeek:function(){return X(this.toUTC())},getUTCOffset:function(ce){var cf=this.utc?0:this.getTimezoneOffset();var cd=ce===true?":":"";if(!cf&&ce){return"Z"}return bu(J(-cf/60),2,true)+cd+bu(cf%60,2)},toUTC:function(){if(this.utc){return this}var cd=this.clone().addMinutes(this.getTimezoneOffset());cd.utc=true;return cd},isUTC:function(){return this.utc||this.getTimezoneOffset()===0},advance:function(){var cd=bg(arguments,true);return B(this,cd[0],cd[1],false,1)},rewind:function(){var cd=bg(arguments,true);return B(this,cd[0],cd[1],false,-1)},isValid:function(){return !isNaN(this.getTime())},isAfter:function(ce,cd){return this.getTime()>a4.create(ce).getTime()-(cd||0)},isBefore:function(ce,cd){return this.getTime()<a4.create(ce).getTime()+(cd||0)},isBetween:function(ck,ci,cj){var ce=this.getTime();var ch=a4.create(ck).getTime();var cg=a4.create(ci).getTime();var cf=aU.min(ch,cg);var cd=aU.max(ch,cg);cj=cj||0;return(cf-cj<ce)&&(cd+cj>ce)},isLeapYear:function(){var cd=this.getFullYear();return(cd%4===0&&cd%100!==0)||(cd%400===0)},daysInMonth:function(){return 32-new a4(this.getFullYear(),this.getMonth(),32).getDate()},format:function(ce,cd){return r(this,ce,false,cd)},relative:function(ce,cd){if(bo(ce)){cd=ce;ce=null}return r(this,ce,true,cd)},is:function(cf,ce){var cd;if(!this.isValid()){return}if(bo(cf)){cf=cf.trim().toLowerCase();switch(true){case cf==="future":return this.getTime()>new a4().getTime();case cf==="past":return this.getTime()<new a4().getTime();case cf==="weekday":return this.getDay()>0&&this.getDay()<6;case cf==="weekend":return this.getDay()===0||this.getDay()===6;case (cd=n.weekdays.indexOf(cf)%7)>-1:return this.getDay()===cd;case (cd=n.months.indexOf(cf)%12)>-1:return this.getMonth()===cd}}return ag(this,cf,ce)},reset:function(ce){var cf={},cd;ce=ce||"hours";if(ce==="date"){ce="days"}cd=aJ.some(function(cg){return ce===cg.unit||ce===cg.unit+"s"});cf[ce]=ce.match(/^days?/)?1:0;return cd?this.set(cf,true):this},clone:function(){return new a4(this.getTime())}});a4.extend({iso:function(){return this.toISOString()},getWeekday:a4.prototype.getDay,getUTCWeekday:a4.prototype.getUTCDay});function bR(ce,cj){var cf=ce.unit,cd={};function ch(){return J(this*cj)}function ci(){return ac(arguments)[ce.addMethod](this)}function cg(){return ac(arguments)[ce.addMethod](-this)}cd[cf]=ch;cd[cf+"s"]=ch;cd[cf+"Before"]=cg;cd[cf+"sBefore"]=cg;cd[cf+"Ago"]=cg;cd[cf+"sAgo"]=cg;cd[cf+"After"]=ci;cd[cf+"sAfter"]=ci;cd[cf+"FromNow"]=ci;cd[cf+"sFromNow"]=ci;aY.extend(cd)}aY.extend({duration:function(cd){return H(cd).getDuration(this)}});n=aA=a4.addLocale("en",{plural:true,timeMarker:"at",ampm:"am,pm",months:"January,February,March,April,May,June,July,August,September,October,November,December",weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday",units:"millisecond:|s,second:|s,minute:|s,hour:|s,day:|s,week:|s,month:|s,year:|s",numbers:"one,two,three,four,five,six,seven,eight,nine,ten",articles:"a,an,the",optionals:"the,st|nd|rd|th,of","short":"{Month} {d}, {yyyy}","long":"{Month} {d}, {yyyy} {h}:{mm}{tt}",full:"{Weekday} {Month} {d}, {yyyy} {h}:{mm}:{ss}{tt}",past:"{num} {unit} {sign}",future:"{num} {unit} {sign}",duration:"{num} {unit}",modifiers:[{name:"day",src:"yesterday",value:-1},{name:"day",src:"today",value:0},{name:"day",src:"tomorrow",value:1},{name:"sign",src:"ago|before",value:-1},{name:"sign",src:"from now|after|from|in",value:1},{name:"edge",src:"last day",value:-2},{name:"edge",src:"end",value:-1},{name:"edge",src:"first day|beginning",value:1},{name:"shift",src:"last",value:-1},{name:"shift",src:"the|this",value:0},{name:"shift",src:"next",value:1}],dateParse:["{num} {unit} {sign}","{sign} {num} {unit}","{num} {unit=4-5} {sign} {day}","{month} {year}","{shift} {unit=5-7}","{0} {edge} of {shift?} {unit=4-7?}{month?}{year?}"],timeParse:["{0} {num}{1} {day} of {month} {year?}","{weekday?} {month} {date}{1} {year?}","{date} {month} {year}","{shift} {weekday}","{shift} week {weekday}","{weekday} {2} {shift} week","{0} {date}{1} of {month}","{0}{month?} {date?}{1} of {shift} {unit=6-7}"]});p();var l=function(ce,cd){this.start=a4.create(ce);this.end=a4.create(cd)};l.prototype.toString=function(){return this.isValid()?this.start.full()+".."+this.end.full():"Invalid DateRange"};be(l,true,false,{isValid:function(){return this.start<this.end},duration:function(){return this.isValid()?this.end.getTime()-this.start.getTime():NaN},contains:function(cf){var ce=this,cd=cf.start&&cf.end?[cf.start,cf.end]:[cf];return cd.every(function(cg){return cg>=ce.start&&cg<=ce.end})},every:function(ce,cg){var ch=this.start.clone(),cd=[],cf=0,ci;if(bo(ce)){ch.advance(bt(ce,0),true);ci=bt(ce)}else{ci={milliseconds:ce}}while(ch<=this.end){cd.push(ch);if(cg){cg(ch,cf)}ch=ch.clone().advance(ci,true);cf++}return cd},union:function(cd){return new l(this.start<cd.start?this.start:cd.start,this.end>cd.end?this.end:cd.end)},intersect:function(cd){return new l(this.start>cd.start?this.start:cd.start,this.end<cd.end?this.end:cd.end)}});ao(l,true,false,"Millisecond,Second,Minute,Hour,Day,Week,Month,Year",function(cd,ce){cd["each"+ce]=function(cf){return this.every(ce,cf)}});be(a4,false,false,{range:function(ce,cd){return new l(ce,cd)}});function bn(ch,cf,ci,cg,ce){if(!ch.timers){ch.timers=[]}if(!aq(cf)){cf=0}ch.timers.push(setTimeout(function(){ch.timers.splice(cd,1);ci.apply(cg,ce||[])},cf));var cd=ch.timers.length}be(Function,true,false,{lazy:function(ce,ch){var ck=this,ci=[],cl=false,cj,cg,cd;ce=ce||1;ch=ch||Infinity;cg=Y(ce);cd=J(cg/ce);cj=function(){if(cl||ci.length==0){return}var cm=aU.max(ci.length-cd,0);while(ci.length>cm){Function.prototype.apply.apply(ck,ci.shift())}bn(cf,cg,function(){cl=false;cj()});cl=true};function cf(){if(cl&&ci.length>ch-2){return}ci.push([this,arguments]);cj()}return cf},delay:function(ce){var cf=this;var cd=b0(arguments).slice(1);bn(cf,ce,cf,cf,cd);return cf},throttle:function(cd){return this.lazy(cd,1)},debounce:function(cd){var ce=this;return function(){ce.cancel();bn(ce,cd,ce,this,arguments)}},cancel:function(){if(aF(this.timers)){while(this.timers.length>0){clearTimeout(this.timers.shift())}}return this},after:function(ce){var cf=this,cd=0,cg=[];if(!aq(ce)){ce=1}else{if(ce===0){cf.call();return cf}}return function(){var ch;cg.push(b0(arguments));cd++;if(cd==ce){ch=cf.call(this,cg);cd=0;cg=[];return ch}}},once:function(){var cd=this;return function(){return ab(cd,"memo")?cd.memo:cd.memo=cd.apply(this,arguments)}},fill:function(){var ce=this,cd=b0(arguments);return function(){var cf=b0(arguments);cd.forEach(function(cg,ch){if(cg!=null||ch>=cf.length){cf.splice(ch,0,cg)}});return ce.apply(this,cf)}}});function aI(ch,ck,cl,cn,cf,cp){var ce=ch.toFixed(20),cj=ce.search(/\./),ci=ce.search(/[1-9]/),co=cj-ci,cm,cg,cd;if(co>0){co-=1}cg=aU.max(aU.min((co/3).floor(),cf===false?cl.length:cf),-cn);cm=cl.charAt(cg+cn-1);if(co<-9){cg=-3;ck=co.abs()-9;cm=cl.slice(0,1)}cd=cp?(2).pow(10*cg):(10).pow(cg*3);return(ch/cd).round(ck||0).format()+cm.trim()}be(aY,false,false,{random:function(cg,cf){var ce,cd;if(arguments.length==1){cf=cg,cg=0}ce=aU.min(cg||0,aX(cf)?1:cf);cd=aU.max(cg||0,aX(cf)?1:cf);return J((aU.random()*(cd-ce))+ce)}});be(aY,true,false,{log:function(cd){return aU.log(this)/(cd?aU.log(cd):1)},abbr:function(cd){return aI(this,cd,"kmbt",0,4)},metric:function(ce,cd){return aI(this,ce,"nm kMGTPE",4,aX(cd)?1:cd)},bytes:function(ce,cd){return aI(this,ce,"kMGTPE",0,aX(cd)?4:cd,true)+"B"},isInteger:function(){return this%1==0},isOdd:function(){return !this.isMultipleOf(2)},isEven:function(){return this.isMultipleOf(2)},isMultipleOf:function(cd){return this%cd===0},format:function(ce,cf,cd){var cj,cg,ck,ci,ch=/(\d+)(\d{3})/;if(a(cf).match(/\d/)){throw new TypeError("Thousands separator cannot contain numbers.")}cj=aq(ce)?J(this,ce||0).toFixed(aU.max(ce,0)):this.toString();cf=cf||",";cd=cd||".";cg=cj.split(".");cj=cg[0];ci=cg[1]||"";while(cj.match(ch)){cj=cj.replace(ch,"$1"+cf+"$2")}if(ci.length>0){cj+=cd+ay((ce||0)-ci.length,"0")+ci}return cj},hex:function(cd){return this.pad(cd||1,false,16)},upto:function(cd,ce,cf){return bV(this,cd,ce,cf||1)},downto:function(cd,ce,cf){return bV(this,cd,ce,-(cf||1))},times:function(ce){if(ce){for(var cd=0;cd<this;cd++){ce.call(this,cd)}}return this.toNumber()},chr:function(){return a.fromCharCode(this)},pad:function(ce,cd,cf){return bu(this,ce,cd,cf)},ordinalize:function(){var cf,cd=this.abs(),ce=parseInt(cd.toString().slice(-2));return this+z(ce)},toNumber:function(){return parseFloat(this,10)}});function g(){ao(aY,true,false,"round,floor,ceil",function(cd,ce){cd[ce]=function(cf){return J(this,cf,ce)}});ao(aY,true,false,"abs,pow,sin,asin,cos,acos,tan,atan,exp,pow,sqrt",function(cd,ce){cd[ce]=function(cg,cf){return aU[ce](this,cg,cf)}})}g();var au="isObject,isNaN".split(",");var cc="keys,values,each,merge,clone,equal,watch,tap,has".split(",");function bm(cg,cf,cj,cl){var cd=/^(.+?)(\[.*\])$/,ce,ch,ci,ck;if(cl!==false&&(ch=cf.match(cd))){ck=ch[1];ci=ch[2].replace(/^\[|\]$/g,"").split("][");ci.forEach(function(cm){ce=!cm||cm.match(/^\d+$/);if(!ck&&aF(cg)){ck=cg.length}if(!cg[ck]){cg[ck]=ce?[]:{}}cg=cg[ck];ck=cm});if(!ck&&ce){ck=cg.length.toString()}bm(cg,ck,cj)}else{if(cj.match(/^[\d.]+$/)){cg[cf]=parseFloat(cj)}else{if(cj==="true"){cg[cf]=true}else{if(cj==="false"){cg[cf]=false}else{cg[cf]=cj}}}}}function a2(){ao(N,false,false,C,function(cd,ce){var cf="is"+ce;au.push(cf);cd[cf]=function(cg){return bx(cg,ce)}})}function b1(){be(N,false,function(){return arguments.length===0},{extend:function(){bQ(au.concat(cc),N)}})}be(N,false,true,{watch:function(cf,cg,cd){if(!bL){return}var ce=cf[cg];N.defineProperty(cf,cg,{enumerable:true,configurable:true,get:function(){return ce},set:function(ch){ce=cd.call(cf,cg,ce,ch)}})}});be(N,false,function(ce,cd){return x(cd)},{keys:function(cf,cd){var ce=N.keys(cf);ce.forEach(function(cg){cd.call(cf,cg,cf[cg])});return ce}});be(N,false,false,{isObject:function(cd){return cb(cd)},isNaN:function(cd){return aq(cd)&&cd.valueOf()!==cd.valueOf()},equal:function(ce,cd){return E(ce)===E(cd)},extended:function(cd){return new a6(cd)},merge:function(ch,cg,cd,cf){var ce,ci;if(ch&&typeof cg!="string"){for(ce in cg){if(!ab(cg,ce)||!ch){continue}ci=cg[ce];if(bF(ch[ce])){if(cf===false){continue}if(x(cf)){ci=cf.call(cg,ce,ch[ce],cg[ce])}}if(cd===true&&ci&&T(ci)){if(am(ci)){ci=new a4(ci.getTime())}else{if(bK(ci)){ci=new bq(ci.source,aT(ci))}else{if(!ch[ce]){ch[ce]=D.isArray(ci)?[]:{}}N.merge(ch[ce],cg[ce],cd,cf);continue}}}ch[ce]=ci}}return ch},values:function(cf,ce){var cd=[];aP(cf,function(ch,cg){cd.push(cg);if(ce){ce.call(cf,cg)}});return cd},clone:function(cf,cd){if(!T(cf)){return cf}if(D.isArray(cf)){return cf.concat()}var ce=cf instanceof a6?new a6():{};return N.merge(ce,cf,cd)},fromQueryString:function(cg,ce){var cd=N.extended(),cf;cg=cg&&cg.toString?cg.toString():"";cg.replace(/^.*?\?/,"").split("&").forEach(function(ci){var ch=ci.split("=");if(ch.length!==2){return}bm(cd,ch[0],decodeURIComponent(ch[1]),ce)});return cd},tap:function(cf,cd){var ce=cd;if(!x(cd)){ce=function(){if(cd){cf[cd]()}}}ce.call(cf,cf);return cf},has:function(ce,cd){return ab(ce,cd)}});a2();b1();bQ(cc,a6);function bh(cd){return cd.split("").sort().join("").replace(/([gimy])\1+/g,"$1")}be(bq,false,false,{escape:function(cd){return bb(cd)}});be(bq,true,false,{getFlags:function(){return aT(this)},setFlags:function(cd){return bq(this.source,cd)},addFlag:function(cd){return this.setFlags(aT(this,cd))},removeFlag:function(cd){return this.setFlags(aT(this).replace(cd,""))}});function bX(cd){var ce=a.Inflector;var cd=ce&&ce.acronyms[cd];if(bo(cd)){return cd}}function Q(ch,cg,cf,cd){var ce=a(cg);if(ce!=cg){ce=""}if(!aq(cf)){cf=1}if(!aq(cd)){cd=1}return ce.repeat(cf)+ch+ce.repeat(cd)}function bN(cd){return a.fromCharCode(cd)}var bY,bd;function al(cd){if(this.btoa){bY=this.btoa;bd=this.atob;return}var ce=/[^A-Za-z0-9\+\/\=]/g;bY=function(ch){var cf="";var co,cm,ck;var cn,cl,cj,ci;var cg=0;do{co=ch.charCodeAt(cg++);cm=ch.charCodeAt(cg++);ck=ch.charCodeAt(cg++);cn=co>>2;cl=((co&3)<<4)|(cm>>4);cj=((cm&15)<<2)|(ck>>6);ci=ck&63;if(isNaN(cm)){cj=ci=64}else{if(isNaN(ck)){ci=64}}cf=cf+cd.charAt(cn)+cd.charAt(cl)+cd.charAt(cj)+cd.charAt(ci);co=cm=ck="";cn=cl=cj=ci=""}while(cg<ch.length);return cf};bd=function(ch){var cf="";var co,cm,ck;var cn,cl,cj,ci;var cg=0;if(ch.match(ce)){throw new Error("String contains invalid base64 characters")}ch=ch.replace(/[^A-Za-z0-9\+\/\=]/g,"");do{cn=cd.indexOf(ch.charAt(cg++));cl=cd.indexOf(ch.charAt(cg++));cj=cd.indexOf(ch.charAt(cg++));ci=cd.indexOf(ch.charAt(cg++));co=(cn<<2)|(cl>>4);cm=((cl&15)<<4)|(cj>>2);ck=((cj&3)<<6)|ci;cf=cf+bN(co);if(cj!=64){cf=cf+bN(cm)}if(ci!=64){cf=cf+bN(ck)}co=cm=ck="";cn=cl=cj=ci=""}while(cg<ch.length);return cf}}be(a,true,false,{escapeRegExp:function(){return bb(this)},escapeURL:function(cd){return cd?encodeURIComponent(this):encodeURI(this)},unescapeURL:function(cd){return cd?decodeURI(this):decodeURIComponent(this)},escapeHTML:function(){return this.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},unescapeHTML:function(){return this.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")},encodeBase64:function(){return bY(this)},decodeBase64:function(){return bd(this)},each:function(cf,cg){var cd,ce;if(x(cf)){cg=cf;cf=/[\s\S]/g}else{if(!cf){cf=/[\s\S]/g}else{if(bo(cf)){cf=bq(bb(cf),"gi")}else{if(bK(cf)){cf=bq(cf.source,aT(cf,"g"))}}}}cd=this.match(cf)||[];if(cg){for(ce=0;ce<cd.length;ce++){cd[ce]=cg.call(this,cd[ce],ce,cd)||cd[ce]}}return cd},shift:function(ce){var cd="";ce=ce||0;this.codes(function(cf){cd+=bN(cf+ce)});return cd},codes:function(cf){var cd=[];for(var ce=0;ce<this.length;ce++){var cg=this.charCodeAt(ce);cd.push(cg);if(cf){cf.call(this,cg,ce)}}return cd},chars:function(cd){return this.each(cd)},words:function(cd){return this.trim().each(/\S+/g,cd)},lines:function(cd){return this.trim().each(/^.*$/gm,cd)},paragraphs:function(cd){var ce=this.trim().split(/[\r\n]{2,}/);ce=ce.map(function(cg){if(cd){var cf=cd.call(cg)}return cf?cf:cg});return ce},startsWith:function(cd,cf){if(aX(cf)){cf=true}var ce=bK(cd)?cd.source.replace("^",""):bb(cd);return bq("^"+ce,cf?"":"i").test(this)},endsWith:function(cd,cf){if(aX(cf)){cf=true}var ce=bK(cd)?cd.source.replace("$",""):bb(cd);return bq(ce+"$",cf?"":"i").test(this)},isBlank:function(){return this.trim().length===0},has:function(cd){return this.search(bK(cd)?cd:bb(cd))!==-1},add:function(ce,cd){cd=aX(cd)?this.length:cd;return this.slice(0,cd)+ce+this.slice(cd)},remove:function(cd){return this.replace(cd,"")},reverse:function(){return this.split("").reverse().join("")},compact:function(){return this.trim().replace(/([\r\n\s])+/g,function(ce,cd){return cd===""?cd:" "})},at:function(){return bT(this,arguments,true)},from:function(cd){return this.slice(cd)},to:function(cd){if(aX(cd)){cd=this.length}return this.slice(0,cd)},dasherize:function(){return this.underscore().replace(/_/g,"-")},underscore:function(){return this.replace(/[-\s]+/g,"_").replace(a.Inflector&&a.Inflector.acronymRegExp,function(cd,ce){return(ce>0?"_":"")+cd.toLowerCase()}).replace(/([A-Z\d]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").toLowerCase()},camelize:function(cd){return this.underscore().replace(/(^|_)([^_]+)/g,function(cg,cj,ci,cf){var ce=bX(ci),ch=cd!==false||cf>0;if(ce){return ch?ce:ce.toLowerCase()}return ch?ci.capitalize():ci})},spacify:function(){return this.underscore().replace(/_/g," ")},stripTags:function(){var ce=this,cd=arguments.length>0?arguments:[""];b0(cd,function(cf){ce=ce.replace(bq("</?"+bb(cf)+"[^<>]*>","gi"),"")});return ce},removeTags:function(){var ce=this,cd=arguments.length>0?arguments:["\\S+"];b0(cd,function(cf){var cg=bq("<("+cf+")[^<>]*(?:\\/>|>.*?<\\/\\1>)","gi");ce=ce.replace(cg,"")});return ce},truncate:function(cf,cj,cl,cm){var ck,cn="",cg="",ci=this.toString(),ch="["+G()+"]+",cd="[^"+G()+"]*",ce=bq(ch+cd+"$");cm=aX(cm)?"...":a(cm);if(ci.length<=cf){return ci}switch(cl){case"left":ck=ci.length-cf;cn=cm;ci=ci.slice(ck);ce=bq("^"+cd+ch);break;case"middle":ck=bG(cf/2);cg=cm+ci.slice(ci.length-ck).trimLeft();ci=ci.slice(0,ck);break;default:ck=cf;cg=cm;ci=ci.slice(0,ck)}if(cj===false&&this.slice(ck,ck+1).match(/\S/)){ci=ci.remove(ce)}return cn+ci+cg},pad:function(ce,cd){return ay(cd,ce)+this+ay(cd,ce)},padLeft:function(ce,cd){return ay(cd,ce)+this},padRight:function(ce,cd){return this+ay(cd,ce)},first:function(cd){if(aX(cd)){cd=1}return this.substr(0,cd)},last:function(cd){if(aX(cd)){cd=1}var ce=this.length-cd<0?0:this.length-cd;return this.substr(ce)},repeat:function(cd){var cf="",ce=0;if(aq(cd)&&cd>0){while(ce<cd){cf+=this;ce++}}return cf},toNumber:function(cd){var ce=this.replace(/,/g,"");return ce.match(/\./)?parseFloat(ce):parseInt(ce,cd||10)},capitalize:function(ce){var cd;return this.toLowerCase().replace(ce?/[\s\S]/g:/^\S/,function(cg){var ch=cg.toUpperCase(),cf;cf=cd?cg:ch;cd=ch!==cg;return cf})},assign:function(){var cd={};b0(arguments,function(ce,cf){if(cb(ce)){a5(cd,ce)}else{cd[cf+1]=ce}});return this.replace(/\{([^{]+?)\}/g,function(ce,cf){return ab(cd,cf)?cd[cf]:ce})},namespace:function(cd){cd=cd||ar;aP(this.split("."),function(ce,cf){return !!(cd=cd[cf])});return cd}});be(a,true,false,{insert:a.prototype.add});al("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=");var aZ=[],aV=[],b2=[],bB=[],v={},an,e;function b7(cd,cf){var ce=cd.indexOf(cf);if(ce>-1){cd.splice(ce,1)}}function a8(cd,cf,ce){if(bo(cf)){b7(b2,cf)}b7(b2,ce);cd.unshift({rule:cf,replacement:ce})}function i(ce,cd){return ce==cd||ce=="all"||!ce}function br(cd){return b2.some(function(ce){return new bq("\\b"+ce+"$","i").test(cd)})}function bU(ce,cd){ce=bo(ce)?ce.toString():"";if(ce.isBlank()||br(ce)){return ce}else{return aa(ce,cd?aZ:aV)}}function aa(ce,cd){aP(cd,function(cf,cg){if(ce.match(cg.rule)){ce=ce.replace(cg.rule,cg.replacement);return false}});return ce}function m(cd){return cd.replace(/^\W*[a-z]/,function(ce){return ce.toUpperCase()})}e={acronym:function(ce){v[ce.toLowerCase()]=ce;var cd=N.keys(v).map(function(cf){return v[cf]});e.acronymRegExp=bq(cd.join("|"),"g")},plural:function(ce,cd){a8(aZ,ce,cd)},singular:function(ce,cd){a8(aV,ce,cd)},irregular:function(ci,cm){var cg=ci.first(),cf=ci.from(1),ch=cm.first(),ck=cm.from(1),cd=ch.toUpperCase(),cl=ch.toLowerCase(),cj=cg.toUpperCase(),ce=cg.toLowerCase();b7(b2,ci);b7(b2,cm);if(cj==cd){e.plural(new bq("({1}){2}$".assign(cg,cf),"i"),"$1"+ck);e.plural(new bq("({1}){2}$".assign(ch,ck),"i"),"$1"+ck);e.singular(new bq("({1}){2}$".assign(ch,ck),"i"),"$1"+cf)}else{e.plural(new bq("{1}{2}$".assign(cj,cf)),cd+ck);e.plural(new bq("{1}{2}$".assign(ce,cf)),cl+ck);e.plural(new bq("{1}{2}$".assign(cd,ck)),cd+ck);e.plural(new bq("{1}{2}$".assign(cl,ck)),cl+ck);e.singular(new bq("{1}{2}$".assign(cd,ck)),cj+cf);e.singular(new bq("{1}{2}$".assign(cl,ck)),ce+cf)}},uncountable:function(ce){var cd=D.isArray(ce)?ce:b0(arguments);b2=b2.concat(cd)},human:function(ce,cd){bB.unshift({rule:ce,replacement:cd})},clear:function(cd){if(i(cd,"singulars")){aV=[]}if(i(cd,"plurals")){aZ=[]}if(i(cd,"uncountables")){b2=[]}if(i(cd,"humans")){bB=[]}if(i(cd,"acronyms")){v={}}}};an=["and","or","nor","a","an","the","so","but","to","of","at","by","from","into","on","onto","off","out","in","over","with","for"];e.plural(/$/,"s");e.plural(/s$/gi,"s");e.plural(/(ax|test)is$/gi,"$1es");e.plural(/(octop|vir|fung|foc|radi|alumn)(i|us)$/gi,"$1i");e.plural(/(census|alias|status)$/gi,"$1es");e.plural(/(bu)s$/gi,"$1ses");e.plural(/(buffal|tomat)o$/gi,"$1oes");e.plural(/([ti])um$/gi,"$1a");e.plural(/([ti])a$/gi,"$1a");e.plural(/sis$/gi,"ses");e.plural(/f+e?$/gi,"ves");e.plural(/(cuff|roof)$/gi,"$1s");e.plural(/([ht]ive)$/gi,"$1s");e.plural(/([^aeiouy]o)$/gi,"$1es");e.plural(/([^aeiouy]|qu)y$/gi,"$1ies");e.plural(/(x|ch|ss|sh)$/gi,"$1es");e.plural(/(matr|vert|ind)(?:ix|ex)$/gi,"$1ices");e.plural(/([ml])ouse$/gi,"$1ice");e.plural(/([ml])ice$/gi,"$1ice");e.plural(/^(ox)$/gi,"$1en");e.plural(/^(oxen)$/gi,"$1");e.plural(/(quiz)$/gi,"$1zes");e.plural(/(phot|cant|hom|zer|pian|portic|pr|quart|kimon)o$/gi,"$1os");e.plural(/(craft)$/gi,"$1");e.plural(/([ft])[eo]{2}(th?)$/gi,"$1ee$2");e.singular(/s$/gi,"");e.singular(/([pst][aiu]s)$/gi,"$1");e.singular(/([aeiouy])ss$/gi,"$1ss");e.singular(/(n)ews$/gi,"$1ews");e.singular(/([ti])a$/gi,"$1um");e.singular(/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)ses$/gi,"$1$2sis");e.singular(/(^analy)ses$/gi,"$1sis");e.singular(/(i)(f|ves)$/i,"$1fe");e.singular(/([aeolr]f?)(f|ves)$/i,"$1f");e.singular(/([ht]ive)s$/gi,"$1");e.singular(/([^aeiouy]|qu)ies$/gi,"$1y");e.singular(/(s)eries$/gi,"$1eries");e.singular(/(m)ovies$/gi,"$1ovie");e.singular(/(x|ch|ss|sh)es$/gi,"$1");e.singular(/([ml])(ous|ic)e$/gi,"$1ouse");e.singular(/(bus)(es)?$/gi,"$1");e.singular(/(o)es$/gi,"$1");e.singular(/(shoe)s?$/gi,"$1");e.singular(/(cris|ax|test)[ie]s$/gi,"$1is");e.singular(/(octop|vir|fung|foc|radi|alumn)(i|us)$/gi,"$1us");e.singular(/(census|alias|status)(es)?$/gi,"$1");e.singular(/^(ox)(en)?/gi,"$1");e.singular(/(vert|ind)(ex|ices)$/gi,"$1ex");e.singular(/(matr)(ix|ices)$/gi,"$1ix");e.singular(/(quiz)(zes)?$/gi,"$1");e.singular(/(database)s?$/gi,"$1");e.singular(/ee(th?)$/gi,"oo$1");e.irregular("person","people");e.irregular("man","men");e.irregular("child","children");e.irregular("sex","sexes");e.irregular("move","moves");e.irregular("save","saves");e.irregular("save","saves");e.irregular("cow","kine");e.irregular("goose","geese");e.irregular("zombie","zombies");e.uncountable("equipment,information,rice,money,species,series,fish,sheep,jeans".split(","));be(a,true,false,{pluralize:function(){return bU(this,true)},singularize:function(){return bU(this,false)},humanize:function(){var cd=aa(this,bB);cd=cd.replace(/_id$/g,"");cd=cd.replace(/(_)?([a-z\d]*)/gi,function(cf,ce,cg){return(ce?" ":"")+(v[cg]||cg.toLowerCase())});return m(cd)},titleize:function(){var cg=/[.:;!]$/,cd,cf,ce;return this.spacify().humanize().words(function(ci,ch,cj){cd=cg.test(ci);ce=ch==0||ch==cj.length-1||cd||cf;cf=cd;if(ce||an.indexOf(ci)===-1){return m(ci)}else{return ci}}).join(" ")},parameterize:function(cd){var ce=this;if(cd===undefined){cd="-"}if(ce.normalize){ce=ce.normalize()}ce=ce.replace(/[^a-z0-9\-_]+/gi,cd);if(cd){ce=ce.replace(new bq("^{sep}+|{sep}+$|({sep}){sep}+".assign({sep:bb(cd)}),"g"),"$1")}return encodeURI(ce.toLowerCase())}});a.Inflector=e;a.Inflector.acronyms=v;var af,aD="",bP;var a1=[{names:["Arabic"],source:"\u0600-\u06FF"},{names:["Cyrillic"],source:"\u0400-\u04FF"},{names:["Devanagari"],source:"\u0900-\u097F"},{names:["Greek"],source:"\u0370-\u03FF"},{names:["Hangul"],source:"\uAC00-\uD7AF\u1100-\u11FF"},{names:["Han","Kanji"],source:"\u4E00-\u9FFF\uF900-\uFAFF"},{names:["Hebrew"],source:"\u0590-\u05FF"},{names:["Hiragana"],source:"\u3040-\u309F\u30FB-\u30FC"},{names:["Kana"],source:"\u3040-\u30FF\uFF61-\uFF9F"},{names:["Katakana"],source:"\u30A0-\u30FF\uFF61-\uFF9F"},{names:["Latin"],source:"\u0001-\u007F\u0080-\u00FF\u0100-\u017F\u0180-\u024F"},{names:["Thai"],source:"\u0E00-\u0E7F"}];function bz(){a1.forEach(function(ce){var cf=bq("^["+ce.source+"\\s]+$");var cd=bq("["+ce.source+"]");ce.names.forEach(function(cg){bw(a.prototype,"is"+cg,function(){return cf.test(this.trim())});bw(a.prototype,"has"+cg,function(){return cd.test(this)})})})}var bO=[{type:"a",shift:65248,start:65,end:90},{type:"a",shift:65248,start:97,end:122},{type:"n",shift:65248,start:48,end:57},{type:"p",shift:65248,start:33,end:47},{type:"p",shift:65248,start:58,end:64},{type:"p",shift:65248,start:91,end:96},{type:"p",shift:65248,start:123,end:126}];var ae;var aQ=/[\u0020-\u00A5]|[\uFF61-\uFF9F][]?/g;var w=/[\u3000-\u301C]|[\u301A-\u30FC]|[\uFF01-\uFF60]|[\uFFE0-\uFFE6]/g;var aW="";var a7="";var f=/[]/;var ah=/[]/;var aC="";var O="";function bp(ci,cd,cf,ce){if(!ae){b()}var ch=b0(cd).join(""),cg=ae[ce];ch=ch.replace(/all/,"").replace(/(\w)lphabet|umbers?|atakana|paces?|unctuation/g,"$1");return ci.replace(cf,function(cj){if(cg[cj]&&(!ch||ch.has(cg[cj].type))){return cg[cj].to}else{return cj}})}function b(){var cd;ae={zenkaku:{},hankaku:{}};bO.forEach(function(ce){bV(ce.start,ce.end,function(cf){b9(ce.type,bN(cf),bN(cf+ce.shift))})});O.each(function(cf,ce){cd=aC.charAt(ce);b9("k",cd,cf);if(cf.match(f)){b9("k",cd+"",cf.shift(1))}if(cf.match(ah)){b9("k",cd+"",cf.shift(2))}});a7.each(function(cf,ce){b9("p",aW.charAt(ce),cf)});b9("k","","");b9("k","","");b9("s"," ","")}function b9(ce,cf,cd){ae.zenkaku[cf]={type:ce,to:cd};ae.hankaku[cd]={type:ce,to:cf}}function F(){af={};aP(bP,function(ce,cd){cd.split("").forEach(function(cf){af[cf]=ce});aD+=cd});aD=bq("["+aD+"]","g")}bP={A:"A",B:"B",C:"C",D:"D",E:"E",F:"F",G:"G",H:"H",I:"I",J:"J",K:"K",L:"L",M:"M",N:"N",O:"O",P:"P",Q:"Q",R:"R",S:"S",T:"T",U:"U",V:"V",W:"W",X:"X",Y:"Y",Z:"Z",a:"a",b:"b",c:"c",d:"d",e:"e",f:"f",g:"g",h:"h",i:"i",j:"j",k:"k",l:"l",m:"m",n:"n",o:"o",p:"p",q:"q",r:"r",s:"s",t:"t",u:"u",v:"v",w:"w",x:"x",y:"y",z:"z",AA:"",AE:"",AO:"",AU:"",AV:"",AY:"",DZ:"",Dz:"",LJ:"",Lj:"",NJ:"",Nj:"",OI:"",OO:"",OU:"",TZ:"",VY:"",aa:"",ae:"",ao:"",au:"",av:"",ay:"",dz:"",hv:"",lj:"",nj:"",oi:"",ou:"",oo:"",ss:"",tz:"",vy:""};be(a,true,false,{normalize:function(){if(!af){F()}return this.replace(aD,function(cd){return af[cd]})},hankaku:function(){return bp(this,arguments,w,"hankaku")},zenkaku:function(){return bp(this,arguments,aQ,"zenkaku")},hiragana:function(cd){var ce=this;if(cd!==false){ce=ce.zenkaku("k")}return ce.replace(/[\u30A1-\u30F6]/g,function(cf){return cf.shift(-96)})},katakana:function(){return this.replace(/[\u3041-\u3096]/g,function(cd){return cd.shift(96)})}});bz();window.referring_terms=false;if(document.referrer){var aM=Object.fromQueryString(document.referrer);if(Object.has(aM,"q")){window.referring_terms=aM.q}}Date.addLocale("de",{plural:true,capitalizeUnit:true,months:"Januar,Februar,Mrz|Marz,April,Mai,Juni,Juli,August,September,Oktober,November,Dezember",weekdays:"Sonntag,Montag,Dienstag,Mittwoch,Donnerstag,Freitag,Samstag",units:"Millisekunde:|n,Sekunde:|n,Minute:|n,Stunde:|n,Tag:|en,Woche:|n,Monat:|en,Jahr:|en",numbers:"ein:|e|er|en|em,zwei,drei,vier,fuenf,sechs,sieben,acht,neun,zehn",optionals:"der","short":"{d}. {Month} {yyyy}","long":"{d}. {Month} {yyyy} {H}:{mm}",full:"{Weekday} {d}. {Month} {yyyy} {H}:{mm}:{ss}",past:"{sign} {num} {unit}",future:"{sign} {num} {unit}",duration:"{num} {unit}",timeMarker:"um",ampm:"am,pm",modifiers:[{name:"day",src:"vorgestern",value:-2},{name:"day",src:"gestern",value:-1},{name:"day",src:"heute",value:0},{name:"day",src:"morgen",value:1},{name:"day",src:"bermorgen|ubermorgen|uebermorgen",value:2},{name:"sign",src:"vor:|her",value:-1},{name:"sign",src:"in",value:1},{name:"shift",src:"letzte:|r|n|s",value:-1},{name:"shift",src:"nchste:|r|n|s+nachste:|r|n|s+naechste:|r|n|s+kommende:n|r",value:1}],dateParse:["{sign} {num} {unit}","{num} {unit} {sign}","{shift} {unit=5-7}"],timeParse:["{weekday?} {date?} {month} {year?}","{shift} {weekday}"]});Date.addLocale("es",{plural:true,months:"enero,febrero,marzo,abril,mayo,junio,julio,agosto,septiembre,octubre,noviembre,diciembre",weekdays:"domingo,lunes,martes,mircoles|miercoles,jueves,viernes,sbado|sabado",units:"milisegundo:|s,segundo:|s,minuto:|s,hora:|s,da|das|dia|dias,semana:|s,mes:|es,ao|aos|ano|anos",numbers:"uno,dos,tres,cuatro,cinco,seis,siete,ocho,nueve,diez",optionals:"el,de","short":"{d} {month} {yyyy}","long":"{d} {month} {yyyy} {H}:{mm}",full:"{Weekday} {d} {month} {yyyy} {H}:{mm}:{ss}",past:"{sign} {num} {unit}",future:"{num} {unit} {sign}",duration:"{num} {unit}",timeMarker:"a las",ampm:"am,pm",modifiers:[{name:"day",src:"anteayer",value:-2},{name:"day",src:"ayer",value:-1},{name:"day",src:"hoy",value:0},{name:"day",src:"maana|manana",value:1},{name:"sign",src:"hace",value:-1},{name:"sign",src:"de ahora",value:1},{name:"shift",src:"pasad:o|a",value:-1},{name:"shift",src:"prximo|prxima|proximo|proxima",value:1}],dateParse:["{sign} {num} {unit}","{num} {unit} {sign}","{0} {unit=5-7} {shift}","{0} {shift} {unit=5-7}"],timeParse:["{shift} {weekday}","{weekday} {shift}","{date?} {1} {month} {1} {year?}"]});Date.addLocale("fr",{plural:true,months:"janvier,fvrier|fevrier,mars,avril,mai,juin,juillet,aot,septembre,octobre,novembre,dcembre|decembre",weekdays:"dimanche,lundi,mardi,mercredi,jeudi,vendredi,samedi",units:"milliseconde:|s,seconde:|s,minute:|s,heure:|s,jour:|s,semaine:|s,mois,an:|s|ne|nee",numbers:"un:|e,deux,trois,quatre,cinq,six,sept,huit,neuf,dix",optionals:["l'|la|le"],"short":"{d} {month} {yyyy}","long":"{d} {month} {yyyy} {H}:{mm}",full:"{Weekday} {d} {month} {yyyy} {H}:{mm}:{ss}",past:"{sign} {num} {unit}",future:"{sign} {num} {unit}",duration:"{num} {unit}",timeMarker:"",ampm:"am,pm",modifiers:[{name:"day",src:"hier",value:-1},{name:"day",src:"aujourd'hui",value:0},{name:"day",src:"demain",value:1},{name:"sign",src:"il y a",value:-1},{name:"sign",src:"dans|d'ici",value:1},{name:"shift",src:"derni:r|er|re|ere",value:-1},{name:"shift",src:"prochain:|e",value:1}],dateParse:["{sign} {num} {unit}","{sign} {num} {unit}","{0} {unit=5-7} {shift}"],timeParse:["{0} {date?} {month} {year?}","{0} {weekday} {shift}"]});Date.addLocale("it",{plural:true,months:"Gennaio,Febbraio,Marzo,Aprile,Maggio,Giugno,Luglio,Agosto,Settembre,Ottobre,Novembre,Dicembre",weekdays:"Domenica,Luned:|i,Marted:|i,Mercoled:|i,Gioved:|i,Venerd:|i,Sabato",units:"millisecond:o|i,second:o|i,minut:o|i,or:a|e,giorn:o|i,settiman:a|e,mes:e|i,ann:o|i",numbers:"un:|a|o|',due,tre,quattro,cinque,sei,sette,otto,nove,dieci",optionals:"l'|la|il","short":"{d} {Month} {yyyy}","long":"{d} {Month} {yyyy} {H}:{mm}",full:"{Weekday} {d} {Month} {yyyy} {H}:{mm}:{ss}",past:"{num} {unit} {sign}",future:"{num} {unit} {sign}",duration:"{num} {unit}",timeMarker:"alle",ampm:"am,pm",modifiers:[{name:"day",src:"ieri",value:-1},{name:"day",src:"oggi",value:0},{name:"day",src:"domani",value:1},{name:"day",src:"dopodomani",value:2},{name:"sign",src:"fa",value:-1},{name:"sign",src:"da adesso",value:1},{name:"shift",src:"scors:o|a",value:-1},{name:"shift",src:"prossim:o|a",value:1}],dateParse:["{num} {unit} {sign}","{0} {unit=5-7} {shift}","{0} {shift} {unit=5-7}"],timeParse:["{weekday?} {date?} {month} {year?}","{shift} {weekday}"]});Date.addLocale("ja",{monthSuffix:"",weekdays:",,,,,,",units:",,,,,|,||,","short":"{yyyy}{M}{d}","long":"{yyyy}{M}{d} {H}{mm}",full:"{yyyy}{M}{d} {Weekday} {H}{mm}{ss}",past:"{num}{unit}{sign}",future:"{num}{unit}{sign}",duration:"{num}{unit}",timeSuffixes:",,",ampm:",",modifiers:[{name:"day",src:"",value:-2},{name:"day",src:"",value:-1},{name:"day",src:"",value:0},{name:"day",src:"",value:1},{name:"day",src:"",value:2},{name:"sign",src:"",value:-1},{name:"sign",src:"",value:1},{name:"shift",src:"|",value:-1},{name:"shift",src:"",value:1}],dateParse:["{num}{unit}{sign}"],timeParse:["{shift}{unit=5-7}{weekday?}","{year}{month?}?{date?}?","{month}{date?}?","{date}"]});Date.addLocale("ko",{digitDate:true,monthSuffix:"",weekdays:",,,,,,",units:",,,,,,|,",numbers:"|,,,,,,,,,","short":"{yyyy}{M}{d}","long":"{yyyy}{M}{d} {H}{mm}",full:"{yyyy}{M}{d} {Weekday} {H}{mm}{ss}",past:"{num}{unit} {sign}",future:"{num}{unit} {sign}",duration:"{num}{unit}",timeSuffixes:",,",ampm:",",modifiers:[{name:"day",src:"",value:-2},{name:"day",src:"",value:-1},{name:"day",src:"",value:0},{name:"day",src:"",value:1},{name:"day",src:"",value:2},{name:"sign",src:"",value:-1},{name:"sign",src:"",value:1},{name:"shift",src:"|",value:-1},{name:"shift",src:"",value:0},{name:"shift",src:"|",value:1}],dateParse:["{num}{unit} {sign}","{shift?} {unit=5-7}"],timeParse:["{shift} {unit=5?} {weekday}","{year}{month?}?{date?}?","{month}{date?}?","{date}"]});Date.addLocale("pl",{plural:true,months:"Stycze|Stycznia,Luty|Lutego,Marzec|Marca,Kwiecie|Kwietnia,Maj|Maja,Czerwiec|Czerwca,Lipiec|Lipca,Sierpie|Sierpnia,Wrzesie|Wrzenia,Padziernik|Padziernika,Listopad|Listopada,Grudzie|Grudnia",weekdays:"Niedziela|Niedziel,Poniedziaek,Wtorek,rod:a|,Czwartek,Pitek,Sobota|Sobot",units:"milisekund:a|y|,sekund:a|y|,minut:a|y|,godzin:a|y|,dzie|dni,tydzie|tygodnie|tygodni,miesice|miesice|miesicy,rok|lata|lat",numbers:"jeden|jedn,dwa|dwie,trzy,cztery,pi,sze,siedem,osiem,dziewi,dziesi",optionals:"w|we,roku","short":"{d} {Month} {yyyy}","long":"{d} {Month} {yyyy} {H}:{mm}",full:"{Weekday}, {d} {Month} {yyyy} {H}:{mm}:{ss}",past:"{num} {unit} {sign}",future:"{sign} {num} {unit}",duration:"{num} {unit}",timeMarker:"o",ampm:"am,pm",modifiers:[{name:"day",src:"przedwczoraj",value:-2},{name:"day",src:"wczoraj",value:-1},{name:"day",src:"dzisiaj|dzi",value:0},{name:"day",src:"jutro",value:1},{name:"day",src:"pojutrze",value:2},{name:"sign",src:"temu|przed",value:-1},{name:"sign",src:"za",value:1},{name:"shift",src:"zeszy|zesza|ostatni|ostatnia",value:-1},{name:"shift",src:"nastpny|nastpna|nastpnego|przyszy|przysza|przyszego",value:1}],dateParse:["{num} {unit} {sign}","{sign} {num} {unit}","{month} {year}","{shift} {unit=5-7}","{0} {shift?} {weekday}"],timeParse:["{date} {month} {year?} {1}","{0} {shift?} {weekday}"]});Date.addLocale("pt",{plural:true,months:"janeiro,fevereiro,maro,abril,maio,junho,julho,agosto,setembro,outubro,novembro,dezembro",weekdays:"domingo,segunda-feira,tera-feira,quarta-feira,quinta-feira,sexta-feira,sbado|sabado",units:"milisegundo:|s,segundo:|s,minuto:|s,hora:|s,dia:|s,semana:|s,ms|mses|mes|meses,ano:|s",numbers:"um,dois,trs|tres,quatro,cinco,seis,sete,oito,nove,dez,uma,duas",optionals:"a,de","short":"{d} de {month} de {yyyy}","long":"{d} de {month} de {yyyy} {H}:{mm}",full:"{Weekday}, {d} de {month} de {yyyy} {H}:{mm}:{ss}",past:"{num} {unit} {sign}",future:"{sign} {num} {unit}",duration:"{num} {unit}",timeMarker:"s",ampm:"am,pm",modifiers:[{name:"day",src:"anteontem",value:-2},{name:"day",src:"ontem",value:-1},{name:"day",src:"hoje",value:0},{name:"day",src:"amanh:|a",value:1},{name:"sign",src:"atrs|atras|h|ha",value:-1},{name:"sign",src:"daqui a",value:1},{name:"shift",src:"passad:o|a",value:-1},{name:"shift",src:"prximo|prxima|proximo|proxima",value:1}],dateParse:["{num} {unit} {sign}","{sign} {num} {unit}","{0} {unit=5-7} {shift}","{0} {shift} {unit=5-7}"],timeParse:["{date?} {1} {month} {1} {year?}","{0} {shift} {weekday}"]});Date.addLocale("ru",{months:":|,:|,:|,:|,:|,:|,:|,:|,:|,:|,:|,:|",weekdays:",,,,,,",units:":|||,:|||,:|||,:|||,|||,:||||,:||||,||||",numbers:":|,:|,,,,,,,,",optionals:"|,","short":"{d} {month} {yyyy} ","long":"{d} {month} {yyyy}  {H}:{mm}",full:"{Weekday} {d} {month} {yyyy}  {H}:{mm}:{ss}",past:"{num} {unit} {sign}",future:"{sign} {num} {unit}",duration:"{num} {unit}",timeMarker:"",ampm:" , ",modifiers:[{name:"day",src:"",value:-2},{name:"day",src:"",value:-1},{name:"day",src:"",value:0},{name:"day",src:"",value:1},{name:"day",src:"",value:2},{name:"sign",src:"",value:-1},{name:"sign",src:"",value:1},{name:"shift",src:":||",value:-1},{name:"shift",src:":||",value:1}],dateParse:["{num} {unit} {sign}","{sign} {num} {unit}","{month} {year}","{0} {shift} {unit=5-7}"],timeParse:["{date} {month} {year?} {1}","{0} {shift} {weekday}"]});Date.addLocale("sv",{plural:true,months:"januari,februari,mars,april,maj,juni,juli,augusti,september,oktober,november,december",weekdays:"sndag|sondag,mndag:|en+mandag:|en,tisdag,onsdag,torsdag,fredag,lrdag|lordag",units:"millisekund:|er,sekund:|er,minut:|er,timm:e|ar,dag:|ar,veck:a|or|an,mnad:|er|en+manad:|er|en,r:||et+ar:||et",numbers:"en|ett,tv|tva,tre,fyra,fem,sex,sju,tta|atta,nio,tio",optionals:"den,fr|for",articles:"den","short":"den {d} {month} {yyyy}","long":"den {d} {month} {yyyy} {H}:{mm}",full:"{Weekday} den {d} {month} {yyyy} {H}:{mm}:{ss}",past:"{num} {unit} {sign}",future:"{sign} {num} {unit}",duration:"{num} {unit}",ampm:"am,pm",modifiers:[{name:"day",src:"frrgr|i frrgr|ifrrgr|forrgar|i forrgar|iforrgar",value:-2},{name:"day",src:"gr|i gr|igr|gar|i gar|igar",value:-1},{name:"day",src:"dag|i dag|idag",value:0},{name:"day",src:"morgon|i morgon|imorgon",value:1},{name:"day",src:"ver morgon|vermorgon|i ver morgon|i vermorgon|ivermorgon|over morgon|overmorgon|i over morgon|i overmorgon|iovermorgon",value:2},{name:"sign",src:"sedan|sen",value:-1},{name:"sign",src:"om",value:1},{name:"shift",src:"i frra|frra|i forra|forra",value:-1},{name:"shift",src:"denna",value:0},{name:"shift",src:"nsta|nasta",value:1}],dateParse:["{num} {unit} {sign}","{sign} {num} {unit}","{1} {num} {unit} {sign}","{shift} {unit5-7}"],timeParse:["{0} {weekday?} {date?} {month} {year}","{date} {month}","{shift} {weekday}"]});Date.addLocale("zh-CN",{variant:true,monthSuffix:"",weekdays:"|,|,|,|,|,|,|",units:",,,,,|,,",optionals:"|","short":"{yyyy}{M}{d}","long":"{yyyy}{M}{d} {tt}{h}:{mm}",full:"{yyyy}{M}{d} {weekday} {tt}{h}:{mm}:{ss}",past:"{num}{unit}{sign}",future:"{num}{unit}{sign}",duration:"{num}{unit}",timeSuffixes:"|,?,",ampm:",",modifiers:[{name:"day",src:"",value:-2},{name:"day",src:"",value:-1},{name:"day",src:"",value:0},{name:"day",src:"",value:1},{name:"day",src:"",value:2},{name:"sign",src:"",value:-1},{name:"sign",src:"",value:1},{name:"shift",src:"|",value:-1},{name:"shift",src:"",value:0},{name:"shift",src:"|",value:1}],dateParse:["{num}{unit}{sign}","{shift}{unit=5-7}"],timeParse:["{shift}{weekday}","{year}{month?}?{date?}{0}","{month}{date?}{0}","{date}{0}"]});Date.addLocale("zh-TW",{monthSuffix:"",weekdays:"|,|,|,|,|,|,|",units:",,,,,|,,",optionals:"|","short":"{yyyy}{M}{d}","long":"{yyyy}{M}{d} {tt}{h}:{mm}",full:"{yyyy}{M}{d} {Weekday} {tt}{h}:{mm}:{ss}",past:"{num}{unit}{sign}",future:"{num}{unit}{sign}",duration:"{num}{unit}",timeSuffixes:"|,?,",ampm:",",modifiers:[{name:"day",src:"",value:-2},{name:"day",src:"",value:-1},{name:"day",src:"",value:0},{name:"day",src:"",value:1},{name:"day",src:"",value:2},{name:"sign",src:"",value:-1},{name:"sign",src:"",value:1},{name:"shift",src:"|",value:-1},{name:"shift",src:"",value:0},{name:"shift",src:"|",value:1}],dateParse:["{num}{unit}{sign}","{shift}{unit=5-7}"],timeParse:["{shift}{weekday}","{year}{month?}?{date?}{0}","{month}{date?}{0}","{date}{0}"]})})();!function(e){var c=function(i,h){this.options=h;this.$element=e(i).delegate('[data-dismiss="monster"]',"click.dismiss.monster",e.proxy(this.hide,this))};c.prototype={constructor:c,toggle:function(){return this[!this.isShown?"show":"hide"]()},show:function(){var i=this;if(this.isShown){return}e("body").addClass("monster-open");this.isShown=true;this.$element.trigger("show");d.call(this);var h=function(){var j=e.support.transition&&i.$element.hasClass("fade");!i.$element.parent().length&&i.$element.appendTo(document.body);i.$element.show();i.$element.animate({bottom:"0"},400,function(){});if(j){i.$element[0].offsetWidth}i.$element.addClass("in");j?i.$element.one(e.support.transition.end,function(){i.$element.trigger("shown")}):i.$element.trigger("shown")};this.options.backdrop!==false?b.call(this,h):h()},hide:function(i){i&&i.preventDefault();if(!this.isShown){return}var h=this;this.isShown=false;e("body").removeClass("monster-open");d.call(this);this.$element.trigger("hide").removeClass("in");e.support.transition&&this.$element.hasClass("fade")?g.call(this):f.call(this)}};function g(){var h=this,i=setTimeout(function(){h.$element.off(e.support.transition.end);f.call(h)},500);this.$element.one(e.support.transition.end,function(){clearTimeout(i);f.call(h)})}function f(h){this.$element.hide().trigger("hidden");b.call(this)}function b(k){var j=this,i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var h=e.support.transition&&i;this.$backdrop=e('<div class="modal-backdrop '+i+" "+(this.options.backdropClass||"")+'" />').appendTo(document.body);if(this.options.backdrop!="static"){this.$backdrop.click(e.proxy(this.hide,this))}if(h){this.$backdrop[0].offsetWidth}this.$backdrop.addClass("in");h?this.$backdrop.one(e.support.transition.end,k):k()}else{if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(e.support.transition.end,e.proxy(a,this)):a.call(this)}else{if(k){k()}}}}function a(){this.$backdrop.remove();this.$backdrop=null}function d(){var h=this;if(this.isShown&&this.options.keyboard){e(document).on("keyup.dismiss.monster",function(i){i.which==27&&h.hide()})}else{if(!this.isShown){e(document).off("keyup.dismiss.monster")}}}e.fn.monster=function(h){return this.each(function(){var k=e(this),j=k.data("monster"),i=e.extend({},e.fn.modal.defaults,k.data(),typeof h=="object"&&h);if(!j){k.data("monster",(j=new c(this,i)))}if(typeof h=="string"){j[h]()}else{if(i.show){j.show()}}})};e.fn.monster.defaults={backdrop:true,keyboard:true,show:true};e.fn.monster.Constructor=c;e(function(){e("body").on("click.monster.data-api",'[data-toggle="monster"]',function(l){var k=e(this),i,h=e(k.attr("data-target")||(i=k.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"")),j=h.data("monster")?"toggle":e.extend({},h.data(),k.data());l.preventDefault();h.modal(j)})})}(jQuery);if(!Array.prototype.chunk){Array.prototype.chunk=function(g){if(this===void 0||this===null){throw new TypeError()}var f=Object(this);var b=f.length>>>0;for(var a,e=0,j=-1,d=b,h=[];e<d;e++){(a=e%g)?h[j][a]=f[e]:h[++j]=[f[e]]}return h}}if(!Array.prototype.filter){Array.prototype.filter=function(b){if(this===void 0||this===null){throw new TypeError()}var f=Object(this);var a=f.length>>>0;if(typeof b!=="function"){throw new TypeError()}var e=[];var d=arguments[1];for(var c=0;c<a;c++){if(c in f){var g=f[c];if(b.call(d,g,c,f)){e.push(g)}}}return e}}if(!Array.prototype.map){Array.prototype.map=function(b){if(this===void 0||this===null){throw new TypeError()}var f=Object(this);var a=f.length>>>0;if(typeof b!=="function"){throw new TypeError()}var e=new Array(a);var d=arguments[1];for(var c=0;c<a;c++){if(c in f){e[c]=b.call(d,f[c],c,f)}}return e}}if(!Array.prototype.filter){Array.prototype.filter=function(b){if(this===void 0||this===null){throw new TypeError()}var f=Object(this);var a=f.length>>>0;if(typeof b!=="function"){throw new TypeError()}var e=[];var d=arguments[1];for(var c=0;c<a;c++){if(c in f){var g=f[c];if(b.call(d,g,c,f)){e.push(g)}}}return e}}if(!Array.prototype.combine){Array.prototype.combine=function(a){if(a){for(var b=0;b<a.length;b++){this.push(a[b])}}}}if(!Array.prototype.sum){Array.prototype.sum=function(){var b=0;for(var a=0,b=0;a<this.length;b+=parseFloat(this[a++])){}return b}};