function ektb_init(n){ektj$(n).unbind("click").click(function(){var i=this.title||this.name||null,t=this.href||this.alt,n=this.rel||!1;return ektb_show(i,t,n),this.blur(),!1})}function ektb_show(n,t,i,r,u){var o,l,a,s,y,f,v,e,h,c;try{o="undefined"!=typeof r?r:"close",ektj$("object").hide(),ektj$("embed").hide(),typeof document.body.style.maxHeight=="undefined"?(ektj$("body","html").css({height:"100%",width:"100%"}),ektj$("html").css("overflow","hidden"),document.getElementById("EkTB_HideSelect")===null&&(ektj$("body").append("<iframe src='javascript:false;' id='EkTB_HideSelect'></iframe><div id='EkTB_overlay'></div><div id='EkTB_window'></div>"),ektj$("#EkTB_overlay").click(ektb_remove))):document.getElementById("EkTB_overlay")===null&&(ektj$("body").append("<div id='EkTB_overlay'></div><div id='EkTB_window'></div>"),ektj$("#EkTB_overlay").click(ektb_remove)),ektb_detectMacXFF()?ektj$("#EkTB_overlay").addClass("EkTB_overlayMacFFBGHack"):ektj$("#EkTB_overlay").addClass("EkTB_overlayBG"),n===null&&(n=""),imgLoader.src!=""&&(imgLoader.src.indexOf("?")==-1?ektj$("body").append("<div id='EkTB_load'><img src='"+imgLoader.src+"?n="+Math.random()+"' /></div>"):ektj$("body").append("<div id='EkTB_load'><img src='"+imgLoader.src+"&n="+Math.random()+"' /></div>")),ektj$("#EkTB_load").show(),l=t.indexOf("?")!==-1?t.substr(0,t.indexOf("?")):t,a=/\.jpg$|\.jpeg$|\.png$|\.gif$|\.bmp$/,s=l.toLowerCase().match(a);if(s==".jpg"||s==".jpeg"||s==".png"||s==".gif"||s==".bmp"){typeof n=="object"&&(n.tagName=="SPAN"||n.tagName=="DIV")?n=n.innerHTML:typeof n!="string"&&(n=n.value),EkTB_PrevCaption="",EkTB_PrevURL="",EkTB_PrevHTML="",EkTB_NextCaption="",EkTB_NextURL="",EkTB_NextHTML="",EkTB_imageCount="",EkTB_FoundURL=!1;if(i)for(EkTB_TempArray=ektj$("a[rel="+i+"]").get(),EkTB_Counter=0;EkTB_Counter<EkTB_TempArray.length&&EkTB_NextHTML==="";EkTB_Counter++)y=EkTB_TempArray[EkTB_Counter].href.toLowerCase().match(a),EkTB_TempArray[EkTB_Counter].href==t?(EkTB_FoundURL=!0,EkTB_imageCount="Image "+(EkTB_Counter+1)+" of "+EkTB_TempArray.length):EkTB_FoundURL?(f=ektj$("#"+EkTB_TempArray[EkTB_Counter].id+"_Teaser")[0],EkTB_NextCaption=typeof f=="object"&&(f.tagName=="SPAN"||f.tagName=="DIV")?f.innerHTML:f!=null&&typeof f=="object"?f.value:EkTB_TempArray[EkTB_Counter].title,EkTB_NextURL=EkTB_TempArray[EkTB_Counter].href,EkTB_NextHTML="<span id='EkTB_next'>&nbsp;&nbsp;<a href='javascript://'>Next &gt;</a></span>"):(f=ektj$("#"+EkTB_TempArray[EkTB_Counter].id+"_Teaser")[0],EkTB_PrevCaption=typeof f=="object"&&(f.tagName=="SPAN"||f.tagName=="DIV")?f.innerHTML:f!=null&&typeof f=="object"?f.value:EkTB_TempArray[EkTB_Counter].title,EkTB_PrevURL=EkTB_TempArray[EkTB_Counter].href,EkTB_PrevHTML="<span id='EkTB_prev'>&nbsp;&nbsp;<a href='javascript://'>&lt; Prev</a></span>");imgPreloader=new Image,imgPreloader.onload=function(){var h;imgPreloader.onload=null;var l=ektb_getPageSize(),f=l[0]-150,e=l[1]-150,u=imgPreloader.width,r=imgPreloader.height;u>f?(r=r*(f/u),u=f,r>e&&(u=u*(e/r),r=e)):r>e&&(u=u*(e/r),r=e,u>f&&(r=r*(f/u),u=f)),EkTB_WIDTH=u+30,EkTB_HEIGHT=r+60,h="",n!=""&&(h='<div id="ekt_caption" class="ekt_caption"><div style="text-align:right"><a style="cursor:pointer;" onclick="ektj$(\'#ekt_caption\').hide()">X</a></div><div class="ekt_caption_text">'+n+"</div></div>"),ektj$("#EkTB_window").append('<div id="EkTB_container-page"><div id="EkTB_container-image" style="height:'+r+"px;width:"+u+'px;"><img src="'+t+"?n="+Math.random()+'" width="'+u+'" height="'+r+'"/><div class="ekt_captionWrapper"><div class="ekt_captionInnerWrapper">'+h+"</div></div></div></div><div id='EkTB_caption'><div id='EkTB_secondLine'>"+EkTB_imageCount+EkTB_PrevHTML+EkTB_NextHTML+"</div></div><div id='EkTB_closeWindow'><a href='javascript://' id='EkTB_closeWindowButton' title='"+o+"'>"+o+"</a></div>"),ektj$("#EkTB_closeWindowButton").click(ektb_closeClick);if(!(EkTB_PrevHTML==="")){function s(){return ektj$(document).unbind("click",s)&&ektj$(document).unbind("click",s),ektj$("#EkTB_window").remove(),ektj$("body").append("<div id='EkTB_window'></div>"),ektb_show(EkTB_PrevCaption,EkTB_PrevURL,i),!1}ektj$("#EkTB_prev").click(s)}if(!(EkTB_NextHTML==="")){function c(){return ektj$("#EkTB_window").remove(),ektj$("body").append("<div id='EkTB_window'></div>"),ektb_show(EkTB_NextCaption,EkTB_NextURL,i),!1}ektj$("#EkTB_next").click(c)}document.onkeydown=function(n){keycode=n==null?event.keyCode:n.which,keycode==27?ektb_remove():keycode==190?EkTB_NextHTML==""||(document.onkeydown="",c()):keycode==188&&(EkTB_PrevHTML==""||(document.onkeydown="",s()))},ektb_position(),ektj$("#EkTB_load").remove(),ektj$("#EkTB_ImageOff").click(ektb_remove),ektj$("#EkTB_window").css({display:"block"})},imgPreloader.src=t+"?n="+Math.random()}else v=t.replace(/^[^\?]+\??/,""),e=ektb_parseQuery(v),e.refreshCaller&&e.refreshCaller!="undefined"&&(ektb_refreshWindow=e.refreshCaller),EkTB_WIDTH=e.width*1+30||630,EkTB_HEIGHT=e.height*1+40||440,h=ektb_getPageSize(),(EkTB_WIDTH>h[0]||EkTB_HEIGHT>h[1])&&(EkTB_WIDTH=h[0]-100,EkTB_HEIGHT=h[1]-150),t.indexOf("EkTB_iframe")!=-1?(ajaxContentW=EkTB_WIDTH-30,ajaxContentH=EkTB_HEIGHT-45,urlNoQuery=t.split("EkTB_"),ektj$("#EkTB_iframeContent").remove(),ektj$("#EkTB_window").empty(),c="",e.scrolling=="false"&&(c="scrolling='no'"),e.modal!="true"?ektj$("#EkTB_window").append("<div id='EkTB_title'><div id='EkTB_ajaxWindowTitle'>"+n+"</div><div id='EkTB_closeAjaxWindow'><a href='javascript://'  id='EkTB_closeWindowButton' title='"+o+"'></a></div></div><iframe "+c+" frameborder='0' hspace='0' src='"+urlNoQuery[0]+"' id='EkTB_iframeContent' name='EkTB_iframeContent"+Math.round(Math.random()*1e3)+"' style='width:"+(ajaxContentW+29)+"px;height:"+(ajaxContentH+67)+"px;' > </iframe>"):(ektj$("#EkTB_overlay").unbind(),(u==null||u==!1)&&ektj$("#EkTB_window").append("<div id='EkTB_title'><div id='EkTB_ajaxWindowTitle'>"+n+"</div><div id='EkTB_closeAjaxWindow'><a href='javascript://'  id='EkTB_closeWindowButton' onclick='ektb_remove();' title='"+o+"'></a></div></div>"),ektj$("#EkTB_window").append("<iframe "+c+" frameborder='0' hspace='0' src='"+urlNoQuery[0]+"' id='EkTB_iframeContent' name='EkTB_iframeContent"+Math.round(Math.random()*1e3)+"' style='width:"+(ajaxContentW+29)+"px;height:"+(ajaxContentH+67)+"px;'> </iframe>")),ektb_showIframe()):(ajaxContentW=EkTB_WIDTH,ajaxContentH=EkTB_HEIGHT,ektj$("#EkTB_window").css("display")!="block"?e.modal!="true"?ektj$("#EkTB_window").append("<div id='EkTB_title'><div id='EkTB_ajaxWindowTitle'>"+n+"</div><div id='EkTB_closeAjaxWindow'><a href='javascript://' id='EkTB_closeWindowButton'>"+o+"</a></div></div><div id='EkTB_ajaxContent' style='width:"+ajaxContentW+"px;height:"+ajaxContentH+"px'></div>"):(ektj$("#EkTB_overlay").unbind(),e.caption!=null&&e.caption=="false"||u!=null||u==!0?ektj$("#EkTB_window").append("<div id='EkTB_ajaxContent' class='EkTB_modal' style='width:"+ajaxContentW+"px;height:"+ajaxContentH+"px;'></div>"):ektj$("#EkTB_window").append("<div id='EkTB_title'><div id='EkTB_ajaxWindowTitle'>"+n+"</div><div id='EkTB_closeAjaxWindow'><a href='javascript://' id='EkTB_closeWindowButton'>"+o+"</a></div></div><div id='EkTB_ajaxContent' class='EkTB_modal' style='width:"+ajaxContentW+"px;height:"+ajaxContentH+"px;'></div>")):(ektj$("#EkTB_ajaxContent")[0].style.width=ajaxContentW+"px",ektj$("#EkTB_ajaxContent")[0].style.height=ajaxContentH+"px",ektj$("#EkTB_ajaxContent")[0].scrollTop=0,ektj$("#EkTB_ajaxWindowTitle").html(n))),ektj$("#EkTB_closeWindowButton").click(ektb_closeClick),t.indexOf("EkTB_inline")!=-1?(ektj$("#EkTB_ajaxContent").append(ektj$("#"+e.inlineId).children()),ektj$("#EkTB_window").unload(function(){ektj$("#"+e.inlineId).append(ektj$("#EkTB_ajaxContent").children())}),ektb_position(),ektj$("#EkTB_load").remove(),ektj$("#EkTB_window").css({display:"block"})):t.indexOf("EkTB_iframe")!=-1?(ektb_position(),ektj$.browser.safari&&(ektj$("#EkTB_load").remove(),ektj$("#EkTB_window").css({display:"block"}))):ektj$("#EkTB_ajaxContent").load(t+="&random="+ +new Date,function(){ektb_position(),ektj$("#EkTB_load").remove(),ektb_init("#EkTB_ajaxContent a.ek_thickbox"),ektj$("#EkTB_window").css({display:"block"})});e.modal||(document.onkeyup=function(n){keycode=n==null?event.keyCode:n.which,keycode==27&&ektb_remove()})}catch(p){}}function ektb_show_no_url(){try{ektj$("object").hide(),ektj$("embed").hide(),typeof document.body.style.maxHeight=="undefined"?(ektj$("body","html").css({height:"100%",width:"100%"}),ektj$("html").css("overflow","hidden"),document.getElementById("EkTB_HideSelect")===null&&ektj$("body").append("<iframe src='javascript:false;' id='EkTB_HideSelect'></iframe><div id='EkTB_overlay'></div><div id='EkTB_window'></div>")):document.getElementById("EkTB_overlay")===null&&ektj$("body").append("<div id='EkTB_overlay'></div><div id='EkTB_window'></div>"),ektb_detectMacXFF()?ektj$("#EkTB_overlay").addClass("EkTB_overlayMacFFBGHack"):ektj$("#EkTB_overlay").addClass("EkTB_overlayBG")}catch(n){alert(n.message)}}function ektb_showIframe(){ektj$("#EkTB_load").remove(),ektj$("#EkTB_window").css({display:"block"})}function ektb_remove(){var r=ektj$("body input#ektjFocusHelper"),i,n,t;r.length==0&&(ektj$("body").append('<input type="text" id="ektjFocusHelper" style="position:absolute; left: -10000px;"> </input>'),r=ektj$("body input#ektjFocusHelper")),r.length>0&&(r[0].focus(),r[0].blur()),ektj$("object").show(),ektj$("embed").show(),ektj$("#EkTB_imageOff").unbind("click"),ektj$("#EkTB_closeWindowButton").unbind("click"),ektj$("#EkTB_window").fadeOut("fast",function(){ektj$("#EkTB_window,#EkTB_overlay,#EkTB_HideSelect").trigger("unload").unbind().remove()}),ektj$("#EkTB_load").remove(),typeof document.body.style.maxHeight=="undefined"&&(ektj$("body","html").css({height:"auto",width:"auto"}),ektj$("html").css("overflow","")),document.onkeydown="",document.onkeyup="";try{if(ektb_refreshWindow!="true")return!1;ektb_refreshWindow="false";if(top.frames.ek_main!=null){i="";try{i=new String(top.frames.ek_main.location.href)}catch(f){}i.indexOf("#")!=-1?(n=top.frames.ek_main.location.pathname,t="",document.getElementById("taxonomyselectedtree")!=null&&(t=document.getElementById("taxonomyselectedtree").value),t!=""&&(n=n+"?__taxonomyid="+t),parent!=null?parent.location.href=n:top.location.href=n):top.frames.ek_main.location.href=top.frames.ek_main.location.href}else{i="";try{i=new String(top.opener.location)}catch(f){}i.indexOf("#")!=-1?(n=parent.location.pathname,t="",document.getElementById("taxonomyselectedtree")!=null&&(t=document.getElementById("taxonomyselectedtree").value),t!=""&&(n=n+"?__taxonomyid="+t),parent!=null?parent.location.href=n:top.location.href=n):parent!=null?parent.location.href=parent.location.pathname+parent.location.search:top.location.href=top.location.href}top.DisplayUploadingBox&&top.DisplayUploadingBox(!1)}catch(u){}return!1}function ektb_position(){ektj$("#EkTB_window").css({marginLeft:"-"+parseInt(EkTB_WIDTH/2,10)+"px",width:EkTB_WIDTH+"px"}),ektjq.browser.msie&&ektjq.browser.version<7||ektj$("#EkTB_window").css({marginTop:"-"+parseInt(EkTB_HEIGHT/2,10)+"px"})}function ektb_parseQuery(n){var u={},f,r,t,e,i;if(!n)return u;for(f=n.split(/[;&]/),r=0;r<f.length;r++){t=f[r].split("=");if(!t||t.length!=2)continue;e=unescape(t[0]),i=unescape(t[1]),i=i.replace(/\+/g," "),u[e]=i}return u}function ektb_getPageSize(){var n=document.documentElement,i=window.innerWidth||self.innerWidth||n&&n.clientWidth||document.body.clientWidth,t=window.innerHeight||self.innerHeight||n&&n.clientHeight||document.body.clientHeight;return arrayPageSize=[i,t]}function ektb_detectMacXFF(){var n=navigator.userAgent.toLowerCase();if(n.indexOf("mac")!=-1&&n.indexOf("firefox")!=-1)return!0}function ektb_closeClick(){var n=ektj$("#EkTB_closeWindowButton");n!=null&&n.focus(),ektb_remove()}function GetPreviewURL(){var n=self.location.href,t=n.split("?");return n=t.length>1?n+"&cmsMode=Preview":n+"?cmsMode=Preview"}function addEkTbLoadEvent(){var n=window.onload;window.onload=function(){typeof n=="function"&&n(),setTimeout("m_bEkTbReady = true;",500)}}function EkTbWebMenuPopUpWindow(n,t,i,r,u,f){var o,e;return n=n.replace(/&amp;amp;/g,"&").replace(/&amp;/g,"&"),m_bEkTbReady?(i>screen.width&&(i=screen.width),r>screen.height&&(r=screen.height),i==screen.width&&r==screen.height?(o="toolbar=0,location=0,directories=0,status="+f+",menubar=0,scrollbars="+u+",resizable="+f+",width="+screen.width+",height="+screen.height,e=window.open(n,t,o),e.moveTo(0,0),e.resizeTo(screen.availWidth,screen.availHeight)):(o="toolbar=0,location=0,directories=0,status="+f+",menubar=0,scrollbars="+u+",resizable="+f+",width="+i+",height="+r,e=window.open(n,t,o)),e):!1}function EkTbFade(n,t,i,r,u,f,e){var o,s;if(!m_bEkTbReady)return!1;o=document.getElementById(e),u==0?(document.all?o.filters.alpha.opacity=n:o.style.MozOpacity=n/100,n>=0&&i<0||n<99&&i>0?(n+=i,n>99&&(n=99),setTimeout("EkTbFade("+n+","+t+","+i+","+r+","+u+",'"+f+"','"+e+"')",t)):(i=0-i,n+=i,f.toLowerCase()=="cycle"&&setTimeout("EkTbFade("+n+","+t+","+i+","+r+","+u+",'"+f+"','"+e+"')",r))):(s=u,u=0,setTimeout("EkTbFade("+n+","+t+","+i+","+r+","+u+",'"+f+"','"+e+"')",s))}function IsPlatformMac(){if(m_isMacInit)return m_isMac;var t,n=new String(navigator.userAgent);return n=n.toLowerCase(),t=parseInt(n.indexOf("mac")),m_isMac=0<=t,m_isMacInit=!0,m_isMac}function IsBrowserSafari(){if(m_isSafariInit)return m_isSafari;var t,n=new String(navigator.userAgent);return n=n.toLowerCase(),t=parseInt(n.indexOf("safari")),m_isSafari=0<=t,m_isSafariInit=!0,m_isSafari}function EkTbRollOver(n,t){var s,a,tt,l,it,v,rt,w,g,p,d;if(!m_bEkTbReady)return!1;var u=0,h=0,f=0,c=0,o=0,e=0,i=t.id.split("_"),y=!0,nt=!0,r=3,b=null,k=null;m_EkTbLastObj&&m_EkTbLastObj!=t&&EkTbOffNow(m_EkTbLastObj.id),m_EkTbLastObj=t,eval("localTimeout = m_EkTbTimeout_"+i[1]+";"),b!=null&&(b=clearTimeout(b),eval("m_EkTbTimeout_"+i[1]+" = localTimeout;")),IsPlatformMac()?(k=xBrowserReturnObjById("EkTbOuterElmt_"+i[1]),e=k!=null?k.offsetHeight:t.offsetHeight):e=t.offsetHeight,c=EkTbFindParentPositionLeft(t,m_EkTbStopAtRoot,!0),o=t.offsetWidth,h=EkTbFindParentPositionTop(t,m_EkTbStopAtRoot,!0),eval("automaticBorder = m_EkTbAutomaticOutsideBorder_"+i[1]+";"),eval("outsideBorder = m_EkTbOutsideBorder_"+i[1]+";"),eval("menuBorderWidth = m_EkTbMenuBorderWidth_"+i[1]+";"),nt==!0?(f=c-r<0&&y?0:c-r,u=h-r<0&&y?0:h-r,(f+o==document.body.clientWidth&&c-r<0||f+o+r==document.body.clientWidth&&c-r>=0)&&y?o=document.body.clientWidth-f:o+=r*2,(u+e==document.body.clientHeight&&h-r<0||u+e+r==document.body.clientHeight&&h-r>=0)&&y?e=document.body.clientHeight-u:e+=r*2):(f=c,u=h),IsPlatformMac()&&(IsBrowserSafari?(f+=4,u+=6):(f+=4,u+=14)),i[1]!="AjaxToolBar"&&document.getElementById("EkTbLeftBar_"+i[1]).parentNode!=document.body&&(s=document.body,a=document.getElementById("EkTbLeftBar_"+i[1]),a.parentNode.removeChild(a),tt=s.appendChild(a),l=document.getElementById("EkTbRightBar_"+i[1]),l.parentNode.removeChild(l),it=s.appendChild(l),v=document.getElementById("EkTbTopBar_"+i[1]),v.parentNode.removeChild(v),rt=s.appendChild(v),w=document.getElementById("EkTbBottomBar_"+i[1]),w.parentNode.removeChild(w),g=s.appendChild(w),p=document.getElementById("EkTbToolbar_"+i[1]),p.parentNode.removeChild(p),d=s.appendChild(p)),document.getElementById("EkTbLeftBar_"+i[1]).style.top=u+"px",document.getElementById("EkTbLeftBar_"+i[1]).style.left=f+"px",document.getElementById("EkTbLeftBar_"+i[1]).style.width=r+"px",document.getElementById("EkTbLeftBar_"+i[1]).style.height=e+"px",document.getElementById("EkTbRightBar_"+i[1]).style.top=u+"px",document.getElementById("EkTbRightBar_"+i[1]).style.left=f+o-r+"px",document.getElementById("EkTbRightBar_"+i[1]).style.width=r+"px",document.getElementById("EkTbRightBar_"+i[1]).style.height=e+"px",document.getElementById("EkTbTopBar_"+i[1]).style.top=u+"px",document.getElementById("EkTbTopBar_"+i[1]).style.left=f+"px",document.getElementById("EkTbTopBar_"+i[1]).style.width=o+"px",document.getElementById("EkTbTopBar_"+i[1]).style.height=r+"px",document.getElementById("EkTbBottomBar_"+i[1]).style.top=u+e-r+"px",document.getElementById("EkTbBottomBar_"+i[1]).style.left=f+"px",document.getElementById("EkTbBottomBar_"+i[1]).style.width=o+"px",document.getElementById("EkTbBottomBar_"+i[1]).style.height=r+"px",document.getElementById("EkTbLeftBar_"+i[1]).style.display="",document.getElementById("EkTbRightBar_"+i[1]).style.display="",document.getElementById("EkTbTopBar_"+i[1]).style.display="",document.getElementById("EkTbBottomBar_"+i[1]).style.display=""}function EkTbRollOut(n,t){var i,r,u;if(!m_bEkTbReady)return!1;i="",r="",document.all?(i=n.toElement,r=n.srcElement):(i=n.relatedTarget,r=n.target);if(r.id!=t.id&&!EkTbIsChild(r,t))return;i!=null&&(EkTbIsChild(i,t)||t.id==i.id)||(u=t.id.split("_"),eval("m_EkTbTimeout_"+u[1]+" = setTimeout(\"EkTbOff('"+t.id+"')\", m_EkTbMenuOffDelay_"+u[1]+")"))}function EkTbOff(n){if(!m_bEkTbReady)return!1;try{var t=n.split("_");eval("m_EkTbTimeout_"+t[1]+" != null")&&(eval("m_EkTbTimeout_"+t[1]+" = null"),document.getElementById("EkTbLeftBar_"+t[1]).style.display="none",document.getElementById("EkTbRightBar_"+t[1]).style.display="none",document.getElementById("EkTbTopBar_"+t[1]).style.display="none",document.getElementById("EkTbBottomBar_"+t[1]).style.display="none",document.getElementById("EkTbToolbar_"+t[1]).style.display="none")}catch(i){}}function EkTbOffNow(n){if(!m_bEkTbReady)return!1;try{var t=n.split("_");eval("m_EkTbTimeout_"+t[1]+" != null")&&eval("m_EkTbTimeout_"+t[1]+" = null"),document.getElementById("EkTbLeftBar_"+t[1]).style.display="none",document.getElementById("EkTbRightBar_"+t[1]).style.display="none",document.getElementById("EkTbTopBar_"+t[1]).style.display="none",document.getElementById("EkTbBottomBar_"+t[1]).style.display="none",document.getElementById("EkTbToolbar_"+t[1]).style.display="none"}catch(i){}}function EkTbCancelOff(n){if(!m_bEkTbReady)return!1;var i=n.id.split("_"),t=eval("m_EkTbTimeout_"+i[1]);t!=null&&(clearTimeout(t),eval("m_EkTbTimeout_"+i[1]+" = null;"))}function EkTbFindParentPositionLeft(n,t,i){if(!m_bEkTbReady)return!1;var r=0;if(n.offsetParent)while(n&&null!=n.offsetLeft){if(t!=m_EkTbStopAtRoot&&EkTbIsStopTag(n,t))break;(i||n.style&&n.style.position&&n.style.position&&"relative"!=n.style.position.toLowerCase()&&"absolute"!=n.style.position.toLowerCase())&&(r+=n.offsetLeft),n=n.offsetParent}else n.x&&(r+=n.x);return r}function EkTbFindParentPositionTop(n,t,i){if(!m_bEkTbReady)return!1;var r=0;if(n.offsetParent)while(n&&null!=n.offsetTop){if(t!=m_EkTbStopAtRoot&&EkTbIsStopTag(n,t))break;(i||n.style&&n.style.position&&n.style.position&&"relative"!=n.style.position.toLowerCase()&&"absolute"!=n.style.position.toLowerCase())&&(r+=n.offsetTop),n=n.offsetParent}else n.x&&(curleft+=n.x);return r}function EkTbGetScrollTop(){return EkTbIsInQuirksMode()?document.body.scrollTop:document.documentElement.scrollTop}function EkTbGetScrollLeft(){return EkTbIsInQuirksMode()?document.body.scrollLeft:document.documentElement.scrollLeft}function EkTbIsInQuirksMode(){return 0==document.documentElement.clientHeight}function EkTbFindTopDifference(n,t){if(!m_bEkTbReady)return!1;var i=0;if(n!=t){i+=n.offsetTop;if(n.offsetParent)while(n.offsetParent&&n!=t)i+=n.offsetTop,n=n.offsetParent}return i}function EkTbFindLeftDifference(n,t){if(!m_bEkTbReady)return!1;var i=0;if(n!=t){i+=n.offsetLeft;if(n.offsetParent)while(n.offsetParent&&n!=t)i+=n.offsetLeft,n=n.offsetParent}return i}function EkTbIsChild(n,t){if(!m_bEkTbReady)return!1;var r=!1,i="";if(n)if(typeof n.id=="string"&&(n.id.indexOf("EkTbToolbar_")>-1||n.id.indexOf("EkTbLeftBar_")>-1||n.id.indexOf("EkTbRightBar_")>-1||n.id.indexOf("EkTbTopBar_")>-1||n.id.indexOf("EkTbBottomBar_")>-1))r=!0;else if(n.parentNode)while(n.parentNode){n=n.parentNode,t.id.indexOf("EkTb")>-1?i=t.id.split("_"):(i=[],i[0]="",i[1]="");if(n==t||n==document.getElementById("EkTbToolbar_"+i[1])||n==document.getElementById("EkTbLeftBar_"+i[1])||n==document.getElementById("EkTbRightBar_"+i[1])||n==document.getElementById("EkTbTopBar_"+i[1])||n==document.getElementById("EkTbBottomBar_"+i[1])){r=!0;break}}return r}function EkTbIsStopTag(n,t){if(!m_bEkTbReady)return!1;var i=!1;return(n.style.position.toLowerCase()=="relative"&&t&m_EkTbStopAtCss||n.style.position.toLowerCase()=="absolute"&&t&m_EkTbStopAtOffset)&&(document.all?i=!0:n.tagName.toLowerCase()!="table"&&(i=!0)),i}function EkTbMacShowToolbar(n,t){if(!m_bEkTbReady)return!1;var i=!0;return navigator.userAgent.indexOf("Mac")>-1&&n.shiftKey&&(i=EkTbShowToolbar(n,t)),i}function EkTbShowToolbar(n,t){var u,e;if(!m_bEkTbReady)return!1;var s=!0,o="",i="",r=0,f=0;return document.all?(o=n.toElement,i=n.srcElement,n.y==event.clientY?(f=n.y+(EkTbFindParentPositionTop(i,m_EkTbStopAtRoot,!1)-EkTbFindParentPositionTop(i,m_EkTbStopAtCss,!1)+EkTbGetScrollTop()),r=n.x+(EkTbFindParentPositionLeft(i,m_EkTbStopAtRoot,!1)-EkTbFindParentPositionLeft(i,m_EkTbStopAtCss,!1)+EkTbGetScrollLeft())):(f=event.clientY+EkTbFindParentPositionTop(i,m_EkTbStopAtRoot)-EkTbFindParentPositionTop(i,m_EkTbStopAtCss)+EkTbGetScrollTop(),r=event.screenX!=n.clientX?event.clientX+(n.x+(EkTbFindParentPositionLeft(i,m_EkTbStopAtRoot,!1)-EkTbFindParentPositionLeft(i,m_EkTbStopAtCss,!1)+EkTbGetScrollLeft()))-n.x:event.screenX)):(o=n.relatedTarget,i=n.target,f=n.pageY,r=n.pageX),n.ctrlKey||(u=t.id.split("_"),e=EkTbFindParentPositionLeft(document.getElementById("EkTbBase_"+u[1]),m_EkTbStopAtRoot,!0)+document.getElementById("EkTbBase_"+u[1]).offsetWidth,r>e&&(r=e),document.getElementById("EkTbToolbar_"+u[1]).style.top=f+"px",document.getElementById("EkTbToolbar_"+u[1]).style.left=r+"px",document.getElementById("EkTbToolbar_"+u[1]).style.display="",s=!1),s}function EkTbStopBubble(n){n.cancelBubble=!0}function xBrowserReturnObjById(n){var t;return document.getElementById?t=document.getElementById(n):document.all?t=document.all[n]:document.layers&&(t=document.layers[n]),t}function ekxbrowserCheck(n){return null==n?!1:"undefined"==typeof n.prototype?!1:null==n.prototype?!1:typeof n.prototype.__defineGetter__!="function"?!1:!0}function ekCanHaveChildren(n){if(n&&1==n.nodeType){switch(n.tagName.toLowerCase()){case"area":case"base":case"basefont":case"col":case"frame":case"hr":case"img":case"br":case"input":case"isindex":case"link":case"meta":case"param":return!1}return!0}return!1}function ekHasChildren(n){return ekCanHaveChildren(n)&&$ektron(n).children().length>0}function ekCreateRange(n){var t=null;try{t=n.createRange()}catch(i){try{n.clear(),t=n.createRange()}catch(i){}}return t}function getSelectionElement(n){var t=null,r,i;if(n.selection)r=n.selection,i=ekCreateRange(r),i&&(t="Control"==r.type?i.commonParentElement():i.parentElement());else if(n.defaultView.getSelection){r=n.defaultView.getSelection();if(r.rangeCount>0){i=r.getRangeAt(0),t=i.commonAncestorContainer;try{t.nodeType!=1&&(t=t.parentNode)}catch(u){return null}}}return t}function ekIsMac(){var n=navigator.userAgent.toLowerCase();return n.indexOf("mac")!=-1?!0:!1}function EkUtil_parseQuery(){for(var i={},u=location.search.substring(1),r=u.split("&"),n=[],t=0;t<r.length;t++)n=r[t].split("="),2==n.length&&(i[unescape(n[0])]=unescape(n[1]));return i}function design_row_onmouse(n,t){var u=$ektron(t).parent().parent().get(0),i=null,r=Ektron.SmartForm.findByChildElement(u);r&&(i=r.repeater.contextMenu),i&&i.isVisible()||Ektron.SmartForm.Repeater.highlight(u,n.type=="mouseover")}function design_row_showContextMenu(n,t){var i=Ektron.SmartForm.findByChildElement(t);return i&&(Ektron.SmartForm.Repeater.current=i.repeater),i?i.repeater.showContextMenu.apply(i.repeater,arguments):void 0}function design_row_setCurrent(n,t){var i=Ektron.SmartForm.findByChildElement(t);return i&&(Ektron.SmartForm.Repeater.current=i.repeater),i?i.repeater.setCurrent.apply(i.repeater,arguments):void 0}function design_row_insertAbove(){return Ektron.SmartForm.Repeater.current.insertAbove()}function design_row_insertBelow(){return Ektron.SmartForm.Repeater.current.insertBelow()}function design_row_duplicate(){return Ektron.SmartForm.Repeater.current.duplicate()}function design_row_remove(){return Ektron.SmartForm.Repeater.current.remove()}function design_row_moveUp(){return Ektron.SmartForm.Repeater.current.moveUp()}function design_row_moveDown(){return Ektron.SmartForm.Repeater.current.moveDown()}function design_row_replace(){return Ektron.SmartForm.Repeater.current.replace()}function design_row_insertAbove_disabled(){return Ektron.SmartForm.Repeater.current.insertAbove_disabled()}function design_row_insertBelow_disabled(){return Ektron.SmartForm.Repeater.current.insertBelow_disabled()}function design_row_duplicate_disabled(){return Ektron.SmartForm.Repeater.current.duplicate_disabled()}function design_row_remove_disabled(){return Ektron.SmartForm.Repeater.current.remove_disabled()}function design_row_moveUp_disabled(){return Ektron.SmartForm.Repeater.current.moveUp_disabled()}function design_row_moveDown_disabled(){return Ektron.SmartForm.Repeater.current.moveDown_disabled()}function design_div_focus(n){var i=!1,t;n.hasChildNodes()?1==n.childNodes.length&&3==n.firstChild.nodeType&&(t=n.firstChild.nodeValue,(0==t.length||/^\n+$/.test(t))&&(i=!0)):i=!0,i&&($ektron.browser.msie?n.innerHTML="<p>&#160;</p>":$ektron.browser.safari&&(n.innerHTML='<p><br class="khtml-block-placeholder" /></p>'))}function design_div_blur(){}function design_toggleExpandCollapse(n){var t=Ektron.SmartForm.findByChildElement(n);if(t)return t.toggleExpandCollapse(n)}function design_normalize_xpathr(n,t){var f=Ektron.SmartForm.findContentElement(t),i,r,u;if(Ektron.SmartForm.prevalidatingForm)return;i=Ektron.SmartForm.serializeSimpleElements(f);if(""==i)return;r=Ektron.SmartForm.getXPath(t,f);if(""==r)return;u=Ektron.SmartForm.buildXpathrTemplate(r,'<xsl:copy-of select="'+$ektron.htmlEncode(n)+'"/>\n'),i=Ektron.SmartForm.ekXml.xslTransform(i,u),"NaN"==i&&(i=""),Ektron.ContentDesigner.trace("normalize_xpathr Elem=%s XPath='%s' Expression='%s' Value='%s'",t.id,r,n,i),Ektron.SmartForm.normalize_complete(t,i)}function design_validate_xpathr(n,t,i){var r=Ektron.SmartForm.evaluateXPathBoolean(n,t);if(typeof r=="boolean")return Ektron.SmartForm.validate_complete(t,r,i),r}function design_normalize_xpath(n,t){var i,r;if(Ektron.SmartForm.prevalidatingForm)return;i=Ektron.SmartForm.getValue(t);if("undefined"==typeof i)return;r=['<xsl:template match="/root">','    <xsl:copy-of select="'+$ektron.htmlEncode(n)+'"/>',"</xsl:template>"].join("\n"),r=Ektron.SmartForm.buildXslt(r),i="<root>"+i+"</root>",i=Ektron.SmartForm.ekXml.xslTransform(i,r),"NaN"==i&&(i=""),Ektron.SmartForm.normalize_complete(t,i)}function design_validate_xpath(n,t,i){var u=Ektron.SmartForm.getValue(t),r,f;if("undefined"!=typeof u)return r=['<xsl:template match="/root">','    <xsl:value-of select="boolean('+$ektron.htmlEncode(n)+')"/>',"</xsl:template>"].join("\n"),r=Ektron.SmartForm.buildXslt(r,"text"),u="<root>"+u+"</root>",f="true"==Ektron.SmartForm.ekXml.xslTransform(u,r),Ektron.SmartForm.validate_complete(t,f,i),f}function design_normalize_xslt(n,t){if(Ektron.SmartForm.prevalidatingForm)return;var i=Ektron.SmartForm.getValue(t);if("undefined"==typeof i)return;i="<root>"+i+"</root>",i=Ektron.SmartForm.ekXml.xslTransform(i,n),"NaN"==i&&(i=""),Ektron.SmartForm.normalize_complete(t,i)}function design_validate_xslt(n,t,i){var r=Ektron.SmartForm.getValue(t),u;if("undefined"!=typeof r)return r="<root>"+r+"</root>",u="true"==Ektron.SmartForm.ekXml.xslTransform(r,n),Ektron.SmartForm.validate_complete(t,u,i),u}function design_validate(n,t,i){var r,u;if(!t)return;r=i;if("undefined"==typeof i){r=Ektron.SmartForm.getValue(t);if("undefined"==typeof r)return}return u=n.test(r),Ektron.SmartForm.validate_complete(t,u),u}function design_normalize_re(n,t){var i,r;if(typeof Ektron.SmartForm.prevalidatingForm=="undefined"||Ektron.SmartForm.prevalidatingForm!=!0){i=Ektron.SmartForm.getValue(t);if("undefined"==typeof i)return;"undefined"!=typeof RegExp.lastIndex&&(RegExp.lastIndex=0),n.lastIndex=0,r=n.exec(i),i=null==r?"":r[0],Ektron.SmartForm.normalize_complete(t,i)}}function design_validate_re(n,t,i){var u=Ektron.SmartForm.getValue(t),r;if("undefined"!=typeof u)return"undefined"!=typeof RegExp.lastIndex&&(RegExp.lastIndex=0),n.lastIndex=0,r=n.test(u),Ektron.SmartForm.validate_complete(t,r,i),r}function design_normalize_js(n,t){if(typeof Ektron.SmartForm.prevalidatingForm=="undefined"||Ektron.SmartForm.prevalidatingForm!=!0){var i=Ektron.SmartForm.getValue(t);if("undefined"==typeof i)return;i=Ektron.SmartForm.evaluate(n,i),Ektron.SmartForm.normalize_complete(t,i)}}function design_validate_js(n,t,i){var u=Ektron.SmartForm.getValue(t),r;if("undefined"!=typeof u)return r=Ektron.SmartForm.evaluate(n,u),Ektron.SmartForm.validate_complete(t,r,i),r}function design_validate_select(n,t,i){if(!t)return;if("undefined"==typeof t.selectedIndex)return;var r=t.selectedIndex>=n;return Ektron.SmartForm.validate_complete(t,r,i),r}function design_validate_choice(n,t,i,r){var f,o;if(!i)return;if("undefined"==typeof i.getElementsByTagName)return;var e=0,s,h,u=null,c=i.getAttribute("ektdesignns_validation");"choice-req"==c?(u=i.getElementsByTagName("input"),h=!0):"select-req"==c&&(u=i.getElementsByTagName("option"),h=!1);if(u)for(f=0;f<u.length;f++)s=u[f],h?s.checked&&e++:s.selected&&e++;return o=n<=e&&(t<=0||e<=t),Ektron.SmartForm.validate_complete(i,o,r),o}function design_normalize_isbn(n){return n=n+"",n=n.replace(/[\s\-]/g,"").toUpperCase()}function design_validate_isbn(n){return design_validate_isbn10(n)||design_validate_isbn13(n)}function design_validate_isbn10(n){var e=!0,f,u,i,r,t;n=n+"",f=new RegExp("^[0-9]{9}[0-9X]$");if(!f.test(n))return!1;for(u=0,i=10,r=0;r<n.length;r++)t=n.charCodeAt(r),88==t&&1==i?(u+=10,i--):48>t||t>57||(u+=(t-48)*i--);return e=0==i&&0==u%11}function design_validate_isbn13(n){var f,i,t;n=n+"",f=new RegExp("^[0-9]{13}$");if(!f.test(n))return!1;var e=0,u=13,r=1;for(i=0;i<n.length;i++)t=n.charCodeAt(i),48>t||t>57||(e+=(t-48)*r,r=1==r?3:1,u--);return 0==u&&0==e%10}function design_normalize_issn(n){return n=n+"",n=n.replace(/[\s\-]/g,"").toUpperCase()}function design_validate_issn(n){var f,r,t,u,i;n=n+"",f=new RegExp("^[0-9]{7}[0-9X]$");if(!f.test(n))return!1;for(r=0,t=8,u=0;u<n.length;u++)i=n.charCodeAt(u),88==i&&1==t?(r+=10,t--):48>i||i>57||(r+=(i-48)*t--);return 0==t&&0==r%11}function design_current_date(){var i=new Date,t=i.getMonth()+1,n;return t>9||(t="0"+t),n=i.getDate(),n>9||(n="0"+n),i.getFullYear()+"-"+t+"-"+n}function design_validate_future_date(n){return n=n+"",10==n.length?n>=design_current_date():!1}var $ektron,m_isMac,m_isMacInit,m_isSafari,m_isSafariInit,Ektron,design_validate_result;"undefined"==typeof $ektron&&((function(){function it(t,i){try{i.src?n.ajax({url:i.src,async:!1,dataType:"script"}):n.globalEval(i.text||i.textContent||i.innerHTML||""),i.parentNode&&i.parentNode.removeChild(i)}catch(r){}}function f(){return+new Date}function s(t,i){return t[0]&&parseInt(n.curCSS(t[0],i,!0),10)||0}function l(){return!1}function a(){return!0}function tt(t){var u=RegExp("(^|\\.)"+t.type+"(\\.|$)"),r=!0,i=[];return n.each(n.data(this,"events").live||[],function(r,f){if(u.test(f.type)){var e=n(t.target).closest(f.data)[0];e&&i.push({elem:e,fn:f})}}),i.sort(function(t,i){return n.data(t.elem,"closest")-n.data(i.elem,"closest")}),n.each(i,function(){if(this.fn.call(this.elem,t,this.fn.data)===!1)return r=!1}),r}function b(n,t){return["live",n,t.replace(/\./g,"`").replace(/ /g,"|")].join(".")}function k(){if(y)return;y=!0,document.addEventListener?document.addEventListener("DOMContentLoaded",function(){document.removeEventListener("DOMContentLoaded",arguments.callee,!1),n.ready()},!1):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){document.readyState==="complete"&&(document.detachEvent("onreadystatechange",arguments.callee),n.ready())}),document.documentElement.doScroll&&i==i.top&&(function(){if(n.isReady)return;try{document.documentElement.doScroll("left")}catch(t){setTimeout(arguments.callee,0);return}n.ready()})()),n.event.add(i,"load",n.ready)}function e(t,i){var r={};return n.each(v.concat.apply([],v.slice(0,i)),function(){r[this]=t}),r}var i=this,t,et=i.jQuery,st=i.$,n=i.jQuery=i.$=function(t,i){return new n.fn.init(t,i)},ut=/^[^<]*(<(.|\s)+>)[^>]*$|^#([\w-]+)$/,rt=/^.[^:#\[\.,]*$/,u,p,y,o,d,h,c,v;n.fn=n.prototype={init:function(t,i){var r,f,u;t=t||document;if(t.nodeType)return this[0]=t,this.length=1,this.context=t,this;if(typeof t=="string"){r=ut.exec(t);if(r&&(r[1]||!i))if(r[1])t=n.clean([r[1]],i);else return f=document.getElementById(r[3]),f&&f.id!=r[3]?n().find(t):(u=n(f||[]),u.context=document,u.selector=t,u);else return n(i).find(t)}else if(n.isFunction(t))return n(document).ready(t);return t.selector&&t.context&&(this.selector=t.selector,this.context=t.context),this.setArray(n.isArray(t)?t:n.makeArray(t))},selector:"",jquery:"1.3.2",size:function(){return this.length},get:function(n){return n===t?Array.prototype.slice.call(this):this[n]},pushStack:function(t,i,r){var u=n(t);return u.prevObject=this,u.context=this.context,i==="find"?u.selector=this.selector+(this.selector?" ":"")+r:i&&(u.selector=this.selector+"."+i+"("+r+")"),u},setArray:function(n){return this.length=0,Array.prototype.push.apply(this,n),this},each:function(t,i){return n.each(this,t,i)},index:function(t){return!t||typeof t=="string"?n.inArray(this[0],t?n(t):this.parent().children()):n.inArray(t&&t.jquery?t[0]:t,this)},attr:function(i,r,u){var f=i;if(typeof i=="string"){if(r===t)return this[0]&&n[u||"attr"](this[0],i)||t;f={},f[i]=r}return this.each(function(t){for(i in f)n.attr(u?this.style:this,i,n.prop(this,f[i],u,t,i))})},css:function(n,i){return(n=="width"||n=="height")&&parseFloat(i)<0&&(i=t),this.attr(n,i,"curCSS")},text:function(t){if(typeof t!="object"&&t!=null)return this.empty().append((this[0]&&this[0].ownerDocument||document).createTextNode(t));var i="";return n.each(t||this,function(){n.each(this.childNodes,function(){this.nodeType!=8&&(i+=this.nodeType!=1?this.nodeValue:n.fn.text([this]))})}),i},wrapAll:function(t){if(this[0]){var i=n(t,this[0].ownerDocument).clone();this[0].parentNode&&i.insertBefore(this[0]),i.map(function(){var n=this;while(n.firstChild)n=n.firstChild;return n}).append(this)}return this},wrapInner:function(t){return this.each(function(){n(this).contents().wrapAll(t)})},wrap:function(t){return this.each(function(){n(this).wrapAll(t)})},append:function(){return this.domManip(arguments,!0,function(n){this.nodeType==1&&this.appendChild(n)})},prepend:function(){return this.domManip(arguments,!0,function(n){this.nodeType==1&&this.insertBefore(n,this.firstChild)})},before:function(){return this.domManip(arguments,!1,function(n){this.parentNode.insertBefore(n,this)})},after:function(){return this.domManip(arguments,!1,function(n){this.parentNode.insertBefore(n,this.nextSibling)})},end:function(){return this.prevObject||n([])},push:[].push,sort:[].sort,splice:[].splice,find:function(t){if(this.length===1){var i=this.pushStack([],"find",t);return i.length=0,n.find(t,this[0],i),i}return this.pushStack(n.unique(n.map(this,function(i){return n.find(t,i)})),"find",t)},clone:function(t){var u=this.map(function(){var t,i;return n.support.noCloneEvent||n.isXMLDoc(this)?this.cloneNode(!0):(t=this.outerHTML,t||(i=this.ownerDocument.createElement("div"),i.appendChild(this.cloneNode(!0)),t=i.innerHTML),n.clean([t.replace(/ jQuery\d+="(?:\d+|null)"/g,"").replace(/^\s*/,"")],this.ownerDocument)[0])}),r,i;return t===!0&&(r=this.find("*").andSelf(),i=0,u.find("*").andSelf().each(function(){var u,t,f;if(this.nodeName!==r[i].nodeName)return;u=n.data(r[i],"events");for(t in u)for(f in u[t])n.event.add(this,t,u[t][f],u[t][f].data);i++})),u},filter:function(t){return this.pushStack(n.isFunction(t)&&n.grep(this,function(n,i){return t.call(n,i)})||n.multiFilter(t,n.grep(this,function(n){return n.nodeType===1})),"filter",t)},closest:function(t){var r=n.expr.match.POS.test(t)?n(t):null,i=0;return this.map(function(){var u=this;while(u&&u.ownerDocument){if(r?r.index(u)>-1:n(u).is(t))return n.data(u,"closest",i),u;u=u.parentNode,i++}})},not:function(i){if(typeof i=="string"){if(rt.test(i))return this.pushStack(n.multiFilter(i,this,!0),"not",i);i=n.multiFilter(i,this)}var r=i.length&&i[i.length-1]!==t&&!i.nodeType;return this.filter(function(){return r?n.inArray(this,i)<0:this!=i})},add:function(t){return this.pushStack(n.unique(n.merge(this.get(),typeof t=="string"?n(t):n.makeArray(t))))},is:function(t){return!!t&&n.multiFilter(t,this).length>0},hasClass:function(n){return!!n&&this.is("."+n)},val:function(i){var r,u,h,e;if(i===t){r=this[0];if(r){if(n.nodeName(r,"option"))return(r.attributes.value||{}).specified?r.value:r.text;if(n.nodeName(r,"select")){var o=r.selectedIndex,c=[],s=r.options,f=r.type=="select-one";if(o<0)return null;for(u=f?o:0,h=f?o+1:s.length;u<h;u++){e=s[u];if(e.selected){i=n(e).val();if(f)return i;c.push(i)}}return c}return(r.value||"").replace(/\r/g,"")}return t}return typeof i=="number"&&(i+=""),this.each(function(){if(this.nodeType!=1)return;if(n.isArray(i)&&/radio|checkbox/.test(this.type))this.checked=n.inArray(this.value,i)>=0||n.inArray(this.name,i)>=0;else if(n.nodeName(this,"select")){var t=n.makeArray(i);n("option",this).each(function(){this.selected=n.inArray(this.value,t)>=0||n.inArray(this.text,t)>=0}),t.length||(this.selectedIndex=-1)}else this.value=i})},html:function(n){return n===t?this[0]?this[0].innerHTML.replace(/ jQuery\d+="(?:\d+|null)"/g,""):null:this.empty().append(n)},replaceWith:function(n){return this.after(n).remove()},eq:function(n){return this.slice(n,+n+1)},slice:function(){return this.pushStack(Array.prototype.slice.apply(this,arguments),"slice",Array.prototype.slice.call(arguments).join(","))},map:function(t){return this.pushStack(n.map(this,function(n,i){return t.call(n,i,n)}))},andSelf:function(){return this.add(this.prevObject)},domManip:function(t,i,r){function h(t,r){return i&&n.nodeName(t,"table")&&n.nodeName(r,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}var u,o;if(this[0]){var f=(this[0].ownerDocument||this[0]).createDocumentFragment(),e=n.clean(t,this[0].ownerDocument||this[0],f),s=f.firstChild;if(s)for(u=0,o=this.length;u<o;u++)r.call(h(this[u],s),this.length>1||u>0?f.cloneNode(!0):f);e&&e.length>0&&(1==this.nodeType&&($ektron.isEditableElement(this[0])||"true"==this[0].getAttribute("contenteditable"))||n.each(e,it))}return this}},n.fn.init.prototype=n.fn,n.extend=n.fn.extend=function(){var i=arguments[0]||{},u=1,s=arguments.length,e=!1,o,f,h,r;for(typeof i=="boolean"&&(e=i,i=arguments[1]||{},u=2),typeof i=="object"||n.isFunction(i)||(i={}),s==u&&(i=this,--u);u<s;u++)if((o=arguments[u])!=null)for(f in o){h=i[f],r=o[f];if(i===r)continue;e&&r&&typeof r=="object"&&!r.nodeType?i[f]=n.extend(e,h||(r.length!=null?[]:{}),r):r!==t&&(i[f]=r)}return i};var ft=/z-?index|font-?weight|opacity|zoom|line-?height/i,g=document.defaultView||{},w=Object.prototype.toString;n.extend({noConflict:function(t){return i.$=st,t&&(i.jQuery=et),n},isFunction:function(n){return w.call(n)==="[object Function]"},isArray:function(n){return w.call(n)==="[object Array]"},isXMLDoc:function(t){return t.nodeType===9&&t.documentElement.nodeName!=="HTML"||!!t.ownerDocument&&n.isXMLDoc(t.ownerDocument)},globalEval:function(t){if(t&&/\S/.test(t)){var r=document.getElementsByTagName("head")[0]||document.documentElement,i=document.createElement("script");i.type="text/javascript",n.support.scriptEval?i.appendChild(document.createTextNode(t)):i.text=t,r.insertBefore(i,r.firstChild),r.removeChild(i)}},nodeName:function(n,t){return n.nodeName&&n.nodeName.toUpperCase()==t.toUpperCase()},each:function(n,i,r){var u,f=0,o=n.length,e;if(r){if(o===t){for(u in n)if(i.apply(n[u],r)===!1)break}else for(;f<o;)if(i.apply(n[f++],r)===!1)break}else if(o===t){for(u in n)if(i.call(n[u],u,n[u])===!1)break}else for(e=n[0];f<o&&i.call(e,f,e)!==!1;e=n[++f]);return n},prop:function(t,i,r,u,f){return n.isFunction(i)&&(i=i.call(t,u)),typeof i=="number"&&r=="curCSS"&&!ft.test(f)?i+"px":i},className:{add:function(t,i){n.each((i||"").split(/\s+/),function(i,r){t.nodeType!=1||n.className.has(t.className,r)||(t.className+=(t.className?" ":"")+r)})},remove:function(i,r){i.nodeType==1&&(i.className=r!==t?n.grep(i.className.split(/\s+/),function(t){return!n.className.has(r,t)}).join(" "):"")},has:function(t,i){return t&&n.inArray(i,(t.className||t).toString().split(/\s+/))>-1}},swap:function(n,t,i){var u={},r;for(r in t)u[r]=n.style[r],n.style[r]=t[r];i.call(n);for(r in t)n.style[r]=u[r]},css:function(t,i,r,u){if(i=="width"||i=="height"){var f,o={position:"absolute",visibility:"hidden",display:"block"},s=i=="width"?["Left","Right"]:["Top","Bottom"];function e(){f=i=="width"?t.offsetWidth:t.offsetHeight;if(u==="border")return;n.each(s,function(){u||(f-=parseFloat(n.curCSS(t,"padding"+this,!0))||0),u==="margin"?f+=parseFloat(n.curCSS(t,"margin"+this,!0))||0:f-=parseFloat(n.curCSS(t,"border"+this+"Width",!0))||0})}return t.offsetWidth!==0?e():n.swap(t,o,e),Math.max(0,Math.round(f))}return n.curCSS(t,i,r)},curCSS:function(t,i,r){var u,f=t.style,e,c,h,s;return i=="opacity"&&!n.support.opacity?(u=n.attr(f,"opacity"),u==""?"1":u):(i.match(/float/i)&&(i=o),!r&&f&&f[i]?u=f[i]:g.getComputedStyle?(i.match(/float/i)&&(i="float"),i=i.replace(/([A-Z])/g,"-$1").toLowerCase(),e=g.getComputedStyle(t,null),e&&(u=e.getPropertyValue(i)),i=="opacity"&&u==""&&(u="1")):t.currentStyle&&(c=i.replace(/\-(\w)/g,function(n,t){return t.toUpperCase()}),u=t.currentStyle[i]||t.currentStyle[c],!/^\d+(px)?$/i.test(u)&&/^\d/.test(u)&&(h=f.left,s=t.runtimeStyle.left,t.runtimeStyle.left=t.currentStyle.left,f.left=u||0,u=f.pixelLeft+"px",f.left=h,t.runtimeStyle.left=s)),u)},clean:function(t,i,r){var o,f;i=i||document,typeof i.createElement=="undefined"&&(i=i.ownerDocument||i[0]&&i[0].ownerDocument||document);if(!r&&t.length===1&&typeof t[0]=="string"){o=/^<(\w+)\s*\/?>$/.exec(t[0]);if(o)return[i.createElement(o[1])]}var u=[],s=[],e=i.createElement("div");n.each(t,function(t,r){var f,h,c,s,o;typeof r=="number"&&(r+="");if(!r)return;if(typeof r=="string"){r=r.replace(/(<(\w+)[^>]*?)\/>/g,function(n,t,i){return i.match(/^(abbr|br|col|img|input|link|meta|param|hr|area|embed)$/i)?n:t+"></"+i+">"}),f=r.replace(/^\s+/,"").substring(0,10).toLowerCase(),h=!f.indexOf("<opt")&&[1,"<select multiple='multiple'>","</select>"]||!f.indexOf("<leg")&&[1,"<fieldset>","</fieldset>"]||f.match(/^<(thead|tbody|tfoot|colg|cap)/)&&[1,"<table>","</table>"]||!f.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"]||(!f.indexOf("<td")||!f.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||!f.indexOf("<col")&&[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"]||!n.support.htmlSerialize&&[1,"div<div>","</div>"]||[0,"",""],e.innerHTML=h[1]+r+h[2];while(h[0]--)e=e.lastChild;if(!n.support.tbody)for(c=/<tbody/i.test(r),s=!f.indexOf("<table")&&!c?e.firstChild&&e.firstChild.childNodes:h[1]=="<table>"&&!c?e.childNodes:[],o=s.length-1;o>=0;--o)n.nodeName(s[o],"tbody")&&!s[o].childNodes.length&&s[o].parentNode.removeChild(s[o]);!n.support.leadingWhitespace&&/^\s/.test(r)&&e.insertBefore(i.createTextNode(r.match(/^\s*/)[0]),e.firstChild),r=n.makeArray(e.childNodes)}r.nodeType?u.push(r):u=n.merge(u,r)});if(r){for(f=0;u[f];f++)n.nodeName(u[f],"script")&&(!u[f].type||u[f].type.toLowerCase()==="text/javascript")?s.push(u[f].parentNode?u[f].parentNode.removeChild(u[f]):u[f]):(u[f].nodeType===1&&u.splice.apply(u,[f+1,0].concat(n.makeArray(u[f].getElementsByTagName("script")))),r.appendChild(u[f]));return s}return u},attr:function(i,r,u){var e,f,h,o,s;if(!i||i.nodeType==3||i.nodeType==8)return t;e=!n.isXMLDoc(i),f=u!==t,r=e&&n.props[r]||r;if(i.tagName){h=/href|src|style/.test(r),r=="selected"&&i.parentNode&&i.parentNode.selectedIndex;if(r in i&&e&&!h){if(f){if(r=="type"&&n.nodeName(i,"input")&&i.parentNode)throw"type property can't be changed";i[r]=u}return n.nodeName(i,"form")&&i.getAttributeNode(r)?i.getAttributeNode(r).nodeValue:r=="tabIndex"?(o=i.getAttributeNode("tabIndex"),o&&o.specified?o.value:i.nodeName.match(/(button|input|object|select|textarea)/i)?0:i.nodeName.match(/^(a|area)$/i)&&i.href?0:t):i[r]}return!n.support.style&&e&&r=="style"?n.attr(i.style,"cssText",u):(f&&i.setAttribute(r,""+u),s=!n.support.hrefNormalized&&e&&h?i.getAttribute(r,2):i.getAttribute(r),s===null?t:s)}return!n.support.opacity&&r=="opacity"?(f&&(i.zoom=1,i.filter=(i.filter||"").replace(/alpha\([^)]*\)/,"")+(parseInt(u)+""=="NaN"?"":"alpha(opacity="+u*100+")")),i.filter&&i.filter.indexOf("opacity=")>=0?parseFloat(i.filter.match(/opacity=([^)]*)/)[1])/100+"":""):(r=r.replace(/-([a-z])/ig,function(n,t){return t.toUpperCase()}),f&&(i[r]=u),i[r])},trim:function(n){return(n||"").replace(/^\s+|\s+$/g,"")},makeArray:function(t){var r=[],i;if(t!=null){i=t.length;if(i==null||typeof t=="string"||n.isFunction(t)||t.setInterval)r[0]=t;else while(i)r[--i]=t[i]}return r},inArray:function(n,t){for(var i=0,r=t.length;i<r;i++)if(t[i]===n)return i;return-1},merge:function(t,i){var f=0,r,u=t.length;if(n.support.getAll)while((r=i[f++])!=null)t[u++]=r;else while((r=i[f++])!=null)r.nodeType!=8&&(t[u++]=r);return t},unique:function(t){var r=[],e={},i,f,u;try{for(i=0,f=t.length;i<f;i++)u=n.data(t[i]),e[u]||(e[u]=!0,r.push(t[i]))}catch(o){r=t}return r},grep:function(n,t,i){for(var f=[],r=0,u=n.length;r<u;r++)!i!=!t(n[r],r)&&f.push(n[r]);return f},map:function(n,t){for(var r=[],u,i=0,f=n.length;i<f;i++)u=t(n[i],i),u!=null&&(r[r.length]=u);return r.concat.apply([],r)}}),u=navigator.userAgent.toLowerCase(),n.browser={version:(u.match(/.+(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[0,"0"])[1],safari:/webkit/.test(u),opera:/opera/.test(u),msie:/msie/.test(u)&&!/opera/.test(u),mozilla:/mozilla/.test(u)&&!/(compatible|webkit)/.test(u)},n.each({parent:function(n){return n.parentNode},parents:function(t){return n.dir(t,"parentNode")},next:function(t){return n.nth(t,2,"nextSibling")},prev:function(t){return n.nth(t,2,"previousSibling")},nextAll:function(t){return n.dir(t,"nextSibling")},prevAll:function(t){return n.dir(t,"previousSibling")},siblings:function(t){return n.sibling(t.parentNode.firstChild,t)},children:function(t){return n.sibling(t.firstChild)},contents:function(t){return n.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:n.makeArray(t.childNodes)}},function(t,i){n.fn[t]=function(r){var u=n.map(this,i);return r&&typeof r=="string"&&(u=n.multiFilter(r,u)),this.pushStack(n.unique(u),t,r)}}),n.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,i){n.fn[t]=function(r){for(var e=[],o=n(r),f,u=0,s=o.length;u<s;u++)f=(u>0?this.clone(!0):this).get(),n.fn[i].apply(n(o[u]),f),e=e.concat(f);return this.pushStack(e,t,r)}}),n.each({removeAttr:function(t){n.attr(this,t,""),this.nodeType==1&&this.removeAttribute(t)},addClass:function(t){n.className.add(this,t)},removeClass:function(t){n.className.remove(this,t)},toggleClass:function(t,i){typeof i!="boolean"&&(i=!n.className.has(this,t)),n.className[i?"add":"remove"](this,t)},remove:function(t){(!t||n.filter(t,[this]).length)&&(n("*",this).add([this]).each(function(){n.event.remove(this),n.removeData(this)}),this.parentNode&&this.parentNode.removeChild(this))},empty:function(){n(this).children().remove();while(this.firstChild)this.removeChild(this.firstChild)}},function(t,i){n.fn[t]=function(){return this.each(i,arguments)}});var r="jQuery"+f(),ot=0,nt={};n.extend({cache:{},data:function(u,f,e){u=u==i?nt:u;var o=u[r];return o||(o=u[r]=++ot),f&&!n.cache[o]&&(n.cache[o]={}),e!==t&&(n.cache[o][f]=e),f?n.cache[o][f]:o},removeData:function(t,u){t=t==i?nt:t;var f=t[r];if(u){if(n.cache[f]){delete n.cache[f][u],u="";for(u in n.cache[f])break;u||n.removeData(t)}}else{try{delete t[r]}catch(e){t.removeAttribute&&t.removeAttribute(r)}delete n.cache[f]}},queue:function(t,i,r){if(t){i=(i||"fx")+"queue";var u=n.data(t,i);!u||n.isArray(r)?u=n.data(t,i,n.makeArray(r)):r&&u.push(r)}return u},dequeue:function(i,r){var f=n.queue(i,r),u=f.shift();r&&r!=="fx"||(u=f[0]),u!==t&&u.call(i)}}),n.fn.extend({data:function(i,r){var u=i.split("."),f;return u[1]=u[1]?"."+u[1]:"",r===t?(f=this.triggerHandler("getData"+u[1]+"!",[u[0]]),f===t&&this.length&&(f=n.data(this[0],i)),f===t&&u[1]?this.data(u[0]):f):this.trigger("setData"+u[1]+"!",[u[0],r]).each(function(){n.data(this,i,r)})},removeData:function(t){return this.each(function(){n.removeData(this,t)})},queue:function(i,r){return typeof i!="string"&&(r=i,i="fx"),r===t?n.queue(this[0],i):this.each(function(){var t=n.queue(this,i,r);i=="fx"&&t.length==1&&t[0].call(this)})},dequeue:function(t){return this.each(function(){n.dequeue(this,t)})}});
/*!
     * Sizzle CSS Selector Engine - v0.9.3
     *  Copyright 2009, The Dojo Foundation
     *  Released under the MIT, BSD, and GPL Licenses.
     *  More information: http://sizzlejs.com/
     */
(function(){function p(n,t,i,r,u,f){for(var c=n=="previousSibling"&&!f,e,s,o=0,h=r.length;o<h;o++){e=r[o];if(e){c&&e.nodeType===1&&(e.sizcache=i,e.sizset=o),e=e[n],s=!1;while(e){if(e.sizcache===i){s=r[e.sizset];break}e.nodeType!==1||f||(e.sizcache=i,e.sizset=o);if(e.nodeName===t){s=e;break}e=e[n]}r[o]=s}}}function l(n,t,i,r,f,e){for(var l=n=="previousSibling"&&!e,o,h,s=0,c=r.length;s<c;s++){o=r[s];if(o){l&&o.nodeType===1&&(o.sizcache=i,o.sizset=s),o=o[n],h=!1;while(o){if(o.sizcache===i){h=r[o.sizset];break}if(o.nodeType===1){e||(o.sizcache=i,o.sizset=s);if(typeof t!="string"){if(o===t){h=!0;break}}else if(u.filter(t,[o]).length>0){h=o;break}}o=o[n]}r[s]=h}}}var s=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^[\]]*\]|['"][^'"]*['"]|[^[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?/g,c=0,v=Object.prototype.toString,u=function(n,t,i,h){var l,nt,b,p,rt,ut,tt,it,g,k,d,c;i=i||[],t=t||document;if(t.nodeType!==1&&t.nodeType!==9)return[];if(!n||typeof n!="string")return i;l=[],it=!0,s.lastIndex=0;while((nt=s.exec(n))!==null){l.push(nt[1]);if(nt[2]){tt=RegExp.rightContext;break}}if(l.length>1&&y.exec(n))if(l.length===2&&r.relative[l[0]])b=a(l[0]+l[1],t);else{b=r.relative[l[0]]?[t]:u(l.shift(),t);while(l.length)n=l.shift(),r.relative[n]&&(n+=l.shift()),b=a(n,b)}else{g=h?{expr:l.pop(),set:f(h)}:u.find(l.pop(),l.length===1&&t.parentNode?t.parentNode:t,e(t)),b=u.filter(g.expr,g.set),l.length>0?p=f(b):it=!1;while(l.length)k=l.pop(),d=k,r.relative[k]?d=l.pop():k="",d==null&&(d=t),r.relative[k](p,d,e(t))}p||(p=b);if(!p)throw"Syntax error, unrecognized expression: "+(k||n);if(v.call(p)==="[object Array]")if(it)if(t.nodeType===1)for(c=0;p[c]!=null;c++)p[c]&&(p[c]===!0||p[c].nodeType===1&&w(t,p[c]))&&i.push(b[c]);else for(c=0;p[c]!=null;c++)p[c]&&p[c].nodeType===1&&i.push(b[c]);else i.push.apply(i,p);else f(p,i);if(tt){u(tt,t,i,h);if(o){hasDuplicate=!1,i.sort(o);if(hasDuplicate)for(c=1;c<i.length;c++)i[c]===i[c-1]&&i.splice(c--,1)}}return i},r,y,h,f,o;u.matches=function(n,t){return u(n,null,null,t)},u.find=function(n,t,i){var u,e,h,f,o,s;if(!n)return[];for(e=0,h=r.order.length;e<h;e++){f=r.order[e];if(o=r.match[f].exec(n)){s=RegExp.leftContext;if(s.substr(s.length-1)!=="\\"){o[1]=(o[1]||"").replace(/\\/g,""),u=r.find[f](o,t,i);if(u!=null){n=n.replace(r.match[f],"");break}}}}return u||(u=t.getElementsByTagName("*")),{set:u,expr:n}},u.filter=function(n,i,u,f){var b=n,v=[],o=i,s,h,k=i&&i[0]&&e(i[0]),c,w,l,y,a,p;while(n&&i.length){for(c in r.filter)if((s=r.match[c].exec(n))!=null){w=r.filter[c],h=!1,o==v&&(v=[]);if(r.preFilter[c]){s=r.preFilter[c](s,o,u,v,f,k);if(s){if(s===!0)continue}else h=l=!0}if(s)for(a=0;(y=o[a])!=null;a++)y&&(l=w(y,s,a,o),p=f^!!l,u&&l!=null?p?h=!0:o[a]=!1:p&&(v.push(y),h=!0));if(l!==t){u||(o=v),n=n.replace(r.match[c],"");if(!h)return[];break}}if(n==b)if(h==null)throw"Syntax error, unrecognized expression: "+n;else break;b=n}return o},r=u.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF_-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF_-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF_-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF_-]|\\.)+)\s*(?:(\S?=)\s*(['"]*)(.*?)\3|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*_-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\((even|odd|[\dn+-]*)\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF_-]|\\.)+)(?:\((['"]*)((?:\([^\)]+\)|[^\2\(\)]*)+)\2\))?/},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(n){return n.getAttribute("href")}},relative:{"+":function(n,t,i){var h=typeof t=="string",o=h&&!/\W/.test(t),s=h&&!o,f,e,r;for(o&&!i&&(t=t.toUpperCase()),f=0,e=n.length;f<e;f++)if(r=n[f]){while((r=r.previousSibling)&&r.nodeType!==1);n[f]=s||r&&r.nodeName===t?r||!1:r===t}s&&u.filter(t,n,!0)},">":function(n,t,i){var s=typeof t=="string",o,r,e,f;if(s&&!/\W/.test(t))for(t=i?t:t.toUpperCase(),r=0,e=n.length;r<e;r++)f=n[r],f&&(o=f.parentNode,n[r]=o.nodeName===t?o:!1);else{for(r=0,e=n.length;r<e;r++)f=n[r],f&&(n[r]=s?f.parentNode:f.parentNode===t);s&&u.filter(t,n,!0)}},"":function(n,t,i){var f=c++,u=l,r;t.match(/\W/)||(r=t=i?t:t.toUpperCase(),u=p),u("parentNode",t,f,n,r,i)},"~":function(n,t,i){var f=c++,u=l,r;typeof t!="string"||t.match(/\W/)||(r=t=i?t:t.toUpperCase(),u=p),u("previousSibling",t,f,n,r,i)}},find:{ID:function(n,t,i){if(typeof t.getElementById!="undefined"&&!i){var r=t.getElementById(n[1]);return r?[r]:[]}},NAME:function(n,t){var f,u,r,e;if(typeof t.getElementsByName!="undefined"){for(f=[],u=t.getElementsByName(n[1]),r=0,e=u.length;r<e;r++)u[r].getAttribute("name")===n[1]&&f.push(u[r]);return f.length===0?null:f}},TAG:function(n,t){return t.getElementsByTagName(n[1])}},preFilter:{CLASS:function(n,t,i,r,u,f){n=" "+n[1].replace(/\\/g,"")+" ";if(f)return n;for(var o=0,e;(e=t[o])!=null;o++)e&&(u^(e.className&&(" "+e.className+" ").indexOf(n)>=0)?i||r.push(e):i&&(t[o]=!1));return!1},ID:function(n){return n[1].replace(/\\/g,"")},TAG:function(n,t){for(var i=0;t[i]===!1;i++);return t[i]&&e(t[i])?n[1]:n[1].toUpperCase()},CHILD:function(n){if(n[1]=="nth"){var t=/(-?)(\d*)n((?:\+|-)?\d*)/.exec(n[2]=="even"&&"2n"||n[2]=="odd"&&"2n+1"||!/\D/.test(n[2])&&"0n+"+n[2]||n[2]);n[2]=t[1]+(t[2]||1)-0,n[3]=t[3]-0}return n[0]=c++,n},ATTR:function(n,t,i,u,f,e){var o=n[1].replace(/\\/g,"");return!e&&r.attrMap[o]&&(n[1]=r.attrMap[o]),n[2]==="~="&&(n[4]=" "+n[4]+" "),n},PSEUDO:function(n,t,i,f,e){if(n[1]==="not")if(n[3].match(s).length>1||/^\w/.test(n[3]))n[3]=u(n[3],null,null,t);else{var o=u.filter(n[3],t,i,!0^e);return i||f.push.apply(f,o),!1}else if(r.match.POS.test(n[0])||r.match.CHILD.test(n[0]))return!0;return n},POS:function(n){return n.unshift(!0),n}},filters:{enabled:function(n){return n.disabled===!1&&n.type!=="hidden"},disabled:function(n){return n.disabled===!0},checked:function(n){return n.checked===!0},selected:function(n){return n.parentNode.selectedIndex,n.selected===!0},parent:function(n){return!!n.firstChild},empty:function(n){return!n.firstChild},has:function(n,t,i){return!!u(i[3],n).length},header:function(n){return/h\d/i.test(n.nodeName)},text:function(n){return"text"===n.type},radio:function(n){return"radio"===n.type},checkbox:function(n){return"checkbox"===n.type},file:function(n){return"file"===n.type},password:function(n){return"password"===n.type},submit:function(n){return"submit"===n.type},image:function(n){return"image"===n.type},reset:function(n){return"reset"===n.type},button:function(n){return"button"===n.type||n.nodeName.toUpperCase()==="BUTTON"},input:function(n){return/input|select|textarea|button/i.test(n.nodeName)}},setFilters:{first:function(n,t){return t===0},last:function(n,t,i,r){return t===r.length-1},even:function(n,t){return t%2==0},odd:function(n,t){return t%2==1},lt:function(n,t,i){return t<i[3]-0},gt:function(n,t,i){return t>i[3]-0},nth:function(n,t,i){return i[3]-0==t},eq:function(n,t,i){return i[3]-0==t}},filter:{PSEUDO:function(n,t,i,u){var e=t[1],s=r.filters[e],f,i,o;if(s)return s(n,i,t,u);if(e==="contains")return(n.textContent||n.innerText||"").indexOf(t[3])>=0;if(e==="not"){for(f=t[3],i=0,o=f.length;i<o;i++)if(f[i]===n)return!1;return!0}},CHILD:function(n,t){var s=t[1],i=n,u,e,o,r,h,f;switch(s){case"only":case"first":while(i=i.previousSibling)if(i.nodeType===1)return!1;if(s=="first")return!0;i=n;case"last":while(i=i.nextSibling)if(i.nodeType===1)return!1;return!0;case"nth":u=t[2],e=t[3];if(u==1&&e==0)return!0;o=t[0],r=n.parentNode;if(r&&(r.sizcache!==o||!n.nodeIndex)){for(h=0,i=r.firstChild;i;i=i.nextSibling)i.nodeType===1&&(i.nodeIndex=++h);r.sizcache=o}return f=n.nodeIndex-e,u==0?f==0:f%u==0&&f/u>=0}},ID:function(n,t){return n.nodeType===1&&n.getAttribute("id")===t},TAG:function(n,t){return t==="*"&&n.nodeType===1||n.nodeName===t},CLASS:function(n,t){return(" "+(n.className||n.getAttribute("class"))+" ").indexOf(t)>-1},ATTR:function(n,t){var e=t[1],o=r.attrHandle[e]?r.attrHandle[e](n):n[e]!=null?n[e]:n.getAttribute(e),u=o+"",f=t[2],i=t[4];return o==null?f==="!=":f==="="?u===i:f==="*="?u.indexOf(i)>=0:f==="~="?(" "+u+" ").indexOf(i)>=0:i?f==="!="?u!=i:f==="^="?u.indexOf(i)===0:f==="$="?u.substr(u.length-i.length)===i:f==="|="?u===i||u.substr(0,i.length+1)===i+"-":!1:u&&o!==!1},POS:function(n,t,i,u){var e=t[2],f=r.setFilters[e];if(f)return f(n,i,t,u)}}},y=r.match.POS;for(h in r.match)r.match[h]=RegExp(r.match[h].source+/(?![^\[]*\])(?![^\(]*\))/.source);f=function(n,t){return n=Array.prototype.slice.call(n),t?(t.push.apply(t,n),t):n};try{Array.prototype.slice.call(document.documentElement.childNodes)}catch(b){f=function(n,t){var r=t||[],u,i;if(v.call(n)==="[object Array]")Array.prototype.push.apply(r,n);else if(typeof n.length=="number")for(i=0,u=n.length;i<u;i++)r.push(n[i]);else for(i=0;n[i];i++)r.push(n[i]);return r}}document.documentElement.compareDocumentPosition?o=function(n,t){var i=n.compareDocumentPosition(t)&4?-1:n===t?0:1;return i===0&&(hasDuplicate=!0),i}:"sourceIndex"in document.documentElement?o=function(n,t){var i=n.sourceIndex-t.sourceIndex;return i===0&&(hasDuplicate=!0),i}:document.createRange&&(o=function(n,t){var u=n.ownerDocument.createRange(),r=t.ownerDocument.createRange(),i;return u.selectNode(n),u.collapse(!0),r.selectNode(t),r.collapse(!0),i=u.compareBoundaryPoints(Range.START_TO_END,r),i===0&&(hasDuplicate=!0),i}),(function(){var i=document.createElement("form"),u="script"+ +new Date,n;i.innerHTML="<input name='"+u+"'/>",n=document.documentElement,n.insertBefore(i,n.firstChild),!document.getElementById(u)||(r.find.ID=function(n,i,r){if(typeof i.getElementById!="undefined"&&!r){var u=i.getElementById(n[1]);return u?u.id===n[1]||typeof u.getAttributeNode!="undefined"&&u.getAttributeNode("id").nodeValue===n[1]?[u]:t:[]}},r.filter.ID=function(n,t){var i=typeof n.getAttributeNode!="undefined"&&n.getAttributeNode("id");return n.nodeType===1&&i&&i.nodeValue===t}),n.removeChild(i)})(),(function(){var n=document.createElement("div");n.appendChild(document.createComment("")),n.getElementsByTagName("*").length>0&&(r.find.TAG=function(n,t){var r=t.getElementsByTagName(n[1]),u,i;if(n[1]==="*"){for(u=[],i=0;r[i];i++)r[i].nodeType===1&&u.push(r[i]);r=u}return r}),n.innerHTML="<a href='#'></a>",n.firstChild&&typeof n.firstChild.getAttribute!="undefined"&&n.firstChild.getAttribute("href")!=="#"&&(r.attrHandle.href=function(n){return n.getAttribute("href",2)})})(),document.querySelectorAll&&(function(){var n=u,t=document.createElement("div");t.innerHTML="<p class='TEST'></p>";if(t.querySelectorAll&&t.querySelectorAll(".TEST").length===0)return;u=function(t,i,r,u){i=i||document;if(!u&&i.nodeType===9&&!e(i))try{return f(i.querySelectorAll(t),r)}catch(o){}return n(t,i,r,u)},u.find=n.find,u.filter=n.filter,u.selectors=n.selectors,u.matches=n.matches})(),document.getElementsByClassName&&document.documentElement.getElementsByClassName&&(function(){var n=document.createElement("div");n.innerHTML="<div class='test e'></div><div class='test'></div>";if(n.getElementsByClassName("e").length===0)return;n.lastChild.className="e";if(n.getElementsByClassName("e").length===1)return;r.order.splice(1,0,"CLASS"),r.find.CLASS=function(n,t,i){if(typeof t.getElementsByClassName!="undefined"&&!i)return t.getElementsByClassName(n[1])}})();var w=document.compareDocumentPosition?function(n,t){return n.compareDocumentPosition(t)&16}:function(n,t){return n!==t&&(n.contains?n.contains(t):!0)},e=function(n){return n.nodeType===9&&n.documentElement.nodeName!=="HTML"||!!n.ownerDocument&&e(n.ownerDocument)},a=function(n,t){var o=[],s="",h,f=t.nodeType?[t]:t,i,e;while(h=r.match.PSEUDO.exec(n))s+=h[0],n=n.replace(r.match.PSEUDO,"");for(n=r.relative[n]?n+"*":n,i=0,e=f.length;i<e;i++)u(n,f[i],o);return u.filter(s,o)};n.find=u,n.filter=u.filter,n.expr=u.selectors,n.expr[":"]=n.expr.filters,u.selectors.filters.hidden=function(n){return n.offsetWidth===0||n.offsetHeight===0},u.selectors.filters.visible=function(n){return n.offsetWidth>0||n.offsetHeight>0},u.selectors.filters.animated=function(t){return n.grep(n.timers,function(n){return t===n.elem}).length},n.multiFilter=function(n,t,i){return i&&(n=":not("+n+")"),u.matches(n,t)},n.dir=function(n,t){var r=[],i=n[t];while(i&&i!=document)i.nodeType==1&&r.push(i),i=i[t];return r},n.nth=function(n,t,i){t=t||1;for(var u=0;n;n=n[i])if(n.nodeType==1&&++u==t)break;return n},n.sibling=function(n,t){for(var i=[];n;n=n.nextSibling)n.nodeType==1&&n!=t&&i.push(n);return i};return})(),n.event={add:function(r,u,f,e){var h,s,o;if(r.nodeType==3||r.nodeType==8)return;r.setInterval&&r!=i&&(r=i),f.guid||(f.guid=this.guid++),e!==t&&(h=f,f=this.proxy(h),f.data=e),s=n.data(r,"events")||n.data(r,"events",{}),o=n.data(r,"handle")||n.data(r,"handle",function(){return typeof n!="undefined"&&!n.event.triggered?n.event.handle.apply(arguments.callee.elem,arguments):t}),o.elem=r,n.each(u.split(/\s+/),function(t,i){var h=i.split("."),u;i=h.shift(),f.type=h.slice().sort().join("."),u=s[i],n.event.specialAll[i]&&n.event.specialAll[i].setup.call(r,e,h),u||(u=s[i]={},n.event.special[i]&&n.event.special[i].setup.call(r,e,h)!==!1||(r.addEventListener?r.addEventListener(i,o,!1):r.attachEvent&&r.attachEvent("on"+i,o))),u[f.guid]=f,n.event.global[i]=!0}),r=null},guid:1,global:{},remove:function(i,r,u){var f,e,h,s,o;if(i.nodeType==3||i.nodeType==8)return;f=n.data(i,"events");if(f){if(r===t||typeof r=="string"&&r.charAt(0)==".")for(s in f)this.remove(i,s+(r||""));else r.type&&(u=r.handler,r=r.type),n.each(r.split(/\s+/),function(t,r){var o=r.split("."),h,s;r=o.shift(),h=RegExp("(^|\\.)"+o.slice().sort().join(".*\\.")+"(\\.|$)");if(f[r]){if(u)delete f[r][u.guid];else for(s in f[r])h.test(f[r][s].type)&&delete f[r][s];n.event.specialAll[r]&&n.event.specialAll[r].teardown.call(i,o);for(e in f[r])break;e||(n.event.special[r]&&n.event.special[r].teardown.call(i,o)!==!1||(i.removeEventListener?i.removeEventListener(r,n.data(i,"handle"),!1):i.detachEvent&&i.detachEvent("on"+r,n.data(i,"handle"))),e=null,delete f[r])}});for(e in f)break;e||(o=n.data(i,"handle"),o&&(o.elem=null),n.removeData(i,"events"),n.removeData(i,"handle"))}},trigger:function(i,u,f,e){var o=i.type||i,h,s;if(!e){i=typeof i=="object"?i[r]?i:n.extend(n.Event(o),i):n.Event(o),o.indexOf("!")<0||(i.type=o=o.slice(0,-1),i.exclusive=!0),f||(i.stopPropagation(),this.global[o]&&n.each(n.cache,function(){this.events&&this.events[o]&&n.event.trigger(i,u,this.handle.elem)}));if(!f||f.nodeType==3||f.nodeType==8)return t;i.result=t,i.target=f,u=n.makeArray(u),u.unshift(i)}i.currentTarget=f,h=n.data(f,"handle"),h&&h.apply(f,u),(!f[o]||n.nodeName(f,"a")&&o=="click")&&f["on"+o]&&f["on"+o].apply(f,u)===!1&&(i.result=!1);if(!e&&f[o]&&!i.isDefaultPrevented()&&!(n.nodeName(f,"a")&&o=="click")){this.triggered=!0;try{f[o]()}catch(c){}}this.triggered=!1,i.isPropagationStopped()||(s=f.parentNode||f.ownerDocument,s&&n.event.trigger(i,u,s,!0))},handle:function(r){var h,o,f,c,s,u,e;r=arguments[0]=n.event.fix(r||i.event),r.currentTarget=this,f=r.type.split("."),r.type=f.shift(),h=!f.length&&!r.exclusive,c=RegExp("(^|\\.)"+f.slice().sort().join(".*\\.")+"(\\.|$)"),o=(n.data(this,"events")||{})[r.type];for(s in o){u=o[s];if(h||c.test(u.type)){r.handler=u,r.data=u.data;try{e=u.apply(this,arguments)}catch(l){Ektron.OnException.diagException(l,arguments,u)}e!==t&&(r.result=e,e===!1&&(r.preventDefault(),r.stopPropagation()));if(r.isImmediatePropagationStopped())break}}},props:"altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode metaKey newValue originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" "),fix:function(t){var e,f,o,i,u;if(t[r])return t;for(e=t,t=n.Event(e),f=this.props.length;f;)o=this.props[--f],t[o]=e[o];return t.target||(t.target=t.srcElement||document),t.target.nodeType==3&&(t.target=t.target.parentNode),!t.relatedTarget&&t.fromElement&&(t.relatedTarget=t.fromElement==t.target?t.toElement:t.fromElement),t.pageX==null&&t.clientX!=null&&(i=document.documentElement,u=document.body,t.pageX=t.clientX+(i&&i.scrollLeft||u&&u.scrollLeft||0)-(i.clientLeft||0),t.pageY=t.clientY+(i&&i.scrollTop||u&&u.scrollTop||0)-(i.clientTop||0)),!t.which&&(t.charCode||t.charCode===0?t.charCode:t.keyCode)&&(t.which=t.charCode||t.keyCode),!t.metaKey&&t.ctrlKey&&(t.metaKey=t.ctrlKey),!t.which&&t.button&&(t.which=t.button&1?1:t.button&2?3:t.button&4?2:0),t},proxy:function(n,t){return t=t||function(){return n.apply(this,arguments)},t.guid=n.guid=n.guid||t.guid||this.guid++,t},special:{ready:{setup:k,teardown:function(){}}},specialAll:{live:{setup:function(t,i){n.event.add(this,i[0],tt)},teardown:function(t){if(t.length){var i=0,r=RegExp("(^|\\.)"+t[0]+"(\\.|$)");n.each(n.data(this,"events").live||{},function(){r.test(this.type)&&i++}),i<1&&n.event.remove(this,t[0],tt)}}}}},n.Event=function(t){if(!this.preventDefault)return new n.Event(t);t&&t.type?(this.originalEvent=t,this.type=t.type):this.type=t,this.timeStamp=f(),this[r]=!0},n.Event.prototype={preventDefault:function(){this.isDefaultPrevented=a;var n=this.originalEvent;if(!n)return;n.preventDefault&&n.preventDefault(),n.returnValue=!1},stopPropagation:function(){this.isPropagationStopped=a;var n=this.originalEvent;if(!n)return;n.stopPropagation&&n.stopPropagation(),n.cancelBubble=!0},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=a,this.stopPropagation()},isDefaultPrevented:l,isPropagationStopped:l,isImmediatePropagationStopped:l},p=function(t){var i=t.relatedTarget;while(i&&i!=this)try{i=i.parentNode}catch(r){i=this}i!=this&&(t.type=t.data,n.event.handle.apply(this,arguments))},n.each({mouseover:"mouseenter",mouseout:"mouseleave"},function(t,i){n.event.special[i]={setup:function(){n.event.add(this,t,p,i)},teardown:function(){n.event.remove(this,t,p)}}}),n.fn.extend({bind:function(t,i,r){return t=="unload"?this.one(t,i,r):this.each(function(){n.event.add(this,t,r||i,r&&i)})},one:function(t,i,r){var u=n.event.proxy(r||i,function(t){return n(this).unbind(t,u),(r||i).apply(this,arguments)});return this.each(function(){n.event.add(this,t,u,r&&i)})},unbind:function(t,i){return this.each(function(){n.event.remove(this,t,i)})},trigger:function(t,i){return this.each(function(){n.event.trigger(t,i,this)})},triggerHandler:function(t,i){if(this[0]){var r=n.Event(t);return r.preventDefault(),r.stopPropagation(),n.event.trigger(r,i,this[0]),r.result}},toggle:function(t){var r=arguments,i=1;while(i<r.length)n.event.proxy(t,r[i++]);return this.click(n.event.proxy(t,function(n){return this.lastToggle=(this.lastToggle||0)%i,n.preventDefault(),r[this.lastToggle++].apply(this,arguments)||!1}))},hover:function(n,t){return this.mouseenter(n).mouseleave(t)},ready:function(t){return k(),n.isReady?t.call(document,n):n.readyList.push(t),this},live:function(t,i){var r=n.event.proxy(i);return r.guid+=this.selector+t,n(document).bind(b(t,this.selector),this.selector,r),this},die:function(t,i){return n(document).unbind(b(t,this.selector),i?{guid:i.guid+this.selector+t}:null),this}}),n.extend({isReady:!1,readyList:[],ready:function(){n.isReady||(n.isReady=!0,n.readyList&&(n.each(n.readyList,function(){this.call(document,n)}),n.readyList=null),n(document).triggerHandler("ready"))}}),y=!1,n.each("blur,focus,load,resize,scroll,unload,click,dblclick,mousedown,mouseup,mousemove,mouseover,mouseout,mouseenter,mouseleave,change,select,submit,keydown,keypress,keyup,error".split(","),function(t,i){n.fn[i]=function(n){return n?this.bind(i,n):this.trigger(i)}}),n(i).bind("unload",function(){for(var t in n.cache)t!=1&&n.cache[t].handle&&n.event.remove(n.cache[t].handle.elem)}),(function(){var f,r;n.support={};var e=document.documentElement,u=document.createElement("script"),t=document.createElement("div"),o="script"+ +new Date;t.style.display="none",t.innerHTML='   <link/><table></table><a href="/a" style="color:red;float:left;opacity:.5;">a</a><select><option>text</option></select><object><param/></object>',f=t.getElementsByTagName("*"),r=t.getElementsByTagName("a")[0];if(!f||!f.length||!r)return;n.support={leadingWhitespace:t.firstChild.nodeType==3,tbody:!t.getElementsByTagName("tbody").length,objectAll:!!t.getElementsByTagName("object")[0].getElementsByTagName("*").length,htmlSerialize:!!t.getElementsByTagName("link").length,style:/red/.test(r.getAttribute("style")),hrefNormalized:r.getAttribute("href")==="/a",opacity:r.style.opacity==="0.5",cssFloat:!!r.style.cssFloat,scriptEval:!1,noCloneEvent:!0,boxModel:null},u.type="text/javascript";try{u.appendChild(document.createTextNode("window."+o+"=1;"))}catch(s){}e.insertBefore(u,e.firstChild),i[o]&&(n.support.scriptEval=!0,delete i[o]),e.removeChild(u),t.attachEvent&&t.fireEvent&&(t.attachEvent("onclick",function(){n.support.noCloneEvent=!1,t.detachEvent("onclick",arguments.callee)}),t.cloneNode(!0).fireEvent("onclick")),n(function(){var t=document.createElement("div");t.style.width=t.style.paddingLeft="1px";try{document.body.appendChild(t),n.boxModel=n.support.boxModel=t.offsetWidth===2,document.body.removeChild(t).style.display="none"}catch(i){}t=null})})(),o=n.support.cssFloat?"cssFloat":"styleFloat",n.props={"for":"htmlFor","class":"className",float:o,cssFloat:o,styleFloat:o,readonly:"readOnly",maxlength:"maxLength",cellspacing:"cellSpacing",rowspan:"rowSpan",tabindex:"tabIndex"},n.fn.extend({_load:n.fn.load,load:function(t,i,r){var u,o,e,f;return typeof t!="string"?this._load(t):(u=t.indexOf(" "),u<0||(o=t.slice(u,t.length),t=t.slice(0,u)),e="GET",i&&(n.isFunction(i)?(r=i,i=null):typeof i=="object"&&(i=n.param(i),e="POST")),f=this,n.ajax({url:t,type:e,dataType:"html",data:i,complete:function(t,i){(i=="success"||i=="notmodified")&&f.html(o?n("<div/>").append(t.responseText.replace(/<script(.|\s)*?\/script>/g,"")).find(o):t.responseText),r&&f.each(r,[t.responseText,i,t])}}),this)},serialize:function(){return n.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?n.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||/select|textarea/i.test(this.nodeName)||/text|hidden|password|search/i.test(this.type))}).map(function(t,i){var r=n(this).val();return r==null?null:n.isArray(r)?n.map(r,function(n){return{name:i.name,value:n}}):{name:i.name,value:r}}).get()}}),n.each("ajaxStart,ajaxStop,ajaxComplete,ajaxError,ajaxSuccess,ajaxSend".split(","),function(t,i){n.fn[i]=function(n){return this.bind(i,n)}}),d=f(),n.extend({get:function(t,i,r,u){return n.isFunction(i)&&(r=i,i=null),n.ajax({type:"GET",url:t,data:i,success:r,dataType:u})},getScript:function(t,i){return n.get(t,null,i,"script")},getJSON:function(t,i,r){return n.get(t,i,r,"json")},post:function(t,i,r,u){return n.isFunction(i)&&(r=i,i={}),n.ajax({type:"POST",url:t,data:i,success:r,dataType:u})},ajaxSetup:function(t){n.extend(n.ajaxSettings,t)},ajaxSettings:{url:location.href,global:!0,type:"GET",contentType:"application/x-www-form-urlencoded",processData:!0,async:!0,xhr:function(){return i.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest},accepts:{xml:"application/xml, text/xml",html:"text/html",script:"text/javascript, application/javascript",json:"application/json, text/javascript",text:"text/plain",_default:"*/*"}},lastModified:{},ajax:function(r){function w(){r.success&&r.success(b,c),r.global&&n.event.trigger("ajaxSuccess",[u,r])}function k(){r.complete&&r.complete(u,c),r.global&&n.event.trigger("ajaxComplete",[u,r]),r.global&&!--n.active&&n.event.trigger("ajaxStop")}var o,h,c,b,s,tt,g,v,a,e,nt,y,u,p,l;r=n.extend(!0,r,n.extend(!0,{},n.ajaxSettings,r)),h=/=\?(&|$)/g,s=r.type.toUpperCase(),r.data&&r.processData&&typeof r.data!="string"&&(r.data=n.param(r.data)),r.dataType=="jsonp"&&(s=="GET"?r.url.match(h)||(r.url+=(r.url.match(/\?/)?"&":"?")+(r.jsonp||"callback")+"=?"):r.data&&r.data.match(h)||(r.data=(r.data?r.data+"&":"")+(r.jsonp||"callback")+"=?"),r.dataType="json"),r.dataType=="json"&&(r.data&&r.data.match(h)||r.url.match(h))&&(o="jsonp"+d++,r.data&&(r.data=(r.data+"").replace(h,"="+o+"$1")),r.url=r.url.replace(h,"="+o+"$1"),r.dataType="script",i[o]=function(n){b=n,w(),k(),i[o]=t;try{delete i[o]}catch(r){}a&&a.removeChild(e)}),r.dataType=="script"&&r.cache==null&&(r.cache=!1),r.cache===!1&&s=="GET"&&(tt=f(),g=r.url.replace(/(\?|&)_=.*?(&|$)/,"$1_="+tt+"$2"),r.url=g+(g==r.url?(r.url.match(/\?/)?"&":"?")+"_="+tt:"")),r.data&&s=="GET"&&(r.url+=(r.url.match(/\?/)?"&":"?")+r.data,r.data=null),r.global&&!n.active++&&n.event.trigger("ajaxStart"),v=/^(\w+:)?\/\/([^\/?#]+)/.exec(r.url);if(r.dataType=="script"&&s=="GET"&&v&&(v[1]&&v[1]!=location.protocol||v[2]!=location.host))return a=document.getElementsByTagName("head")[0],e=document.createElement("script"),e.src=r.url,r.scriptCharset&&(e.charset=r.scriptCharset),o||(nt=!1,e.onload=e.onreadystatechange=function(){nt||this.readyState&&this.readyState!="loaded"&&this.readyState!="complete"||(nt=!0,w(),k(),e.onload=e.onreadystatechange=null,a.removeChild(e))}),a.appendChild(e),t;y=!1,u=r.xhr(),r.username?u.open(s,r.url,r.async,r.username,r.password):u.open(s,r.url,r.async);try{r.data&&u.setRequestHeader("Content-Type",r.contentType),r.ifModified&&u.setRequestHeader("If-Modified-Since",n.lastModified[r.url]||"Thu, 01 Jan 1970 00:00:00 GMT"),u.setRequestHeader("X-Requested-With","XMLHttpRequest"),u.setRequestHeader("Accept",r.dataType&&r.accepts[r.dataType]?r.accepts[r.dataType]+", */*":r.accepts._default)}catch(it){}if(r.beforeSend&&r.beforeSend(u,r)===!1)return r.global&&!--n.active&&n.event.trigger("ajaxStop"),u.abort(),!1;r.global&&n.event.trigger("ajaxSend",[u,r]),p=function(t){if(u.readyState==0)l&&(clearInterval(l),l=null,r.global&&!--n.active&&n.event.trigger("ajaxStop"));else if(!y&&u&&(u.readyState==4||t=="timeout")){y=!0,l&&(clearInterval(l),l=null),c=t=="timeout"?"timeout":n.httpSuccess(u)?r.ifModified&&n.httpNotModified(u,r.url)?"notmodified":"success":"error";if(c=="success")try{b=n.httpData(u,r.dataType,r)}catch(f){c="parsererror"}if(c=="success"){var i;try{i=u.getResponseHeader("Last-Modified")}catch(f){}r.ifModified&&i&&(n.lastModified[r.url]=i),o||w()}else n.handleError(r,u,c);k(),t&&u.abort(),r.async&&(u=null)}},r.async&&(l=setInterval(p,13),r.timeout>0&&setTimeout(function(){u&&!y&&p("timeout")},r.timeout));try{u.send(r.data)}catch(it){n.handleError(r,u,null,it)}return r.async||p(),u},handleError:function(t,i,r,u){t.error&&t.error(i,r,u),t.global&&n.event.trigger("ajaxError",[i,t,u])},active:0,httpSuccess:function(n){try{return!n.status&&location.protocol=="file:"||n.status>=200&&n.status<300||n.status==304||n.status==1223}catch(t){}return!1},httpNotModified:function(t,i){try{var r=t.getResponseHeader("Last-Modified");return t.status==304||r==n.lastModified[i]}catch(u){}return!1},httpData:function(t,r,u){var e=t.getResponseHeader("content-type"),o=r=="xml"||!r&&e&&e.indexOf("xml")>=0,f=o?t.responseXML:t.responseText;if(o&&f.documentElement.tagName=="parsererror")throw"parsererror";return u&&u.dataFilter&&(f=u.dataFilter(f,r)),typeof f=="string"&&(r=="script"&&n.globalEval(f),r=="json"&&(f=i.eval("("+f+")"))),f},param:function(t){function u(n,t){r[r.length]=encodeURIComponent(n)+"="+encodeURIComponent(t)}var r=[],i;if(n.isArray(t)||t.jquery)n.each(t,function(){u(this.name,this.value)});else for(i in t)n.isArray(t[i])?n.each(t[i],function(){u(i,this)}):u(i,n.isFunction(t[i])?t[i]():t[i]);return r.join("&").replace(/%20/g,"+")}}),h={},v=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]],n.fn.extend({show:function(t,i){var c,f,u,s,r,o;if(t)return this.animate(e("show",3),t,i);for(r=0,o=this.length;r<o;r++)c=n.data(this[r],"olddisplay"),this[r].style.display=c||"",n.css(this[r],"display")==="none"&&(f=this[r].tagName,h[f]?u=h[f]:(s=n("<"+f+" />").appendTo("body"),u=s.css("display"),u==="none"&&(u="block"),s.remove(),h[f]=u),n.data(this[r],"olddisplay",u));for(r=0,o=this.length;r<o;r++)this[r].style.display=n.data(this[r],"olddisplay")||"";return this},hide:function(t,i){var f,r,u;if(t)return this.animate(e("hide",3),t,i);for(r=0,u=this.length;r<u;r++)f=n.data(this[r],"olddisplay"),f||f==="none"||n.data(this[r],"olddisplay",n.css(this[r],"display"));for(r=0,u=this.length;r<u;r++)this[r].style.display="none";return this},_toggle:n.fn.toggle,toggle:function(t,i){var r=typeof t=="boolean";return n.isFunction(t)&&n.isFunction(i)?this._toggle.apply(this,arguments):t==null||r?this.each(function(){var i=r?t:n(this).is(":hidden");n(this)[i?"show":"hide"]()}):this.animate(e("toggle",3),t,i)},fadeTo:function(n,t,i){return this.animate({opacity:t},n,i)},animate:function(t,i,r,u){var f=n.speed(i,r,u);return this[f.queue===!1?"each":"queue"](function(){var i=n.extend({},f),r,e=this.nodeType==1&&n(this).is(":hidden"),u=this;for(r in t){if(t[r]=="hide"&&e||t[r]=="show"&&!e)return i.complete.call(this);(r=="height"||r=="width")&&this.style&&(i.display=n.css(this,"display"),i.overflow=this.style.overflow)}return i.overflow!=null&&(this.style.overflow="hidden"),i.curAnim=n.extend({},t),n.each(t,function(r,f){var l=new n.fx(u,i,r),h,o,s,c;/toggle|show|hide/.test(f)?l[f=="toggle"?e?"show":"hide":f](t):(h=f.toString().match(/^([+-]=)?([\d+-.]+)(.*)$/),o=l.cur(!0)||0,h?(s=parseFloat(h[2]),c=h[3]||"px",c!="px"&&(u.style[r]=(s||1)+c,o=(s||1)/l.cur(!0)*o,u.style[r]=o+c),h[1]&&(s=(h[1]=="-="?-1:1)*s+o),l.custom(o,s,c)):l.custom(o,f,""))}),!0})},stop:function(t,i){var r=n.timers;return t&&this.queue([]),this.each(function(){for(var n=r.length-1;n>=0;n--)r[n].elem==this&&(i&&r[n](!0),r.splice(n,1))}),i||this.dequeue(),this}}),n.each({slideDown:e("show",1),slideUp:e("hide",1),slideToggle:e("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"}},function(t,i){n.fn[t]=function(n,t){return this.animate(i,n,t)}}),n.extend({speed:function(t,i,r){var u=typeof t=="object"?t:{complete:r||!r&&i||n.isFunction(t)&&t,duration:t,easing:r&&i||i&&!n.isFunction(i)&&i};return u.duration=n.fx.off?0:typeof u.duration=="number"?u.duration:n.fx.speeds[u.duration]||n.fx.speeds._default,u.old=u.complete,u.complete=function(){u.queue!==!1&&n(this).dequeue(),n.isFunction(u.old)&&u.old.call(this)},u},easing:{linear:function(n,t,i,r){return i+r*n},swing:function(n,t,i,r){return(-Math.cos(n*Math.PI)/2+.5)*r+i}},timers:[],fx:function(n,t,i){this.options=t,this.elem=n,this.prop=i,t.orig||(t.orig={})}}),n.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this),(n.fx.step[this.prop]||n.fx.step._default)(this),(this.prop=="height"||this.prop=="width")&&this.elem.style&&(this.elem.style.display="block")},cur:function(t){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null))return this.elem[this.prop];var i=parseFloat(n.css(this.elem,this.prop,t));return i&&i>-1e4?i:parseFloat(n.curCSS(this.elem,this.prop))||0},custom:function(i,r,u){function e(n){return o.step(n)}this.startTime=f(),this.start=i,this.end=r,this.unit=u||this.unit||"px",this.now=this.start,this.pos=this.state=0;var o=this;e.elem=this.elem,e()&&n.timers.push(e)&&!c&&(c=setInterval(function(){for(var r=n.timers,i=0;i<r.length;i++)r[i]()||r.splice(i--,1);r.length||(clearInterval(c),c=t)},13))},show:function(){this.options.orig[this.prop]=n.attr(this.elem.style,this.prop),this.options.show=!0,this.custom(this.prop=="width"||this.prop=="height"?1:0,this.cur()),n(this.elem).show()},hide:function(){this.options.orig[this.prop]=n.attr(this.elem.style,this.prop),this.options.hide=!0,this.custom(this.cur(),0)},step:function(t){var e=f(),u,o,i,r;if(t||e>=this.options.duration+this.startTime){this.now=this.end,this.pos=this.state=1,this.update(),this.options.curAnim[this.prop]=!0,u=!0;for(o in this.options.curAnim)this.options.curAnim[o]!==!0&&(u=!1);if(u){this.options.display!=null&&(this.elem.style.overflow=this.options.overflow,this.elem.style.display=this.options.display,n.css(this.elem,"display")=="none"&&(this.elem.style.display="block")),this.options.hide&&n(this.elem).hide();if(this.options.hide||this.options.show)for(i in this.options.curAnim)n.attr(this.elem.style,i,this.options.orig[i]);this.options.complete.call(this.elem)}return!1}return r=e-this.startTime,this.state=r/this.options.duration,this.pos=n.easing[this.options.easing||(n.easing.swing?"swing":"linear")](this.state,r,0,1,this.options.duration),this.now=this.start+(this.end-this.start)*this.pos,this.update(),!0}},n.extend(n.fx,{speeds:{slow:600,fast:200,_default:400},step:{opacity:function(t){n.attr(t.elem.style,"opacity",t.now)},_default:function(n){n.elem.style&&n.elem.style[n.prop]!=null?n.elem.style[n.prop]=n.now+n.unit:n.elem[n.prop]=n.now}}}),n.fn.offset=document.documentElement.getBoundingClientRect?function(){if(!this[0])return{top:0,left:0};if(this[0]===this[0].ownerDocument.body)return n.offset.bodyOffset(this[0]);var r=this[0].getBoundingClientRect(),u=this[0].ownerDocument,t=u.body,i=u.documentElement,o=i.clientTop||t.clientTop||0,s=i.clientLeft||t.clientLeft||0,f=r.top+(self.pageYOffset||n.boxModel&&i.scrollTop||t.scrollTop)-o,e=r.left+(self.pageXOffset||n.boxModel&&i.scrollLeft||t.scrollLeft)-s;return{top:f,left:e}}:function(){if(!this[0])return{top:0,left:0};if(this[0]===this[0].ownerDocument.body)return n.offset.bodyOffset(this[0]);n.offset.initialized||n.offset.initialize();var t=this[0],o=t.offsetParent,l=t,h=t.ownerDocument,i,s=h.documentElement,f=h.body,c=h.defaultView,e=c.getComputedStyle(t,null),u=t.offsetTop,r=t.offsetLeft;while((t=t.parentNode)&&t!==f&&t!==s)i=c.getComputedStyle(t,null),u-=t.scrollTop,r-=t.scrollLeft,t===o&&(u+=t.offsetTop,r+=t.offsetLeft,!n.offset.doesNotAddBorder||n.offset.doesAddBorderForTableAndCells&&/^t(able|d|h)$/i.test(t.tagName)||(u+=parseInt(i.borderTopWidth,10)||0,r+=parseInt(i.borderLeftWidth,10)||0),l=o,o=t.offsetParent),n.offset.subtractsBorderForOverflowNotVisible&&i.overflow!=="visible"&&(u+=parseInt(i.borderTopWidth,10)||0,r+=parseInt(i.borderLeftWidth,10)||0),e=i;return(e.position==="relative"||e.position==="static")&&(u+=f.offsetTop,r+=f.offsetLeft),e.position==="fixed"&&(u+=Math.max(s.scrollTop,f.scrollTop),r+=Math.max(s.scrollLeft,f.scrollLeft)),{top:u,left:r}},n.offset={initialize:function(){if(this.initialized)return;var n=document.body,i=document.createElement("div"),t,f,h,e,r,u,o=n.style.marginTop,s='<div style="position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;"><div></div></div><table style="position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;" cellpadding="0" cellspacing="0"><tr><td></td></tr></table>';r={position:"absolute",top:0,left:0,margin:0,border:0,width:"1px",height:"1px",visibility:"hidden"};for(u in r)i.style[u]=r[u];i.innerHTML=s,n.insertBefore(i,n.firstChild),t=i.firstChild,f=t.firstChild,e=t.nextSibling.firstChild.firstChild,this.doesNotAddBorder=f.offsetTop!==5,this.doesAddBorderForTableAndCells=e.offsetTop===5,t.style.overflow="hidden",t.style.position="relative",this.subtractsBorderForOverflowNotVisible=f.offsetTop===-5,n.style.marginTop="1px",this.doesNotIncludeMarginInBodyOffset=n.offsetTop===0,n.style.marginTop=o,n.removeChild(i),this.initialized=!0},bodyOffset:function(t){n.offset.initialized||n.offset.initialize();var r=t.offsetTop,i=t.offsetLeft;return n.offset.doesNotIncludeMarginInBodyOffset&&(r+=parseInt(n.curCSS(t,"marginTop",!0),10)||0,i+=parseInt(n.curCSS(t,"marginLeft",!0),10)||0),{top:r,left:i}}},n.fn.extend({position:function(){var u=0,f=0,r;if(this[0]){var n=this.offsetParent(),t=this.offset(),i=/^body|html$/i.test(n[0].tagName)?{top:0,left:0}:n.offset();t.top-=s(this,"marginTop"),t.left-=s(this,"marginLeft"),i.top+=s(n,"borderTopWidth"),i.left+=s(n,"borderLeftWidth"),r={top:t.top-i.top,left:t.left-i.left}}return r},offsetParent:function(){var t=this[0].offsetParent||document.body;while(t&&!/^body|html$/i.test(t.tagName)&&n.css(t,"position")=="static")t=t.offsetParent;return n(t)}}),n.each(["Left","Top"],function(r,u){var f="scroll"+u;n.fn[f]=function(u){return this[0]?u!==t?this.each(function(){this==i||this==document?i.scrollTo(r?n(i).scrollLeft():u,r?u:n(i).scrollTop()):this[f]=u}):this[0]==i||this[0]==document?self[r?"pageYOffset":"pageXOffset"]||n.boxModel&&document.documentElement[f]||document.body[f]:this[0][f]:null}}),n.each(["Height","Width"],function(r,u){var o=r?"Left":"Top",s=r?"Right":"Bottom",e=u.toLowerCase(),f;n.fn["inner"+u]=function(){return this[0]?n.css(this[0],e,!1,"padding"):null},n.fn["outer"+u]=function(t){return this[0]?n.css(this[0],e,!1,t?"margin":"border"):null},f=u.toLowerCase(),n.fn[f]=function(r){return this[0]==i?document.compatMode=="CSS1Compat"&&document.documentElement["client"+u]||document.body["client"+u]:this[0]==document?Math.max(document.documentElement["client"+u],document.body["scroll"+u],document.documentElement["scroll"+u],document.body["offset"+u],document.documentElement["offset"+u]):r===t?this.length?n.css(this[0],f):null:this.css(f,typeof r=="string"?r:r+"px")}})})(),$ektron=window.$ektron=window.jQuery,window.jQuery.noConflict(!0),"undefined"==typeof window.$&&(window.$=window.$ektron),"undefined"==typeof window.jQuery&&(window.jQuery=window.$ektron),"undefined"==typeof Ektron&&(Ektron=window.Ektron={}),Ektron.QueryString={},window.location.search.replace(new RegExp("([^?=&]+)(=([^&]*))?","g"),function(n,t,i,r){Ektron.QueryString[t]=r}),Ektron.RegExp={},Ektron.RegExp.escape=function(n){return(n+"").replace(Ektron.RegExp.escape.re,"\\$&")},Ektron.RegExp.escape.re=/[^\w\s]/g,Ektron.RegExp.Char={},Ektron.RegExp.Char.amp=/\&/g,Ektron.RegExp.Char.lt=/</g,Ektron.RegExp.Char.gt=/>/g,Ektron.RegExp.Char.apos=/\'/g,Ektron.RegExp.Char.quot=/\"/g,Ektron.RegExp.Char.lf=/\n/g,Ektron.RegExp.Char.cr=/\r/g,Ektron.RegExp.Char.backslash=/\\/g,Ektron.RegExp.Entity={},Ektron.RegExp.Entity.amp=/\&amp;/g,Ektron.RegExp.Entity.lt=/\&lt;/g,Ektron.RegExp.Entity.gt=/\&gt;/g,Ektron.RegExp.Entity.apos=/\&apos;/g,Ektron.RegExp.Entity.quot=/\&quot;/g,Ektron.RegExp.CharacterClass={},Ektron.RegExp.CharacterClass.s="[\t\13\f -\n\r\u2028\u2029]",Ektron.OnException=function(n,t,i,r,u){var h,s=function(){},e,f,t,o;for(u?s=u:r&&r.callee&&(s=r.callee),e=[Ektron.onexception,n.constructor.onexception,n.onexception,s.onexception,t],f=0;f<e.length;f++)t=e[f],"function"==typeof t&&(0==f||t!=e[f-1])&&(o=t.call(n,i,r,u),typeof o!="undefined"&&(h=o));if("undefined"==typeof h)throw i;return h},Ektron.OnException.exceptionMessage=function(n,t,i){var a="",f,u,s,h,r,o;try{a=n.message||n||""}catch(v){}f="";try{f=n.filename||n.fileName||n.sourceURL||"",f&&(f="\nFile: "+f)}catch(v){}u="";try{u=n.lineNumber||n.line||"",u&&(u="\nLine: "+u)}catch(v){}s="";try{if(i||t&&t.callee){var c=String(i||t.callee),e=c.split("\n"),l=Ektron.OnException.exceptionMessage.maxLinesOfCode;e&&e.length>l&&(e.splice(l,e.length-l),c=e.join("\n")+"..."),s+="\n\nFunction:\n"+c+"\n",t&&t.length>0&&(s+="Arguments:\n")}if(t&&t.length)for(h=0;h<t.length;h++)r=t[h],r&&"object"==typeof r&&(1==r.nodeType?(o="[HTMLElement "+r.tagName,r.id&&(o+=' id="'+r.id+'"'),r.className&&(o+=' class="'+r.className+'"'),o+="]",r=o):3==r.nodeType&&(r='[Node "'+r.nodeValue+'"]')),s+="\n"+r+"\n"}catch(v){}return a+f+u+s},Ektron.OnException.exceptionMessage.maxLinesOfCode=24,Ektron.OnException.ignoreException=function(){return null},Ektron.OnException.throwException=function(n){throw n;},Ektron.OnException.returnException=function(n){return Ektron.OnException.exceptionMessage(n)},Ektron.OnException.returnValue=function(n){return function(){return n}},Ektron.OnException.returnArgument=function(n){return function(t,i){if(i&&i.length>n)return i[n]}},Ektron.OnException.alertException=function(n,t,i){alert(Ektron.OnException.exceptionMessage(n,t,i))},Ektron.OnException.consoleException=function(n,t,i){typeof console!="undefined"&&console.error(Ektron.OnException.exceptionMessage(n,t,i))},Ektron.OnException.diagException=function(n,t,i){return document!=null&&document.cookie&&document.cookie.indexOf("Ektron.diagException=")>-1&&confirm("Click OK to debug or Cancel to continue.\n\n"+Ektron.OnException.exceptionMessage(n,t,i)),null},Ektron.Class={functionName:function(n){if(typeof n!="function")throw new TypeError("fn must be of type Function");var t=n.toString().match(/function (\w+)\(/);return t!=null?t[1]:"anonymous"},nonEnumerables:["toLocaleString","toString","valueOf"],inherits:function(n,t,i){var r,u;if(typeof n!="object")throw new TypeError("thisObject must be of type Object");if(null===n)throw new RangeError("thisObject is null");if(typeof t!="object")throw new TypeError("objBase must be of type Object");if(null===t)throw new RangeError("objBase is null");if(typeof t.constructor!="function")throw new TypeError("objBase.constructor must be of type Function");if(typeof i!="string"&&typeof i!="undefined")throw new TypeError("baseClassName must be of type String or undefined");if("undefined"==typeof i)for(r in t.constructor.prototype)throw new TypeError("baseClassName must be specified when objBase is derived using prototype");typeof i!="string"&&(i=Ektron.Class.functionName(t.constructor));if("anonymous"==i)throw new TypeError("baseClassName must be specified when objBase constructor is anonymous");for(r in t)r!="constructor"&&(n[r]=t[r],"function"==typeof t[r]&&(n[i+"_"+r]=t[r]));for(u in Ektron.Class.nonEnumerables)n[i+"_"+Ektron.Class.nonEnumerables[u]]=t[Ektron.Class.nonEnumerables[u]];return n},overrides:function(n,t){if(typeof n!="string"&&typeof n!="undefined")throw new TypeError("baseClassName must be of type String or undefined");typeof n!="string"&&(n=Ektron.Class.functionName(objBase.constructor));if(typeof t!="undefined"&&t!=null&&t.constructor!=Array)throw new TypeError("methods must be of type Array or undefined");return function(i,r){var u,o,f,e;if(typeof i!="object")throw new TypeError("objBase must be of type Object");if(null===i)throw new RangeError("objBase is null");if(typeof i.constructor!="function")throw new TypeError("objBase.constructor must be of type Function");if(typeof r!="object"&&typeof r!="undefined")throw new TypeError("args must be of type Array or undefined");"undefined"==typeof r&&(r=[]),i.constructor=this,u="";if("object"==typeof t&&t.constructor==Array)for(e=0;e<t.length;e++)u=n+"_"+t[e],"undefined"==typeof i[u]&&(i[u]=i[t[e]]);else{o=[];for(f in i)"function"==typeof i[f]&&f!="constructor"&&(o[f]=i[f]);for(f in o)u=n+"_"+f,"undefined"==typeof i[u]&&(i[u]=o[f]);for(e in Ektron.Class.nonEnumerables)u=n+"_"+Ektron.Class.nonEnumerables[e],"undefined"==typeof i[u]&&(i[u]=i[Ektron.Class.nonEnumerables[e]])}return this.apply(i,r),i}}},Ektron.ready=function(n){if(jQuery.isReady)$ektron(document).one("EktronReady",function(){try{n.apply(this,arguments)}catch(t){Ektron.OnException.diagException(t,[n])}});else $ektron(document).ready(n)},Ektron.ready.endRequestHandler=function(n,t){var i=t.get_error();i?(t.set_errorHandled(!0),Ektron.OnException.diagException(new Error("Error during Ajax request:\n"+i.message),arguments)):$ektron(document).trigger("EktronReady",["endRequest",n,t])},Ektron.ready.ClientScriptCallbackEvent={eventCallback:function(n,t){$ektron(document).trigger("EktronReady",["callbackEvent",t])},errorCallback:function(n){Ektron.OnException.diagException(new Error("Error during Ajax DoCallback request:\n"+n),arguments)}},typeof Sys!="undefined"&&Sys.WebForms&&Sys.WebForms.PageRequestManager&&Sys.WebForms.PageRequestManager.getInstance()!=null?Sys.WebForms.PageRequestManager.getInstance().add_endRequest(Ektron.ready.endRequestHandler):$ektron(document).ready(function(){typeof Sys!="undefined"&&Sys.WebForms&&Sys.WebForms.PageRequestManager&&Sys.WebForms.PageRequestManager.getInstance()!=null&&Sys.WebForms.PageRequestManager.getInstance().add_endRequest(Ektron.ready.endRequestHandler)}),Ektron.RegExp.ltrim=new RegExp("^"+Ektron.RegExp.CharacterClass.s+"+"),Ektron.RegExp.rtrim=new RegExp(Ektron.RegExp.CharacterClass.s+"+$"),$ektron.trim=function(n){return(n+"").replace(Ektron.RegExp.ltrim,"").replace(Ektron.RegExp.rtrim,"")},$ektron.extend({ltrim:function(n){return(n+"").replace(Ektron.RegExp.ltrim,"")},rtrim:function(n){return(n+"").replace(Ektron.RegExp.rtrim,"")},positionedOffset:function(n){var t=n.offsetParent(),r=n.offset(),i=n.position();return/^body|html$/i.test(t[0].tagName)?{left:r.left,top:r.top,from:t}:{left:i.left,top:i.top,from:t}},addLoadEvent:function(n){var t=window.onload;window.onload=typeof window.onload!="function"?n:function(){t(),n()}},ajaxCallback:function(n,t,i,r){var o="object"==typeof n?n:{uniqueId:n,data:t,success:i,onexception:r},u=$ektron.extend({uniqueId:"__Page",type:"POST",dataType:"html",data:"",success:function(){},onexception:null},o),n=u.uniqueId,t=u.data;"object"==typeof t&&t!=null&&(t=$ektron.param(t));var e=u.success,r=u.onexception,f=[];return $ektron(":hidden[id*='EktronClientManager']").each(function(){var t,i,n;if(this.value){t=this.value.split(",");for(i in t)n=t[i],f[n]||(f.push(n),f[n]=!0)}}),$ektron.ajax($ektron.extend(u,{data:{__CALLBACKID:n,__CALLBACKPARAM:t,__VIEWSTATE:"",EktronClientManager:f.join(",")},success:function(n){var t,i;"string"==typeof n&&(t=n.match(/^([0-9]+)\|/),t&&2==t.length?(i=parseInt(t[1],10),n=n.substring(t[0].length+i)):n=n.replace(/^[se]/,"").replace(/0\|$/,""));try{e.apply(this,arguments)}catch(u){Ektron.OnException(this,r,u,arguments,e)}$ektron(document).trigger("EktronReady",["callback"])}}))},isEditableElement:function(n){var t,i;return n?(t=!0==n.isContentEditable,n.ownerDocument&&("on"==n.ownerDocument.designMode?(t=!0,i=n.contentEditable,"false"==i?t=!1:i!="true"&&$ektron(n).parents("[contenteditable]").each(function(){var n=this.contentEditable;return"true"==n?!1:"false"==n?(t=!1,!1):void 0})):("INPUT"!=n.tagName||"text"!=n.type&&""!=n.type)&&"TEXTAREA"!=n.tagName||n.disabled||n.readOnly||(t=!0)),t):!1}}),$ektron.fn.extend({unwrapInner:function(){var n=[];return this.each(function(){var i=$ektron(this),t;null==this.firstChild&&null==this.lastChild?i.remove():this.firstChild!=null&&this.lastChild!=null?(t=i.contents(),i.replaceWith(t),n=n.concat(t.get())):Ektron.OnException.diagException(new ReferenceError("Corrupt DOM"),[this.nodeName,this.innerHTML])}),this.pushStack(n)},ajaxCallback:function(n,t,i,r){var u=this,s="object"==typeof n?n:{uniqueId:n,data:t,complete:i,onexception:r},f=$ektron.extend({success:function(){},complete:function(){},onexception:null},s),e=f.success,o=f.complete,r=f.onexception;return $ektron.ajaxCallback($ektron.extend(f,{success:function(n){$ektron.each(u,function(){$ektron(this).html(n)});try{e.apply(u,arguments)}catch(t){Ektron.OnException(u,r,t,arguments,e)}},complete:function(){try{o.apply(u,arguments)}catch(n){Ektron.OnException(u,r,n,arguments,o)}},onexception:r})),this},makeIdentifiersUnique:function(n){var t=this.find("*").andSelf(),i=Math.floor(Math.random()*1679616).toString(36);return n="function"==typeof n?n:function(n){return n.replace(/_[0-9a-z]{4}$/,"")+"_"+i},t.filter("[id]").each(function(){this.id=n(this.id)}),t.filter("label").each(function(){this.htmlFor=n(this.htmlFor)}),t.filter("[name]").each(function(){try{if($ektron.browser.msie){var t=this.outerHTML+"";t=t.replace(new RegExp("name="+this.name,"g"),"name="+n(this.name)),$ektron(this).replaceWith(t)}else this.name=n(this.name)}catch(i){}}),this}}),Ektron.Class.overrides("jquery",["clone"]).call(function(){this.clone=function(){var i=this.jquery_clone.apply(this,arguments),r=i.find("*").andSelf().filter(":input"),t;return r.length>0&&(t=this.find("*").andSelf().filter(":input"),r.each(function(n){$ektron(this).val(t.eq(n).val()),("checkbox"==this.type||"radio"==this.type)&&(this.checked=t.get(n).checked)})),i}},$ektron.fn),Ektron.Class.overrides("jquery",["handle"]).call(function(){this.handle=function(){try{return $ektron.event.jquery_handle.apply(this,arguments)}catch(t){return Ektron.OnException.diagException(t,arguments,$ektron.event.jquery_handle),!1}}},$ektron.event)),Ektron.ready(function(){var r,i,f,u;"localhost"==location.hostname&&typeof SymRealOnLoad!="undefined"&&document!=null&&document.cookie&&-1==document.cookie.indexOf("Ektron.SymantecWarning=")&&(r="The Symantec ad blocking in your system may prevent some web pages from functioning properly. Please consult your IT administrator if you need to turn it off. ",r+="\nFor more information, please read:\n\nhttp://dev.ektron.com/kb_article.aspx?id=24520",alert(r),i=new Date,f=1,i.setTime(i.getTime()+f*864e5),u="expires="+i.toUTCString(),document.cookie="Ektron.SymantecWarning=true; "+u+"; path=/")}),(function(n){n.fn.modal=function(r){var f={overlay:50,overlayClass:"ektronModalOverlay",closeClass:"ektronModalClose",trigger:".ektronModal",ajax:t,ajaxText:"",target:t,modal:t,toTop:t,onShow:t,onHide:t,onLoad:t};return this.each(function(){if(this._modal)return i[this._modal].c=n.extend({},i[this._modal].c,r);u++,this._modal=u,i[u]={c:n.extend(f,n.modal.params,r),a:t,w:n(this).addClass("modalID"+u),s:u},f.trigger&&n(this).modalAddTrigger(f.trigger)})},n.fn.modalAddClose=function(n){return o(this,n,"modalHide")},n.fn.modalAddTrigger=function(n){return o(this,n,"modalShow")},n.fn.modalShow=function(t){return this.each(function(){n.modal.open(this._modal,t)})},n.fn.modalHide=function(t){return this.each(function(){n.modal.close(this._modal,t)})},n.modal={hash:{},open:function(u,f){var o=i[u],s=o.c,p="."+s.closeClass,w=parseInt(o.w.css("z-index")),w=w>0?w:3e3,c=n("<div></div>").css({height:"100%",width:"100%",position:"fixed",left:0,top:0,"z-index":w-1,opacity:s.overlay/100}),y;if(o.a)return t;o.t=f,o.a=!0,o.w.css("z-index",w),s.modal?(r[0]||e("bind"),r.push(u)):s.overlay>0?o.w.modalAddClose(c):c=t,o.o=c?c.addClass(s.overlayClass).prependTo("body"):t;if(h){n("html,body").css({height:"100%",width:"100%"});if(c){c=c.css({position:"absolute"})[0];for(y in{Top:1,Left:1})c.style.setExpression(y.toLowerCase(),"(_=(document.documentElement.scroll"+y+" || document.body.scroll"+y+"))+'px'")}}if(s.ajax){var v=s.target||o.w,a=s.ajax,v=typeof v=="string"?n(v,o.w):n(v),a=a.substr(0,1)=="@"?n(f).attr(a.substring(1)):a;v.html(s.ajaxText).load(a,function(){s.onLoad&&s.onLoad.call(this,o),p&&o.w.modalAddClose(n(p,o.w)),l(o)})}else p&&o.w.modalAddClose(n(p,o.w));return s.toTop&&o.o&&o.w.before('<span id="ektronModalP'+o.w[0]._modal+'"></span>').insertAfter(o.o),s.onShow?s.onShow(o):o.w.show(),l(o),t},close:function(u){var f=i[u];if(!f||!f.a)return t;f.a=t,r[0]&&(r.pop(),r[0]||e("unbind")),f.c.toTop&&f.o&&n("#ektronModalP"+f.w[0]._modal).after(f.w).remove();if(f.c.onHide)f.c.onHide(f);else f.w.hide(),f.o&&f.o.remove();return t},params:{}};var u=0,i=n.modal.hash,r=[],h=n.browser.msie&&n.browser.version=="6.0",t=!1,c=n('<iframe src="javascript:false;document.write(\'\');" class="ektronModalIframe"></iframe>').css({opacity:0}),l=function(t){h&&(t.o?t.o.html('<p style="width:100%;height:100%"/>').prepend(c):n("iframe.ektronModalIframe",t.w)[0]||t.w.prepend(c)),s(t)},s=function(t){try{n(":input:visible",t.w).eq(0).focus()}catch(i){}},e=function(t){n()[t]("keypress",f)[t]("keydown",f)[t]("mousedown",f)},f=function(t){var f=i[r[r.length-1]],u=!n(t.target).parents(".modalID"+f.s)[0];return u&&s(f),!u},o=function(r,u,f){return r.each(function(){var r=this._modal;n(u).each(function(){this[f]||(this[f]=[],n(this).click(function(){var n,r;for(n in{modalShow:1,modalHide:1})for(r in this[n])i[this[n][r]]&&i[this[n][r]].w[n](this);return t})),this[f].push(r)})})}})($ektron);var ektjq=$ektron,ektj$=$ektron,ektb_pathToImage="",ektb_refreshWindow="false";
/*!!!!!!!!!!!!!!!!! edit below this line at your own risk !!!!!!!!!!!!!!!!!!!!!!!*/
try{ektj$(document).ready(function(){ektb_init("a.ek_thickbox, area.ek_thickbox, input.ek_thickbox"),imgLoader=new Image,ektb_pathToImage&&ektb_pathToImage.length&&(imgLoader.src=ektb_pathToImage)})}catch(e){}(function(){function o(){try{return new XMLHttpRequest}catch(n){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(n){}try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(n){throw new ReferenceError("Your browser does not support AJAX!");}}function h(n){if($ektron.browser.safari)if(n.indexOf("document(")>=0)return!0;return n.indexOf("document('')")>=0||n.indexOf("xsl:include")>=0||n.indexOf("xsl:import")>=0}function v(n){return n.indexOf("ektron:extension-object")>=0}function i(n){return n?-1==n.indexOf("<")&&-1==n.indexOf("\n")&&/\w[\.\?\/]\w/.test(n):!1}function n(){}var e,s,r;Ektron.Xml=function(t){function ut(t,u){var y,v,w,p,c,l,h;try{if(typeof t!="string")return null;if(t.length<=2)return null;y=i(t);if(y&&a[t])return a[t];v=n.getDomDocument();if("string"==typeof v||null==v)throw new ReferenceError("Unable to create XML DOM Document");v.async=!1,h="";if(y)w=this.resolveSrcPath(t),typeof v.load!="undefined"?v.load(w):(p=o(),p.open("GET",w,!1),p.send(null),v=Ektron.Xml.parseXml(p.responseText,Ektron.OnException.returnException));else{c={},l=!1;while(!l)l=!0,v=Ektron.Xml.parseXml(t,Ektron.OnException.returnException),"string"==typeof v&&(h=v,$ektron.browser.msie?c.illegalChars==!0||h.indexOf("invalid character")<0&&h.indexOf("tags were not closed")<0?c.namespacePrefix==!0||h.indexOf("undeclared namespace prefix")<0?c.comments==!0||h.indexOf("Incorrect syntax was used in a comment")<0?c.entityNames==!0||h.indexOf("semi colon")<0&&h.indexOf("name was started with an invalid character")<0&&h.indexOf("undefined entity")<0||(t=f(t),c.entityNames=!0,l=!1):(t=e(t),c.comments=!0,l=!1):(t=s(t),c.namespacePrefix=!0,l=!1):(t=r(t),c.illegalChars=!0,l=!1):$ektron.browser.mozilla?c.wellFormed==!0||h.indexOf("not well-formed")<0&&h.indexOf("no element found")<0&&h.indexOf("undefined entity")<0?c.namespacePrefix==!0||h.indexOf("prefix not bound to a namespace")<0||(t=s(t),c.namespacePrefix=!0,l=!1):(t=r(t),t=e(t),t=f(t),c.wellFormed=!0,l=!1):$ektron.browser.safari?c.illegalChars==!0||h.indexOf("PCDATA invalid")<0&&h.indexOf("internal error")<0&&h.indexOf("out of allowed range")<0?c.namespacePrefix==!0||h.indexOf("Namespace prefix")<0?c.comments==!0||h.indexOf("double-hyphen")<0&&h.indexOf("Comment not terminated")<0?c.entityNames==!0||h.indexOf("EntityRef")<0&&(h.indexOf("Entity")<0||h.indexOf("not defined")<0)||(t=f(t),c.entityNames=!0,l=!1):(t=e(t),c.comments=!0,l=!1):(t=s(t),c.namespacePrefix=!0,l=!1):(t=r(t),c.illegalChars=!0,l=!1):$ektron.browser.opera&&c.allKnown!=!0&&(t=this.fixXml(t),c.allKnown=!0,l=!1),l&&c.missingRoot!=!0&&(t="<root>"+t+"</root>",c.missingRoot=!0,l=!1))}h="string"==typeof v?v:n.getParseErrorText(v);if(h!=n.PARSED_OK)throw new Error(h+"\n\nXML:\n"+t);return y&&(a[t]=v),v}catch(b){return Ektron.OnException(this,u,b,arguments)}}function it(t,r){var e,u,c,f,s;try{if(typeof t!="string")return null;if(t.length<=2)return null;e=i(t);if(e&&l[t])return l[t];u=n.getXsltDocument();if("string"==typeof u||null==u)throw new ReferenceError("Unable to create XSLT DOM Document");u.async=!1;if(e)c=this.resolveSrcPath(t),typeof u.load!="undefined"?u.load(c):(f=o(),f.open("GET",c,!1),f.send(null),u=Ektron.Xml.parseXml(f.responseText,Ektron.OnException.throwException));else{if(h(t))throw new RangeError("XSLT string documents cannot contain document(''), xsl:include, or xsl:import");typeof u.loadXML!="undefined"?u.loadXML(t):u=Ektron.Xml.parseXml(t,Ektron.OnException.throwException)}s="string"==typeof u?u:n.getParseErrorText(u);if(s!=n.PARSED_OK)throw new Error(s);return e&&(l[t]=u),u}catch(a){return Ektron.OnException(this,r,a,arguments)}}function w(t,r,f,e){var l,o,w,a,y,s,p,b;try{if("undefined"==typeof XSLTProcessor)return this.ajaxTransform(t,r,f);if(c&&i(r))return this.ajaxTransform(t,r,f);if(!i(r)&&(h(r)||v(r)))return this.ajaxTransform(t,r,f);l=this.loadXml(t);if("string"==typeof l)return l;if(null==l)throw new Error("Unable to load XML document");o=null,w=i(r);if(w&&u[r])o=u[r],o.clearParameters();else{a=this.loadXslt(r);if("string"==typeof a)return a;if(null==a)throw new Error("Unable to load XSLT document");o=new XSLTProcessor,o.importStylesheet(a),w&&(u[r]=o)}o.setParameter("","currentDate",Ektron.Xml.serializeDate(new Date));if(f)for(y=0;y<f.length;y++)o.setParameter("",f[y].name,f[y].value);s=null;if("html"==o.outputMethod){s=o.transformToFragment(l,window.document);if("string"==typeof s)return s;if(null==s.firstChild)return"";p=window.document.createElement("div"),p.appendChild(s.firstChild),result=p.innerHTML}else{b=n.getDomDocument(),s=o.transformToFragment(l,b);if("string"==typeof s)return s;result=Ektron.Xml.serializeXml(s)}return $ektron.browser.opera&&(result=result.replace(/^<result>/,"").replace(/<\/result>$/,"")),result=result.replace(/<transformiix:result[^>]*>/,"").replace("</transformiix:result>",""),result=result.replace(/xslout:/g,"xsl:"),result=result.replace(/<\?[^\?]*\?>/,""),result=result.replace(/xpathLiteralString(.*?)gnirtSlaretiLhtapx/g,function(n,t){return t.indexOf("'")<0?"'"+t+"'":"concat('"+t.replace(/\'/g,"',&quot;'&quot;,'")+"')"})}catch(k){return Ektron.OnException(this,e,k,arguments)}}function tt(n,t,r,u){var e,o,f;try{i(n)&&(n=this.resolveSrcPath(n)),e=[],o=[];if("string"==typeof t&&"string"==typeof r)e[0]=i(t)?this.resolveSrcPath(t):t,o[0]=r;else if("object"==typeof t&&"object"==typeof r&&t&&r&&t.length==r.length)for(f=0;f<t.length;f++)e[f]=i(t[f])?this.resolveSrcPath(t[f]):t[f],o[f]=r[f];else throw new TypeError("'xsd' and 'nsuri' must be strings (for single schema) or array (for multiple schemas)");return this.ajaxValidation(n,e,o)}catch(s){return Ektron.OnException(this,u,s,arguments)}}function g(n,t){try{return i(n)&&(n=this.resolveSrcPath(n)),this.ajaxValidation("",[n],["http://www.w3.org/2001/XMLSchema"])}catch(r){return Ektron.OnException(this,t,r,arguments)}}function y(n,t,r,u){var l,f,a,s,e,h;try{i(n)&&(n=this.resolveSrcPath(n)),i(t)&&(t=this.resolveSrcPath(t)),l="";if(r)for(f=0;f<r.length;f++)l+="&arg"+f+"="+encodeURIComponent(r[f].name+"="+r[f].value);a=c+"ekajaxtransform.aspx",s=o(),s.open("POST",a,!1),s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),s.send("xml="+encodeURIComponent(n)+"&xslt="+encodeURIComponent(t)+l),e=$ektron.trim(s.responseText);if(e.indexOf("ekAjaxTransformError")>-1){h=e.match(/<body[^>]*>([\w\W]*?)<\/body>/);if(h.length<2)throw new Error(e);else throw new Error(h[1]);}return e}catch(v){return Ektron.OnException(this,u,v,arguments)}}function p(n,t,i,r){var s,u,h,f,l,e;try{for(s="",u=0;u<t.length;u++)s+="&xsd"+u+"="+encodeURIComponent(t[u])+"&nsuri"+u+"="+encodeURIComponent(i[u]);return h=c+"ekajaxvalidation.aspx",f=o(),f.open("POST",h,!1),f.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),f.send("xml="+encodeURIComponent(n)+s),l=$ektron.trim(f.responseText),e=l.match(/<body><div>([\w\W\r\n]*)<\/div><\/body>/),msg=e&&e.length>=2?e[1]:"",0==msg.length?null:msg.split("\n\n\n")}catch(a){return Ektron.OnException(this,r,a,arguments)}}function rt(n){return n=n.replace(/.*(\[|%5B)srcpath(\]|%5D)\/?/i,k),n=n.replace(/.*(\[|%5B)eWebEditProPath(\]|%5D)\/?/i,k)}function nt(n,t){try{n=r(n),n=s(n),n=e(n),n=f(n)}catch(i){return Ektron.OnException(this,t,i,arguments)}return n}function d(n,t){try{var i="";n=n.replace(/(<\!\-\-[\w\W]*?\-\->)|(<\!\[CDATA\[[\w\W]*?\]\]>)|(<\/[^>]+>)|(<[^>]+\/>)|(<[^>]+><\/[^>]+>)|(<[^>]+>)|([^<]+)/g,function(n,t,r,u,f,e,o,s){var h;return t||r?n+"\n":u?(i.length>0&&(i=i.substring(0,i.length-2)),i+n+"\n"):s?(h=$ektron.trim(s),h.length>0&&(h=i+h+"\n"),h):(h=i+n+"\n",o&&(i+="  "),h)})}catch(r){return Ektron.OnException(this,t,r,arguments)}return n}function r(n){return n.replace(Ektron.RegExp.illegalXmlCharacters,"")}function s(n){function e(n,t){try{f[t]=!0}catch(i){}return n}var i="",f={},t,u,r;n.replace(/<(\w+):\w+/g,e),n.replace(/\s(\w+):\w+=(?=[^<>]*>)/g,e);for(t in f)t!="xml"&&t!="xmlns"&&(u=new RegExp("xmlns:"+t+"="),u.test(n)||(r=Ektron.Xml.namespaces[t]||"urn:unknown:"+t,i+=" xmlns:"+t+'="'+r+'"'));return i.length>0&&(n="<root"+i+">"+n+"</root>"),n}function e(n){return n=n.replace(/<\!--[\-]+/,"<!--"),n=n.replace(/--[\-]+>/,"-->"),n=n.replace(/(<\!--)([\w\W]*?)(-->)/g,function(n,t,i,r){return t+i.replace(/-{2,}/g,function(n){return n.replace(/-/g,"=")})+r})}function f(n){function t(n,t,i,r){return t+i.replace(/&/g,"ektTempAmp")+r}return n=n.replace(Ektron.RegExp.Entity.entityName,function(n,t){var i=Ektron.Xml.htmlEntity[t];return i?"&#"+i+";":n}),n=n.replace(/(<\!--)([\w\W]*?)(-->)/g,t),n=n.replace(/(<\!\[CDATA\[)([\w\W]*?)(\]\]>)/g,t),n=n.replace(/&(?!#|amp;|lt;|gt;|quot;|apos;)/g,"&amp;"),n=n.replace(/ektTempAmp/g,"&")}t=t||{};var ft=this,k=t.srcPath||"",c=t.ajaxPath||t.srcPath||"";this.onexception=t.onexception,this.loadXml=ut,this.loadXslt=it,this.xslTransform=w,this.validateXml=tt,this.validateXsd=g,this.ajaxTransform=y,this.ajaxValidation=p,this.resolveSrcPath=rt,this.fixXml=nt,this.indentXml=d,w.onexception=function(n,t){if(document.cookie&&document.cookie.indexOf("Xml_xslTransform.onexception=true")>-1){var i=Ektron.OnException.exceptionMessage(n);i=i.replace(/\&lt;br ?\/?\&gt;/gi,"\n"),$ektron.htmlDecode&&(i=$ektron.htmlDecode(i)),i="XSLT Transformation Error\n"+i+"\n",t&&t.length>0&&(i+="XML:\n"+t[0]+"\n"),t&&t.length>1&&(i+="XSLT:\n"+t[1]+"\n"),alert(i)}if(t&&t.length>0)return t[0]},y.onexception=Ektron.OnException.throwException,p.onexception=Ektron.OnException.throwException,Ektron.RegExp.illegalXmlCharacters=/[^\x09\x0A\x0D\x20-\uD7FF\uE000-\uFFFD]/g,Ektron.Xml.namespaces={asp:"http://schemas.microsoft.com/ASPNET/20",cms:"urn:Ektron.Cms.Controls",admin:"http://webns.net/mvcb/",atom:"http://www.w3.org/2005/Atom",content:"http://purl.org/rss/1.0/modules/content/",dc:"http://purl.org/dc/elements/1.1/",foaf:"http://xmlns.com/foaf/0.1/",opml:"http://www.opml.org/spec2",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",msxsl:"urn:schemas-microsoft-com:xslt",math:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",its:"http://www.w3.org/2005/11/its",htm:"http://www.w3.org/1999/xhtml",html:"http://www.w3.org/1999/xhtml",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xforms:"http://www.w3.org/2002/xforms",xs:"http://www.w3.org/2001/XMLSchema",xsd:"http://www.w3.org/2001/XMLSchema",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsl:"http://www.w3.org/1999/XSL/Transform"}},document.cookie&&document.cookie.indexOf("Ektron.Xml.onexception=true")>-1&&(Ektron.Xml.onexception=function(n){var i=Ektron.OnException.exceptionMessage(n);i=i.replace(/\&lt;br ?\/?\&gt;/gi,"\n"),$ektron.htmlDecode&&(i=$ektron.htmlDecode(i)),alert(i)}),Ektron.Xml.parseXml=function(t,i){try{e||(e=new DOMParser);var u=e.parseFromString(t,"text/xml"),r=n.getParseErrorText(u);if(Ektron.OnException.returnException==i&&r!=n.PARSED_OK)return r;if(t&&r!=n.PARSED_OK)throw new Error(r);return u}catch(f){return Ektron.OnException(this,i,f,arguments)}},Ektron.Xml.parseXml.onexception=Ektron.OnException.returnValue(null),e=null,Ektron.Xml.serializeXml=function(n){s||(s=new XMLSerializer);var t=s.serializeToString(n);return/^<\?xml version\=\"1\.0\"\?>/.test(t)&&(t=t.substring(21)),t=t.replace(/<([a-z1-6]+)([^>]*)\/>/g,function(n,t,i){var r=Ektron.Xml.htmlTagCount[t];return 2==r?"<"+t+i+"></"+t+">":1==r?"<"+t+$ektron.rtrim(i)+" />":n})},s=null,Ektron.Xml.htmlTagCount={a:2,abbr:2,acronym:2,address:2,applet:2,area:1,b:2,base:1,basefont:1,bdo:2,bgsound:2,big:2,blink:2,blockquote:2,body:2,br:1,button:2,caption:2,center:2,cite:2,code:2,col:1,colgroup:2,comment:2,dd:2,del:2,dfn:2,dir:2,div:2,dl:2,dt:2,em:2,embed:2,fieldset:2,font:2,form:2,frame:1,frameset:2,h1:2,h2:2,h3:2,h4:2,h5:2,h6:2,head:2,hr:1,html:2,i:2,iframe:2,img:1,input:1,ins:2,isindex:1,kbd:2,keygen:1,label:2,legend:2,li:2,link:1,listing:2,map:2,marquee:2,menu:2,meta:1,nobr:2,noembed:2,noframes:2,noscript:2,object:2,ol:2,optgroup:2,option:2,p:2,param:1,plaintext:2,pre:2,q:2,rb:2,rbc:2,rp:2,rt:2,rtc:2,ruby:2,s:2,samp:2,script:2,select:2,small:2,span:2,strike:2,strong:2,style:2,sub:2,sup:2,table:2,tbody:2,td:2,textarea:2,tfoot:2,th:2,thead:2,title:2,tr:2,tt:2,u:2,ul:2,"var":2,wbr:2,xml:2,xmp:2},Ektron.Xml.htmlEntity={nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,copy:169,ordf:170,laquo:171,not:172,shy:173,reg:174,macr:175,deg:176,plusmn:177,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,sup1:185,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,Agrave:192,Aacute:193,Acirc:194,Atilde:195,Auml:196,Aring:197,AElig:198,Ccedil:199,Egrave:200,Eacute:201,Ecirc:202,Euml:203,Igrave:204,Iacute:205,Icirc:206,Iuml:207,ETH:208,Ntilde:209,Ograve:210,Oacute:211,Ocirc:212,Otilde:213,Ouml:214,times:215,Oslash:216,Ugrave:217,Uacute:218,Ucirc:219,Uuml:220,Yacute:221,THORN:222,szlig:223,agrave:224,aacute:225,acirc:226,atilde:227,auml:228,aring:229,aelig:230,ccedil:231,egrave:232,eacute:233,ecirc:234,euml:235,igrave:236,iacute:237,icirc:238,iuml:239,eth:240,ntilde:241,ograve:242,oacute:243,ocirc:244,otilde:245,ouml:246,divide:247,oslash:248,ugrave:249,uacute:250,ucirc:251,uuml:252,yacute:253,thorn:254,yuml:255,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,circ:710,tilde:732,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,permil:8240,lsaquo:8249,rsaquo:8250,euro:8364,fnof:402,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,bull:8226,hellip:8230,prime:8242,Prime:8243,oline:8254,frasl:8260,weierp:8472,image:8465,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Ektron.RegExp.Entity.entityName=/&(\w+);/g,Ektron.Xml.serializeXhtml=function(n){function e(n){return new TypeError(Ektron.String.format("Error in Ektron.Xml.serializeXhtml: 'nodes' must be a Node or array of Node. 'nodes' is of type '{0}'.",typeof n))}function f(n){var r,u,w,p,y,e,b,c,a,v,i,l;if(n.uniqueID){if(o[n.uniqueID])return;o[n.uniqueID]=!0}switch(n.nodeType){case 1:if(n.tagName.charAt(0)=="/")return;r=s(n);if("!"==r){t.append(n.text);return}t.append("<"+r);if(document.all)if("img"==r){u=n.ownerDocument.createElement("IMG"),u.mergeAttributes(n);if(u.width)for(i=0;i<n.attributes.length;i++)if("width"==n.attributes[i].name){n.setAttribute("width",u.width);break}if(u.height)for(i=0;i<n.attributes.length;i++)if("height"==n.attributes[i].name){n.setAttribute("height",u.height);break}}else"area"==r&&(n.shape&&t.append(' shape="'+n.shape.toLowerCase()+'"'),n.coords&&t.append(' coords="'+n.getAttribute("coords")+'"'),n.href&&(w=n.href.replace("about:blank",""),t.append(' href="'+w+'"')),n.shape&&n.removeAttribute("shape",0),n.coords&&n.removeAttribute("coords",0),n.href&&n.removeAttribute("href",0));for(p=!1,y=!1,"input"==r&&"string"==typeof n.value&&n.setAttribute("value",n.value),"boolean"==typeof n.defaultChecked&&n.checked&&(n.setAttribute("checked",n.checked),t.append(' checked="checked"'),p=!0),"boolean"==typeof n.defaultSelected&&n.selected&&(n.setAttribute("selected",n.selected),t.append(' selected="selected"'),y=!0),e=n.attributes,b=e.length,i=0;i<b;i++){c=e[i].name.toLowerCase();if("img"==r&&"complete"==c)continue;if(p&&"checked"==c)continue;if(y&&"selected"==c)continue;h(e[i],n)}switch(r){case"script":t.append(">"),t.append(n.text),t.append("<\/script>");break;case"textarea":t.append(">"),t.append($ektron.htmlEncodeText(n.value)),t.append("</textarea>");break;case"title":case"style":case"comment":case"noscript":t.append(">"),t.append(n.innerHTML),t.append("</"+r+">");break;default:if(n.hasChildNodes()||2==Ektron.Xml.htmlTagCount[r]){for(t.append(">"),a=n.childNodes,v=a.length,i=0;i<v;i++)f(a[i]);0==v&&("p"==r||"td"==r)&&t.append("&#160;"),t.append("</"+r+">")}else t.append(" />")}break;case 3:t.append($ektron.htmlEncodeText(n.nodeValue));break;case 4:t.append("<![CDATA[\n"),t.append(n.nodeValue),t.append("\n]\]>");break;case 8:l=n.text,!n.text&&n.nodeValue&&(l="<!--"+n.nodeValue+"-->"),t.append(l),/(^<\?xml)|(^<\!DOCTYPE)/.test(l)&&t.append("\n")}}function h(n,i){var u=s(n),r;switch(u){case"selected":i.selected&&t.append(' selected="selected"');return;case"checked":i.checked&&t.append(' checked="checked"');return;case"disabled":i.disabled&&t.append(' disabled="disabled"');return;case"style":if(!n.specified)return;t.append(' style="'),t.append($ektron.htmlEncode(i.style.cssText)),t.append('"');return;case"name":if(i.tagName!="A"||!i.name)if(!n.specified)return;break;case"type":break;case"value":break;default:if(!n.specified)return;if(/^jquery\d+/i.test(u))return;if(/^\{/.test(u))return}r=n.nodeValue,r&&isNaN(r)||(r=i.getAttribute(n.nodeName));if(!r)return;t.append(" "+u+'="'),t.append($ektron.htmlEncode(r)),t.append('"')}function s(n){return n.scopeName&&n.scopeName!="HTML"?n.scopeName+":"+n.nodeName:n.expando?n.nodeName:n.nodeName.toLowerCase()}var o,t,i,r;if(!Ektron.String)throw new ReferenceError("Ektron.Xml.serializeXhtml depends on Ektron.String. Please include ektron.string.js.");if(!n)return"";o={},t=new Ektron.String,11==n.nodeType&&(n=n.childNodes);if(n.length<0||"undefined"!=typeof n.nodeType){if("undefined"==typeof n.nodeType)throw e(n);f(n)}else if(n.length>0){i=n[0];if("undefined"==typeof i)throw e(n);for(r=0;r<n.length;r++){i=n[r];if(i){if("undefined"==typeof i.nodeType)throw e(n);f(i)}}}return t.toString()},Ektron.Xml.isDate=function(n){return/^[0-9]{4}\-[0-9]{2}\-[0-9]{2}$/.test(n)},Ektron.Xml.parseDate=function(n,t){if(null==n||""==n)return null;try{if(!/^[0-9]{4}\-[0-9]{2}\-[0-9]{2}/.test(n))throw new RangeError("xmlDate must be in ISO-8601 format YYYY-MM-DD.");return new Date(n.substring(0,4),n.substring(5,7)-1,n.substring(8,10))}catch(i){return Ektron.OnException(this,t,i,arguments)}},Ektron.Xml.parseDate.onexception=Ektron.OnException.returnValue(null),Ektron.Xml.serializeDate=function(n){var r,t,i;return n instanceof Date?(r=n.getFullYear()+"",t=n.getMonth()+1+"",1==t.length&&(t="0"+t),i=n.getDate()+"",1==i.length&&(i="0"+i),r+"-"+t+"-"+i):""};var a=[],l=[],u=[];Ektron.Xml.UnitTest_cacheXslProc=u,Ektron.Xml.UnitTest_xsltMustBeUrl=h,n.VERSION="0.9.9.4-Ektron",n.PARSED_OK="Document contains no parsing errors",n.PARSED_EMPTY="Document is empty",n.PARSED_UNKNOWN_ERROR="Not well-formed or other error",n.IS_ENABLED_TRANSFORM_NODE=!1,n.REMOTE_CALL_FLAG="gr.abiss.sarissa.REMOTE_CALL_FLAG",n._lastUniqueSuffix=0,n._getUniqueSuffix=function(){return n._lastUniqueSuffix++},n._SARISSA_IEPREFIX4XSLPARAM="",n._SARISSA_HAS_DOM_IMPLEMENTATION=document.implementation&&!0,n._SARISSA_HAS_DOM_CREATE_DOCUMENT=n._SARISSA_HAS_DOM_IMPLEMENTATION&&document.implementation.createDocument,n._SARISSA_HAS_DOM_FEATURE=n._SARISSA_HAS_DOM_IMPLEMENTATION&&document.implementation.hasFeature,n._SARISSA_IS_MOZ=n._SARISSA_HAS_DOM_CREATE_DOCUMENT&&n._SARISSA_HAS_DOM_FEATURE,n._SARISSA_IS_SAFARI=navigator.userAgent.toLowerCase().indexOf("safari")!=-1||navigator.userAgent.toLowerCase().indexOf("konqueror")!=-1,n._SARISSA_IS_SAFARI_OLD=n._SARISSA_IS_SAFARI&&parseInt((navigator.userAgent.match(/AppleWebKit\/(\d+)/)||{})[1],10)<420,n._SARISSA_IS_IE=document.all&&window.ActiveXObject&&navigator.userAgent.toLowerCase().indexOf("msie")>-1&&navigator.userAgent.toLowerCase().indexOf("opera")==-1,n._SARISSA_IS_OPERA=navigator.userAgent.toLowerCase().indexOf("opera")!=-1,window.Node&&Node.ELEMENT_NODE||(Node={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12}),n._SARISSA_IS_SAFARI_OLD&&(HTMLHtmlElement=document.createElement("html").constructor,Node=HTMLElement={},HTMLElement.prototype=HTMLHtmlElement.__proto__.__proto__,HTMLDocument=Document=document.constructor,r=new DOMParser,XMLDocument=r.constructor,Element=r.parseFromString("<Single />","text/xml").documentElement.constructor,r=null),typeof XMLDocument=="undefined"&&typeof Document!="undefined"&&(XMLDocument=Document);if(n._SARISSA_IS_IE){n._SARISSA_IEPREFIX4XSLPARAM="xsl:";var t="",f="",c="";n.pickRecentProgID=function(n){for(var i=!1,u,r,f,t=0;t<n.length&&!i;t++)try{f=new ActiveXObject(n[t]),r=n[t],i=!0}catch(e){u=e}if(!i)throw"Could not retrieve a valid progID of Class: "+n[n.length-1]+". (original exception: "+u+")";return n=null,r},t=null,_SARISSA_THREADEDDOM_PROGID=null,_SARISSA_XSLTEMPLATE_PROGID=null,f=null,XMLHttpRequest=function(){return f||(f=n.pickRecentProgID(["MSXML2.XMLHTTP","Microsoft.XMLHTTP"])),new ActiveXObject(f)},n.getDomDocument=function(i,r){var f,u;return t||(t=n.pickRecentProgID(["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.3.0","MSXML2.DOMDocument","MSXML.DOMDocument","Microsoft.XMLDOM"])),f=new ActiveXObject(t),f.resolveExternals=!0,r&&(u="",i&&(r.indexOf(":")>1?(u=r.substring(0,r.indexOf(":")),r=r.substring(r.indexOf(":")+1)):u="a"+n._getUniqueSuffix()),i?f.loadXML("<"+u+":"+r+" xmlns:"+u+'="'+i+'" />'):f.loadXML("<"+r+" />")),f},n.getXsltDocument=function(t,i){var r,u;return _SARISSA_THREADEDDOM_PROGID||(_SARISSA_THREADEDDOM_PROGID=n.pickRecentProgID(["MSXML2.FreeThreadedDOMDocument.6.0","MSXML2.FreeThreadedDOMDocument.4.0","MSXML2.FreeThreadedDOMDocument.5.0","MSXML2.FreeThreadedDOMDocument.3.0"])),r=new ActiveXObject(_SARISSA_THREADEDDOM_PROGID),n.setXpathNamespaces(r,"xmlns:xsl='http://www.w3.org/1999/XSL/Transform'"),r.resolveExternals=!0,"MSXML2.FreeThreadedDOMDocument.6.0"==_SARISSA_THREADEDDOM_PROGID&&(r.setProperty("AllowDocumentFunction",!0),r.setProperty("AllowXsltScript",!0),r.setProperty("ProhibitDTD",!1)),i&&(u="",t&&(i.indexOf(":")>1?(u=i.substring(0,i.indexOf(":")),i=i.substring(i.indexOf(":")+1)):u="a"+n._getUniqueSuffix()),t?r.loadXML("<"+u+":"+i+" xmlns:"+u+'="'+t+'" />'):r.loadXML("<"+i+" />")),r},n.getParseErrorText=function(t){var i=n.PARSED_OK,r;if(t&&t.parseError&&t.parseError.errorCode&&t.parseError.errorCode!=0){for(i="XML Parsing Error: "+t.parseError.reason+"\nLocation: "+t.parseError.url+"\nLine Number "+t.parseError.line+", Column "+t.parseError.linepos+":\n"+t.parseError.srcText+"\n",r=0;r<t.parseError.linepos;r++)i+="-";i+="^\n"}else t.documentElement===null&&(i=n.PARSED_EMPTY);return i},n.setXpathNamespaces=function(n,t){n.setProperty("SelectionLanguage","XPath"),n.setProperty("SelectionNamespaces",t)},XSLTProcessor=function(){_SARISSA_XSLTEMPLATE_PROGID||(_SARISSA_XSLTEMPLATE_PROGID=n.pickRecentProgID(["Msxml2.XSLTemplate.6.0","MSXML2.XSLTemplate.3.0"])),this.template=new ActiveXObject(_SARISSA_XSLTEMPLATE_PROGID),this.processor=null},XSLTProcessor.prototype.importStylesheet=function(n){n.setProperty("SelectionLanguage","XPath"),n.setProperty("SelectionNamespaces","xmlns:xsl='http://www.w3.org/1999/XSL/Transform'");var i=n,t=i.selectSingleNode("//xsl:output");t?this.outputMethod=t.getAttribute("method"):delete this.outputMethod,this.template.stylesheet=i,this.processor=this.template.createProcessor(),this.paramsSet=[]},XSLTProcessor.prototype.transformToDocument=function(i){var r,u;return t||(t=n.pickRecentProgID(["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.3.0","MSXML2.DOMDocument","MSXML.DOMDocument","Microsoft.XMLDOM"])),_SARISSA_THREADEDDOM_PROGID?(this.processor.input=i,r=new ActiveXObject(t),this.processor.output=r,this.processor.transform(),r):(c||(c=n.pickRecentProgID(["Msxml2.MXXMLWriter.6.0","Msxml2.MXXMLWriter.3.0","MSXML2.MXXMLWriter","MSXML.MXXMLWriter","Microsoft.XMLDOM"])),this.processor.input=i,r=new ActiveXObject(c),this.processor.output=r,this.processor.transform(),u=new ActiveXObject(t),u.loadXML(r.output+""),u)},XSLTProcessor.prototype.transformToFragment=function(i,r){var u,e,f,o,s;t||(t=n.pickRecentProgID(["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.3.0","MSXML2.DOMDocument","MSXML.DOMDocument","Microsoft.XMLDOM"])),this.processor.input=i,this.processor.transform(),u=this.processor.output,e=r.createDocumentFragment();if(this.outputMethod=="text")e.appendChild(r.createTextNode(u));else if(r.body&&r.body.innerHTML){f=r.createElement("div"),f.innerHTML=u;while(f.hasChildNodes())e.appendChild(f.firstChild)}else{o=new ActiveXObject(t),u.substring(0,5)=="<?xml"&&(u=u.substring(u.indexOf("?>")+2)),s="".concat("<my>",u,"</my>"),o.loadXML(s),f=o.documentElement;while(f.hasChildNodes())e.appendChild(f.firstChild)}return e},XSLTProcessor.prototype.setParameter=function(n,t,i){i=i?i:"",n?this.processor.addParameter(t,i,n):this.processor.addParameter(t,i),n=""+(n||""),this.paramsSet[n]||(this.paramsSet[n]=[]),this.paramsSet[n][t]=i},XSLTProcessor.prototype.getParameter=function(n,t){return n=""+(n||""),this.paramsSet[n]&&this.paramsSet[n][t]?this.paramsSet[n][t]:null},XSLTProcessor.prototype.clearParameters=function(){var n,t;for(n in this.paramsSet)for(t in this.paramsSet[n])n!=""?this.processor.addParameter(t,"",n):this.processor.addParameter(t,"");this.paramsSet=[]}}else n._SARISSA_HAS_DOM_CREATE_DOCUMENT&&(n.__handleLoad__=function(t){n.__setReadyState__(t,4)},_sarissa_XMLDocument_onload=function(){n.__handleLoad__(this)},n.__setReadyState__=function(n,t){n.readyState=t,n.readystate=t,n.onreadystatechange!=null&&typeof n.onreadystatechange=="function"&&n.onreadystatechange()},n.getDomDocument=function(n,t){var i=document.implementation.createDocument(n?n:null,t?t:null,null);return i.onreadystatechange||(i.onreadystatechange=null),i.readyState||(i.readyState=0),i.addEventListener("load",_sarissa_XMLDocument_onload,!1),i},n.getXsltDocument=n.getDomDocument,window.XMLDocument||(n._SARISSA_HAS_DOM_FEATURE&&window.Document&&!Document.prototype.load&&document.implementation.hasFeature("LS","3.0")?n.getDomDocument=function(n,t){return document.implementation.createDocument(n?n:null,t?t:null,null)}:(n.getDomDocument=function(n,t){var i=document.implementation.createDocument(n?n:null,t?t:null,null);return i&&(n||t)&&!i.documentElement&&i.appendChild(i.createElementNS(n,t)),i},n.getXsltDocument=n.getDomDocument)));window.DOMParser||(n._SARISSA_IS_SAFARI?(DOMParser=function(){},DOMParser.prototype.parseFromString=function(n){var i=new XMLHttpRequest;return i.open("GET","data:text/xml;charset=utf-8,"+encodeURIComponent(n),!1),i.send(null),i.responseXML}):n.getDomDocument&&n.getDomDocument()&&n.getDomDocument(null,"bar").xml&&(DOMParser=function(){},DOMParser.prototype.parseFromString=function(t){var r=n.getDomDocument();return r.loadXML(t),r}));if(typeof document.importNode=="undefined"&&n._SARISSA_IS_IE)try{document.importNode=function(n,t){var i;return n.nodeName=="#text"?document.createTextNode(n.data):(i=n.nodeName=="tbody"||n.nodeName=="tr"?document.createElement("table"):n.nodeName=="td"?document.createElement("tr"):n.nodeName=="option"?document.createElement("select"):document.createElement("div"),i.innerHTML=t?n.xml?n.xml:n.outerHTML:n.xml?n.cloneNode(!1).xml:n.cloneNode(!1).outerHTML,i.getElementsByTagName("*")[0])}}catch(y){}n.getParseErrorText||(n.getParseErrorText=function(t){var i=n.PARSED_OK,r;return t&&t.documentElement?t.documentElement.tagName=="parsererror"?(i=t.documentElement.firstChild.data,i+="\n"+t.documentElement.firstChild.nextSibling.firstChild.data):t.getElementsByTagName("parsererror").length>0?(r=t.getElementsByTagName("parsererror")[0],i=n.getText(r,!0)+"\n"):t.parseError&&t.parseError.errorCode!=0&&(i=n.PARSED_UNKNOWN_ERROR):i=n.PARSED_EMPTY,i}),n.getText=function(t,i){for(var e="",o=t.childNodes,u,r,f=0;f<o.length;f++)u=o[f],r=u.nodeType,r==Node.TEXT_NODE||r==Node.CDATA_SECTION_NODE?e+=u.data:i===!0&&(r==Node.ELEMENT_NODE||r==Node.DOCUMENT_NODE||r==Node.DOCUMENT_FRAGMENT_NODE)&&(e+=n.getText(u,!0));return e},!window.XMLSerializer&&n.getDomDocument&&n.getDomDocument("","foo",null).xml&&(XMLSerializer=function(){},XMLSerializer.prototype.serializeToString=function(n){return n.xml}),n.stripTags=function(n){return n?n.replace(/<[^>]+>/g,""):n},n.clearChildNodes=function(n){while(n.firstChild)n.removeChild(n.firstChild)},n.copyChildNodes=function(t,i,r){n._SARISSA_IS_SAFARI&&i.nodeType==Node.DOCUMENT_NODE&&(i=i.documentElement);if(!t||!i)throw"Both source and destination nodes must be provided";r||n.clearChildNodes(i);var e=i.nodeType==Node.DOCUMENT_NODE?i:i.ownerDocument,f=t.childNodes,u;if(typeof e.importNode!="undefined")for(u=0;u<f.length;u++)i.appendChild(e.importNode(f[u],!0));else for(u=0;u<f.length;u++)i.appendChild(f[u].cloneNode(!0))},n.moveChildNodes=function(t,i,r){var f,e,u;if(!t||!i)throw"Both source and destination nodes must be provided";r||n.clearChildNodes(i),f=t.childNodes;if(t.ownerDocument==i.ownerDocument)while(t.firstChild)i.appendChild(t.firstChild);else{e=i.nodeType==Node.DOCUMENT_NODE?i:i.ownerDocument;if(typeof e.importNode!="undefined")for(u=0;u<f.length;u++)i.appendChild(e.importNode(f[u],!0));else for(u=0;u<f.length;u++)i.appendChild(f[u].cloneNode(!0));n.clearChildNodes(t)}},n.xmlize=function(t,i,r){var u,e,o,f;r=r?r:"",u=r+"<"+i+">",e=!1;if(!(t instanceof Object)||t instanceof Number||t instanceof String||t instanceof Boolean||t instanceof Date)u+=n.escape(""+t),e=!0;else{u+="\n",o=t instanceof Array;for(f in t)u+=n.xmlize(t[f],o?'array-item key="'+f+'"':f,r+"   ");u+=r}return u+=i.indexOf(" ")!=-1?"</array-item>\n":"</"+i+">\n"},n.escape=function(n){return n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")},n.unescape=function(n){return n.replace(/&apos;/g,"'").replace(/&quot;/g,'"').replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&amp;/g,"&")},n._SARISSA_HAS_DOM_FEATURE&&document.implementation.hasFeature("XPath","3.0")&&(SarissaNodeList=function(n){this.length=n},SarissaNodeList.prototype=[],SarissaNodeList.prototype.constructor=Array,SarissaNodeList.prototype.item=function(n){return n<0||n>=this.length?null:this[n]},SarissaNodeList.prototype.expr="",window.XMLDocument&&!XMLDocument.prototype.setProperty&&(XMLDocument.prototype.setProperty=function(){}),n.setXpathNamespaces=function(n,t){var e,r,s,o;for(n._sarissa_useCustomResolver=!0,e=t.indexOf(" ")>-1?t.split(" "):[t],n._sarissa_xpathNamespaces=[],r=0;r<e.length;r++){var i=e[r],f=i.indexOf(":"),u=i.indexOf("=");if(f>0&&u>f+1)s=i.substring(f+1,u),o=i.substring(u+2,i.length-1),n._sarissa_xpathNamespaces[s]=o;else throw"Bad format on namespace declaration(s) given";}},XMLDocument.prototype._sarissa_useCustomResolver=!1,XMLDocument.prototype._sarissa_xpathNamespaces=[],XMLDocument.prototype.selectNodes=function(n,t,i){var s=this,f,e,o,r,u;f=this._sarissa_useCustomResolver?function(n){var t=s._sarissa_xpathNamespaces[n];if(t)return t;throw"No namespace URI found for prefix: '"+n+"'";}:this.createNSResolver(this.documentElement),e=null;if(i)e=this.evaluate(n,t?t:this,f,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue;else{for(o=this.evaluate(n,t?t:this,f,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null),r=new SarissaNodeList(o.snapshotLength),r.expr=n,u=0;u<r.length;u++)r[u]=o.snapshotItem(u);e=r}return e},Element.prototype.selectNodes=function(n){var t=this.ownerDocument;if(t.selectNodes)return t.selectNodes(n,this);throw"Method selectNodes is only supported by XML Elements";},XMLDocument.prototype.selectSingleNode=function(n,t){var i=t?t:null;return this.selectNodes(n,i,!0)},Element.prototype.selectSingleNode=function(n){var t=this.ownerDocument;if(t.selectSingleNode)return t.selectSingleNode(n,this);throw"Method selectNodes is only supported by XML Elements";},n.IS_ENABLED_SELECT_NODES=!0),Ektron.Xml.UnitTest_Sarissa=n})(),Ektron.ready(function(){"undefined"==typeof Ektron.PageBuilder&&(Ektron.PageBuilder={}),"undefined"==typeof Ektron.PageBuilder.Wizards&&(Ektron.PageBuilder.Wizards={mode:"add",language:1033,currentStep:1,finishClicked:!1,centerModal:function(n){$ektron(n).css("margin-top",-1*Math.round($ektron(n).outerHeight()/2))},checkAliasName:function(n){var t=!1;return params={aliasName:"",extension:".aspx",language:1033,folderid:0},$ektron.extend(params,n),$ektron.ajax({url:Ektron.ResourceText.PageBuilder.Wizards.appPath+"urlaliasdialoghandler.ashx?action=checkaliasname&aliasname="+params.aliasName+"&fileextension="+params.extension+"&langtype="+params.language+"&folderid="+params.folderid,cache:!1,async:!1,success:function(n){return n.indexOf("<aliasname>")!=-1?(t=!0,!0):(t=n,!1)}}),t},init:function(){Ektron.PageBuilder.Wizards.Markup.init(),Ektron.PageBuilder.Wizards.Buttons.init(),Ektron.PageBuilder.Wizards.Modals.init()},parseAliasExtension:function(n){var t="/";return n=n.substring(n.lastIndexOf("/")+1),n.indexOf("?")!==-1&&(n=n.substring(0,n.indexOf("?"))),n.lastIndexOf(".")>-1&&(t=n.substring(n.lastIndexOf(".")+1)),t.length===0&&(t="/"),t},redirectIframe:function(n,t){var i=$ektron(n);$ektron(n).attr("src",t)},redirectPage:function(){var t=$ektron(".ektronPageBuilderWizard iframe.ektronPageBuilderAddPageIframe"),n=t.contents().find(".redirectMessage input[type='hidden']").val();return location.href.toLowerCase().indexOf(Ektron.ResourceText.PageBuilder.Wizards.appPath.toLowerCase())!=-1?($ektron(this).parents().filter(".ektronPageBuilderWizard").modalHide(),window.open(n,"_blank"),location.href=location.href):window.location=n,!1},showAddMasterPage:function(n){var t;Ektron.PageBuilder.Wizards.currentStep=1,Ektron.PageBuilder.Wizards.finishClicked=!1;var r=$ektron(".ektronPageBuilderWizard .ektronModalHeader h3 span.addPageTitle"),t=$ektron(".ektronPageBuilderWizard iframe.ektronPageBuilderAddPageIframe"),i=$ektron(".ektronPageBuilderWizard .ektronPageBuilderWizardButtons");return $ektron(".ektronPageBuilderWizard").addClass("MasterLayoutWizard"),i.find(".button").hide(),i.find(".nextButton").show(),i.find(".cancelButton").show(),params={mode:"add",language:"",folderId:"",pageid:"",defaulttaxid:"-1",animateRedirect:!1,isChangeFolder:!1},$ektron.extend(params,n),Ektron.PageBuilder.Wizards.Status.loading(),params.animateRedirect?(t=$ektron(".ektronPageBuilderWizard iframe.ektronPageBuilderAddPageIframe"),t.fadeTo(500,.01,function(){Ektron.PageBuilder.Wizards.redirectIframe(".ektronPageBuilderWizard iframe.ektronPageBuilderAddPageIframe",Ektron.ResourceText.PageBuilder.Wizards.path+"addmasterpage.aspx?folderid="+params.folderId+"&language="+params.language+"&LangType="+params.language+"&mode="+params.mode+"&pageid="+params.pageid)})):Ektron.PageBuilder.Wizards.redirectIframe(".ektronPageBuilderWizard iframe.ektronPageBuilderAddPageIframe",Ektron.ResourceText.PageBuilder.Wizards.path+"addmasterpage.aspx?folderid="+params.folderId+"&language="+params.language+"&LangType="+params.language+"&mode="+params.mode+"&pageid="+params.pageid),Ektron.PageBuilder.Wizards.language=params.language,params.mode=="add"?(Ektron.PageBuilder.Wizards.mode="add",r.html("Add Master Layout"),t.css("height","30.5em")):(Ektron.PageBuilder.Wizards.mode="saveAs",r.html(Ektron.ResourceText.PageBuilder.Wizards.savePageAs),Ektron.PageBuilder.Wizards.currentStep++),params.isChangeFolder||(Ektron.PageBuilder.Wizards.centerModal(".ektronPageBuilderAddPage"),$ektron(".ektronPageBuilderWizard").modalShow()),!1},showAddPage:function(n){var t;Ektron.PageBuilder.Wizards.currentStep=1,Ektron.PageBuilder.Wizards.finishClicked=!1;var r=$ektron(".ektronPageBuilderWizard .ektronModalHeader h3 span.addPageTitle"),t=$ektron(".ektronPageBuilderWizard iframe.ektronPageBuilderAddPageIframe"),i=$ektron(".ektronPageBuilderWizard .ektronPageBuilderWizardButtons");return $ektron(".ektronPageBuilderWizard").removeClass("MasterLayoutWizard"),i.find(".button").hide(),i.find(".nextButton").show(),i.find(".cancelButton").show(),params={mode:"add",language:"",folderId:"",pageid:"",defaulttaxid:"-1",animateRedirect:!1,isChangeFolder:!1},$ektron.extend(params,n),Ektron.PageBuilder.Wizards.Status.loading(),params.animateRedirect?(t=$ektron(".ektronPageBuilderWizard iframe.ektronPageBuilderAddPageIframe"),t.fadeTo(500,.01,function(){Ektron.PageBuilder.Wizards.redirectIframe(".ektronPageBuilderWizard iframe.ektronPageBuilderAddPageIframe",Ektron.ResourceText.PageBuilder.Wizards.path+"addpage.aspx?folderid="+params.folderId+"&language="+params.language+"&LangType="+params.language+"&mode="+params.mode+"&pageid="+params.pageid+"&taxonomyid="+params.defaulttaxid)})):Ektron.PageBuilder.Wizards.redirectIframe(".ektronPageBuilderWizard iframe.ektronPageBuilderAddPageIframe",Ektron.ResourceText.PageBuilder.Wizards.path+"addpage.aspx?folderid="+params.folderId+"&language="+params.language+"&LangType="+params.language+"&mode="+params.mode+"&pageid="+params.pageid+"&taxonomyid="+params.defaulttaxid),Ektron.PageBuilder.Wizards.language=params.language,params.mode=="add"?(Ektron.PageBuilder.Wizards.mode="add",r.html(Ektron.ResourceText.PageBuilder.Wizards.addPage),t.css("height","30.5em")):(Ektron.PageBuilder.Wizards.mode="saveAs",r.html(Ektron.ResourceText.PageBuilder.Wizards.savePageAs),Ektron.PageBuilder.Wizards.currentStep++),params.isChangeFolder||(Ektron.PageBuilder.Wizards.centerModal(".ektronPageBuilderAddPage"),$ektron(".ektronPageBuilderWizard").modalShow()),!1},stepNext:function(n){var p=$ektron(".ektronPageBuilderWizard"),l,c,r,e,a,h,o,v,s,t,i;if(Ektron.PageBuilder.Wizards.currentStep==1){l=$ektron(".ektronPageBuilderIframe"),c=l.contents().find("div.ektronPageBuilderPageLayoutsFolderSelector > div");if(c.length>0){r=c.find(".ui-finder-list-item-active");if(r.length>0){for(e="",a=0,r.length>2&&(a=r.length-2,e+="..."),o=a;o<r.length;o++)h=$ektron(r[o]).children("a"),e+="/"+h.text();e+="/";if($ektron(r[r.length-1]).hasClass("hasWireframe")){v=confirm("You have not confirmed changing folders to "+e+". Would you like to do so now?");if(v){var y=!1,u={mode:"add",language:"",folderId:"",pageid:"",defaulttaxid:"-1",animateRedirect:!1,isChangeFolder:!0},f=l.attr("src");for(f.toLowerCase().indexOf("addmasterpage.aspx")>-1&&(y=!0),f=f.split("?")[1],f=f.split("&"),s=0;s<f.length;s++)t=f[s].split("="),t[0]=t[0].toLowerCase(),t[0]=="folderid"?u.folderId=t[1]:t[0]=="language"?u.language=t[1]:t[0]=="mode"?u.mode=t[1]:t[0]=="pageid"?u.pageid=t[1]:t[0]=="taxonomyid"&&(u.defaulttaxid=t[1]);u.folderId=h.attr("href").split("=")[1],y?Ektron.PageBuilder.Wizards.showAddMasterPage(u):Ektron.PageBuilder.Wizards.showAddPage(u)}return!1}return alert("The folder you have selected ("+e+") does not have any wireframes associated with it, and cannot be used for pagebuilder content."),!1}}}return p.hasClass("MasterLayoutWizard")?(i=!0,Ektron.PageBuilder.Wizards.currentStep++,Ektron.PageBuilder.Wizards.currentStep==1?i=Ektron.PageBuilder.Wizards.stepOne(n):Ektron.PageBuilder.Wizards.currentStep==2&&(i=Ektron.PageBuilder.Wizards.stepThree(n)),i||Ektron.PageBuilder.Wizards.currentStep--,!1):(i=!0,Ektron.PageBuilder.Wizards.currentStep++,Ektron.PageBuilder.Wizards.currentStep==1?i=Ektron.PageBuilder.Wizards.stepOne(n):Ektron.PageBuilder.Wizards.currentStep==2?i=Ektron.PageBuilder.Wizards.stepTwo(n):Ektron.PageBuilder.Wizards.currentStep==3&&(i=Ektron.PageBuilder.Wizards.stepThree(n)),i||Ektron.PageBuilder.Wizards.currentStep--,!1)},stepBack:function(n){var i=$ektron(".ektronPageBuilderWizard"),t;return i.hasClass("MasterLayoutWizard")?(t=!0,Ektron.PageBuilder.Wizards.currentStep--,Ektron.PageBuilder.Wizards.currentStep==1?t=Ektron.PageBuilder.Wizards.stepOne(n):Ektron.PageBuilder.Wizards.currentStep==2&&(t=Ektron.PageBuilder.Wizards.stepThree(n)),t||Ektron.PageBuilder.Wizards.currentStep++,!1):(t=!0,Ektron.PageBuilder.Wizards.currentStep--,Ektron.PageBuilder.Wizards.currentStep==1?t=Ektron.PageBuilder.Wizards.stepOne(n):Ektron.PageBuilder.Wizards.currentStep==2?t=Ektron.PageBuilder.Wizards.stepTwo(n):Ektron.PageBuilder.Wizards.currentStep==3&&(t=Ektron.PageBuilder.Wizards.stepThree(n)),t||Ektron.PageBuilder.Wizards.currentStep++,!1)},stepOne:function(n){n=$ektron(n);var i=n.parent().parent().parent().parent(),t=$ektron(".ektronPageBuilderIframe"),h=i.find(".messages"),s=n.parent().parent().find(".finishButton"),l=n.parent().parent().find(".nextButton"),c=n.parent().parent().find(".cancelButton"),o=n.parent().parent().find(".backButton"),u=n.parent().parent().find(".okButton"),r=$ektron(t).contents().find("#step1"),e=$ektron(t).contents().find("#step2"),f=$ektron(t).contents().find("#step3");return i.fadeOut(200),window.setTimeout(function(){s.hide(),l.show(),c.show(),o.hide(),u.hide(),h.empty(),e.hide(),f.hide(),Ektron.PageBuilder.Wizards.mode=="saveAs"&&t.css("height","6em"),r.find(".messages").empty(),r.css("display","block"),Ektron.PageBuilder.Wizards.centerModal(".ektronPageBuilderAddPage"),i.fadeIn("slow")},200),!0},stepTwo:function(n){if(Ektron.PageBuilder.Wizards.verifyTemplateInfo()===!1)return!1;n=$ektron(n);var r=n.parent().parent().parent().parent(),t=$ektron(".ektronPageBuilderIframe"),h=n.parent().parent().find(".finishButton"),s=n.parent().parent().find(".nextButton"),l=n.parent().parent().find(".cancelButton"),i=n.parent().parent().find(".backButton"),c=n.parent().parent().find(".okButton"),u=$ektron(".ektronPageBuilderAddPage .messages"),f=$ektron(t).contents().find("#step1"),o=$ektron(t).contents().find("#step2"),e=$ektron(t).contents().find("#step3");return r.fadeOut(200),window.setTimeout(function(){h.hide(),s.show(),l.show(),Ektron.PageBuilder.Wizards.mode!=="saveAs"?i.show():i.hide(),c.hide(),f.hide(),e.hide(),t.css("height","30.5em"),u.empty(),o.css("display","block"),Ektron.PageBuilder.Wizards.centerModal(".ektronPageBuilderAddPage"),r.fadeIn("slow")},200),!0},stepThree:function(n){var f=$ektron(".ektronPageBuilderWizard"),h,u;if(f.hasClass("MasterLayoutWizard")){if(Ektron.PageBuilder.Wizards.verifyTemplateInfo()===!1)return!1}else if(Ektron.PageBuilder.Wizards.verifyTaxonomy()===!1)return!1;var t=$ektron(".ektronPageBuilderIframe"),s=t.contents().find(".pageBuilderWizardPageTitle").val(),i=$ektron(".ektronPageBuilderAddPage .messages");if($ektron.trim(s).length==0)return Ektron.PageBuilder.Wizards.updateMessage(i,Ektron.ResourceText.PageBuilder.Wizards.errorPageTitle),!1;if($ektron.trim(s).length>200)return Ektron.PageBuilder.Wizards.updateMessage(i,"Title is too long. Please enter a title less than 200 characters."),!1;if(!f.hasClass("MasterLayoutWizard")){h=t.contents().find(".createManualAlias input:checked");if(h.length>0){var r=$ektron.trim(t.contents().find(".pageBuilderWizardAlias").val()),o=$ektron.trim(t.contents().find(".manualContainer select").val()),b=$ektron.trim(t.contents().find(".manualContainer .Folid input").val()),w=new RegExp(o+"$","g");r=r.replace(w,"");if(r.length==0)return Ektron.PageBuilder.Wizards.updateMessage(i,Ektron.ResourceText.PageBuilder.Wizards.errorUrlAlias),!1;u=Ektron.PageBuilder.Wizards.checkAliasName({aliasName:r,extension:o,language:Ektron.PageBuilder.Wizards.language,folderid:b});if(u!==!0)return Ektron.PageBuilder.Wizards.updateMessage(i,u),!1}}n=$ektron(n);var e=n.parent().parent().parent().parent(),t=$ektron(".ektronPageBuilderIframe"),nt=n.parent().parent().find(".backButton, .finishButton"),k=n.parent().parent().find(".finishButton"),g=n.parent().parent().find(".nextButton"),d=n.parent().parent().find(".cancelButton"),a=n.parent().parent().find(".backButton"),l=n.parent().parent().find(".okButton"),c=$ektron(".ektronPageBuilderAddPage .messages"),p=$ektron(t).contents().find("#step1"),v=$ektron(t).contents().find("#step2"),y=$ektron(t).contents().find("#step3");return e.fadeOut(200),window.setTimeout(function(){k.show(),a.show(),g.hide(),d.show(),l.hide(),p.hide(),v.hide(),t.css("height","30.5em"),c.empty(),y.css("display","block"),Ektron.PageBuilder.Wizards.centerModal(".ektronPageBuilderAddPage"),e.fadeIn("slow")},200),!0},updateMessage:function(n,t,i){return t=t.replace(Ektron.RegExp.PageBuilderURL,' <span class="EkForceWrap">$2</span>'),t=t.replace(Ektron.RegExp.PageBuilderObjectName,function(n){return n.replace(".",'<span class="EkForceWrap">.</span>')}),typeof i=="undefined"&&(i="error"),n.length!=1?!1:(n.empty(),n.html('<span class="'+i+'">'+t+"</span>").fadeIn("slow"),Ektron.PageBuilder.Wizards.centerModal(".ektronPageBuilderAddPage"),!0)},verifyTemplateInfo:function(){var t=!0,n=$ektron(".ektronPageBuilderAddPage .ektronPageBuilderIframe"),u=n.contents().find("body").outerHeight(),o=n.contents().find(".pageBuilderWizardPageTitle").val(),f=n.contents().find(".pageBuilderWizardAlias"),s=n.contents().find("#ExtensionDropdown").val(),e=n.contents().find("#ExtensionDropdown > option"),r=n.contents().find("#ektronSelectedTemplate").val(),i=$ektron(".ektronPageBuilderAddPage .messages");if(Ektron.PageBuilder.Wizards.mode==="add")if($ektron.trim(r).length==0)return Ektron.PageBuilder.Wizards.updateMessage(i,Ektron.ResourceText.PageBuilder.Wizards.errorSelectLayout),t=!1;return t},verifyMetadataInfo:function(){var u=!0,r=$ektron(".ektronPageBuilderAddPage .ektronPageBuilderIframe"),f=$ektron(".ektronPageBuilderAddPage .messages"),n=r.contents().find("[name='req_fields']"),t,i;if(n.length>0)for(n=n.val(),n=n.split(","),t=0;t<n.length;t++)if(n[t]!=""){i=r.contents().find("#"+n[t]+", input[name='"+n[t]+"']").val();if(i==null||i==""){u=!1,Ektron.PageBuilder.Wizards.updateMessage(f,Ektron.ResourceText.PageBuilder.Wizards.errorMetadata);break}}return u},verifyTaxonomy:function(){var r=!0,t=$ektron(".ektronPageBuilderAddPage .ektronPageBuilderIframe"),u=$ektron(".ektronPageBuilderAddPage .messages"),i=t.contents().find(".TaxRequiredBool"),n;if(i.length>0)if(i.html()=="true"){n=t.contents().find("div.treecontainer input.categoryCheck:checked"),n.length==0&&(n=t.contents().find("div.treecontainer input.categoryCheck:checked"));if(n.length==0)return Ektron.PageBuilder.Wizards.updateMessage(u,Ektron.ResourceText.PageBuilder.Wizards.errorTaxonomy),!1}return r},Buttons:{initialized:!1,init:function(){if(Ektron.PageBuilder.Wizards.Buttons.initialized==!0)return;var n=$ektron(".ektronPageBuilderAddPage .ektronPageBuilderWizardButtons");n.find(".nextButton").bind("click",function(){return Ektron.PageBuilder.Wizards.stepNext(this)}),n.find(".backButton").bind("click",function(){return Ektron.PageBuilder.Wizards.stepBack(this)}),n.find(".cancelButton").bind("click",function(){return $ektron(this).parents().filter(".ektronPageBuilderWizard").modalHide(),location.href.indexOf(Ektron.ResourceText.PageBuilder.Wizards.appPath)!=-1&&(location.href=location.href),!1}),n.find(".finishButton").bind("click",function(){var t,i,u,f;if(!Ektron.PageBuilder.Wizards.finishClicked){var r=$ektron(".ektronPageBuilderAddPage .ektronPageBuilderIframe"),t=$ektron(".ektronPageBuilderAddPage .messages"),e=$ektron(".ektronPageBuilderWizard");t.empty();if(e.hasClass("MasterLayoutWizard")){t=$ektron(".ektronPageBuilderAddPage .messages"),i=r.contents().find("#ektronSelectedTemplate").val();if(i==null||i=="")return Ektron.PageBuilder.Wizards.updateMessage(t,"You must select a wireframe to base this master layout on."),!1;u=r.contents().find(".pageBuilderWizardPageTitle").val();if($ektron.trim(u).length==0)return Ektron.PageBuilder.Wizards.updateMessage(t,Ektron.ResourceText.PageBuilder.Wizards.errorPageTitle),!1;if(Ektron.PageBuilder.Wizards.verifyMetadataInfo()===!1)return!1;if(Ektron.PageBuilder.Wizards.verifyTaxonomy()===!1)return!1}else if(Ektron.PageBuilder.Wizards.verifyMetadataInfo()===!1)return!1;f=r.contents().find("#btnFinish"),f.click(),Ektron.PageBuilder.Wizards.finishClicked=!0}return!1}),n.find(".okButton").bind("click",function(){return Ektron.PageBuilder.Wizards.redirectPage()}),Ektron.PageBuilder.Wizards.Buttons.initialized=!0},showPromptButtons:function(){var n=$ektron(".ektronPageBuilderWizard .ektronPageBuilderWizardButtons");n.find(".button").hide(),n.find(".cancelButton").show(),n.find(".okButton").show()}},Markup:{initialized:!1,init:function(){var n,t;if(Ektron.PageBuilder.Wizards.Markup.initialized==!0)return;if($ektron("#PageBuilderAddPageModal").length>0){Ektron.PageBuilder.Wizards.Markup.initialized=!0;return}n=new String,n='<div class="ektronWindow ektronModalStandard ektronPageBuilderWizard ektronPageBuilderAddPage" id="PageBuilderAddPageModal">\n',n+='  <div class="ektronModalHeader">\n',n+="    <h3>\n",n+='      <span class="addPageTitle"></span>\n',n+='      <a class="ektronModalClose"></a>\n',n+="    </h3>\n",n+="  </div>\n",n+='  <div class="ektronModalBody">\n',n+='    <div class="messages"></div>\n',n+='    <iframe src="javascript:false;" noresize="noresize" frameborder="0" border="0"  marginwidth="0" marginheight="0" id="ektronPageBuilderAddPageIframe" class="ektronPageBuilderIframe ektronPageBuilderAddPageIframe" scrolling="auto"></iframe>\n',n+='    <ul class="ektronModalButtonWrapper ektronPageBuilderWizardButtons clearfix">\n',n+='      <li><div class="wizardStatus"><p><span></span><b>'+Ektron.ResourceText.PageBuilder.Wizards.loading+"</b></p></div></li>\n",n+='      <li><a id="ektronPageBuilderFinish" title="'+Ektron.ResourceText.PageBuilder.Wizards.finish+'" class="greenHover button finishButton buttonRight" href="#'+Ektron.ResourceText.PageBuilder.Wizards.finish+'">'+Ektron.ResourceText.PageBuilder.Wizards.finish+"</a></li>\n",n+='      <li><a id="ektronPageBuilderFinish" title="'+Ektron.ResourceText.PageBuilder.Wizards.ok+'" class="greenHover button okButton buttonRight" href="#'+Ektron.ResourceText.PageBuilder.Wizards.ok+'">'+Ektron.ResourceText.PageBuilder.Wizards.ok+"</a></li>\n",n+='      <li><a id="ektronPageBuilderNext" title="'+Ektron.ResourceText.PageBuilder.Wizards.next+'" class="blueHover button nextButton buttonRight" href="#'+Ektron.ResourceText.PageBuilder.Wizards.next+'">'+Ektron.ResourceText.PageBuilder.Wizards.next+"</a></li>\n",n+='      <li><a id="ektronPageBuilderCancel" title="'+Ektron.ResourceText.PageBuilder.Wizards.cancel+'" class="redHover button cancelButton buttonRight" href="#'+Ektron.ResourceText.PageBuilder.Wizards.cancel+'">'+Ektron.ResourceText.PageBuilder.Wizards.cancel+"</a></li>\n",n+='      <li><a id="ektronPageBuilderBack" title="'+Ektron.ResourceText.PageBuilder.Wizards.back+'" class="blueHover button backButton buttonRight" href="#'+Ektron.ResourceText.PageBuilder.Wizards.back+'">Back</a></li>\n',n+="    </ul>\n",n+="  </div>\n",n+="</div>\n",t=$ektron("body"),t.append(n),Ektron.PageBuilder.Wizards.Markup.initialized}},Modals:{initialized:!1,init:function(){if(Ektron.PageBuilder.Wizards.Modals.initialized==!0)return;var n=$ektron(".ektronPageBuilderAddPage"),t=n.find(".messages");n.modal({modal:!0,toTop:!0,overlay:0,onShow:function(n){Ektron.PageBuilder.Wizards.centerModal(".ektronPageBuilderAddPage"),n.o.fadeTo("fast",.5,function(){n.w.fadeIn("fast")})},onHide:function(n){t.empty(),n.w.fadeOut("fast"),n.o.fadeOut("fast",function(){n.o&&n.o.remove()})}}),Ektron.PageBuilder.Wizards.Modals.initialized}},Status:{loading:function(){$ektron("div.wizardStatus").fadeIn(1e3)},doneLoading:function(){$ektron(".ektronPageBuilderWizard iframe.ektronPageBuilderAddPageIframe").fadeTo(500,1),$ektron("div.wizardStatus").fadeOut(1e3)}}}),Ektron.PageBuilder.Wizards.init(),Ektron.RegExp.PageBuilderURL=new RegExp("(^|[ \x09\x0d\x0a])((ftp|http|https|file)://(([A-Za-z0-9$_.+!*(),;/?:@&~=-])|%[A-Fa-f0-9]{2}){2,}(#([a-zA-Z0-9][a-zA-Z0-9$_.+!*(),;/?:@&~=%-]*))?(([A-Za-z0-9$_+!*();/?:~-])|%[A-Fa-f0-9]{2}))","gi"),Ektron.RegExp.PageBuilderObjectName=new RegExp("\\w+(\\.\\w+)+","g")}),"undefined"==typeof Ektron.ResourceText&&(Ektron.ResourceText={}),"undefined"==typeof Ektron.ResourceText.PageBuilder&&(Ektron.ResourceText.PageBuilder={}),Ektron.ResourceText.PageBuilder.Wizards={addPage:"Add New Page",appPath:"/ek/WorkArea/",back:"Back",cancel:"Cancel",errorPageTitle:"Please provide a page title for the page.",errorSelectLayout:"Please select a page layout to be used for this page.",errorUrlAlias:"Please provide an alias for the page.",errorUrlAliasExists:"The alias you selected already exists.  Please choose a different alias for the page.",finish:"Finish",next:"Next",ok:"Ok",path:"/ek/WorkArea/pagebuilder/wizards/",savePageAs:"Save Page as",dropdownMustMatch:"The alias extension selected must match the alias typed in. Please remove the extension from the alias or select the matching extension from the dropdown.",invalidExtension:"You have typed in an invalid extension.",selectExtension:"Please select or type in a valid extension.",errorMetadata:"One or more required Metadata fields are not completed. Please complete the required Metadata fields and resubmit.",errorTaxonomy:"You must select at least one category for this layout.",loading:"Loading. Please wait."},typeof Sys!="undefined"&&Sys.Application.notifyScriptLoaded();var m_EkTbTimeout_AjaxToolBar=null,m_EkTbAutomaticOutsideBorder_AjaxToolBar=!0,m_EkTbOutsideBorder_AjaxToolBar=!0,m_EkTbMenuOffDelay_AjaxToolBar=500,m_EkTbMenuBorderWidth_AjaxToolBar=3,m_EkTbStopAtRoot=0,m_EkTbStopAtCss=1,m_EkTbStopAtOffset=2,m_EkTbLastObj,m_bEkTbReady;m_bEkTbReady!==!0&&(m_bEkTbReady=!1),typeof $ektron!="undefined"&&Ektron.ready(function(){m_bEkTbReady=!0}),addEkTbLoadEvent(),m_isMac=!1,m_isMacInit=!1,m_isSafari=!1,m_isSafariInit=!1,typeof $ektron!="undefined"&&(Ektron.EditorsMenu={bindEvents:function(){$ektron(document).listen("mouseover","a.EktronEditorsMenuMarker",function(n){Ektron.EditorsMenu.show(this,n,!0)}),$ektron(document).listen("keypress","a.EktronEditorsMenuMarker",function(n){n.keyCode===13&&Ektron.EditorsMenu.show(this,n,!1)}),$ektron(document).listen("mouseout","a",function(){var t=$ektron(this).parent().parent(),i;t.hasClass("EktronEditorsMenu")&&(i=setTimeout(function(){Ektron.EditorsMenu.hide(t)},Ektron.EditorsMenu.timeoutDuration),t.attr("timeoutId",i))}),$ektron(document).listen("mouseover","a",function(){var t=$ektron(this).parent().parent();t.hasClass("EktronEditorsMenu")&&(clearTimeout(t.attr("timeoutId")),t.removeAttr("timeoutId"))}),$ektron(document).listen("blur","a",function(){var t=$ektron(this).parent().parent(),i;t.hasClass("EktronEditorsMenu")&&(i=setTimeout(function(){Ektron.EditorsMenu.hide(t)},Ektron.EditorsMenu.timeoutDuration),t.attr("timeoutId",i))}),$ektron(document).listen("focus","a",function(){var t=$ektron(this).parent().parent();t.hasClass("EktronEditorsMenu")&&(clearTimeout(t.attr("timeoutId")),t.removeAttr("timeoutId"))})},show:function(n,t,i){var o=$ektron(n).attr("data-ektron-editorsmenu-id"),r=$ektron("#"+o),u,f,e;r.css("display")==="none"&&r.hasClass("cloned")===!1&&(u=!0,r.parent().find("iframe").length>0&&(u=!1),r.parent().find("object").length>0&&(u=!1),r.parent().find("embed").length>0&&(u=!1),u===!1?(r.attr("class","EktronEditorsMenu EktronEditorsMenuNotLayered"),r.css("display","block")):(r.addClass("cloned"),r=r.clone(!0),r.attr("cloneid",r.attr("id")),r.removeAttr("id"),r.prependTo("body"),f=99998,r.siblings("ul.EktronEditorsMenu").each(function(){r.siblings("ul.EktronEditorsMenu").length,f>parseInt($ektron(this).css("z-index"))||(f=parseInt($ektron(this).css("z-index"))+1)}),r.css("z-index",String(f)),Ektron.EditorsMenu.setPosition(r),r.slideDown(function(){i===!1&&r.find("li:first a:first").focus()})),r.attr("timeoutId",e),i===!0&&(e=setTimeout(function(){Ektron.EditorsMenu.hide(r)},Ektron.EditorsMenu.timeoutDuration),r.attr("timeoutId",e)))},hide:function(n){n.slideUp("fast",function(){if(n.hasClass("cloned")===!0){var t=$ektron("#"+n.attr("cloneid"));t.removeClass("cloned"),t.removeAttr("timeoutId"),n.remove()}else n.removeClass("EktronEditorsMenuNotLayered")})},setPosition:function(n){var s=$ektron("a[data-ektron-editorsmenu-id='"+n.attr("cloneid")+"']"),o=s.offset(),l=o.top,a=o.left+s.width(),e=o.top+s.height(),v=o.left,u=l,f=v,i=n.clone().prependTo("body"),t,r;i.css("left","-1000px"),i.css("display","block"),t=i.height(),r=i.width(),i.remove();var y=$ektron("body"),h=y.height(),c=y.width();u=t>h||t<h-e?e:t>l&&t>h-e?e:l-t,f=r>c||r<c-a?a:r<c&&r>v?a:v,n.css("top",u),n.css("left",f),$ektron.browser.msie&&($ektron.browser.version<7&&n.find("li").css("position","relative"),n.find("a").css("word-wrap","normal"))},timeoutDuration:1500},(function(n){function i(t,r){n.extend(this,{ids:{},tags:{},listener:r,event:t}),this.id=i.instances.push(this)}function r(n,t,i){for(var r=0,u=n.length;r<u;r++)t.call(i,n[r],r)}function o(n,t){return n.push.apply(n,t),n}n.fn.indexer=function(n){return this[0]&&f(this[0],n)||null},n.indexer=function(n){return f(document,n)};var u=n.event,e=u.special,t=n.listen=function(n,u,e,o){typeof u!="object"&&(o=e,e=u,u=document),r(n.split(/\s+/),function(n){n=t.fixes[n]||n;var r=f(u,n)||f(u,n,new i(n,u));r.append(e,o),r.start()})},f=function(t,i,r){return n.data(t,i+".indexer",r)};n.extend(t,{regex:/^((?:\w*?|\*))(?:([#.])([\w-]+))?$/,fixes:{focus:"focusin",blur:"focusout"},cache:function(n){this.caching=n}}),n.each(t.fixes,function(t,i){e[i]={setup:function(){if(n.browser.msie)return!1;this.addEventListener(t,e[i].handler,!0)},teardown:function(){if(n.browser.msie)return!1;this.removeEventListener(t,e[i].handler,!0)},handler:function(n){return arguments[0]=n=u.fix(n),n.type=i,u.handle.apply(this,arguments)}}}),n.fn.listen=function(n,i,r){return this.each(function(){t(n,this,i,r)})},i.instances=[],i.prototype={constructor:i,handle:function(n){var t=n.stopPropagation;n.stopPropagation=function(){n.stopped=!0,t.apply(this,arguments)},f(this,n.type).parse(n),n.stopPropagation=t,t=n.data=null},on:!1,bubbles:!1,start:function(){this.on||(u.add(this.listener,this.event,this.handle),this.on=!0)},stop:function(){this.on&&(u.remove(this.listener,this.event,this.handle),this.on=!1)},cache:function(t,i){return n.data(t,"listenCache_"+this.id,i)},parse:function(n){var i=n.data||n.target,f=arguments,u;t.caching&&(u=this.cache(i))||(u=[],i.id&&this.ids[i.id]&&o(u,this.ids[i.id]),r([i.nodeName,"*"],function(n){var t=this.tags[n];t&&r((i.className+" *").split(" "),function(n){n&&t[n]&&o(u,t[n])})},this),t.caching&&this.cache(i,u)),u[0]&&r(u,function(t){t.apply(i,f)===!1&&(n.preventDefault(),n.stopPropagation())}),!n.stopped&&(i=i.parentNode)&&(i.nodeName=="A"||this.bubbles&&i!=this.listener)&&(n.data=i,this.parse(n)),u=f=i=null},append:function(n,i){r(n.split(/\s*,\s*/),function(n){var u=t.regex.exec(n);if(!u)throw'$.listen > "'+n+'" is not a supported selector.';var f=u[2]=="#"&&u[3],r=u[1].toUpperCase()||"*",e=u[3]||"*";f?(this.ids[f]||(this.ids[f]=[])).push(i):r&&(r=this.tags[r]=this.tags[r]||{},(r[e]||(r[e]=[])).push(i))},this)}},n(window).unload(function(){typeof i=="function"&&r(i.instances,function(t){t.stop(),n.removeData(t.listener,t.event+".indexer"),t.ids=t.names=t.listener=null})})})($ektron),Ektron.ready(function(){Ektron.EditorsMenu.bindEvents()})),"undefined"==typeof Ektron&&(Ektron={}),"undefined"==typeof Ektron.JSON&&(Ektron.JSON=function(){function i(n){return n<10?"0"+n:n}function f(n){return o.lastIndex=0,o.test(n)?'"'+n.replace(o,function(n){var t=s[n];return typeof t=="string"?t:"\\u"+("0000"+(+n.charCodeAt(0)).toString(16)).slice(-4)})+'"':'"'+n+'"'}function r(i,e){var c,l,h,a,v=n,s,o=e[i];o&&typeof o=="object"&&typeof o.toJSON=="function"&&(o=o.toJSON(i)),typeof t=="function"&&(o=t.call(e,i,o));switch(typeof o){case"string":return f(o);case"number":return isFinite(o)?String(o):"null";case"boolean":case"null":return String(o);case"object":if(!o)return"null";n+=u,s=[];if(Object.prototype.toString.apply(o)==="[object Array]"){for(a=o.length,c=0;c<a;c+=1)s[c]=r(c,o)||"null";return h=s.length===0?"[]":n?"[\n"+n+s.join(",\n"+n)+"\n"+v+"]":"["+s.join(",")+"]",n=v,h}if(t&&typeof t=="object")for(a=t.length,c=0;c<a;c+=1)l=t[c],typeof l=="string"&&(h=r(l,o,t),h&&s.push(f(l)+(n?": ":":")+h));else for(l in o)Object.hasOwnProperty.call(o,l)&&(h=r(l,o,t),h&&s.push(f(l)+(n?": ":":")+h));return h=s.length===0?"{}":n?"{\n"+n+s.join(",\n"+n)+"\n"+v+"}":"{"+s.join(",")+"}",n=v,h}}Date.prototype.toJSON=function(){return this.getUTCFullYear()+"-"+i(this.getUTCMonth()+1)+"-"+i(this.getUTCDate())+"T"+i(this.getUTCHours())+":"+i(this.getUTCMinutes())+":"+i(this.getUTCSeconds())+"Z"};var e=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,o=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,n,u,s={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},t;return{stringify:function(i,f,e){var o;n="",u="";if(typeof e=="number")for(o=0;o<e;o+=1)u+=" ";else typeof e=="string"&&(u=e);t=f;if(f&&typeof f!="function"&&(typeof f!="object"||typeof f.length!="number"))throw new Error("JSON.stringify");return r("",{"":i})},parse:function(n,t){function r(n,i){var f,e,u=n[i];if(u&&typeof u=="object")for(f in u)Object.hasOwnProperty.call(u,f)&&(e=r(u,f),e!==undefined?u[f]=e:delete u[f]);return t.call(n,i,u)}var i;e.lastIndex=0,e.test(n)&&(n=n.replace(e,function(n){return"\\u"+("0000"+(+n.charCodeAt(0)).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(n.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return i=eval("("+n+")"),typeof t=="function"?r({"":i},""):i;throw new SyntaxError("JSON.parse");}}}()),"undefined"==typeof Ektron&&(Ektron=window.Ektron={}),"undefined"==typeof Ektron.DMSMenu&&(Ektron.DMSMenu={contentInfo:{id:"",parentId:"",languageId:"",guid:"",status:"",contentType:"",communityDocumentsMenu:"",dmsSubtype:""},dynamicContentBox:!0,ektronControlId:"",menuAppPath:"",mouseTimeOut:0,menuInitialized:!1,poundSymbolFilename:"",andSymbolFilename:"",ItemWrapper:{BindToggle:function(n){n.live("click",function(n){var i,r,t;i=n.which==null?n.button<2?"left":n.button==4?"middle":"right":n.which<2?"left":n.which==2?"middle":"right",i=="left"&&(r=$ektron(this).hasClass("dmsItemWrapperMenuActive"),r?($ektron(this).removeClass("dmsItemWrapperMenuActive"),Ektron.DMSMenu.HideMenu()):($ektron(".dmsItemWrapperMenuActive").removeClass("dmsItemWrapperMenuActive"),t=$ektron(this),t.addClass("dmsItemWrapperMenuActive"),Ektron.DMSMenu.FetchMenu(t)))})},Init:function(n){Ektron.DMSMenu.ItemWrapper.BindToggle(n)}},MenuWrapper:{BindHover:function(n){n.hover(function(){clearTimeout(Ektron.DMSMenu.mouseTimeOut);var t=$ektron(".dmsItemWrapperMenuActive"),n=t.parent();n.addClass("dmsWrapperHover")},function(){var t=$ektron(".dmsItemWrapperMenuActive"),n=t.parent();n.removeClass("dmsWrapperHover"),Ektron.DMSMenu.HideMenu()})},FixListMenuWidth:function(n){var r=n.find("li[class!=sectionBreak]"),u=n.find("li.sectionBreak"),f=n.find("a"),t=0,i=parseInt($ektron.browser.version,10);r.each(function(){var f=$ektron(this),u="a",r;i<7&&(u="span"),r=parseInt(f.find(u).outerWidth(),10),t<r&&(t=r)}),r.css("width",t+"px"),i<7&&(u.css("width",t+8+"px"),f.css("width","100%")),n.css("width",t+"px")},Init:function(n){Ektron.DMSMenu.MenuWrapper.BindHover(n),$ektron.browser.msie&&parseInt($ektron.browser.version,10)<8&&Ektron.DMSMenu.MenuWrapper.FixListMenuWidth(n)}},Wrapper:{BindHover:function(n){n.live("mouseover",function(){var i=$ektron(this),t,n;i.addClass("dmsWrapperHover"),t=i.find(".dmsItemWrapper"),n=t.hasClass("dmsItemWrapperMenuActive"),n&&(clearTimeout(Ektron.DMSMenu.mouseTimeOut),Ektron.DMSMenu.ShowMenu())}),n.live("mouseout",function(){var i=$ektron(this),t,n;i.removeClass("dmsWrapperHover"),t=i.find(".dmsItemWrapper"),n=t.hasClass("dmsItemWrapperMenuActive"),n&&(clearTimeout(Ektron.DMSMenu.mouseTimeOut),Ektron.DMSMenu.mouseTimeOut=setTimeout(function(){Ektron.DMSMenu.HideMenu()},10))})},Init:function(n){Ektron.DMSMenu.Wrapper.BindHover(n)}},WrapperLink:{BindHover:function(n){n.live("mouseover",function(){clearTimeout(Ektron.DMSMenu.mouseTimeOut)}),n.live("mouseout",function(){clearTimeout(Ektron.DMSMenu.mouseTimeOut),Ektron.DMSMenu.mouseTimeOut=setTimeout(function(){Ektron.DMSMenu.HideMenu()},10)})},Init:function(n){Ektron.DMSMenu.WrapperLink.BindHover(n)}},CalculateMenuPosition:function(){var i=$ektron(".dmsMenuWrapper");if(i.length>0){var t=$ektron(".dmsItemWrapperMenuActive"),n=t.parent(),f=$ektron(".dmsMenuWrapper"),e=$ektron("body").outerHeight();menuPosition=n.offset();var r=i.outerWidth(),u=t.outerWidth(),o=t.css("width");menuPosition.left+=r>u?20:u-r,menuPosition.top+(n.outerHeight()-1)+f.outerHeight()>e?menuPosition.top=menuPosition.top-f.outerHeight()+1:menuPosition.top+=n.outerHeight()-1,i.css({left:menuPosition.left+"px",top:menuPosition.top+"px"})}},ConfirmDelete:function(n){var t=confirm(n);return t===!0?!0:!1},DestroyMenu:function(){$ektron("ul.dmsMenuWrapper").remove()},EditMSOfficeFile:function(n,t){var i=t;t=t.substring(0,t.lastIndexOf("/")+1)+escape(t.substring(t.lastIndexOf("/")+1,t.length));if($ektron.browser.msie)try{return $ektron.get(n,function(r,u){if(u==="success")try{var f=null;if(i.indexOf("&")!=-1||i.indexOf("+")!=-1)return alert(Ektron.DMSMenu.andSymbolFilename),!1;try{f=new ActiveXObject("SharePoint.OpenDocuments.2"),f.EditDocument2(window,t,"")}catch(s){try{f=new ActiveXObject("SharePoint.OpenDocuments.3"),f.EditDocument3(window,t,"")}catch(o){f=new ActiveXObject("SharePoint.OpenDocuments.1"),f.EditDocument(window,t,"")}}Ektron.DMSMenu.RefreshPage()}catch(e){window.location=n+"&executeActiveX=true"}else window.location=n+"&executeActiveX=true"}),!1}catch(r){return!0}},FetchMenu:function(n){var r,t;n.addClass("dmsItemWrapperLoading"),Ektron.DMSMenu.DestroyMenu(),r=n.find("input[id^=dmsContentInfo]"),t=Ektron.DMSMenu.contentInfo,r.length>0&&(t=$ektron.extend(Ektron.DMSMenu.contentInfo,Ektron.JSON.parse(r.val())));var h=t.id,s=t.languageId,c=t.guid,e=t.communityDocumentsMenu,l=t.dmsSubtype,a=t.communityGroupid,v=window.location.href,u=0,o=n.parent(),i=o.find("input[type='hidden'][class='dmsItemClientId']"),f="false";i=i.length>0?i.val().replace(/\$/g,"_"):Ektron.DMSMenu.ektronControlId,$ektron.browser.msie&&typeof ShowMultipleUpload!="undefined"&&ShowMultipleUpload()&&(f="true"),e!==""&&$ektron("#taxonomyselectedtree").length>0&&(u=$ektron("#taxonomyselectedtree").attr("value")),$ektron.get(Ektron.DMSMenu.menuAppPath+"DmsMenu/DmsMenu.aspx",{contentId:h,createIeSpecificMenu:f,communityDocuments:e,dynamicContentBox:Ektron.DMSMenu.dynamicContentBox,dmsEktControlID:i,dmsLanguageId:s,taxonomyOverrideId:u,dmsMenuGuid:c,dmsMenuSubtype:l,fromPage:v,communityGroupId:a},function(t){var r,i;try{r=t.indexOf("-1|"),r!=-1?alert(String(t).replace("-1|","")):($ektron("body").append(t),i=$ektron(".dmsMenuWrapper"),i.css("visibility","hidden"),i.css("display","block"),i.css({"font-family":n.css("font-family")?n.css("font-family"):"inherit","font-weight":n.css("font-weight")?n.css("font-weight"):"inherit","font-style":n.css("font-style")?n.css("font-style"):"inherit","font-variant":n.css("font-variant")?n.css("font-variant"):"inherit"}),Ektron.DMSMenu.MenuWrapper.Init(i),n.parent().hasClass("dmsWrapperHover")&&Ektron.DMSMenu.ShowMenu())}finally{n.removeClass("dmsItemWrapperLoading")}})},ForceCheckIn:function(n,t){var i=confirm(t);i&&Ektron.DMSMenu.MenuAction(n)},HideMenu:function(){$ektron("ul.dmsMenuWrapper").css("visibility","hidden")},Init:function(){if(!Ektron.DMSMenu.menuInitialized){var i=$ektron(".dmsWrapper"),t=$ektron(".dmsItemWrapper"),n=$ektron(".dmsViewItemAnchor");Ektron.DMSMenu.Wrapper.Init(i),Ektron.DMSMenu.WrapperLink.Init(n),Ektron.DMSMenu.ItemWrapper.Init(t),$ektron(window).bind("resize",function(){setTimeout(function(){Ektron.DMSMenu.CalculateMenuPosition()},1)}),$ektron(document).trigger("EktronDMSMenuReady"),Ektron.DMSMenu.menuInitialized=!0}},MenuAction:function(n){try{return $ektron.get(n,function(t,i){i==="success"?t.substring(0,"message:".length)=="message:"?alert(t.substring("message:".length)):Ektron.DMSMenu.RefreshPage():(alert("failed!"),window.location=n)}),!1}catch(t){return!0}},ModifyImage:function(n,t){var r=$ektron("#"+t),u=r.parents("div.image"),i=r.attr("src");if(r.length==0)return alert("error: missing ID for thumbnail image in ekml template"),!1;u.css({"background-image":"url("+Ektron.DMSMenu.menuAppPath+"images/application/DMSMenu/dmsMenuAjaxLoading.gif)","background-position":"center center","background-repeat":"no-repeat"}),r.css({opacity:0,filter:"alpha(opacity=0)"});try{return $ektron.get(n,function(f,e){e!=="success"&&(window.location=n);var s=new RegExp("([?|&])r=.*?(&|$)","i"),h=$ektron("#"+t.replace(/GalleryThumb/,"PhotoGallery")),o=h.attr("href");Ektron.QueryString.r?(i=i.match(s)?i.replace(s,"$1r="+Math.random()+"$2"):i+"&r="+Math.random(),o=i.match(s)?o.replace(s,"$1r="+Math.random()+"$2"):o+"&r="+Math.random()):(i+="?r="+Math.random(),o+="?r="+Math.random()),r.attr("src",i).css({opacity:1,filter:"alpha(opacity=100)"}),u.css({"background-position":"center -10000px"}),h.attr("href",o)}),!1}catch(f){return u.css({"background-position":"center -10000px"}),r.css({opacity:1,filter:"alpha(opacity=100)"}),!0}},RefreshPage:function(){setTimeout(function(){self.location.href=self.location},10)},RequestCheckIn:function(n){try{return $ektron.get(n,function(n){alert(n)}),!1}catch(t){return!0}},ShowMenu:function(){Ektron.DMSMenu.CalculateMenuPosition(),$ektron("ul.dmsMenuWrapper").css("visibility","visible")},Sync:function(n){var t=n;return $ektron("#ShowSyncConfigModal").length>0?Ektron.Sync.checkMultipleConfigs(t.contentLanguage,t.contentId,t.contentAssetId,t.contentAssetVersion,t.folderId,t.isMultisite):(dmsSyncWindow=window.open(t.dmsSyncPath+"?contentLanguage="+t.contentLanguage+"&contentId="+t.contentId+"&contentAssetId="+t.contentAssetId+"&contentAssetVersion="+t.contentAssetVersion+"&folderId="+t.folderId+"&isMultiSite="+t.isMultisite,"dmsSync","resizable=no,scrollbars=no,toolbar=no,status=no,menubar=no,location=no,height=1,width=1"),dmsSyncWindow.focus()),!1},ViewMSOfficeFile:function(n){var t,i;if($ektron.browser.msie)return t=n,n=n.substring(0,n.lastIndexOf("/")+1)+escape(n.substring(n.lastIndexOf("/")+1,n.length)),t.indexOf("&")!=-1||t.indexOf("+")!=-1?(alert(Ektron.DMSMenu.andSymbolFilename),!1):(i=new ActiveXObject("SharePoint.OpenDocuments.2"),i.ViewDocument2(window,n,""),!1)}}),Ektron.ready(function(){typeof Sys!="undefined"&&Sys.WebForms.PageRequestManager.getInstance().add_endRequest(Ektron.DMSMenu.Init),Ektron.DMSMenu.Init()}),(function(n){n.fn.superfish=function(t){var i=n.fn.superfish,r=i.c,s=n(['<span class="',r.arrowClass,'"> &#160;</span>'].join("")),u=function(){var t=n(this),i=e(t);clearTimeout(i.sfTimer),t.showSuperfishUl().siblings().hideSuperfishUl()},f=function(){var r=n(this),f=e(r),t=i.op;clearTimeout(f.sfTimer),f.sfTimer=setTimeout(function(){t.retainPath=n.inArray(r[0],t.$path)>-1,r.hideSuperfishUl(),t.$path.length&&r.parents(["li.",t.hoverClass].join("")).length<1&&u.call(t.$path)},t.delay)},e=function(n){var t=n.parents(["ul.",r.menuClass,":first"].join(""))[0];return i.op=i.o[t.serial],t},o=function(n){n.addClass(r.anchorClass).append(s.clone())};return this.each(function(){var h=this.serial=i.o.length,e=n.extend({},i.defaults,t),s;e.$path=n("li."+e.pathClass,this).slice(0,e.pathLevels).each(function(){n(this).addClass([e.hoverClass,r.bcClass].join(" ")).filter("li:has(ul)").removeClass(e.pathClass)}),i.o[h]=i.op=e,n("li:has(ul)",this)[n.fn.hoverIntent&&!e.disableHI?"hoverIntent":"hover"](u,f).each(function(){e.autoArrows&&o(n(">a:first-child",this))}).not("."+r.bcClass).hideSuperfishUl(),s=n("a",this),s.each(function(n){var t=s.eq(n).parents("li");s.eq(n).focus(function(){u.call(t)}).blur(function(){f.call(t)})}),e.onInit.call(this)}).each(function(){var t=[r.menuClass];!i.op.dropShadows||n.browser.msie&&n.browser.version<7||t.push(r.shadowClass),n(this).addClass(t.join(" "))})};var t=n.fn.superfish;t.o=[],t.op={},t.IE7fix=function(){var i=t.op;n.browser.msie&&n.browser.version>6&&i.dropShadows&&i.animation.opacity!=undefined&&this.toggleClass(t.c.shadowClass+"-off")},t.c={bcClass:"sf-breadcrumb",menuClass:"sf-js-enabled",anchorClass:"sf-with-ul",arrowClass:"sf-sub-indicator",shadowClass:"sf-shadow"},t.defaults={hoverClass:"sfHover",pathClass:"overideThisToUse",pathLevels:1,delay:500,animation:{opacity:"show"},speed:"fast",autoArrows:!0,dropShadows:!1,disableHI:!0,onInit:function(){},onBeforeShow:function(){},onShow:function(){},onHide:function(){}},n.fn.extend({hideSuperfishUl:function(){var i=t.op,u=i.retainPath===!0?i.$path:"",r;return i.retainPath=!1,r=n(["li.",i.hoverClass].join(""),this).add(this).not(u).removeClass(i.hoverClass).find(">ul").hide().css("visibility","hidden"),i.onHide.call(r),this},showSuperfishUl:function(){var i=t.op,r=t.c.shadowClass+"-off",n=this.addClass(i.hoverClass).find(">ul:hidden").css("visibility","visible");return t.IE7fix.call(n),i.onBeforeShow.call(n),n.animate(i.animation,i.speed,function(){t.IE7fix.call(n),i.onShow.call(n)}),this}})})(jQuery),(function(n){n.fn.hoverIntent=function(t,i){var r={sensitivity:7,interval:100,timeout:0};r=n.extend(r,i?{over:t,out:i}:t);var o,s,e,u,f=function(n){o=n.pageX,s=n.pageY},c=function(t,i){i.hoverIntent_t=clearTimeout(i.hoverIntent_t);if(Math.abs(e-o)+Math.abs(u-s)<r.sensitivity)return n(i).unbind("mousemove",f),i.hoverIntent_s=1,r.over.apply(i,[t]);e=o,u=s,i.hoverIntent_t=setTimeout(function(){c(t,i)},r.interval)},l=function(n,t){return t.hoverIntent_t=clearTimeout(t.hoverIntent_t),t.hoverIntent_s=0,r.out.apply(t,[n])},h=function(t){var o=(t.type=="mouseover"?t.fromElement:t.toElement)||t.relatedTarget,s,i;while(o&&o!=this)try{o=o.parentNode}catch(t){o=this}if(o==this)return!1;s=jQuery.extend({},t),i=this,i.hoverIntent_t&&(i.hoverIntent_t=clearTimeout(i.hoverIntent_t)),t.type=="mouseover"?(e=s.pageX,u=s.pageY,n(i).bind("mousemove",f),i.hoverIntent_s!=1&&(i.hoverIntent_t=setTimeout(function(){c(s,i)},r.interval))):(n(i).unbind("mousemove",f),i.hoverIntent_s==1&&(i.hoverIntent_t=setTimeout(function(){l(s,i)},r.timeout)))};return this.mouseover(h).mouseout(h)}})(jQuery),Ektron.KodakWidgets===undefined&&(Ektron.KodakWidgets={}),Ektron.KodakWidgets.KodakProductsServicesMenu={initSuperfish:function(){$ektron("ul.KodakTopMenuPS").superfish()}},(function(n){n.extend(n.fn,{swapClass:function(n,t){var i=this.filter("."+n);return this.filter("."+t).removeClass(t).addClass(n),i.removeClass(n).addClass(t),this},replaceClass:function(n,t){return this.filter("."+n).removeClass(n).addClass(t).end()},hoverClass:function(t){return t=t||"hover",this.hover(function(){n(this).addClass(t)},function(){n(this).removeClass(t)})},heightToggle:function(t,i){t?this.animate({height:"toggle"},t,i):this.each(function(){n(this)[n(this).is(":hidden")?"show":"hide"](),i&&i.apply(this,arguments)})},heightHide:function(n,t){n?this.animate({height:"hide"},n,t):(this.hide(),t&&this.each(t))},prepareBranches:function(n){return n.prerendered||(this.filter(":last-child:not(ul)").addClass(t.last),this.filter((n.collapsed?"":"."+t.closed)+":not(."+t.open+")").find(">ul").hide()),this.filter(":has(>ul)")},applyClasses:function(i,r){var u=this.filter(":has(>ul):not(:has(>a))").find(">span:not([data-ektron-treeview-isClickBound='true'])");u.attr("data-ektron-treeview-isClickBound","true").click(function(){r.apply(n(this).next())}).add(n("a",this)).hoverClass(),i.prerendered||(this.filter(":has(>ul:hidden)").addClass(t.expandable).replaceClass(t.last,t.lastExpandable),this.not(":has(>ul:hidden)").addClass(t.collapsable).replaceClass(t.last,t.lastCollapsable),this.find("div."+t.hitarea).length===0&&this.prepend('<div class="'+t.hitarea+'"/>').find("div."+t.hitarea).each(function(){var t="";n.each(n(this).parent().attr("class").split(" "),function(){t+=this+"-hitarea "}),n(this).addClass(t)})),this.find("div."+t.hitarea).click(r)},treeview:function(i){function h(i,r){function u(r){return function(){return e.apply(n("div."+t.hitarea,i).filter(function(){return r?n(this).parent("."+r).length:!0})),!1}}n("a:eq(0)",r).click(u(t.collapsable)),n("a:eq(1)",r).click(u(t.expandable)),n("a:eq(2)",r).click(u())}function e(){n(this).parent().find(">.hitarea").swapClass(t.collapsableHitarea,t.expandableHitarea).swapClass(t.lastCollapsableHitarea,t.lastExpandableHitarea).end().swapClass(t.collapsable,t.expandable).swapClass(t.lastCollapsable,t.lastExpandable).find(">ul").heightToggle(i.animated,i.toggle),i.unique&&n(this).parent().siblings().find(">.hitarea").replaceClass(t.collapsableHitarea,t.expandableHitarea).replaceClass(t.lastCollapsableHitarea,t.lastExpandableHitarea).end().replaceClass(t.collapsable,t.expandable).replaceClass(t.lastCollapsable,t.lastExpandable).find(">ul").heightHide(i.animated,i.toggle)}function s(){var t=[];u.each(function(i,r){t[i]=n(r).is(":has(>ul:visible)")?1:0}),n.cookie(i.cookieId,t.join(""))}function c(){var r=n.cookie(i.cookieId),t;r&&(t=r.split(""),u.each(function(i,r){n(r).find(">ul")[parseInt(t[i])?"show":"hide"]()}))}var o,u,f,r;i=n.extend({cookieId:"EktronTreeview"},i);if(i.add)return this.trigger("add",[i.add]);i.toggle&&(o=i.toggle,i.toggle=function(){return o.apply(n(this).parent()[0],arguments)}),this.addClass("EktronTreeview"),u=this.find("li").prepareBranches(i);switch(i.persist){case"cookie":f=i.toggle,i.toggle=function(){s(),f&&f.apply(this,arguments)},c();break;case"location":r=this.find("a").filter(function(){return this.href.toLowerCase()==location.href.toLowerCase()}),r.length&&r.addClass("selected").parents("ul, li").add(r.next()).show()}return u.applyClasses(i,e),i.control&&(h(this,i.control),n(i.control).show()),this.bind("add",function(r,u){n(u).prev().removeClass(t.last).removeClass(t.lastCollapsable).removeClass(t.lastExpandable).find(">.hitarea").removeClass(t.lastCollapsableHitarea).removeClass(t.lastExpandableHitarea),n(u).find("li").andSelf().prepareBranches(i).applyClasses(i,e)})}});var t=n.fn.treeview.classes={open:"open",closed:"closed",expandable:"expandable",expandableHitarea:"expandable-hitarea",lastExpandableHitarea:"lastExpandable-hitarea",collapsable:"collapsable",collapsableHitarea:"collapsable-hitarea",lastCollapsableHitarea:"lastCollapsable-hitarea",lastCollapsable:"lastCollapsable",lastExpandable:"lastExpandable",last:"last",hitarea:"hitarea"};n.fn.Treeview=n.fn.treeview})($ektron),"undefined"==typeof Ektron.String&&(Ektron.RegExp.Char.leftCurly2=/\{\{/g,Ektron.RegExp.Char.rightCurly2=/\}\}/g,Ektron.RegExp.tags=/<[^>]*>/g,$ektron.extend({htmlEncode:function(n){return(n+"").replace(Ektron.RegExp.Char.amp,"&amp;").replace(Ektron.RegExp.Char.lt,"&lt;").replace(Ektron.RegExp.Char.gt,"&gt;").replace(Ektron.RegExp.Char.quot,"&quot;")},htmlEncodeText:function(n){return(n+"").replace(Ektron.RegExp.Char.amp,"&amp;").replace(Ektron.RegExp.Char.lt,"&lt;").replace(Ektron.RegExp.Char.gt,"&gt;")},htmlDecode:function(n){return(n+"").replace(Ektron.RegExp.Entity.amp,"&").replace(Ektron.RegExp.Entity.gt,">").replace(Ektron.RegExp.Entity.lt,"<").replace(Ektron.RegExp.Entity.quot,'"')},removeTags:function(n){return(n+"").replace(Ektron.RegExp.tags,"")},toInt:function(n,t){var i=parseInt(n,10);return isNaN(i)&&(i=t?t:0),i},toBool:function(n,t){"string"==typeof n&&(n=n.toLowerCase());switch(n){case"true":case!0:case"1":case 1:case-1:case"on":case"yes":case"y":case"t":return!0;case"false":case!1:case"0":case 0:case"off":case"no":case"n":case"f":return!1;default:return"boolean"==typeof t?t:!1}},toStr:function(n,t){if(n!==null)try{return n.toString()}catch(i){}return"string"==typeof t?t:""},toLiteral:function(n){var t="",i,r;switch(typeof n){case"undefined":t="undefined";break;case"string":t='"'+Ektron.String.escape(n)+'"';break;case"object":if(null==n)t="null";else if(typeof n.arguments!="undefined"&&typeof n.caller!="undefined"&&typeof n.length!="undefined")t=n.toString();else if(typeof n.sort!="undefined"&&typeof n.length!="undefined"){for(i=0;i<n.length;i++)t.length>0&&(t+=", "),t+=arguments.callee(n[i]);t="["+t+"]"}else{for(r in n)t.length>0&&(t+=", "),t+="'"+r+"':"+arguments.callee(n[r]);t="{"+t+"}"}break;default:t=n.toString()}return t},formatString:function(n){var u=arguments,r=1,i,f;for(2==arguments.length&&arguments[1].constructor==Array&&(u=arguments[1],r=0),i=r;i<u.length;i++)f=new RegExp("\\{"+(i-r)+"\\}(?!\\})","g"),n=n.replace(f,u[i]);return n.replace(Ektron.RegExp.Char.leftCurly2,"{").replace(Ektron.RegExp.Char.rightCurly2,"}")}}),Ektron.String=function(n,t,i){function f(n){r=n,o.length=r.length,e=[]}function u(){e.length<1||(r+=e.join(""),e=[]);if(o.length<r.length)r=r.substring(0,o.length);else if(o.length>r.length){var t=o.length-r.length,n=new Array(t+1);r=r+n.join(" ")}}this.append=function(n,t,i){return t<0?e.push(n+""):i<0?e.push((n+"").substring(t)):e.push((n+"").substring(t,t+i)),this.length+=e[e.length-1].length,this},this.appendFormat=function(){return this.append(Ektron.String.format.apply(Ektron.String,arguments))},this.appendLine=function(n){return n&&this.append(n),this.append(this.lineTerminator),this},this.charAt=function(n){return u(),r.charAt(n)},this.charCodeAt=function(n){return u(),r.charCodeAt(n)},this.concat=function(){var i=arguments,t;for(1==arguments.length&&arguments[0].constructor==Array&&(i=arguments[0]),t=0;t<i.length;t++)this.append(i[t]);return this},this.contains=function(n,t){u();if(!0===t){var i=new RegExp(Ektron.RegExp.escape(n),"i");return i.test(r)}return r.indexOf(n)>-1},this.endsWith=function(n,t){u();var i=new RegExp(Ektron.RegExp.escape(n)+"$",!0===t?"i":"");return i.test(r)},this.equals=function(n,t){u();if(!0===t){var i=new RegExp("^"+Ektron.RegExp.escape(n)+"$","i");return i.test(r)}return r==n},this.indexOf=function(n,t,i){return u(),!0===i?r.toLowerCase().indexOf(n.toLowerCase(),t):!0===t?r.toLowerCase().indexOf(n.toLowerCase()):"number"==typeof t?r.indexOf(n,t):r.indexOf(n)},this.insert=function(n,t,i){var e,f;typeof n!="number"&&(i=t,t=n,n=0);if(0===i)return this;for("undefined"==typeof i&&(i=1),u(),e=r.substring(n),this.substring(0,n),f=0;f<i;f++)this.append(t);return this.append(e),this},this.lastIndexOf=function(n,t,i){return u(),!0===i?r.toLowerCase().lastIndexOf(n.toLowerCase(),t):!0===t?r.toLowerCase().lastIndexOf(n.toLowerCase()):"number"==typeof t?r.lastIndexOf(n,t):r.lastIndexOf(n)},this.padLeft=function(n,t){var i,e;return u(),i=n-r.length,i>0&&(e=new Array(i+1),f(e.join(t||" ")+r)),this},this.padRight=function(n,t){var i,e;return u(),i=n-r.length,i>0&&(e=new Array(i+1),f(r+e.join(t||" "))),this},this.remove=function(n,t){if(0===t)return this;u();if(t<0)this.substring(0,n);else{var i=r.substring(n+t);this.substring(0,n),this.append(i)}return this},this.replace=function(n,t,i){u();var e=new RegExp(Ektron.RegExp.escape(n),"g"+(!0===i?"i":""));return f(r.replace(e,t)),this},this.split=function(n,t,i){var f,e,o;"number"==typeof n?(i=t,t=n,n=null):"boolean"==typeof n?(i=n,n=null):"boolean"==typeof t&&(i=t,t=-1),("undefined"==typeof n||null==n)&&(n="\n");if(0===t)return[];u(),f=t>0?r.split(n,t):r.split(n),null==f&&(f=[]);if(!0===i)for(e=0;e<f.length;e++)if(0==f[e].length){o=1;while(e+o<f.length&&0==f[e+o].length)o++;f.splice(e,o)}return f},this.startsWith=function(n,t){u();var i=new RegExp("^"+Ektron.RegExp.escape(n),!0===t?"i":"");return i.test(r)},this.substring=function(n,t){return u(),t<0?f(r.substring(n)):f(r.substring(n,n+t)),this},this.toLower=function(){return u(),f(r.toLowerCase()),this},this.toString=function(){return u(),r},this.toUpper=function(){return u(),f(r.toUpperCase()),this},this.trim=function(n){return u(),n?this.trimStart(n).trimEnd(n):f($ektron.trim(r)),this},this.trimEnd=function(n){u();if(n){var t=new RegExp("["+Ektron.RegExp.escape(n)+"]+$");f(r.replace(t,""))}else f($ektron.rtrim(r));return this},this.trimStart=function(n){u();if(n){var t=new RegExp("^["+Ektron.RegExp.escape(n)+"]+");f(r.replace(t,""))}else f($ektron.ltrim(r));return this},this.length=0,this.lineTerminator="\n";var o=this,r="",e=[];n&&(f(String(n)),t<0||this.substring(t,i))},Ektron.String.format=$ektron.formatString,Ektron.String.escape=function(n){return(n+"").replace(Ektron.RegExp.Char.backslash,"\\\\").replace(Ektron.RegExp.Char.quot,'\\"').replace(Ektron.RegExp.Char.apos,"\\'").replace(Ektron.RegExp.Char.lf,"\\n").replace(Ektron.RegExp.Char.cr,"")},Ektron.String.escapeJavaScriptAttributeValue=function(n){return(n+"").replace(Ektron.RegExp.Char.quot,"'").replace(Ektron.RegExp.Char.lf,"\\n").replace(Ektron.RegExp.Char.cr,"")});if(navigator.vendor=="Apple Computer, Inc."||navigator.vendor=="KDE"){(function(n){for(var t in n)window["HTML"+t+"Element"]=document.createElement(n[t]).constructor})({Html:"html",Head:"head",Link:"link",Title:"title",Meta:"meta",Base:"base",IsIndex:"isindex",Style:"style",Body:"body",Form:"form",Select:"select",OptGroup:"optgroup",Option:"option",Input:"input",TextArea:"textarea",Button:"button",Label:"label",FieldSet:"fieldset",Legend:"legend",UList:"ul",OList:"ol",DList:"dl",Directory:"dir",Menu:"menu",LI:"li",Div:"div",Paragraph:"p",Heading:"h1",Quote:"q",Pre:"pre",BR:"br",BaseFont:"basefont",Font:"font",HR:"hr",Mod:"ins",Anchor:"a",Image:"img",Object:"object",Param:"param",Applet:"applet",Map:"map",Area:"area",Script:"script",Table:"table",TableCaption:"caption",TableCol:"col",TableSection:"tbody",TableRow:"tr",TableCell:"td",FrameSet:"frameset",Frame:"frame",IFrame:"iframe"});function HTMLElement(){}HTMLElement.prototype=HTMLHtmlElement.__proto__.__proto__;var HTMLDocument=document.constructor,HTMLCollection=document.links.constructor,HTMLOptionsCollection=document.createElement("select").options.constructor,Text=document.createTextNode("").constructor,Node=Text}typeof HTMLElement!="undefined"&&ekxbrowserCheck(HTMLElement)&&HTMLElement.prototype.__defineGetter__("parentElement",function(){return this.parentNode==this.ownerDocument?null:this.parentNode}),typeof Element!="undefined"&&ekxbrowserCheck(Element)&&Element.prototype.__defineGetter__("text",function(){return this.textContent}),typeof Event!="undefined"&&ekxbrowserCheck(Event)&&(Event.prototype.__defineGetter__("srcElement",function(){return this.target}),Event.prototype.__defineGetter__("offsetX",function(){var t=0,n=this.target;while(n!=null&&n.tagName!="BODY")t+=n.offsetLeft,n=n.offsetParent;return this.clientX-t}),Event.prototype.__defineGetter__("offsetY",function(){var t=0,n=this.target;while(n!=null&&n.tagName!="BODY")t+=n.offsetTop,n=n.offsetParent;return this.clientY-t}),Event.prototype.__defineSetter__("cancelBubble",function(n){!0==n&&this.stopPropagation()}),Event.prototype.__defineSetter__("returnValue",function(n){!1==n&&this.preventDefault()})),Ektron.SmartForm||(function(){function a(n){var t,i;for($ektron.extend(this.settings,n),this.designMode=!1,this.selectedField=null,this.isRootLoc=!1,Ektron.SmartForm.cache_xmlDocument="",Ektron.SmartForm.prevalidatingForm=!1,t=document.getElementById("dsg_validate"),t||(t=document.createElement("div"),t.id="dsg_validate",t.style.display="none",document.body.appendChild(t)),i=0;i<Ektron.SmartForm.docEvents.length;i++)$ektron(document).bind(Ektron.SmartForm.docEvents[i].name,Ektron.SmartForm.docEvents[i].fnHandler);this.state="initialized"}function l(t){var r,i;try{t&&$ektron.extend(this.settings,t),this.settings.langType=this.settings.langType+"",this.repeater.hideContextMenu(),this.watchdogTimer&&(clearInterval(this.watchdogTimer),this.watchdogTimer=null),r=this.getContentElement(this.id),r&&(this.designMode=$ektron(r).hasClass("design_mode_design"),i=this.getContentElement(),this.qualifySrcPath(i),Ektron.SmartForm.fixMinHeight(i),Ektron.DataListManager.init({srcPath:this.settings.srcPath,langType:this.settings.langType,ekXml:n}),Ektron.DataListManager.replaceDataLists(i),this.designMode?$ektron("TABLE[ektdesignns_name]").addClass("show_design_border"):($ektron("TABLE[ektdesignns_name]").removeClass("show_design_border"),this.enableExpandCollapse(!0,i),this.localizeFormData(i),this.repeater.addShortCuts(i),this.repeater.addMinElements(i),Ektron.SmartForm.precalcForm(i),this.settings.prevalidate&&Ektron.SmartForm.prevalidateForm(i)),Ektron.SmartForm.fixContentEditable(r),this.state="loaded")}catch(u){Ektron.OnException(this,Ektron.OnException.ignoreException,u,arguments)}}function w(){try{if(this.state!="loaded")return;this.repeater.hideContextMenu(),this.watchdogTimer&&(clearInterval(this.watchdogTimer),this.watchdogTimer=null);var n=this.getContentElement(this.id);n&&(this.setSelectedField(null),Ektron.SmartForm.unfixContentEditable(n),Ektron.SmartForm.setFormValues(n),Ektron.SmartForm.recalcForm(n),this.designMode||this.enableExpandCollapse(!1,n),Ektron.SmartForm.unfixMinHeight(n),this.unqualifySrcPath(n)),this.state="saving"}catch(t){Ektron.OnException(this,Ektron.OnException.ignoreException,t,arguments)}}function b(){var n,t;try{if(this.state!="saving")return;n=this.getContentElement(),n&&(this.qualifySrcPath(n),Ektron.SmartForm.fixMinHeight(n),this.designMode||this.enableExpandCollapse(!0,n),t=this.getContentElement(this.id),Ektron.SmartForm.fixContentEditable(t)),this.state="loaded"}catch(i){Ektron.OnException(this,Ektron.OnException.ignoreException,i,arguments)}}function y(n){var i=this.getContentElement(n),t;if(!i)return;t=this,$ektron(".design_calendar",i).each(function(){var n,r,i;try{n=this.getAttribute("datavalue"),(null==n||"undefined"==typeof n)&&(n=this.getAttribute("value")),"string"==typeof n&&(r=$ektron(this).find("input"),i=Ektron.Xml.parseDate(n),i!=null?r.val(i.toLocaleDateString()):r.val(n))}catch(u){Ektron.OnException(t,Ektron.OnException.ignoreException,u,arguments)}})}function p(n){var t="",i;switch(n){case"datadocumentxml":t=this.getContent(),t=Ektron.SmartForm.ekXml.xslTransform(t,"[srcPath]PresentationToData.xslt");break;default:this.onbeforesave(),i=this.getContentElement(),t=Ektron.Xml.serializeXhtml(i.childNodes),this.onaftersave()}return t}function f(n,t){var r,i;if(!this.settings.enableExpandCollapse)return;r=this.getContentElement(t);if(!r)return;n?(i='<a class="design_view_button" href="#" onclick="design_toggleExpandCollapse(this);return false;"><img class="design_view_button" height="11" width="11" border="0" alt="'+this.localizeString("sHide","Hide")+'" title="'+this.localizeString("sHide","Hide")+'" src="'+this.settings.skinPath+'viewcollapsed.gif" /></a>',$ektron("legend:not(:has(a.design_view_button))").prepend(i)):$ektron("legend > a.design_view_button").remove()}function i(n){try{if(!n)return;var t=$ektron(n);-1==n.firstChild.src.indexOf("viewexpanded.gif")?(n.firstChild.src=this.settings.skinPath+"viewexpanded.gif",n.firstChild.alt=this.localizeString("sShow","Show"),n.firstChild.title=this.localizeString("sShow","Show"),t.parent().next().hide()):(n.firstChild.src=this.settings.skinPath+"viewcollapsed.gif",n.firstChild.alt=this.localizeString("sHide","Hide"),n.firstChild.title=this.localizeString("sHide","Hide"),t.parent().next().show())}catch(i){Ektron.OnException(this,Ektron.OnException.ignoreException,i,arguments)}}function r(){return this.isRootLoc}function e(n){if(!n)return!1;var t=$ektron(n).closest(".design_richarea");return 1==t.length?(this.selectedField=t.get(0),!0):!1}function o(){if(null==this.selectedField){var t=this.getContentElement(),n=getSelectionElement(t.ownerDocument);if(Ektron.SmartForm.isDDFieldElement(n))return n}else null==this.selectedField.ownerDocument||this.selectedField.id!=""&&null==this.selectedField.ownerDocument.getElementById(this.selectedField.id)?this.selectedField=null:(null==this.selectedField.parentNode||11==this.selectedField.parentNode.nodeType)&&(this.selectedField=null);return this.selectedField}function h(n){if(n){this.setSelectedField(null);var t=$ektron(n);this.designMode&&Ektron.SmartForm.isFieldButton(n)&&(n=Ektron.SmartForm.getFieldFromFieldButton(n)),this.selectedField=n,this.designMode&&$ektron(this.selectedField).addClass("design_selected_field")}else this.selectedField!=null?($ektron(this.selectedField).removeClass("design_selected_field"),this.selectedField=null):null==n&&$ektron(".design_selected_field").removeClass("design_selected_field")}function s(n){try{this.replaceSrcPath(n,/.*(\[|%5B)skinpath(\]|%5D)/,this.settings.skinPath,!0),this.replaceSrcPath(n,/.*(\[|%5B)srcpath(\]|%5D)btn/,this.settings.skinPath+"btn",!0),this.replaceSrcPath(n,/.*(\[|%5B)srcpath(\]|%5D)additem.gif/,this.settings.skinPath+"additem.gif",!0),this.replaceSrcPath(n,/.*(\[|%5B)srcpath(\]|%5D)designmenu.gif/,this.settings.skinPath+"designmenu.gif",!0),this.replaceSrcPath(n,/.*(\[|%5B)srcpath(\]|%5D)/,this.settings.srcPath,!0)}catch(t){Ektron.OnException(this,Ektron.OnException.ignoreException,t,arguments)}}function u(n){try{this.replaceSrcPath(n,new RegExp(".*"+this.settings.srcPath,"i"),"[srcpath]",!1),this.replaceSrcPath(n,new RegExp(".*"+this.settings.skinPath,"i"),"[skinpath]",!1)}catch(t){Ektron.OnException(this,Ektron.OnException.ignoreException,t,arguments)}}function v(n,t,i,r){var s=this.getContentElement(n),o,h,f,u,e;if(!s)return;for(o=s.getElementsByTagName("img"),e=0;e<o.length;e++)u=o[e],h=u.className+"",0==h.indexOf("design_")&&(f=u.src+"",f.length>0&&(r?(u.src=f.replace(t,i),u.removeAttribute("data-ektron-url")):u.setAttribute("data-ektron-url",f.replace(t,i))))}function c(){var t=this,n=!this.settings.autoheightActive;this.settings.autoheightActive=!0,n&&$ektron(document).bind($ektron.fn.autoheight.triggerName,function(){Ektron.ContentDesigner.raiseEvent(window,"onAutoheight",[t.settings])}),$ektron("iframe.contenteditable").autoheight({bindEvents:n}),$ektron("iframe.contenteditable",this.getContentElement()).autoheight({bindEvents:n})}Ektron.SmartForm=function(t,k){k=$ektron.extend({srcPath:"",skinPath:"",editorSkinPath:"",localizedStrings:{},langType:"",CssFilesArray:[],enableExpandCollapse:!0,onexception:null},k),k.skinPath=k.skinPath||k.srcPath,k.editorSkinPath=k.editorSkinPath||k.skinPath||k.srcPath,k.langType=k.langType+"",this.settings=k,this.onexception=k.onexception,"string"==typeof t?this.id=t:"object"==typeof t&&t&&(this.id=t.id),this.state="",n||(n=new Ektron.Xml({srcPath:k.srcPath})),Ektron.SmartForm.ekXml=n,this.init=a,this.onload=l,this.onbeforesave=w,this.onaftersave=b,this.localizeString=function(n,t){return this.settings.localizedStrings[n]||t},this.localizeFormData=y,this.isInRichArea=e,this.getSelectedField=o,this.setSelectedField=h,this.getContent=p,this.getContentElement=Ektron.SmartForm.getContentElement,this.validateForm=Ektron.SmartForm.validateForm,this.enableExpandCollapse=f,this.toggleExpandCollapse=i,this.isRootLocation=r,this.autoheight=c,this.qualifySrcPath=s,this.unqualifySrcPath=u,this.replaceSrcPath=v,this.isFieldButton=Ektron.SmartForm.isFieldButton,this.isFieldLink=Ektron.SmartForm.isFieldLink,this.isDDFieldElement=Ektron.SmartForm.isDDFieldElement,this.selectElement=Ektron.SmartForm.selectElement,this.repeater=new Ektron.SmartForm.Repeater(this.settings);if(null==document.getElementById(this.id)){this.state="error-NoContainingElement";Ektron.SmartForm.onexception(new RangeError("Failed to find the Smart Form containing element by id. ID = "+this.id),arguments);return}if(Ektron.SmartForm.instances.length>0||this.id!="design_content"){var d=!0;1==Ektron.SmartForm.instances.length&&(d=d&&$ektron("#"+Ektron.SmartForm.instances[0].id).hasClass("design_content")),d=d&&$ektron("#"+this.id).hasClass("design_content");if(!d)throw new Error("Smart Form element must have class 'design_content'.");}if(Ektron.SmartForm.instances[this.id])Ektron.SmartForm.onexception(new RangeError("An instance of SmartForm with this id already exists. ID = "+this.id));Ektron.SmartForm.instances[Ektron.SmartForm.instances.length]=this,Ektron.SmartForm.instances[this.id]=this,this.init(t,k)},Ektron.SmartForm.onexception=Ektron.OnException.diagException,Ektron.SmartForm.instances=[],Ektron.SmartForm.create=function(n,t){var r="design_content",i;"string"==typeof n?r=n:"object"==typeof n&&n&&(r=n.id);if(null==document.getElementById(r)){Ektron.SmartForm.onexception(new RangeError("Failed to find the Smart Form containing element by id. ID = "+r),arguments);return null}return i=Ektron.SmartForm.instances[r],i?i.init(n,t):i=new Ektron.SmartForm(n,t),i};var n=null;Ektron.SmartForm.findContentElement=function(n){var t=$ektron(n).closest(".design_content").get(0);return t||(t=Ektron.SmartForm.getContentElement()),t?t:null},Ektron.SmartForm.findByChildElement=function(n){var i=Ektron.SmartForm.instances.length,t;if(1==i)return Ektron.SmartForm.instances[0];if(0==i)return null;return t=Ektron.SmartForm.findContentElement(n),t?Ektron.SmartForm.instances[t.id]:null},Ektron.SmartForm.getContentElement=function(n){var t=null;return n?t="object"==typeof n&&n!=null?n:"string"==typeof n&&n.length>0?document.getElementById(n):document.getElementById(this.id||"design_content"):(t=document.getElementById(this.id||"design_content"),Ektron.SmartForm.isEditWithIFrame(t)?t=t.firstChild.contentWindow.document.body:Ektron.SmartForm.isEditWithIFrameCache(t)&&(t=t.firstChild.nextSibling)),t},Ektron.SmartForm.isDDFieldElement=function(n){var i,t;if(!n)return!1;if(n.nodeType!=1)return!1;i=n.getAttribute("ektdesignns_name");if("string"==typeof i&&i.length>0)return!0;return t=n.getAttribute("ektdesignns_bind"),"string"==typeof t&&t.length>0?!0:!1},Ektron.SmartForm.isFieldButton=function(n){return n?"IMG"==n.tagName&&$ektron(n).hasClass("design_fieldbutton"):!1},Ektron.SmartForm.isFieldLink=function(n){var r,t,i;if(!n)return!1;if(n.tagName!="A")return!1;r=n.parentNode;if(!r||!1==Ektron.SmartForm.isDDFieldElement(r))return!1;return t=$ektron(n).siblings("IMG"),t.length>0?(i=!1,$ektron.each(t,function(){if(t.hasClass("design_fieldbutton"))return i=!0,!1}),i):!1},Ektron.SmartForm.getFieldFromFieldButton=function(n){var t=null,i=$ektron(n).parents().each(function(){if($ektron(this).attr("ektdesignns_name")||$ektron(this).attr("ektdesignns_bind"))return t=this,!1});return t},Ektron.SmartForm.selectElement=function(n,t){var r="#document"==n.nodeName?n:n.ownerDocument,e=r.defaultView?r.defaultView:r.parentWindow,i,f,u;if(r.selection&&!e.opera){switch(t.tagName){case"TABLE":case"IMG":case"HR":case"INPUT":case"SELECT":case"TEXTAREA":i=r.body.createControlRange(),i.add(t);break;case"UL":case"OL":i=r.body.createTextRange(),i.moveToElementText(t),f=i.parentElement(),(f.tagName!="UL"||f.tagName!="OL")&&i.moveEnd("character",-1);break;default:i=r.body.createTextRange(),i.moveToElementText(t)}i&&i.select()}else e.getSelection&&(i=r.createRange(),i.selectNode(t),u=e.getSelection(),u.removeAllRanges(),u.addRange(i))},Ektron.SmartForm.docEvents=[{name:"click",fnHandler:function(n){var i,r,f,o,u,h,c,l,t,e,s;n=n?n:window.event,i=n.target?n.target:n.srcElement,i&&i.nodeType!=1&&(i=i.parentNode),i&&i.nodeType!=1&&(i=null);if(!i)return;r=Ektron.SmartForm.findByChildElement(i);if(!r)return;f=null,o=null;if(r.designMode){r.setSelectedField(null),u=!1,t=i;while(!u&&t&&t.tagName!="BODY")switch(t.tagName){case"INPUT":case"SELECT":case"BUTTON":Ektron.SmartForm.isDDFieldElement(t)?(f=t,u=!0):t=t.parentNode;break;case"TABLE":case"FIELDSET":case"TEXTAREA":Ektron.SmartForm.isDDFieldElement(t)?f=t:$ektron(t).parent().hasClass("ektdesignns_mergelist")&&(t=t.parentNode,f=t),u=!0;break;case"TD":case"TH":"false"==t.getAttribute("contenteditable")?t=t.parentNode:u=!0;break;case"DIV":case"SPAN":h=$ektron(t),h.hasClass("design_edit_fieldprop")?(c=h.attr("data-ektron-forfield"),o=t.ownerDocument.getElementById(c),u=!0):Ektron.SmartForm.isDDFieldElement(t)?(f=t,u=!0):"design_membrane"==t.className.toLowerCase()?u=!0:t=t.parentNode;break;case"LABEL":l=t.htmlFor,t=t.ownerDocument.getElementById(l);break;case"IMG":case"A":!1==Ektron.SmartForm.isDDFieldElement(t)&&(f=t,u=!0);break;default:t=t.parentNode}r.isRootLoc=!1,u?t&&(r.isRootLoc=0==$ektron(t).parents("[ektdesignns_name]").length):r.isRootLoc=!0,f?(r.setSelectedField(f),f=r.getSelectedField(),Ektron.SmartForm.selectElement(i,f)):o&&(r.setSelectedField(o),o=r.getSelectedField(),Ektron.SmartForm.selectElement(i,o),e="#document"==i.nodeName?i:i.ownerDocument,s=e.defaultView?e.defaultView:e.parentWindow,Ektron.ContentDesigner.raiseEvent(s,"onEditFieldButtonClick",[n,s,o,r.settings]))}else{t=i;if(Ektron.SmartForm.isFieldButton(t))e="#document"==i.nodeName?i:i.ownerDocument,s=e.defaultView?e.defaultView:e.parentWindow,Ektron.ContentDesigner.raiseEvent(s,"onFieldButtonClick",[n,s,t,r.settings]);else if("A"==t.tagName&&(window.name.indexOf("RadEContentIframe")>-1||!0==Ektron.SmartForm.isFieldLink(t)))return!1}}}];if($ektron.browser.msie&&parseInt($ektron.browser.version,10)>=8){Ektron.SmartForm.docEvents.push({name:"mouseup",fnHandler:function(n){t(n)}}),Ektron.SmartForm.docEvents.push({name:"keyup",fnHandler:function(n){t(n)}});function t(n){var t,u;n=n?n:window.event,t=n.target?n.target:n.srcElement,t&&t.nodeType!=1&&(t=t.parentNode),t&&t.nodeType!=1&&(t=null);if(!t)return;if("design_edit_fieldprop"==t.className)return;u=Ektron.SmartForm.findByChildElement(t);if(!u)return;if(u.designMode){var f=u.getSelectedField(),i="#document"==t.nodeName?t:t.ownerDocument,e=i.defaultView?i.defaultView:i.parentWindow,r;f?(r=i.body.createControlRange(),r.add(f)):r=ekCreateRange(i.selection),e.ekSmartFormTargetElement=t,e.ekSmartFormSelectedRange=r}}}Ektron.SmartForm.fixMinHeight=function(n){var i,t;if($ektron.browser.msie&&"BackCompat"==document.compatMode)for(i=n.getElementsByTagName("div"),t=0;t<i.length;t++)oElem=i[t],oElem.currentStyle.minHeight!="auto"&&(oElem.style.height=oElem.currentStyle.minHeight)},Ektron.SmartForm.unfixMinHeight=function(n){var i,t;if($ektron.browser.msie&&"BackCompat"==document.compatMode)for(i=n.getElementsByTagName("div"),t=0;t<i.length;t++)oElem=i[t],oElem.currentStyle.minHeight!="auto"&&(oElem.style.height="")},typeof Ektron.ContentDesigner!="object"&&(Ektron.ContentDesigner={}),Ektron.ContentDesigner.raiseEvent=function(n,t,i){if(n.parent&&n.parent.Ektron&&n.parent.Ektron.ContentDesigner){var r=n.parent.Ektron.ContentDesigner[t];"function"==typeof r&&r.apply(n.parent.Ektron.ContentDesigner,i)}},Ektron.ContentDesigner.trace||(Ektron.ContentDesigner.trace=function(){typeof console!="undefined"&&console&&console.log&&document.cookie&&document.cookie.indexOf("ContentDesigner.console=")>-1&&console.log.apply(console,arguments)})})(),Ektron.SmartForm.fixContentEditable||(function(){function n(){if(Ektron.SmartForm.isEditWithIFrame(this)){var n=this.firstChild.contentWindow;setTimeout(function(){n.focus()},1)}}Ektron.SmartForm.fixContentEditable=function(n){var t,r,i;if($ektron.browser.mozilla){t=n;if("true"==t.getAttribute("contenteditable")&&t.className!="design_iframe_membrane")Ektron.SmartForm.editContentsWithIFrame(t),Ektron.SmartForm.showParentIFrameScrollbars(t,!1);else for(r=n.getElementsByTagName("div"),i=0;i<r.length;i++)t=r[i],"true"==t.getAttribute("contenteditable")&&t.className!="design_iframe_membrane"&&Ektron.SmartForm.editContentsWithIFrame(t)}},Ektron.SmartForm.unfixContentEditable=function(n){var t,r,i;if($ektron.browser.mozilla){t=n;if("true"==t.getAttribute("contenteditable")&&t.className!="design_iframe_membrane")Ektron.SmartForm.replaceIFrameWithContents(t),Ektron.SmartForm.showParentIFrameScrollbars(t,!0);else for(r=n.getElementsByTagName("div"),i=0;i<r.length;i++)t=r[i],"true"==t.getAttribute("contenteditable")&&t.className!="design_iframe_membrane"&&Ektron.SmartForm.replaceIFrameWithContents(t)}},Ektron.SmartForm.isEditWithIFrame=function(n){return n&&n.hasChildNodes()&&"IFRAME"==n.firstChild.tagName&&"contenteditable"==n.firstChild.className&&n.firstChild.contentWindow&&n.firstChild.contentWindow.document},Ektron.SmartForm.isEditWithIFrameCache=function(n){return n&&n.hasChildNodes()&&"IFRAME"==n.firstChild.tagName&&"design_cache"==n.firstChild.className},Ektron.SmartForm.removeCachedIFrames=function(n){$ektron("iframe.design_cache",n).remove(),$ektron(n).find("div.design_iframe_membrane").each(function(){$ektron(this).unwrapInner()})},Ektron.SmartForm.editContentsWithIFrame=function(t){var i,o,s,f,h,e,r,u;if(Ektron.SmartForm.isEditWithIFrame(t))return;if(Ektron.SmartForm.isEditWithIFrameCache(t))t.firstChild.className="contenteditable",t.firstChild.nextSibling.innerHTML="";else{i=Ektron.SmartForm.findByChildElement(t),o="",t.id&&(o="&id="+t.id),s="";if(i.settings.CssFilesArray)for(f=0;f<i.settings.CssFilesArray.length;f++)s="&css"+f+"="+i.settings.CssFilesArray[f];h="",i.designMode&&(h="&height=99%"),e=$ektron(t),e.unbind("focus",n),e.focus(n),r=t.ownerDocument.createElement("iframe"),r.src=i.settings.srcPath+"ekformsiframe.aspx?js=no&eca="+i.settings.editorSkinPath+"EditorContentArea.css"+s+h+o,r.className="contenteditable",r.frameBorder="0",r.marginHeight=0,r.marginWidth=0,t.contentCache=e.html(),r.onload=function(){function v(){for(var r=!1,i,f,n,t=0;t<e.length;t++)i=e[t],this.hasAttribute(i)&&(f=this.getAttribute(i),this.setAttribute(u,f),r=!0);r&&(n=this.id,n||(n=u+Math.floor(Math.random()*1679616).toString(36),this.id=n),o.push(n))}function a(){var r,l,t,s,i,h,c;if(o.length>0){for(r=0;r<o.length;r++){l=o[r],t=$ektron("#"+l,f).get(0);if(t){for(s=0;s<e.length;s++){i=e[s];if(t.hasAttribute(i)&&t.hasAttribute(u)){h=t.getAttribute(u),c=t.getAttribute(i),h!=c&&t.setAttribute(i,h);break}}0==t.id.indexOf(u)&&(t.id="",t.removeAttribute("id"))}}o=[]}}var n=this.contentWindow,f=n.document,r=$ektron(f),s,h,c,u,e,o,l;for(i.designMode||$ektron(f.body).addClass("design_richarea"),s=null,h=t.ownerDocument.defaultView,h.parent&&h.parent.Ektron&&h.parent.Ektron.SelectionRange&&(s=new h.parent.Ektron.SelectionRange({window:n})),c=0;c<Ektron.SmartForm.docEvents.length;c++)r.bind(Ektron.SmartForm.docEvents[c].name,Ektron.SmartForm.docEvents[c].fnHandler);t.onblur&&r.blur(function(){t.onblur()}),t.onfocus&&r.focus(function(){t.onfocus(t)}),r.focus(function(r){var a,o,u,h,l,c,e;r=r?r:n.event,a=r.target?r.target:r.srcElement,s&&(o=s.getDomSelection(),o&&o.focusNode&&"BODY"==o.focusNode.nodeName&&s.moveToNode(o.focusNode)),u=r.originalTarget,u&&"OPTION"==u.tagName&&(u=u.parentNode),"undefined"==typeof u&&(h=n.getSelection(),l=null,h.getRangeAt&&h.rangeCount>0&&(l=h.getRangeAt(0),c=l.cloneContents(),e=c.childNodes,11==c.nodeType&&1==e.length&&1==e[0].nodeType&&e[0].id.length>0&&(u=f.getElementById(e[0].id)))),u&&"SELECT"==u.tagName&&Ektron.SmartForm.isDDFieldElement(u)&&(i.selectedField=u,Ektron.SmartForm.selectElement(a,i.selectedField)),i.designMode||Ektron.ContentDesigner.raiseEvent(n,"onContentWindowChange",[n,t,i.settings])}),r.mouseup(function(t){var s,e,u,r;t=t?t:window.event,s=t.target?t.target:t.srcElement,e=n.getSelection();if(e.rangeCount>0){var c=e.getRangeAt(0),h=c.cloneContents(),o=h.childNodes;if(11==h.nodeType)for(u=0;u<o.length;u++){r=o[u];if(1==r.nodeType&&"SELECT"==r.tagName&&Ektron.SmartForm.isDDFieldElement(r)){oFieldElem=f.getElementById(r.id),i.selectedField=oFieldElem,Ektron.SmartForm.selectElement(s,i.selectedField);break}}}}),r.bind("contextmenu",function(n){n=n?n:window.event;var u=n.target?n.target:n.srcElement,r="#document"==u.nodeName?u:u.ownerDocument,f=r.defaultView?r.defaultView:r.parentWindow;Ektron.ContentDesigner.raiseEvent(f,"onContextMenu",[n,f,t,i.settings])}),u="data-ektron-url",e=["href","src","background","dynsrc"],r.keypress(function(n){var i,t,r;n=n?n:window.event,i=!0,t=getSelectionElement(this);while(t!=null){if("function"==typeof t.getAttribute){r=t.getAttribute("contenteditable");if("false"==r){i=!1;break}else if("true"==r){i=!0;break}}t=t.parentNode}return i||"function"==typeof n.preventDefault&&n.preventDefault(),i}),r.keyup(function(n){n=n?n:window.event,!n.ctrlKey||"V".charCodeAt(0)!=n.keyCode||n.shiftKey||n.altKey||$ektron("["+u+"]",this).each(function(){for(var n,i,r,t=0;t<e.length;t++){n=e[t];if(this.hasAttribute(n)){i=this.getAttribute(u),r=this.getAttribute(n),i!=r&&this.setAttribute(n,i);break}}})}),o=[],r.mousedown(function(t){var i,u,f,r;t=t?t:window.event,i=t.target?t.target:t.srcElement,u=n.getSelection();try{u.rangeCount>0&&(f=u.getRangeAt(0),r=f.commonAncestorContainer,1==r.nodeType&&$ektron(r).children().each(v)),i&&1==i.nodeType&&$ektron(i).children().andSelf().each(v)}catch(e){return null}}),r.mouseup(a),r.mouseout(a),""==t.contentCache&&(t.contentCache="<p>&#160;</p>");try{f.designMode="on"}catch(y){Ektron.ContentDesigner.raiseEvent(n,"onexception",[new Error("Failed to set designMode. Error: "+y.message),arguments])}$ektron(f.body).html(t.contentCache),t.contentCache=null;if(i.designMode)Ektron.ContentDesigner.raiseEvent(n,"onContentWindowChange",[n,t,i.settings]);else{l=i.getContentElement(),l&&(Ektron.SmartForm.precalcForm(l),i.settings.prevalidate&&Ektron.SmartForm.prevalidateForm(l));try{while(t.firstChild.tagName!="IFRAME")t.removeChild(t.firstChild)}catch(y){Ektron.ContentDesigner.raiseEvent(n,"onexception",[new Error("Failed to set designMode. Error: "+y.message),arguments])}}Ektron.ContentDesigner.raiseEvent(n,"onLoadIFrame",[n,t,f,i.settings])},!0==i.settings.autoheightActive?($ektron(r.ownerDocument).bind($ektron.fn.autoheight.triggerName,function(){Ektron.ContentDesigner.raiseEvent(window,"onAutoheight",[i.settings])}),$ektron(r).autoheight()):i.designMode||$ektron(r).autoheight();while(t.hasChildNodes())t.removeChild(t.firstChild);i.designMode||$ektron(t).append('<img class="design_loading_indicator" src="'+i.settings.skinPath+'iframeloading.png" />'),t.appendChild(r),u=t.ownerDocument.createElement("div"),u.className="design_iframe_membrane",u.setAttribute("contenteditable","true"),t.appendChild(u),u=null,r=null}},Ektron.SmartForm.replaceIFrameWithContents=function(t){var i,r;if(Ektron.SmartForm.isEditWithIFrame(t)){i=$ektron(t),i.unbind("focus",n),r=$ektron.support.getAll,$ektron.support.getAll=!0;try{"string"==typeof t.contentCache?i.html(t.contentCache):($ektron(t.firstChild.nextSibling).html($ektron(t.firstChild.contentWindow.document.body).html()),t.firstChild.className="design_cache")}catch(u){Ektron.OnException(Ektron.SmartForm,Ektron.OnException.ignoreException,u,arguments)}finally{$ektron.support.getAll=r}}},Ektron.SmartForm.showParentIFrameScrollbars=function(n,t){try{document.body.style.padding=t?"":"0px;",n.style.padding=t?"":"0px;",n.ownerDocument.defaultView.frameElement.style.overflow=t==!1?"hidden":"auto"}catch(i){Ektron.OnException(Ektron.SmartForm,Ektron.OnException.ignoreException,i,arguments)}}})(),typeof Ektron.ContentDesigner!="object"&&(Ektron.ContentDesigner={}),"undefined"==typeof Ektron.ContentDesigner.bubbleUpEvent&&(Ektron.ContentDesigner.bubbleUpEvent=function(n){typeof this[n]!="function"&&(this[n]=function(){window!=window.parent&&this.raiseEvent(window,n,arguments)})},Ektron.ContentDesigner.bubbleUpEvent("onexception"),Ektron.ContentDesigner.bubbleUpEvent("onContentWindowChange"),Ektron.ContentDesigner.bubbleUpEvent("onLoadIFrame"),Ektron.ContentDesigner.bubbleUpEvent("onFieldButtonClick"),Ektron.ContentDesigner.bubbleUpEvent("onEditFieldButtonClick"),Ektron.ContentDesigner.bubbleUpEvent("onContextMenu"),Ektron.ContentDesigner.bubbleUpEvent("onAutoheight")),Ektron.SmartForm.Repeater||(function(){function tt(n){this.setCurrent(null,n);var t=$ektron(":input:first",n).get(0);t&&setTimeout(function(){try{t.focus()}catch(n){}},1)}function ut(n,t){if(n){if(this.setCurrent_event_srcElement==n.srcElement)return;this.setCurrent_event_srcElement=n.srcElement}this.current&&Ektron.SmartForm.Repeater.highlight(this.current,!1),this.current=t;var i=$ektron(t).parent().parent().get(0).tFoot.rows[1];this.setPrototype(i)}function rt(n){this.prototype=n}function d(n){return $ektron(n).parent().get(0)}function k(n,t){var u=this.getRowSection(this.current),i=u.insertRow(t),r;Ektron.SmartForm.unfixContentEditable(n),r=$ektron(n).clone(!0).removeAttr("id").makeIdentifiersUnique(),$ektron(i).replaceWith(r),i=u.rows[t],Ektron.SmartForm.prevalidateElement(i,null),this.setFocus(i),Ektron.SmartForm.removeCachedIFrames(i),Ektron.SmartForm.fixContentEditable(n),Ektron.SmartForm.fixContentEditable(i)}function nt(){var n=null,i=this.getRowSection(this.current),t=i.getAttribute("ektdesignns_listitem_template");return n="string"==typeof t?$ektron(i).parent().get(0).getElementById(t):Ektron.SmartForm.isDDFieldElement(this.prototype)?this.prototype:$ektron(this.prototype.cells[1]).children().get(0)}function g(n){return n?n.onclick?$ektron(n).children().get(0).colSpan>1?!1:!0:!1:!1}function ft(n){var i=Ektron.SmartForm.getContentElement(n),t;if(!i)return;try{t=this,$ektron("input:text[ektdesignns_maxoccurs]",i).keydown(function(n){var i;switch(n.which){case 8:""==this.value&&setTimeout(function(){t.remove()},1);break;case 13:setTimeout(function(){t.insertBelow()},1);break;case 38:i=$ektron(t.current).prev().get(0),t.isRow(i)&&setTimeout(function(){t.setFocus(i)},1);break;case 40:i=$ektron(t.current).next().get(0),t.isRow(i)&&setTimeout(function(){t.setFocus(i)},1)}})}catch(r){Ektron.OnException(this,Ektron.OnException.ignoreException,r,arguments)}}function at(n){var s=Ektron.SmartForm.getContentElement(n),e,o,t,f,u,i,r;if(!s)return;try{i=s.getElementsByTagName("td");if(!i)return;for(r=0;r<i.length;r++)e=i[r],t=e.getAttribute("ektdesignns_addmin"),t!=null&&"string"==typeof t&&t.length>0&&(f=parseInt(t,10),o=$ektron(e).parent().get(0),u=o.id+"",u.length>0&&f>0&&this.insertRows(u,f))}catch(h){Ektron.OnException(this,Ektron.OnException.ignoreException,h,arguments)}}function lt(n){for(var u=$ektron(n).children(),i=u.length,r=i,t=0;t<i;t++)this.isRow(u.get(t))||r--;return r}function vt(){var i=this.getTemplateElement(),n=i.getAttribute("ektdesignns_maxoccurs"),t=1;if("string"==typeof n){if("unbounded"==n)return"unbounded";t=parseInt(n,10)}else"number"==typeof n&&(t=n);return t}function ct(){var i=this.getTemplateElement(),t=i.getAttribute("ektdesignns_minoccurs"),r=i.getAttribute("ektdesignns_use"),n=1;return"optional"==r&&(n=0),"string"==typeof t?n=parseInt(t,10):"number"==typeof t&&(n=t),n}function et(){var i=this.getMax(),t,n;return"unbounded"==i?!1:(t=this.getRowSection(this.current),n=this.numElements(t),n>=i)}function ht(){var i=this.getMin(),t=this.getRowSection(this.current),n=this.numElements(t);return n<=i}function st(){return this.atMax()}function ot(){this.insertAbove_disabled()||this.insert(this.prototype,this.current.sectionRowIndex),this.hideContextMenu()}function b(){return this.atMax()}function it(){this.insertBelow_disabled()||this.insert(this.prototype,this.current.sectionRowIndex+1),this.hideContextMenu()}function u(){return this.atMax()}function o(){this.duplicate_disabled()||(Ektron.SmartForm.Repeater.highlight(this.current,!1),this.insert(this.current,this.current.sectionRowIndex)),this.hideContextMenu()}function e(){return this.atMin()}function t(){var i,r,u,t,n;this.remove_disabled()||(i=this.getRowSection(this.current),this.isRow(this.current)&&(r=this.getMax(),r!=="unbounded"&&1===this.numElements(i)&&(u=this.current,this.insert($ektron(this.prototype).prev().get(0),this.current.sectionRowIndex+1),this.current=u)),t=$ektron(this.current),n=t.prev().get(0),this.isRow(n)||(n=t.next().get(0)),t.remove(),this.current=null,this.isRow(n)&&this.setFocus(n)),this.hideContextMenu()}function n(){var n=$ektron(this.current).prev().get(0);return!this.isRow(n)}function r(){if(!this.moveUp_disabled()){var n=$ektron(this.current).prev().get(0);Ektron.SmartForm.unfixContentEditable(n),$ektron(this.current).prev().insertAfter(this.current),Ektron.SmartForm.removeCachedIFrames(n),Ektron.SmartForm.fixContentEditable(n)}this.hideContextMenu()}function i(){var n=$ektron(this.current).next().get(0);return!this.isRow(n)}function s(){if(!this.moveDown_disabled()){var n=$ektron(this.current).next().get(0);Ektron.SmartForm.unfixContentEditable(n),$ektron(this.current).next().insertBefore(this.current),Ektron.SmartForm.removeCachedIFrames(n),Ektron.SmartForm.fixContentEditable(n)}this.hideContextMenu()}function y(){var n=this.current;this.insert(this.prototype,this.current.sectionRowIndex+1),this.current=n,this.remove()}function v(n,t){var r=document.getElementById(n),i;if(r){for(this.setCurrent(null,r),i=0;i<t;i++)this.insertAbove();$ektron(r).remove()}}function w(n,t){this.setCurrent(n,$ektron(t).parent().parent().get(0)),Ektron.SmartForm.Repeater.highlight(this.current,!0);if(!this.contextMenu){this.contextMenu=new Ektron.SmartForm.Repeater.ContextMenu(this.settings);var i=this;$ektron(document.body).click(function(n){n=n?n:window.event;var t=n.srcElement;t.menutype||i.hideContextMenu()})}this.contextMenu.show(n,t)}function p(){this.contextMenu&&this.contextMenu.hide(),this.current&&Ektron.SmartForm.Repeater.highlight(this.current,!1)}function c(){var h=$ektron("div.design_container > div.design_contextmenu"),o,i,t,n,e,f;if(h.length>0)return h.get(0);o=[{action:"design_row_insertAbove",caption:this.localizeString("mnuInsAbv","Insert Above"),icon:"insabove"},{action:"design_row_insertBelow",caption:this.localizeString("mnuInsBel","Insert Below"),icon:"insbelow"},{action:"design_row_duplicate",caption:this.localizeString("mnuDupl","Duplicate"),icon:"duplicate"},{action:"design_row_moveUp",caption:this.localizeString("mnuMvUp","Move Up"),icon:"moveup"},{action:"design_row_moveDown",caption:this.localizeString("mnuMvDn","Move Down"),icon:"movedown"},{action:"design_row_remove",caption:this.localizeString("mnuRem","Remove"),icon:"remove"}],i=document.createElement("div"),i.contentEditable=!1,i.unselectable="on",i.className="design_container",t=document.createElement("div"),i.appendChild(t),t.className="design_contextmenu",t.style.display="none",t.style.visibility="hidden",n=document.createElement("table"),t.appendChild(n),n.cellSpacing=0,n.cellPadding=0,n.border=0,e=document.createElement("tbody"),n.appendChild(e);var r=null,s=null,u=null,c="",l="</a>";for(f=0;f<o.length;f++)u=o[f],r=e.insertRow(e.rows.length),r.setAttribute("ektdesignns_action",u.action),s=r.insertCell(r.cells.length),c='<a class="design_menuitem" href="#" onclick="if(!this.isDisabled){'+u.action+'()};return false;" menutype="menuitem"><img src="'+this.settings.skinPath+u.icon+'.gif" width="16" height="16" border="0"/>',s=r.insertCell(r.cells.length),s.innerHTML=c+u.caption+l;return i.firstChild}function h(){return this.contextMenuElement.style.visibility!="hidden"}function a(){var u="",i=!1,n=null,e=null,t,o,f=this.contextMenuElement.firstChild,r=f.tBodies[0];for(iRow=0;iRow<r.rows.length;iRow++)n=r.rows[iRow],u=n.getAttribute("ektdesignns_action"),i=window[u+"_disabled"](),n.disabled=i,i?$ektron(".design_menuitem",n).each(function(){this.className="design_menuitem_disabled",$ektron("img",this).each(function(){t=this.src+"",this.src=t.replace(/\.gif/,"_disabled.gif")})}):$ektron(".design_menuitem_disabled",n).each(function(){this.className="design_menuitem",$ektron("img",this).each(function(){t=this.src+"",this.src=t.replace(/_disabled\.gif/,".gif")})})}function l(n,t){var i;this.update();var r=$ektron(t).offset(),u=r.left+t.offsetWidth,f=r.top;Ektron.SmartForm.showWindowedControls(!1),i=this.contextMenuElement.style,i.left=u+"px",i.top=f+"px",i.display="block",i.visibility="visible",n.cancelBubble=!0}function f(){typeof this.contextMenuElement!="undefined"&&this.contextMenuElement!=null&&(oStyle=this.contextMenuElement.style,oStyle.display="none",oStyle.visibility="hidden"),Ektron.SmartForm.showWindowedControls(!0)}Ektron.SmartForm.Repeater=function(f){this.settings=f,this.onexception=f.onexception,this.current=null,this.prototype=null,this.setCurrent_event_srcElement=null,this.localizeString=function(n,t){return this.settings.localizedStrings[n]||t},this.setFocus=tt,this.setCurrent=ut,this.setPrototype=rt,this.getRowSection=d,this.insert=k,this.getTemplateElement=nt,this.isRow=g,this.addShortCuts=ft,this.addMinElements=at,this.numElements=lt,this.getMax=vt,this.getMin=ct,this.atMax=et,this.atMin=ht,this.insertAbove_disabled=st,this.insertAbove=ot,this.insertBelow_disabled=b,this.insertBelow=it,this.duplicate_disabled=u,this.duplicate=o,this.remove_disabled=e,this.remove=t,this.moveUp_disabled=n,this.moveUp=r,this.moveDown_disabled=i,this.moveDown=s,this.replace=y,this.insertRows=v,this.showContextMenu=w,this.hideContextMenu=p},Ektron.SmartForm.Repeater.onexception=Ektron.SmartForm.onexception,Ektron.SmartForm.Repeater.highlight=function(n,t){for(var u=new RegExp(t?"_normal":"_hover"),f=t?"_hover":"_normal",r=null,i=0;i<n.cells.length;i++)r=n.cells[i],r.className=r.className.replace(u,f)},Ektron.SmartForm.Repeater.ContextMenu=function(n){this.settings=n,this.localizeString=function(n,t){return this.settings.localizedStrings[n]||t},this.isVisible=h,this.update=a,this.show=l,this.hide=f,this.createMenuElement=c,this.contextMenuElement=this.createMenuElement(),document.body.appendChild(this.contextMenuElement.parentNode)}})(),Ektron.SmartForm.showWindowedControls||(Ektron.SmartForm.showWindowedControls=function(n){if(n)$ektron(".design_selectwrapper").each(function(){var n=$ektron(this);n.after(n.contents()).remove()});else{var t=document.createElement("span");t.contentEditable=!1,t.className="design_selectwrapper",$ektron("select").each(function(){var n=$ektron(this);0==n.parents(".design_selectwrapper").length&&n.wrap(t)})}n||typeof document.selection!="undefined"&&"function"==typeof document.selection.empty&&document.selection.empty()}),Ektron.SmartForm.setFormValues||(function(){function i(r,u,f){var b,y,e,v,l,c,o;if(!r)return"";if("design_prototype"==r.className)return"";b=r.getAttribute("ektdesignns_isrelevant")!="false";if(!1==b)return"";var a=!0,w=r.getAttribute("ektdesignns_bind"),s=r.getAttribute("ektdesignns_name"),h=r.getAttribute("ektdesignns_nodetype");h||(h="element");var k="string"==typeof w&&w.length>0&&"element"==h,p="string"==typeof s&&s.length>0&&"element"==h,d="string"==typeof s&&s.length>0&&"text"==h;if(k)if(Ektron.SmartForm.isContainerElement(r,r.tagName))u+=1;else switch(r.tagName){case"TEXTAREA":case"SELECT":return Ektron.Xml.serializeXhtml(r);default:e=Ektron.SmartForm.serializeValue(r);if("undefined"==typeof e)a=!1;else return Ektron.Xml.serializeXhtml(r)}else if(p){if("mixed"==r.getAttribute("ektdesignns_content"))return e=Ektron.SmartForm.getValue(r),t(s,e);if(Ektron.SmartForm.isContainerElement(r,r.tagName))u+=1,f.hasRoot||1!=u||(y=r.getAttribute("ektdesignns_role"),"root"==y&&(f.hasRoot=!0));else{e=Ektron.SmartForm.serializeValue(r);if("undefined"==typeof e)a=!1;else return t(s,$ektron.htmlEncode(e))}}else if(d){e=Ektron.SmartForm.serializeValue(r);if("undefined"==typeof e)a=!1;else return $ektron.htmlEncode(e)}v="",l="";if(a&&ekHasChildren(r)){for(c=$ektron(r).children(),o=0;o<c.length;o++)l+=i(c.get(o),u,f);if(k)return alert("Error: SerializeSimpleElements of a bound element is not implemented."),"";if(p){for(o=0;o<c.length;o++)v+=n(c.get(o));return t(s,l,v)}}return l}function n(t){var f,e,o,i,h,s,u;if(!t)return"";if("design_prototype"==t.className)return"";f=t.getAttribute("ektdesignns_name"),e=t.getAttribute("ektdesignns_nodetype"),e||(e="element"),o="string"==typeof f&&f.length>0;if(o&&"attribute"==e){i=Ektron.SmartForm.serializeValue(t),"SPAN"==t.tagName&&"undefined"==typeof i&&(i="");if(typeof i!="undefined")return r(f,i)}h="";if(!o&&ekHasChildren(t))for(s=$ektron(t).children(),u=0;u<s.length;u++)h+=n(s.get(u));return h}function t(n,t,i){"undefined"==typeof i&&(i="");var r=n.toLowerCase(),u="xsl:"==r.substr(0,4)||1==Ektron.Xml.htmlTagCount[r];return u&&("undefined"==typeof t||"string"==typeof t&&0==t.length||null==t)?"<"+n+i+" />\n":"<"+n+i+">"+t+"</"+n+">\n"}function r(n,t){return" "+n+'="'+$ektron.htmlEncode(t)+'"'}Ektron.SmartForm.setFormValues=function(n){var u=Ektron.SmartForm.getContentElement(n),i,r,t;if(!u)return;for(r=u.getElementsByTagName("input"),t=0;t<r.length;t++)i=r[t],Ektron.SmartForm.setValue(i,Ektron.SmartForm.getValue(i));for(r=u.getElementsByTagName("textarea"),t=0;t<r.length;t++)i=r[t],Ektron.SmartForm.setValue(i,Ektron.SmartForm.getValue(i));for(r=u.getElementsByTagName("option"),t=0;t<r.length;t++)i=r[t],i.selected&&i.value!=""?i.setAttribute("selected","selected"):i.removeAttribute("selected")},Ektron.SmartForm.getValue=function(n){var t,r,i;if(!n)return;t=n;if("true"==n.getAttribute("contenteditable"))if(Ektron.SmartForm.isEditWithIFrame(n)){t=n.firstChild.contentWindow.document.body;if(null==t)return}else if(Ektron.SmartForm.isEditWithIFrameCache(n)){t=n.firstChild.nextSibling;if(null==t)return}if(typeof n.value!="undefined")return"INPUT"==n.tagName&&("checkbox"==n.type||"radio"==n.type)?(r=n.value+"",r.length>0&&r!="true"&&r!="on"?n.checked?r:"":n.checked?!0:!1):n.value+"";if(typeof n.getAttribute!="undefined"&&n.getAttribute("datavalue")!=null)return n.getAttribute("datavalue");if(typeof n.getAttribute!="undefined"&&n.getAttribute("value")!=null)return n.getAttribute("value");i="";if("mixed"==n.getAttribute("ektdesignns_content")||"content-req"==n.getAttribute("ektdesignns_validation"))try{i=Ektron.Xml.serializeXhtml(t.childNodes)}catch(u){Ektron.SmartForm.onexception(u,[t.childNodes],Ektron.Xml.serializeXhtml)}return i.length>0?(i=i.replace(/^\n+/,"").replace(/\n+$/,""),Ektron.SmartForm.isBlankContent(i)&&(i=""),i):typeof t.innerText!="undefined"?t.innerText:typeof t.textContent!="undefined"?t.textContent:typeof t.innerHTML!="undefined"?$ektron.removeTags(t.innerHTML):void 0},Ektron.SmartForm.setValue=function(n,t){if(!n)return;var i=n;"true"==n.getAttribute("contenteditable")&&(Ektron.SmartForm.isEditWithIFrame(n)?i=n.firstChild.contentWindow.document.body:Ektron.SmartForm.isEditWithIFrameCache(n)&&(i=n.firstChild.nextSibling)),typeof n.value!="undefined"?"INPUT"==n.tagName&&("checkbox"==n.type||"radio"==n.type)?"true"===t||!0===t||"on"===t?(n.checked=!0,n.setAttribute("checked","checked")):"false"===t||!1===t?(n.checked=!1,n.removeAttribute("checked")):("string"==typeof t&&t.length>0&&(n.value=t,n.setAttribute("value",t)),n.checked?n.setAttribute("checked","checked"):n.removeAttribute("checked")):("TEXTAREA"==n.tagName?(typeof n.innerText!="undefined"&&(n.innerText=t),typeof n.textContent!="undefined"&&(n.textContent=t)):(n.setAttribute("value",t),typeof n.getAttribute!="undefined"&&n.getAttribute("datavalue")!=null&&(n.datavalue=t,n.setAttribute("datavalue",t))),n.value=t):typeof n.getAttribute!="undefined"&&n.getAttribute("datavalue")!=null?(n.datavalue=t,n.setAttribute("datavalue",t)):typeof n.getAttribute!="undefined"&&n.getAttribute("value")!=null?(n.value=t,n.setAttribute("value",t)):typeof i.innerHTML!="undefined"&&"mixed"==n.getAttribute("ektdesignns_datatype")?i.innerHTML=t:typeof i.innerText!="undefined"?i.innerText=t:typeof i.textContent!="undefined"&&(i.textContent=t)},Ektron.SmartForm.serializeSimpleElements=function(t){var r,u,h,f;if(Ektron.SmartForm.cache_xmlDocument)return Ektron.SmartForm.cache_xmlDocument;r="<root></root>",u=Ektron.SmartForm.getContentElement(t);if(u){var e={hasRoot:!1},s=Ektron.SmartForm.getContentElement("design_schema"),o=Ektron.SmartForm.getContentElement("design_schematodata_xslt");s&&s.innerText.length>0&&o&&o.innerText.length>0?(h="<ektdesign:viewPage"+n(u)+">"+i(u,0,e)+"</ektdesign:viewPage>",f=o.innerText,f=f.replace(/<ektdesign:viewPage>[\s\S]+<\/ektdesign:viewPage>/,h),r=Ektron.SmartForm.ekXml.xslTransform(s.innerText,f)):(r=i(u,0,e),e.hasRoot||(r="<root"+n(u)+">"+r+"</root>"))}return Ektron.ContentDesigner.trace("SmartForm XML Document\n"+r),r},Ektron.SmartForm.serializeValue=function(n){var i,r,t;switch(n.tagName){case"INPUT":i=n.type.toLowerCase();if("checkbox"==i){r=n.value.toLowerCase();if("true"==r||"on"==r||""==r)return n.checked?"true":"false"}else if("text"==i||"password"==i||"hidden"==i)return n.value;break;case"TEXTAREA":return n.value;case"SELECT":return n.value;case"SPAN":t=n.getAttribute("datavalue");if(t!=null&&typeof t!="undefined")return t;t=n.getAttribute("value");if(t!=null&&typeof t!="undefined")return t}return},Ektron.SmartForm.isContainerElement=function(n,t){if("FIELDSET"==t||"DIV"==t)return!0;if("TABLE"==t||"TR"==t)if(n){var i;i=n.getAttribute("ektdesignns_bind");if("string"==typeof i&&i.length>0)return!0;i=n.getAttribute("ektdesignns_name");if("string"==typeof i&&i.length>0)return!0}return!1},$ektron.htmlEncode||($ektron.htmlEncode=function(n){return(n+"").replace(Ektron.RegExp.Char.amp,"&amp;").replace(Ektron.RegExp.Char.lt,"&lt;").replace(Ektron.RegExp.Char.gt,"&gt;").replace(Ektron.RegExp.Char.quot,"&quot;")}),$ektron.removeTags||($ektron.removeTags=function(n){return(n+"").replace(Ektron.RegExp.tags,"")})})(),Ektron.SmartForm.onsubmitForm||(function(){function n(n){var e=0,f=Ektron.SmartForm.getContentElement(n),u,r,o,i,t;if(f)for(u=["input","select","textarea"],i=0;i<u.length;i++)for(r=f.getElementsByTagName(u[i]),t=0;t<r.length;t++)o=r[t],Ektron.SmartForm.isDDFieldElement(o)&&e++;return e}function t(n){var o=Ektron.SmartForm.getContentElement(n),f,e,t,u,r;if(!o)return;for(f=["input","select","textarea"],u=0;u<f.length;u++)for(e=o.getElementsByTagName(f[u]),r=0;r<e.length;r++){t=e[r];if(Ektron.SmartForm.isDDFieldElement(t))try{"checkbox"==t.type?t.onclick=i:t.onchange=i}catch(s){Ektron.OnException(Ektron.SmartForm,Ektron.OnException.ignoreException,s,arguments)}}}function i(){Ektron.SmartForm.validateElement(this)}function r(n,t){var i=null,f=n.tagName,e=($ektron.browser.mozilla||$ektron.browser.safari)&&"INPUT"==f&&"checkbox"==n.type||"SELECT"==f,u,r;"object"==typeof n&&(i=n.parentNode,"object"==typeof n.style&&"object"==typeof i&&(t?e?"SPAN"==i.tagName&&"design_validation_failed"==i.className&&(i.className="design_validation_passed"):$ektron(n).removeClass("design_validation_failed"):(u=Ektron.SmartForm.findByChildElement(n),u&&("undefined"==typeof u.designMode||u.designMode!=!0)&&(e?((i.tagName!="SPAN"||i.className!="design_validation_failed"&&i.className!="design_validation_passed")&&(r=document.createElement("span"),r=i.insertBefore(r,n),n=i.removeChild(n),n=r.appendChild(n),i=r),i.className="design_validation_failed"):$ektron(n).addClass("design_validation_failed")))))}Ektron.SmartForm.onsubmitForm=function(n){var t=Ektron.SmartForm.validateHtmlForm(n);return t&&t.title!=""?(alert(t.title),Ektron.SmartForm.focusOn(t),!1):!0},Ektron.SmartForm.prevalidateForm=function(n){var i,t;if(Ektron.SmartForm.prevalidatingForm)return;return i=Ektron.SmartForm.getContentElement(n),i?(Ektron.SmartForm.prevalidatingForm=!0,Ektron.SmartForm.cache_xmlDocument=Ektron.SmartForm.serializeSimpleElements(n),t=Ektron.SmartForm.prevalidateElement(i),Ektron.SmartForm.cache_xmlDocument="",Ektron.SmartForm.prevalidatingForm=!1,Ektron.SmartForm.markValidity("dsg_prevalidate",t),t):void 0},Ektron.SmartForm.validateForm=function(n){var i=this.getContentElement(n),t,r;return Ektron.SmartForm.unfixContentEditable(i),Ektron.SmartForm.recalcForm(i),t=Ektron.SmartForm.prevalidateForm(i),r="",t&&(r=t.title,Ektron.SmartForm.focusOn(t)),this.isValid=null==t,this.invalidElement=t,this.invalidMessage=r,Ektron.SmartForm.markValidity("dsg_validate",t),Ektron.SmartForm.fixContentEditable(i),null==t},Ektron.SmartForm.markValidity=function(n,t){var i=document.getElementById(n);i&&(t?(i.title=t.title,i.setAttribute("ektdesignns_isvalid",!1)):(i.title="",i.setAttribute("ektdesignns_isvalid",!0)))},Ektron.SmartForm.validateHtmlForm=function(n){n&&n._form&&(n=n._form);var t;switch(typeof n){case"string":case"number":t=document.forms[n];break;case"object":t=n;break;default:t=document.forms[0]}return t?Ektron.SmartForm.prevalidateElement(t):null},Ektron.SmartForm.validateElement=function(n){var i=Ektron.SmartForm.prevalidateElement(n),t=Ektron.SmartForm.findContentElement(n);return Ektron.SmartForm.recalcForm(t),null==i},Ektron.SmartForm.prevalidateElement=function(n,t){var f,u,i,e,o,r;"undefined"==typeof t&&(t=null);if(!n)return t;if("undefined"==typeof n.getAttribute)return t;if("design_prototype"==n.className)return t;f=n.getAttribute("ektdesignns_relevant");if(f){n.removeAttribute("ektdesignns_isrelevant");if(!1==Ektron.SmartForm.evaluateXPathBoolean(f,n))return n.setAttribute("ektdesignns_isrelevant","false"),$ektron(n).hide(),t;$ektron(n).show()}if("object"==typeof n.currentStyle&&n.currentStyle!=null){if("none"==n.currentStyle.display)return t;if("hidden"==n.currentStyle.visibility)return t}u=n.getAttribute("ektdesignns_validation");if(u&&u!="none"){n.removeAttribute("ektdesignns_isvalid"),design_validate_result=!0;if("function"==typeof n.onblur)n.onblur();else{i=n.getAttribute("onblur");if(i)try{e=new Function(i),e.call(n)}catch(s){i=i.replace(/([\(\,]\s*)this(\s*[\,\)])/,"$1oElem$2"),o=new Function(i),eval(i)}}null==t&&!1==design_validate_result&&(t=n)}if(typeof n.childNodes!="undefined")for(r=0;r<n.childNodes.length;r++)1==n.nodeType&&(t=Ektron.SmartForm.prevalidateElement(n.childNodes.item(r),t));return t},Ektron.SmartForm.precalcForm=function(i){var f=0,u=Ektron.SmartForm.getContentElement(i),r;if(!u)return;t(u),f=n(u),Ektron.SmartForm.recalcForm(u),r=Ektron.SmartForm.findByChildElement(u),r.watchdogTimer&&(clearInterval(r.watchdogTimer),r.watchdogTimer=null),r.watchdogTimer=setInterval(function(i){var u=Ektron.SmartForm.getContentElement(i),r;if(!u)return;r=n(u),f!=r&&(f<r&&t(u),f=r,Ektron.SmartForm.recalcForm(u))},2e3)},Ektron.SmartForm.recalcForm=function(n){var u=Ektron.SmartForm.getContentElement(n),f,r,t,i,e;if(!u)return;for(f=u.getElementsByTagName("input"),i=0;i<f.length;i++)r=f[i],t=r.getAttribute("ektdesignns_calculate"),"string"==typeof t&&"xpathr:"==t.substring(0,7)&&(design_normalize_xpathr("string("+t.substring(7)+")",r),Ektron.SmartForm.prevalidateElement(r));e=Ektron.SmartForm.findByChildElement(u),e.designMode||$ektron("[ektdesignns_relevant]",u).each(function(){Ektron.SmartForm.prevalidateElement(this)})},Ektron.SmartForm.evaluateXPathBoolean=function(n,t){var e=Ektron.SmartForm.findContentElement(t),u=Ektron.SmartForm.serializeSimpleElements(e),i,f,r;if(""==u)return;return i=Ektron.SmartForm.getXPath(t,e),""==i?void 0:(n=n.replace(/^xpathr\:/,""),f=Ektron.SmartForm.buildXpathrTemplate(i,'<xsl:value-of select="boolean('+$ektron.htmlEncode(n)+')"/>\n'),r="true"==Ektron.SmartForm.ekXml.xslTransform(u,f),Ektron.ContentDesigner.trace("evaluateXPathBoolean Elem='%s' XPath='%s' Expression='%s' Result=%s",t.id,i,n,r),r)},Ektron.SmartForm.evaluate=function(n,t){return new Function("return "+n).call({text:t+""})},Ektron.SmartForm.normalize_complete=function(n,t){Ektron.SmartForm.setValue(n,t)},Ektron.SmartForm.validate_complete=function(n,t,i){var u,f;design_validate_result=t;if(!n)return t;if(i&&"string"==typeof n.title){u=n.title.indexOf(i),u<0||(u>0&&"\n"==n.title.charAt(u-1)&&(u-=1),n.title=n.title.substring(0,u)),u=n.title.length-1;if(u>=0&&"\n"==n.title.charAt(u)){while(u>=0&&"\n"==n.title.charAt(u))u--;n.title=n.title.substring(0,u)}}t||i&&"string"==typeof n.title&&-1==n.title.indexOf(i)&&(n.title.length>0&&(n.title+=" \n"),n.title+=i),f=!1,"function"==typeof customValidationStyle&&(f=customValidationStyle(n,t)),!1===f&&r(n,t)},Ektron.RegExp.IsBlankWhitespace=new RegExp("^(\\s||&nbsp;|&#160;)+$","i"),Ektron.RegExp.IsBlankParagraph=new RegExp("^\\s*<p>(\\s||&nbsp;|&#160;)*<\\/p>\\s*$","i"),Ektron.RegExp.IsXhtmlBreakTagOnly=new RegExp("^\\s*<br\\s[^\\/]*/>\\s*$","i"),Ektron.RegExp.IsContentUsability=new RegExp("^\\s*<(p|span)[^>]+contentUsability[^>]+>(\\s||&nbsp;|&#160;)*<\\/\\1>\\s*$","i"),Ektron.SmartForm.isBlankContent=function(n){return Ektron.RegExp.IsBlankWhitespace.test(n)||Ektron.RegExp.IsBlankParagraph.test(n)||Ektron.RegExp.IsXhtmlBreakTagOnly.test(n)||Ektron.RegExp.IsContentUsability.test(n)},Ektron.SmartForm.focusOn=function(n){try{n.scrollIntoView()}catch(t){}try{n.focus()}catch(t){}}})(),Ektron.SmartForm.buildXslt||(function(){function t(n,t,i){var u=1,r=!1;return!n||!t?1:($ektron("*",n).each(function(){if(t==n)return r=!0,!1;i==this.getAttribute("ektdesignns_bind")&&u++}),r?u:1)}function n(t,i,r,u){var e,o,a,h,v,f,s,l,c;if(!t)return"";if("design_prototype"==t.className)return"";e=!0,o=t.getAttribute("ektdesignns_name");if("string"==typeof o&&o.length>0){Ektron.SmartForm.isContainerElement(t,t.tagName)?e=!0:(a=Ektron.SmartForm.serializeValue(t),e=typeof a!="undefined");if(e){h=t.getAttribute("ektdesignns_nodetype"),h||(h="element");switch(h){case"element":"/root"==r&&(v=t.getAttribute("ektdesignns_role"),"root"==v&&(r="")),r+="/"+o,f=u[r],"number"==typeof f?f++:f=1,u[r]=f,r+="["+f+"]";break;case"attribute":r+="/@"+o}}if(i==t)return r}if(e&&ekHasChildren(t))for(s="",l=$ektron(t).children(),c=0;c<l.length;c++){s=n(l.get(c),i,r,u);if(s.length>0)return s}return""}Ektron.SmartForm.buildXslt=function(n,t){t||(t="xml");return['<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">','<xsl:param name="currentDate" select="\'undefined\'"/>','<xsl:output method="'+t+'" version="1.0" encoding="UTF-8" indent="yes" omit-xml-declaration="yes"/>','<xsl:decimal-format NaN=""/>',n,'<xsl:template match="*|/">','    <xsl:apply-templates select="@*|node()"/>',"</xsl:template>",'<xsl:template match="text()|@*"/>',"</xsl:stylesheet>"].join("\n")},Ektron.SmartForm.getXPath=function(i,r){var f="/",e=Ektron.SmartForm.getContentElement(r),u;return e&&i&&(u=i.getAttribute("ektdesignns_bind"),f="string"==typeof u&&u.length>0?u+"#"+t(e,i,u):n(e,i,"/root",{})),f},Ektron.SmartForm.buildXpathrTemplate=function(n,t){var i="",r=n.indexOf("#");return-1==r?i=['<xsl:template match="'+n+'">',"    "+t,"</xsl:template>"].join("\n"):(sNumber=n.substring(r+1),n=n.substring(0,r),i=['<xsl:template match="'+n+'">','    <xsl:variable name="number">','        <xsl:number count="'+n+'" level="any"',"    </xsl:variable>",'    <xsl:if test="$number='+sNumber+'">',"        "+t,"    </xsl:if>","</xsl:template>"].join("\n")),i=Ektron.SmartForm.buildXslt(i)}})(),design_validate_result=!0,Ektron.DataListManager||(function(){function f(n){var t=[];$ektron("select[ektdesignns_datasrc], div.ektdesignns_choices[ektdesignns_datasrc], div.ektdesignns_checklist[ektdesignns_datasrc], div.design_choices[ektdesignns_datasrc], div.design_checklist[ektdesignns_datasrc]",n).each(function(){var n=this,o=n.getAttribute("ektdesignns_datasrc"),i=n.getAttribute("ektdesignns_datalist");if("string"==typeof i&&i.length>0){if("undefined"==typeof t[i]){var s=n.getAttribute("ektdesignns_dataselect"),e=n.getAttribute("ektdesignns_captionxpath"),r=n.getAttribute("ektdesignns_valuexpath"),f=n.getAttribute("ektdesignns_datanamespaces");t[i]=Ektron.DataListManager.getDataList(n.tagName,o,s,e,r,f)}t[i].length>0&&u(n,t[i])}})}function u(n,t){var s,c,o,f,e,u;if("SELECT"==n.tagName){for(s=0,c=n.getAttribute("ektdesignns_validation"),"select-req"==c&&(s=1),o="",f=0;f<n.options.length;f++)e=n.options[f],e.innerHTML=$ektron.htmlEncodeText(e.text),o+=Ektron.Xml.serializeXhtml(e);u=r(o,t,s),u=u.replace(/<select[^>]*>/,"").replace("</select>",""),$ektron(n).html(u),n.multiple&&n.size<2&&n.options.length>12&&(n.size=12)}else{var h=$ektron(n).children("OL").get(0),o=Ektron.Xml.serializeXhtml(h),u=i(o,t);u=u.replace(/<ol[^>]*>/,"").replace("</ol>",""),h.innerHTML=u}}function t(t,i,r,u,f,o,s){var l="",c,a,h;"undefined"==typeof o||null==o?o="":(l=e(o),l.length>0&&(l=' exclude-result-prefixes="'+l+'"')),c=(s||n.langType)+"",c.length>0&&(c="&LangType="+c),i=i.replace("&LangType=-1",c),a=['<?xml version="1.0"?>','<xsl:stylesheet version="1.0" '+l+' xmlns:xsl="http://www.w3.org/1999/XSL/Transform" '+o+">",'<xsl:output method="xml" version="1.0" omit-xml-declaration="yes" indent="yes"/>','<xsl:param name="localeUrl" select="\''+n.serverUrl+n.srcPath+"resourcexml.aspx?name=DataListSpec"+c.replace("&","&amp;")+"'\"/>",'<xsl:variable name="localeXml" select="document($localeUrl)/*"/>','<xsl:template match="/">',"  <select>",'  <xsl:for-each select="'+r+'">',"    <option>",'      <xsl:if test="'+f+'">','        <xsl:attribute name="value">','          <xsl:value-of select="'+f+'"/>',"        </xsl:attribute>","      </xsl:if>","      <xsl:choose>",'      \t <xsl:when test="@localeRef">','      \t   <xsl:value-of select="$localeXml/data[@name=current()/@localeRef]/value/text()"/>',"      \t </xsl:when>","      \t <xsl:otherwise>",'      \t   <xsl:value-of select="'+u+'"/>',"      \t </xsl:otherwise>","      </xsl:choose>","    </option>","  </xsl:for-each>","  </select>","</xsl:template>","</xsl:stylesheet>"].join("\n"),h=n.ekXml.xslTransform(i,a),h=$ektron.trim(h);if(h.indexOf("<option")<0&&0!=h.length){if(Ektron.Xml.onexception)Ektron.Xml.onexception(new Error("Function getDataList returned unexpected result.\n"+h),arguments);return""}return h}function i(t,i){var r="",o,s,e,u,f;return r=["<?xml version='1.0'?>",'<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:xslout="alias">','<xsl:namespace-alias stylesheet-prefix="xslout" result-prefix="xsl"/>','<xsl:template match="ol">','<xslout:variable name="nameID" select="\'{li/input/@name}\'"/>','<xslout:variable name="inputType" select="\'{li/input/@type}\'"/>',"</xsl:template>",'<xsl:template match="text()"/>',"</xsl:stylesheet>"].join("\n"),o=n.ekXml.xslTransform(t,r),r=["<?xml version='1.0'?>",'<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:xslout="alias">','<xsl:namespace-alias stylesheet-prefix="xslout" result-prefix="xsl"/>','<xsl:template match="/">',"\t<xsl:apply-templates/>","</xsl:template>",'<xsl:template match="ol/li/input[@checked]">','\t<xslout:if test="not(option[@value=xpathLiteralString{@value}gnirtSlaretiLhtapx])">','    \t<xsl:copy-of select=".."/>',"\t</xslout:if>","</xsl:template>",'<xsl:template match="text()"/>',"</xsl:stylesheet>"].join("\n"),s=n.ekXml.xslTransform(t,r),r=["<?xml version='1.0'?>",'<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:xslout="alias">','<xsl:namespace-alias stylesheet-prefix="xslout" result-prefix="xsl"/>','<xsl:template match="/">',"\t<xsl:for-each select=\"ol/li/input[1]/@*[starts-with(name(),'ektdesignns_')]\">",'\t\t<xslout:attribute name="{name()}"><xsl:value-of select="."/></xslout:attribute>',"\t</xsl:for-each>","\t<xsl:apply-templates/>","</xsl:template>",'<xsl:template match="ol/li/input[@checked]">','\t<xslout:if test="@value=xpathLiteralString{@value}gnirtSlaretiLhtapx">','           <xslout:attribute name="checked">checked</xslout:attribute>',"\t</xslout:if>","</xsl:template>",'<xsl:template match="text()"/>',"</xsl:stylesheet>"].join("\n"),e=n.ekXml.xslTransform(t,r),u=t.match(/<ol[^>]*>/)[0],r=["<?xml version='1.0'?>",'<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" exclude-result-prefixes="ektdesign" xmlns:ektdesign="urn:ektdesign">','<xsl:output method="xml" version="1.0" indent="yes" omit-xml-declaration="yes"/>',o,'<xsl:template match="/">',"\t"+u+"","        <xsl:apply-templates/>","    </ol>","</xsl:template>",'<xsl:template match="select">',s,'    <xsl:apply-templates select="node()"/>',"</xsl:template>",'<xsl:template match="option">','    <xsl:variable name="modelID" select="generate-id()"/>','    <xsl:variable name="displayOption" select="text()"/>','    <xsl:variable name="valueOption" select="@value"/>',"     <li>",'    <input type="{$inputType}" id="{$modelID}" title="{$displayOption}" value="{$valueOption}" name="{$nameID}">',e,"    </input>",'    <label for="{$modelID}"><xsl:value-of select="$displayOption"/></label>',"    </li>","</xsl:template>",'<xsl:template match="*">',"   <xsl:copy>",'       <xsl:copy-of select="@*"/>','       <xsl:apply-templates select="node()"/>',"   </xsl:copy>","</xsl:template>","</xsl:stylesheet>"].join("\n"),f=n.ekXml.xslTransform(i,r)}function r(t,i,r){var e,u,o,s,f;t="<select>"+t+"</select>",e="@selected","number"==typeof r&&(e+=" or position()&lt;="+r),u="",u=["<?xml version='1.0'?>",'<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:xslout="alias">','<xsl:namespace-alias stylesheet-prefix="xslout" result-prefix="xsl"/>','<xsl:template match="/">',"\t<xsl:apply-templates/>","</xsl:template>",'<xsl:template match="option['+e+']">','\t<xslout:if test="not(option[@value=xpathLiteralString{@value}gnirtSlaretiLhtapx])">','    \t<xsl:copy-of select="."/>',"\t</xslout:if>","</xsl:template>",'<xsl:template match="text()"/>',"</xsl:stylesheet>"].join("\n"),o=n.ekXml.xslTransform(t,u),u=["<?xml version='1.0'?>",'<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:xslout="alias">','<xsl:namespace-alias stylesheet-prefix="xslout" result-prefix="xsl"/>','<xsl:template match="/">',"\t<xsl:apply-templates/>","</xsl:template>",'<xsl:template match="option[@selected]">','\t<xslout:if test="@value=xpathLiteralString{@value}gnirtSlaretiLhtapx">','           <xslout:attribute name="selected">selected</xslout:attribute>',"\t</xslout:if>","</xsl:template>",'<xsl:template match="text()"/>',"</xsl:stylesheet>"].join("\n"),s=n.ekXml.xslTransform(t,u),u=["<?xml version='1.0'?>",'<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" exclude-result-prefixes="ektdesign" xmlns:ektdesign="urn:ektdesign">','<xsl:output method="xml" version="1.0" indent="yes" omit-xml-declaration="yes"/>','<xsl:template match="select">',"   <select>","   <!-- copy selected values that are not in the new data list -->",o,"   <!-- process option tags -->",'   <xsl:apply-templates select="node()"/>',"   </select>","</xsl:template>",'<xsl:template match="option">',"   <xsl:copy>","       <!-- copy attributes except 'selected' -->","       <xsl:copy-of select=\"@*[name() != 'selected']\"/>","       <!-- check if selected in the old data list -->",s,"       <!-- copy the text -->",'       <xsl:copy-of select="node()"/>',"       </xsl:copy>","</xsl:template>",'<xsl:template match="*"> ',"   <xsl:copy>",'       <xsl:copy-of select="@*"/>','       <xsl:apply-templates select="node()"/>',"   </xsl:copy>","</xsl:template>","</xsl:stylesheet>"].join("\n"),f=n.ekXml.xslTransform(i,u),f=$ektron.trim(f);if(f.indexOf("<option")<0&&0!=f.length){if(Ektron.Xml.onexception)Ektron.Xml.onexception(new Error("Function transformDataList returned unexpected result.\n"+f),arguments);return""}return f}function e(n){var r=[],i=n.match(/xmlns:\w+=['"][^'"]*['"]/g),u,t,f;if(null==i)return"";for(i.sort(),u="",t=0;t<i.length;t++)i[t]!=u&&(f=i[t].match(/xmlns:(\w+)=['"]([^'"]*)['"]/),r[r.length]=f[1],u=i[t]);return r.join(" ")}Ektron.DataListManager={init:function(i){i=$ektron.extend({serverUrl:location.protocol+"//"+location.host,srcPath:"",langType:"",ekXml:null},i),i.langType=i.langType+"",0==i.srcPath.indexOf(i.serverUrl)&&(i.srcPath=i.srcPath.substr(i.serverUrl.length)),n=i;if(!Ektron.Xml)throw new ReferenceError("Ektron.DataListManager depends on Ektron.Xml. Please include ektron.xml.js.");this.replaceDataLists=f,this.getDataList=t}};var n={}})()