//jquery.dimensions.js
(function($){var height=$.fn.height,width=$.fn.width;$.fn.extend({height:function(){if(this[0]==window)
return self.innerHeight||$.boxModel&&document.documentElement.clientHeight||document.body.clientHeight;if(this[0]==document)
return Math.max(document.body.scrollHeight,document.body.offsetHeight);return height.apply(this,arguments);},width:function(){if(this[0]==window)
return self.innerWidth||$.boxModel&&document.documentElement.clientWidth||document.body.clientWidth;if(this[0]==document)
return Math.max(document.body.scrollWidth,document.body.offsetWidth);return width.apply(this,arguments);},innerHeight:function(){return this[0]==window||this[0]==document?this.height():this.is(':visible')?this[0].offsetHeight-num(this,'borderTopWidth')-num(this,'borderBottomWidth'):this.height()+num(this,'paddingTop')+num(this,'paddingBottom');},innerWidth:function(){return this[0]==window||this[0]==document?this.width():this.is(':visible')?this[0].offsetWidth-num(this,'borderLeftWidth')-num(this,'borderRightWidth'):this.width()+num(this,'paddingLeft')+num(this,'paddingRight');},outerHeight:function(){return this[0]==window||this[0]==document?this.height():this.is(':visible')?this[0].offsetHeight:this.height()+num(this,'borderTopWidth')+num(this,'borderBottomWidth')+num(this,'paddingTop')+num(this,'paddingBottom');},outerWidth:function(){return this[0]==window||this[0]==document?this.width():this.is(':visible')?this[0].offsetWidth:this.width()+num(this,'borderLeftWidth')+num(this,'borderRightWidth')+num(this,'paddingLeft')+num(this,'paddingRight');},scrollLeft:function(val){if(val!=undefined)
return this.each(function(){if(this==window||this==document)
window.scrollTo(val,$(window).scrollTop());else
this.scrollLeft=val;});if(this[0]==window||this[0]==document)
return self.pageXOffset||$.boxModel&&document.documentElement.scrollLeft||document.body.scrollLeft;return this[0].scrollLeft;},scrollTop:function(val){if(val!=undefined)
return this.each(function(){if(this==window||this==document)
window.scrollTo($(window).scrollLeft(),val);else
this.scrollTop=val;});if(this[0]==window||this[0]==document)
return self.pageYOffset||$.boxModel&&document.documentElement.scrollTop||document.body.scrollTop;return this[0].scrollTop;},position:function(options,returnObject){var elem=this[0],parent=elem.parentNode,op=elem.offsetParent,options=$.extend({margin:false,border:false,padding:false,scroll:false},options||{}),x=elem.offsetLeft,y=elem.offsetTop,sl=elem.scrollLeft,st=elem.scrollTop;if($.browser.mozilla||$.browser.msie){x+=num(elem,'borderLeftWidth');y+=num(elem,'borderTopWidth');}
if(($.browser.safari||$.browser.opera)&&$.css(op,'position')!='static'){x-=num(op,'borderLeftWidth');y-=num(op,'borderTopWidth');}
if($.browser.mozilla){do{if(parent!=elem&&$.css(parent,'overflow')!='visible'){x+=num(parent,'borderLeftWidth');y+=num(parent,'borderTopWidth');}
if(parent==op)break;}while((parent=parent.parentNode)&&parent.tagName!='BODY');}
if($.browser.msie&&(op.tagName!='BODY'&&$.css(op,'position')=='static')){do{x+=op.offsetLeft;y+=op.offsetTop;x+=num(op,'borderLeftWidth');y+=num(op,'borderTopWidth');}while((op=op.offsetParent)&&(op.tagName!='BODY'&&$.css(op,'position')=='static'));}
var returnValue=handleOffsetReturn(elem,options,x,y,sl,st);if(returnObject){$.extend(returnObject,returnValue);return this;}
else{return returnValue;}},offset:function(options,returnObject){var x=0,y=0,sl=0,st=0,elem=this[0],parent=this[0],op,parPos,elemPos=$.css(elem,'position'),mo=$.browser.mozilla,ie=$.browser.msie,sf=$.browser.safari,oa=$.browser.opera,absparent=false,relparent=false,options=$.extend({margin:true,border:false,padding:false,scroll:true,lite:false},options||{});if(options.lite)return this.offsetLite(options,returnObject);if(elem.tagName=='BODY'){x=elem.offsetLeft;y=elem.offsetTop;if(mo){x+=num(elem,'marginLeft')+(num(elem,'borderLeftWidth')*2);y+=num(elem,'marginTop')+(num(elem,'borderTopWidth')*2);}else
if(oa){x+=num(elem,'marginLeft');y+=num(elem,'marginTop');}else
if(ie&&jQuery.boxModel){x+=num(elem,'borderLeftWidth');y+=num(elem,'borderTopWidth');}}else{do{parPos=$.css(parent,'position');x+=parent.offsetLeft;y+=parent.offsetTop;if(mo||ie){x+=num(parent,'borderLeftWidth');y+=num(parent,'borderTopWidth');if(mo&&parPos=='absolute')absparent=true;if(ie&&parPos=='relative')relparent=true;}
op=parent.offsetParent;if(options.scroll||mo){do{if(options.scroll){sl+=parent.scrollLeft;st+=parent.scrollTop;}
if(mo&&parent!=elem&&$.css(parent,'overflow')!='visible'){x+=num(parent,'borderLeftWidth');y+=num(parent,'borderTopWidth');}
parent=parent.parentNode;}while(parent!=op);}
parent=op;if(parent.tagName=='BODY'||parent.tagName=='HTML'){if((sf||(ie&&$.boxModel))&&elemPos!='absolute'&&elemPos!='fixed'){x+=num(parent,'marginLeft');y+=num(parent,'marginTop');}
if((mo&&!absparent&&elemPos!='fixed')||(ie&&elemPos=='static'&&!relparent)){x+=num(parent,'borderLeftWidth');y+=num(parent,'borderTopWidth');}
break;}}while(parent);}
var returnValue=handleOffsetReturn(elem,options,x,y,sl,st);if(returnObject){$.extend(returnObject,returnValue);return this;}
else{return returnValue;}},offsetLite:function(options,returnObject){var x=0,y=0,sl=0,st=0,parent=this[0],op,options=$.extend({margin:true,border:false,padding:false,scroll:true},options||{});do{x+=parent.offsetLeft;y+=parent.offsetTop;op=parent.offsetParent;if(options.scroll){do{sl+=parent.scrollLeft;st+=parent.scrollTop;parent=parent.parentNode;}while(parent!=op);}
parent=op;}while(parent&&parent.tagName!='BODY'&&parent.tagName!='HTML');var returnValue=handleOffsetReturn(this[0],options,x,y,sl,st);if(returnObject){$.extend(returnObject,returnValue);return this;}
else{return returnValue;}}});var num=function(el,prop){return parseInt($.css(el.jquery?el[0]:el,prop))||0;};var handleOffsetReturn=function(elem,options,x,y,sl,st){if(!options.margin){x-=num(elem,'marginLeft');y-=num(elem,'marginTop');}
if(options.border&&($.browser.safari||$.browser.opera)){x+=num(elem,'borderLeftWidth');y+=num(elem,'borderTopWidth');}else if(!options.border&&!($.browser.safari||$.browser.opera)){x-=num(elem,'borderLeftWidth');y-=num(elem,'borderTopWidth');}
if(options.padding){x+=num(elem,'paddingLeft');y+=num(elem,'paddingTop');}
if(options.scroll){sl-=elem.scrollLeft;st-=elem.scrollTop;}
return options.scroll?{top:y-st,left:x-sl,scrollTop:st,scrollLeft:sl}:{top:y,left:x};};})(jQuery);
//jquery.suggest.js
(function($){$.suggest=function(input,options){var $input=$(input).attr("autocomplete","off");var $results=$(document.createElement("ul"));var timeout=false;var prevLength=0;var cache=[];var cacheSize=0;$results.addClass(options.resultsClass).appendTo('body');resetPosition();$(window).load(resetPosition).resize(resetPosition);$input.blur(function(){setTimeout(function(){$results.hide()},200);});try{$results.bgiframe();}catch(e){}
if($.browser.mozilla)
$input.keypress(processKey);else
$input.keydown(processKey);function resetPosition(){var offset=$input.offset();$results.css({top:(offset.top+input.offsetHeight)+'px',left:offset.left+'px'});}
function processKey(e){if((/27$|38$|40$/.test(e.keyCode)&&$results.is(':visible'))||(/^13$|^9$/.test(e.keyCode)&&getCurrentResult())){if(e.preventDefault)
e.preventDefault();if(e.stopPropagation)
e.stopPropagation();e.cancelBubble=true;e.returnValue=false;switch(e.keyCode){case 38:prevResult();break;case 40:nextResult();break;case 9:case 13:selectCurrentResult();break;case 27:$results.hide();break;}}else if($input.val().length!=prevLength){if(timeout)
clearTimeout(timeout);timeout=setTimeout(suggest,options.delay);prevLength=$input.val().length;}}
function suggest(){var q=$.trim($input.val());if(q.length>=options.minchars){cached=checkCache(q);if(cached){displayItems(cached['items']);}else{$.getJSON(options.source+"&q="+escape(q)+"&callback=?",function(data){$results.hide();var items=parseTxt(data.value,q);displayItems(items);addToCache(q,items,data.value.length);});}}else{$results.hide();}}
function checkCache(q){for(var i=0;i<cache.length;i++)
if(cache[i]['q']==q){cache.unshift(cache.splice(i,1)[0]);return cache[0];}
return false;}
function addToCache(q,items,size){while(cache.length&&(cacheSize+size>options.maxCacheSize)){var cached=cache.pop();cacheSize-=cached['size'];}
cache.push({q:q,size:size,items:items});cacheSize+=size;}
function displayItems(items){if(!items)
return;if(!items.length){$results.hide();return;}
var html='';for(var i=0;i<items.length;i++)
html+='<li>'+items[i]+'</li>';$results.html(html).show();$results.children('li').mouseover(function(){$results.children('li').removeClass(options.selectClass);$(this).addClass(options.selectClass);}).click(function(e){e.preventDefault();e.stopPropagation();selectCurrentResult();});}
function parseTxt(txt,q){var items=[];var tokens=txt.split(options.delimiter);for(var i=0;i<tokens.length;i++){var token=$.trim(tokens[i]);if(token){token=token.replace(new RegExp(q,'ig'),function(q){return'<span class="'+options.matchClass+'">'+q+'</span>'});items[items.length]=token;}}
return items;}
function getCurrentResult(){if(!$results.is(':visible'))
return false;var $currentResult=$results.children('li.'+options.selectClass);if(!$currentResult.length)
$currentResult=false;return $currentResult;}
function selectCurrentResult(){$currentResult=getCurrentResult();if($currentResult){$input.val($currentResult.text());$results.hide();if(options.onSelect)
options.onSelect.apply($input[0]);}}
function nextResult(){$currentResult=getCurrentResult();if($currentResult)
$currentResult.removeClass(options.selectClass).next().addClass(options.selectClass);else
$results.children('li:first-child').addClass(options.selectClass);}
function prevResult(){$currentResult=getCurrentResult();if($currentResult)
$currentResult.removeClass(options.selectClass).prev().addClass(options.selectClass);else
$results.children('li:last-child').addClass(options.selectClass);}}
$.fn.suggest = function (source, options) {
    if(!source)
        return;
    options = options || {};
    options.source = source;
    options.delay = options.delay || 100;
    options.resultsClass = options.resultsClass || 'ac_results';
    options.selectClass = options.selectClass || 'ac_over';
    options.matchClass = options.matchClass || 'ac_match';
    options.minchars = options.minchars || 3;
    options.delimiter = options.delimiter || ';';
    options.onSelect = options.onSelect || false;
    options.maxCacheSize = options.maxCacheSize || 65536;
    this.each(function () {
        new $.suggest(this, options);
    });
    return this;
    };
})(jQuery);

/* jQuery Cycle Plugin (with Transition Definitions) http://malsup.com/jquery/cycle/ */
;eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}(';(4($){8 q=\'2.28\';8 r=$.2p.24&&/3G 6.0/.1A(4n.4m);4 1r(){7(2v.27&&2v.27.1r)2v.27.1r(\'[B] \'+3w.3v.3F.3E(2X,\'\'))};$.E.B=4(m){8 n=2X[1];O x.1t(4(){7(m===3t||m===P)m={};7(m.25==2C){3s(m){2a\'3r\':7(x.S)1v(x.S);x.S=0;$(x).1I(\'B.1R\',\'\');O;2a\'2h\':x.1g=1;O;2a\'2L\':x.1g=0;7(n===2l){m=$(x).1I(\'B.1R\');7(!m){1r(\'2O 1n 2S, 2T 1n 2L\');O}7(x.S){1v(x.S);x.S=0}1l(m.1X,m,1,1)}O;3W:m={1o:m}}}Q 7(m.25==47){8 c=m;m=$(x).1I(\'B.1R\');7(!m){1r(\'2O 1n 2S, 2T 1n 22 2Z\');O}7(c<0||c>=m.1X.L){1r(\'4l 2Z 1L: \'+c);O}m.N=c;7(x.S){1v(x.S);x.S=0}1l(m.1X,m,1,c>=m.1f);O}7(x.S)1v(x.S);x.S=0;x.1g=0;8 d=$(x);8 e=m.2r?$(m.2r,x):d.3i();8 f=e.3h();7(f.L<2){1r(\'3g; 3o 3k 3n: \'+f.L);O}8 g=$.3p({},$.E.B.2E,m||{},$.2F?d.2F():$.3q?d.1I():{});7(g.2e)g.2d=g.2f||f.L;d.1I(\'B.1R\',g);g.1w=x;g.1X=f;g.I=g.I?[g.I]:[];g.1j=g.1j?[g.1j]:[];g.1j.2J(4(){g.2i=0});7(g.1z)g.1j.J(4(){1l(f,g,0,!g.1x)});7(r&&g.21&&!g.2N)2m(e);8 h=x.3D;g.D=T((h.1F(/w:(\\d+)/)||[])[1])||g.D;g.C=T((h.1F(/h:(\\d+)/)||[])[1])||g.C;g.V=T((h.1F(/t:(\\d+)/)||[])[1])||g.V;7(d.u(\'1Z\')==\'3V\')d.u(\'1Z\',\'3R\');7(g.D)d.D(g.D);7(g.C&&g.C!=\'20\')d.C(g.C);7(g.1a)g.1a=T(g.1a);7(g.1k){g.1q=[];1J(8 i=0;i<f.L;i++)g.1q.J(i);g.1q.42(4(a,b){O 46.1k()-0.5});g.14=0;g.1a=g.1q[0]}Q 7(g.1a>=f.L)g.1a=0;8 j=g.1a||0;e.u({1Z:\'32\',A:0,9:0}).W().1t(4(i){8 z=j?i>=j?f.L-(i-j):j-i:f.L-i;$(x).u(\'z-1L\',z)});$(f[j]).u(\'1h\',1).U();7($.2p.24)f[j].35.2A(\'2t\');7(g.1m&&g.D)e.D(g.D);7(g.1m&&g.C&&g.C!=\'20\')e.C(g.C);7(g.2h)d.2z(4(){x.1g=1},4(){x.1g=0});8 k=$.E.B.M[g.1o];7($.2B(k))k(d,e,g);Q 7(g.1o!=\'2w\')1r(\'3f 3e: \'+g.1o);e.1t(4(){8 a=$(x);x.Y=(g.1m&&g.C)?g.C:a.C();x.12=(g.1m&&g.D)?g.D:a.D()});g.y=g.y||{};g.H=g.H||{};g.G=g.G||{};e.1n(\':26(\'+j+\')\').u(g.y);7(g.1e)$(e[j]).u(g.1e);7(g.V){g.V=T(g.V);7(g.19.25==2C)g.19=$.1o.3j[g.19]||T(g.19);7(!g.1N)g.19=g.19/2;3m((g.V-g.19)<3l)g.V+=g.19}7(g.2b)g.1O=g.1P=g.2b;7(!g.1u)g.1u=g.19;7(!g.1G)g.1G=g.19;g.2D=f.L;g.1f=j;7(g.1k){g.N=g.1f;7(++g.14==f.L)g.14=0;g.N=g.1q[g.14]}Q g.N=g.1a>=(f.L-1)?0:g.1a+1;8 l=e[j];7(g.I.L)g.I[0].1Q(l,[l,l,g,2l]);7(g.1j.L>1)g.1j[1].1Q(l,[l,l,g,2l]);7(g.1H&&!g.18)g.18=g.1H;7(g.18)$(g.18).2c(\'1H\',4(){O 22(f,g,g.1x?-1:1)});7(g.29)$(g.29).2c(\'1H\',4(){O 22(f,g,g.1x?1:-1)});7(g.1p)2H(f,g);g.3u=4(a){8 b=$(a),s=b[0];7(!g.2f)g.2d++;f.J(s);7(g.1c)g.1c.J(s);g.2D=f.L;b.u(\'1Z\',\'32\').2G(d);7(r&&g.21&&!g.2N)2m(b);7(g.1m&&g.D)b.D(g.D);7(g.1m&&g.C&&g.C!=\'20\')e.C(g.C);s.Y=(g.1m&&g.C)?g.C:b.C();s.12=(g.1m&&g.D)?g.D:b.D();b.u(g.y);7(g.1p)$.E.B.2g(f.L-1,s,$(g.1p),f,g);7(1V g.11==\'4\')g.11(b)};7(g.V||g.1z)x.S=1S(4(){1l(f,g,0,!g.1x)},g.1z?10:g.V+(g.2I||0))})};4 1l(a,b,c,d){7(b.2i)O;8 p=b.1w,1y=a[b.1f],18=a[b.N];7(p.S===0&&!c)O;7(!c&&!p.1g&&((b.2e&&(--b.2d<=0))||(b.1T&&!b.1k&&b.N<b.1f))){7(b.2j)b.2j(b);O}7(c||!p.1g){7(b.I.L)$.1t(b.I,4(i,o){o.1Q(18,[1y,18,b,d])});8 e=4(){7($.2p.24&&b.21)x.35.2A(\'2t\');$.1t(b.1j,4(i,o){o.1Q(18,[1y,18,b,d])})};7(b.N!=b.1f){b.2i=1;7(b.1U)b.1U(1y,18,b,e,d);Q 7($.2B($.E.B[b.1o]))$.E.B[b.1o](1y,18,b,e);Q $.E.B.2w(1y,18,b,e,c&&b.2K)}7(b.1k){b.1f=b.N;7(++b.14==a.L)b.14=0;b.N=b.1q[b.14]}Q{8 f=(b.N+1)==a.L;b.N=f?0:b.N+1;b.1f=f?a.L-1:b.N-1}7(b.1p)$.E.B.2k(b.1p,b.1f)}7(b.V&&!b.1z)p.S=1S(4(){1l(a,b,0,!b.1x)},b.V);Q 7(b.1z&&p.1g)p.S=1S(4(){1l(a,b,0,!b.1x)},10)};$.E.B.2k=4(a,b){$(a).3y(\'a\').3x(\'2M\').2t(\'a:26(\'+b+\')\').3z(\'2M\')};4 22(a,b,c){8 p=b.1w,V=p.S;7(V){1v(V);p.S=0}7(b.1k&&c<0){b.14--;7(--b.14==-2)b.14=a.L-2;Q 7(b.14==-1)b.14=a.L-1;b.N=b.1q[b.14]}Q 7(b.1k){7(++b.14==a.L)b.14=0;b.N=b.1q[b.14]}Q{b.N=b.1f+c;7(b.N<0){7(b.1T)O 23;b.N=a.L-1}Q 7(b.N>=a.L){7(b.1T)O 23;b.N=0}}7(b.1W&&1V b.1W==\'4\')b.1W(c>0,b.N,a[b.N]);1l(a,b,1,c>=0);O 23};4 2H(a,b){8 c=$(b.1p);$.1t(a,4(i,o){$.E.B.2g(i,o,c,a,b)});$.E.B.2k(b.1p,b.1a)};$.E.B.2g=4(i,a,b,c,d){8 e=(1V d.2n==\'4\')?$(d.2n(i,a)):$(\'<a 3A="#">\'+(i+1)+\'</a>\');7(e.3C(\'3B\').L==0)e.2G(b);e.2c(d.2Q,4(){d.N=i;8 p=d.1w,V=p.S;7(V){1v(V);p.S=0}7(1V d.2o==\'4\')d.2o(d.N,c[d.N]);1l(c,d,1,d.1f<i);O 23});7(d.2P)e.2z(4(){d.1w.1g=1},4(){d.1w.1g=0})};4 2m(b){4 1M(s){8 s=T(s).3N(16);O s.L<2?\'0\'+s:s};4 2R(e){1J(;e&&e.3H.3M()!=\'3J\';e=e.3I){8 v=$.u(e,\'2V-2U\');7(v.3L(\'3K\')>=0){8 a=v.1F(/\\d+/g);O\'#\'+1M(a[0])+1M(a[1])+1M(a[2])}7(v&&v!=\'3P\')O v}O\'#3O\'};b.1t(4(){$(x).u(\'2V-2U\',2R(x))})};$.E.B.2w=4(a,b,c,d,e){8 f=$(a),$n=$(b);$n.u(c.y);8 g=e?1:c.1u;8 h=e?1:c.1G;8 i=e?P:c.1O;8 j=e?P:c.1P;8 k=4(){$n.1Y(c.H,g,i,d)};f.1Y(c.G,h,j,4(){7(c.K)f.u(c.K);7(!c.1N)k()});7(c.1N)k()};$.E.B.M={2W:4(a,b,c){b.1n(\':26(\'+c.1a+\')\').u(\'1h\',0);c.I.J(4(){$(x).U()});c.H={1h:1};c.G={1h:0};c.y={1h:0};c.K={R:\'X\'}}};$.E.B.3Q=4(){O q};$.E.B.2E={1o:\'2W\',V:3U,1z:0,19:3S,1u:P,1G:P,18:P,29:P,1W:P,1p:P,2o:P,2Q:\'1H\',2n:P,I:P,1j:P,2j:P,2b:P,1O:P,1P:P,1K:P,H:P,G:P,y:P,K:P,1U:P,C:\'20\',1a:0,1N:1,1k:0,1m:0,2h:0,2P:0,2e:0,2f:0,2I:0,2r:P,21:0,1T:0,2K:0}})(2Y);(4($){$.E.B.M.3T=4(d,e,f){d.u(\'17\',\'1b\');f.I.J(4(a,b,c){$(x).U();c.y.A=b.1B;c.G.A=0-a.1B});f.1e={A:0};f.H={A:0};f.K={R:\'X\'}};$.E.B.M.3Z=4(d,e,f){d.u(\'17\',\'1b\');f.I.J(4(a,b,c){$(x).U();c.y.A=0-b.1B;c.G.A=a.1B});f.1e={A:0};f.H={A:0};f.K={R:\'X\'}};$.E.B.M.3X=4(d,e,f){d.u(\'17\',\'1b\');f.I.J(4(a,b,c){$(x).U();c.y.9=b.1C;c.G.9=0-a.1C});f.1e={9:0};f.H={9:0}};$.E.B.M.3Y=4(d,e,f){d.u(\'17\',\'1b\');f.I.J(4(a,b,c){$(x).U();c.y.9=0-b.1C;c.G.9=a.1C});f.1e={9:0};f.H={9:0}};$.E.B.M.41=4(f,g,h){f.u(\'17\',\'1b\').D();h.I.J(4(a,b,c,d){$(x).U();8 e=a.1C,2q=b.1C;c.y=d?{9:2q}:{9:-2q};c.H.9=0;c.G.9=d?-e:e;g.1n(a).u(c.y)});h.1e={9:0};h.K={R:\'X\'}};$.E.B.M.40=4(f,g,h){f.u(\'17\',\'1b\');h.I.J(4(a,b,c,d){$(x).U();8 e=a.1B,2s=b.1B;c.y=d?{A:-2s}:{A:2s};c.H.A=0;c.G.A=d?e:-e;g.1n(a).u(c.y)});h.1e={A:0};h.K={R:\'X\'}};$.E.B.M.43=4(d,e,f){f.I.J(4(a,b,c){$(a).u(\'F\',1)});f.11=4(a){a.W()};f.y={F:2};f.H={D:\'U\'};f.G={D:\'W\'}};$.E.B.M.44=4(d,e,f){f.I.J(4(a,b,c){$(a).u(\'F\',1)});f.11=4(a){a.W()};f.y={F:2};f.H={C:\'U\'};f.G={C:\'W\'}};$.E.B.M.1K=4(g,h,j){8 w=g.u(\'17\',\'30\').D();h.u({9:0,A:0});j.I.J(4(){$(x).U()});j.19=j.19/2;j.1k=0;j.1K=j.1K||{9:-w,A:15};j.1c=[];1J(8 i=0;i<h.L;i++)j.1c.J(h[i]);1J(8 i=0;i<j.1a;i++)j.1c.J(j.1c.31());j.1U=4(a,b,c,d,e){8 f=e?$(a):$(b);f.1Y(c.1K,c.1u,c.1O,4(){e?c.1c.J(c.1c.31()):c.1c.2J(c.1c.45());7(e)1J(8 i=0,2u=c.1c.L;i<2u;i++)$(c.1c[i]).u(\'z-1L\',2u-i);Q{8 z=$(a).u(\'z-1L\');f.u(\'z-1L\',T(z)+1)}f.1Y({9:0,A:0},c.1G,c.1P,4(){$(e?x:a).W();7(d)d()})})};j.11=4(a){a.W()}};$.E.B.M.4e=4(d,e,f){f.I.J(4(a,b,c){$(x).U();c.y.A=b.Y;c.H.C=b.Y});f.11=4(a){a.W()};f.1e={A:0};f.y={C:0};f.H={A:0};f.G={C:0};f.K={R:\'X\'}};$.E.B.M.4a=4(d,e,f){f.I.J(4(a,b,c){$(x).U();c.H.C=b.Y;c.G.A=a.Y});f.11=4(a){a.W()};f.1e={A:0};f.y={A:0,C:0};f.G={C:0};f.K={R:\'X\'}};$.E.B.M.49=4(d,e,f){f.I.J(4(a,b,c){$(x).U();c.y.9=b.12;c.H.D=b.12});f.11=4(a){a.W()};f.y={D:0};f.H={9:0};f.G={D:0};f.K={R:\'X\'}};$.E.B.M.48=4(d,e,f){f.I.J(4(a,b,c){$(x).U();c.H.D=b.12;c.G.9=a.12});f.11=4(a){a.W()};f.y={9:0,D:0};f.H={9:0};f.G={D:0};f.K={R:\'X\'}};$.E.B.M.33=4(d,e,f){f.1e={A:0,9:0};f.K={R:\'X\'};f.I.J(4(a,b,c){$(x).U();c.y={D:0,C:0,A:b.Y/2,9:b.12/2};c.K={R:\'X\'};c.H={A:0,9:0,D:b.12,C:b.Y};c.G={D:0,C:0,A:a.Y/2,9:a.12/2};$(a).u(\'F\',2);$(b).u(\'F\',1)});f.11=4(a){a.W()}};$.E.B.M.4d=4(d,e,f){f.I.J(4(a,b,c){c.y={D:0,C:0,1h:1,9:b.12/2,A:b.Y/2,F:1};c.H={A:0,9:0,D:b.12,C:b.Y}});f.G={1h:0};f.K={F:0}};$.E.B.M.4c=4(d,e,f){8 w=d.u(\'17\',\'1b\').D();e.U();f.I.J(4(a,b,c){$(a).u(\'F\',1)});f.y={9:w,F:2};f.K={F:1};f.H={9:0};f.G={9:w}};$.E.B.M.4b=4(d,e,f){8 h=d.u(\'17\',\'1b\').C();e.U();f.I.J(4(a,b,c){$(a).u(\'F\',1)});f.y={A:h,F:2};f.K={F:1};f.H={A:0};f.G={A:h}};$.E.B.M.4k=4(d,e,f){8 h=d.u(\'17\',\'1b\').C();8 w=d.D();e.U();f.I.J(4(a,b,c){$(a).u(\'F\',1)});f.y={A:h,9:w,F:2};f.K={F:1};f.H={A:0,9:0};f.G={A:h,9:w}};$.E.B.M.4h=4(d,e,f){f.I.J(4(a,b,c){c.y={9:x.12/2,D:0,F:2};c.H={9:0,D:x.12};c.G={9:0};$(a).u(\'F\',1)});f.11=4(a){a.W().u(\'F\',1)}};$.E.B.M.4g=4(d,e,f){f.I.J(4(a,b,c){c.y={A:x.Y/2,C:0,F:2};c.H={A:0,C:x.Y};c.G={A:0};$(a).u(\'F\',1)});f.11=4(a){a.W().u(\'F\',1)}};$.E.B.M.4f=4(d,e,f){f.I.J(4(a,b,c){c.y={9:b.12/2,D:0,F:1,R:\'1D\'};c.H={9:0,D:x.12};c.G={9:a.12/2,D:0};$(a).u(\'F\',2)});f.11=4(a){a.W()};f.K={F:1,R:\'X\'}};$.E.B.M.4j=4(d,e,f){f.I.J(4(a,b,c){c.y={A:b.Y/2,C:0,F:1,R:\'1D\'};c.H={A:0,C:x.Y};c.G={A:a.Y/2,C:0};$(a).u(\'F\',2)});f.11=4(a){a.W()};f.K={F:1,R:\'X\'}};$.E.B.M.4i=4(e,f,g){8 d=g.36||\'9\';8 w=e.u(\'17\',\'1b\').D();8 h=e.C();g.I.J(4(a,b,c){c.y=c.y||{};c.y.F=2;c.y.R=\'1D\';7(d==\'2y\')c.y.9=-w;Q 7(d==\'2x\')c.y.A=h;Q 7(d==\'34\')c.y.A=-h;Q c.y.9=w;$(a).u(\'F\',1)});7(!g.H)g.H={9:0,A:0};7(!g.G)g.G={9:0,A:0};g.K=g.K||{};g.K.F=2;g.K.R=\'X\'};$.E.B.M.3d=4(e,f,g){8 d=g.36||\'9\';8 w=e.u(\'17\',\'1b\').D();8 h=e.C();g.I.J(4(a,b,c){c.y.R=\'1D\';7(d==\'2y\')c.G.9=w;Q 7(d==\'2x\')c.G.A=-h;Q 7(d==\'34\')c.G.A=h;Q c.G.9=-w;$(a).u(\'F\',2);$(b).u(\'F\',1)});g.11=4(a){a.W()};7(!g.H)g.H={9:0,A:0};g.y=g.y||{};g.y.A=0;g.y.9=0;g.K=g.K||{};g.K.F=1;g.K.R=\'X\'};$.E.B.M.39=4(d,e,f){8 w=d.u(\'17\',\'30\').D();8 h=d.C();f.I.J(4(a,b,c){$(a).u(\'F\',2);c.y.R=\'1D\';7(!c.G.9&&!c.G.A)c.G={9:w*2,A:-h/2,1h:0};Q c.G.1h=0});f.11=4(a){a.W()};f.y={9:0,A:0,F:1,1h:1};f.H={9:0};f.K={F:2,R:\'X\'}};$.E.B.M.38=4(o,p,q){8 w=o.u(\'17\',\'1b\').D();8 h=o.C();q.y=q.y||{};8 s;7(q.1i){7(/37/.1A(q.1i))s=\'1s(1d 1d \'+h+\'Z 1d)\';Q 7(/3c/.1A(q.1i))s=\'1s(1d \'+w+\'Z \'+h+\'Z \'+w+\'Z)\';Q 7(/3b/.1A(q.1i))s=\'1s(1d \'+w+\'Z 1d 1d)\';Q 7(/3a/.1A(q.1i))s=\'1s(\'+h+\'Z \'+w+\'Z \'+h+\'Z 1d)\';Q 7(/33/.1A(q.1i)){8 t=T(h/2);8 l=T(w/2);s=\'1s(\'+t+\'Z \'+l+\'Z \'+t+\'Z \'+l+\'Z)\'}}q.y.1i=q.y.1i||s||\'1s(1d 1d 1d 1d)\';8 d=q.y.1i.1F(/(\\d+)/g);8 t=T(d[0]),r=T(d[1]),b=T(d[2]),l=T(d[3]);q.I.J(4(g,i,j){7(g==i)O;8 k=$(g).u(\'F\',2);8 m=$(i).u({F:3,R:\'1D\'});8 n=1,1E=T((j.1u/13))-1;4 f(){8 a=t?t-T(n*(t/1E)):0;8 c=l?l-T(n*(l/1E)):0;8 d=b<h?b+T(n*((h-b)/1E||1)):h;8 e=r<w?r+T(n*((w-r)/1E||1)):w;m.u({1i:\'1s(\'+a+\'Z \'+e+\'Z \'+d+\'Z \'+c+\'Z)\'});(n++<=1E)?1S(f,13):k.u(\'R\',\'X\')}f()});q.K={};q.H={9:0};q.G={9:0}}})(2Y);',62,272,'||||function|||if|var|left|||||||||||||||||||||css|||this|cssBefore||top|cycle|height|width|fn|zIndex|animOut|animIn|before|push|cssAfter|length|transitions|nextSlide|return|null|else|display|cycleTimeout|parseInt|show|timeout|hide|none|cycleH|px||onAddSlide|cycleW||randomIndex|||overflow|next|speed|startingSlide|hidden|els|0px|cssFirst|currSlide|cyclePause|opacity|clip|after|random|go|fit|not|fx|pager|randomMap|log|rect|each|speedIn|clearTimeout|container|rev|curr|continuous|test|offsetHeight|offsetWidth|block|count|match|speedOut|click|data|for|shuffle|index|hex|sync|easeIn|easeOut|apply|opts|setTimeout|nowrap|fxFn|typeof|prevNextClick|elements|animate|position|auto|cleartype|advance|false|msie|constructor|eq|console||prev|case|easing|bind|countdown|autostop|autostopCount|createPagerAnchor|pause|busy|end|updateActivePagerLink|true|clearTypeFix|pagerAnchorBuilder|pagerClick|browser|nextW|slideExpr|nextH|filter|len|window|custom|up|right|hover|removeAttribute|isFunction|String|slideCount|defaults|metadata|appendTo|buildPager|delay|unshift|fastOnEvent|resume|activeSlide|cleartypeNoBg|options|pauseOnPagerHover|pagerEvent|getBg|found|can|color|background|fade|arguments|jQuery|slide|visible|shift|absolute|zoom|down|style|direction|l2r|wipe|toss|b2t|t2b|r2l|uncover|transition|unknown|terminating|get|children|speeds|few|250|while|slides|too|extend|meta|stop|switch|undefined|addSlide|prototype|Array|removeClass|find|addClass|href|body|parents|className|call|join|MSIE|nodeName|parentNode|html|rgb|indexOf|toLowerCase|toString|ffffff|transparent|ver|relative|1000|scrollUp|4000|static|default|scrollLeft|scrollRight|scrollDown|scrollVert|scrollHorz|sort|slideX|slideY|pop|Math|Number|turnRight|turnLeft|turnDown|blindY|blindX|fadeZoom|turnUp|curtainX|growY|growX|cover|curtainY|blindZ|invalid|userAgent|navigator'.split('|'),0,{}));

/* jCarouselLite - http://gmarwaha.com/jquery/jcarousellite/ */
(function($){$.fn.jCarouselLite=function(o){o=$.extend({btnPrev:null,btnNext:null,btnGo:null,mouseWheel:false,auto:3000,speed:800,easing:null,vertical:false,circular:true,visible:4,start:0,scroll:1,beforeStart:null,afterEnd:null},o||{});return this.each(function(){var running=false,animCss=o.vertical?"top":"left",sizeCss=o.vertical?"height":"width";var div=$(this),ul=$("ul",div),tLi=$("li",ul),tl=tLi.size(),v=o.visible;if(o.circular){ul.prepend(tLi.slice(tl-v-1+1).clone()).append(tLi.slice(0,v).clone());o.start+=v;}
var li=$("li",ul),itemLength=li.size(),curr=o.start;div.css("visibility","visible");li.css({overflow:"hidden",float:o.vertical?"none":"left"});ul.css({margin:"0",padding:"0",position:"relative","list-style-type":"none","z-index":"1"});div.css({overflow:"hidden",position:"relative","z-index":"2",left:"0px"});var liSize=o.vertical?height(li):width(li);var ulSize=liSize*itemLength;var divSize=liSize*v;li.css({width:li.width(),height:li.height()});ul.css(sizeCss,ulSize+"px").css(animCss,-(curr*liSize));div.css(sizeCss,divSize+"px");if(o.btnPrev)
$(o.btnPrev).click(function(){return go(curr-o.scroll);});if(o.btnNext)
$(o.btnNext).click(function(){return go(curr+o.scroll);});if(o.btnGo)
$.each(o.btnGo,function(i,val){$(val).click(function(){return go(o.circular?o.visible+i:i);});});if(o.mouseWheel&&div.mousewheel)
div.mousewheel(function(e,d){return d>0?go(curr-o.scroll):go(curr+o.scroll);});if(o.auto)
setInterval(function(){go(curr+o.scroll);},o.auto+o.speed);function vis(){return li.slice(curr).slice(0,v);};function go(to){if(!running){if(o.beforeStart)
o.beforeStart.call(this,vis());if(o.circular){if(to<=o.start-v-1){ul.css(animCss,-((itemLength-(v*2))*liSize)+"px");curr=to==o.start-v-1?itemLength-(v*2)-1:itemLength-(v*2)-o.scroll;}else if(to>=itemLength-v+1){ul.css(animCss,-((v)*liSize)+"px");curr=to==itemLength-v+1?v+1:v+o.scroll;}else curr=to;}else{if(to<0||to>itemLength-v)return;else curr=to;}
running=true;ul.animate(animCss=="left"?{left:-(curr*liSize)}:{top:-(curr*liSize)},o.speed,o.easing,function(){if(o.afterEnd)
o.afterEnd.call(this,vis());running=false;});if(!o.circular){$(o.btnPrev+","+o.btnNext).removeClass("disabled");$((curr-o.scroll<0&&o.btnPrev)||(curr+o.scroll>itemLength-v&&o.btnNext)||[]).addClass("disabled");}}
return false;};});};function css(el,prop){return parseInt($.css(el[0],prop))||0;};function width(el){return el[0].offsetWidth+css(el,'marginLeft')+css(el,'marginRight');};function height(el){return el[0].offsetHeight+css(el,'marginTop')+css(el,'marginBottom');};})(jQuery);

/* jQuery Easing v1.3 - http://gsgd.co.uk/sandbox/jquery/easing/ */
jQuery.easing['jswing']=jQuery.easing['swing'];jQuery.extend(jQuery.easing,{def:'easeOutQuad',swing:function(x,t,b,c,d){return jQuery.easing[jQuery.easing.def](x,t,b,c,d);},easeInQuad:function(x,t,b,c,d){return c*(t/=d)*t+b;},easeOutQuad:function(x,t,b,c,d){return-c*(t/=d)*(t-2)+b;},easeInOutQuad:function(x,t,b,c,d){if((t/=d/2)<1)return c/2*t*t+b;return-c/2*((--t)*(t-2)-1)+b;},easeInCubic:function(x,t,b,c,d){return c*(t/=d)*t*t+b;},easeOutCubic:function(x,t,b,c,d){return c*((t=t/d-1)*t*t+1)+b;},easeInOutCubic:function(x,t,b,c,d){if((t/=d/2)<1)return c/2*t*t*t+b;return c/2*((t-=2)*t*t+2)+b;},easeInQuart:function(x,t,b,c,d){return c*(t/=d)*t*t*t+b;},easeOutQuart:function(x,t,b,c,d){return-c*((t=t/d-1)*t*t*t-1)+b;},easeInOutQuart:function(x,t,b,c,d){if((t/=d/2)<1)return c/2*t*t*t*t+b;return-c/2*((t-=2)*t*t*t-2)+b;},easeInQuint:function(x,t,b,c,d){return c*(t/=d)*t*t*t*t+b;},easeOutQuint:function(x,t,b,c,d){return c*((t=t/d-1)*t*t*t*t+1)+b;},easeInOutQuint:function(x,t,b,c,d){if((t/=d/2)<1)return c/2*t*t*t*t*t+b;return c/2*((t-=2)*t*t*t*t+2)+b;},easeInSine:function(x,t,b,c,d){return-c*Math.cos(t/d*(Math.PI/2))+c+b;},easeOutSine:function(x,t,b,c,d){return c*Math.sin(t/d*(Math.PI/2))+b;},easeInOutSine:function(x,t,b,c,d){return-c/2*(Math.cos(Math.PI*t/d)-1)+b;},easeInExpo:function(x,t,b,c,d){return(t==0)?b:c*Math.pow(2,10*(t/d-1))+b;},easeOutExpo:function(x,t,b,c,d){return(t==d)?b+c:c*(-Math.pow(2,-10*t/d)+1)+b;},easeInOutExpo:function(x,t,b,c,d){if(t==0)return b;if(t==d)return b+c;if((t/=d/2)<1)return c/2*Math.pow(2,10*(t-1))+b;return c/2*(-Math.pow(2,-10*--t)+2)+b;},easeInCirc:function(x,t,b,c,d){return-c*(Math.sqrt(1-(t/=d)*t)-1)+b;},easeOutCirc:function(x,t,b,c,d){return c*Math.sqrt(1-(t=t/d-1)*t)+b;},easeInOutCirc:function(x,t,b,c,d){if((t/=d/2)<1)return-c/2*(Math.sqrt(1-t*t)-1)+b;return c/2*(Math.sqrt(1-(t-=2)*t)+1)+b;},easeInElastic:function(x,t,b,c,d){var s=1.70158;var p=0;var a=c;if(t==0)return b;if((t/=d)==1)return b+c;if(!p)p=d*.3;if(a<Math.abs(c)){a=c;var s=p/4;}
else var s=p/(2*Math.PI)*Math.asin(c/a);return-(a*Math.pow(2,10*(t-=1))*Math.sin((t*d-s)*(2*Math.PI)/p))+b;},easeOutElastic:function(x,t,b,c,d){var s=1.70158;var p=0;var a=c;if(t==0)return b;if((t/=d)==1)return b+c;if(!p)p=d*.3;if(a<Math.abs(c)){a=c;var s=p/4;}
else var s=p/(2*Math.PI)*Math.asin(c/a);return a*Math.pow(2,-10*t)*Math.sin((t*d-s)*(2*Math.PI)/p)+c+b;},easeInOutElastic:function(x,t,b,c,d){var s=1.70158;var p=0;var a=c;if(t==0)return b;if((t/=d/2)==2)return b+c;if(!p)p=d*(.3*1.5);if(a<Math.abs(c)){a=c;var s=p/4;}
else var s=p/(2*Math.PI)*Math.asin(c/a);if(t<1)return-.5*(a*Math.pow(2,10*(t-=1))*Math.sin((t*d-s)*(2*Math.PI)/p))+b;return a*Math.pow(2,-10*(t-=1))*Math.sin((t*d-s)*(2*Math.PI)/p)*.5+c+b;},easeInBack:function(x,t,b,c,d,s){if(s==undefined)s=1.70158;return c*(t/=d)*t*((s+1)*t-s)+b;},easeOutBack:function(x,t,b,c,d,s){if(s==undefined)s=1.70158;return c*((t=t/d-1)*t*((s+1)*t+s)+1)+b;},easeInOutBack:function(x,t,b,c,d,s){if(s==undefined)s=1.70158;if((t/=d/2)<1)return c/2*(t*t*(((s*=(1.525))+1)*t-s))+b;return c/2*((t-=2)*t*(((s*=(1.525))+1)*t+s)+2)+b;},easeInBounce:function(x,t,b,c,d){return c-jQuery.easing.easeOutBounce(x,d-t,0,c,d)+b;},easeOutBounce:function(x,t,b,c,d){if((t/=d)<(1/2.75)){return c*(7.5625*t*t)+b;}else if(t<(2/2.75)){return c*(7.5625*(t-=(1.5/2.75))*t+.75)+b;}else if(t<(2.5/2.75)){return c*(7.5625*(t-=(2.25/2.75))*t+.9375)+b;}else{return c*(7.5625*(t-=(2.625/2.75))*t+.984375)+b;}},easeInOutBounce:function(x,t,b,c,d){if(t<d/2)return jQuery.easing.easeInBounce(x,t*2,0,c,d)*.5+b;return jQuery.easing.easeOutBounce(x,t*2-d,0,c,d)*.5+c*.5+b;}});
/* Thickbox 3.1 - By Cody Lindley (http://www.codylindley.com) -- Customized for SAH */
var tb_domain = rootUrl; var animImagePath = "images/loadingAnimation.gif"; var tb_pathToImage = tb_domain + animImagePath; function setAnimOverride(domain) { tb_pathToImage = domain + animImagePath }
/*!!!!!!!!!!!!!!!!! edit below this line at your own risk !!!!!!!!!!!!!!!!!!!!!!!*/
$(document).ready(function() { tb_init("a.thickbox, area.thickbox, input.thickbox"); imgLoader = new Image() }); function tb_reinit() { var domChunk = "a.thickbox, area.thickbox, input.thickbox"; $(domChunk).unbind("click"); tb_init(domChunk) } function tb_init(domChunk) { $(domChunk).click(function() { var t = this.title || this.name || null; var a = this.href || this.alt; var g = this.rel || false; tb_show(t, a, g); this.blur(); return false }) } function tb_show(caption, url, imageGroup) { try { if (typeof document.body.style.maxHeight === "undefined") { $("body", "html").css({ height: "100%", width: "100%" }); $("html").css("overflow", "hidden"); if (document.getElementById("TB_HideSelect") === null) { $("body").append("<iframe id='TB_HideSelect'></iframe><div id='TB_overlay'></div><div id='TB_window'></div>"); $("#TB_overlay").click(tb_remove) } } else { if (document.getElementById("TB_overlay") === null) { $("body").append("<div id='TB_overlay'></div><div id='TB_window'></div>"); $("#TB_overlay").click(tb_remove) } } if (tb_detectMacXFF()) { $("#TB_overlay").addClass("TB_overlayMacFFBGHack") } else { $("#TB_overlay").addClass("TB_overlayBG") } if (caption === null) { caption = "" } $("body").append("<div id='TB_load'><img src='" + tb_pathToImage + "' /></div>"); $("#TB_load").show(); var baseURL; if (url.indexOf("?") !== -1) { baseURL = url.substr(0, url.indexOf("?")) } else { baseURL = url } var urlString = /\.jpg$|\.jpeg$|\.png$|\.gif$|\.bmp$/; var urlType = baseURL.toLowerCase().match(urlString); if (urlType == ".jpg" || urlType == ".jpeg" || urlType == ".png" || urlType == ".gif" || urlType == ".bmp") { TB_PrevCaption = ""; TB_PrevURL = ""; TB_PrevHTML = ""; TB_NextCaption = ""; TB_NextURL = ""; TB_NextHTML = ""; TB_imageCount = ""; TB_FoundURL = false; if (imageGroup) { TB_TempArray = $("a[@rel=" + imageGroup + "]").get(); for (TB_Counter = 0; ((TB_Counter < TB_TempArray.length) && (TB_NextHTML === "")); TB_Counter++) { var urlTypeTemp = TB_TempArray[TB_Counter].href.toLowerCase().match(urlString); if (!(TB_TempArray[TB_Counter].href == url)) { if (TB_FoundURL) { TB_NextCaption = TB_TempArray[TB_Counter].title; TB_NextURL = TB_TempArray[TB_Counter].href; TB_NextHTML = "<span id='TB_next'>&nbsp;&nbsp;<a href='#'>Next &gt;</a></span>" } else { TB_PrevCaption = TB_TempArray[TB_Counter].title; TB_PrevURL = TB_TempArray[TB_Counter].href; TB_PrevHTML = "<span id='TB_prev'>&nbsp;&nbsp;<a href='#'>&lt; Prev</a></span>" } } else { TB_FoundURL = true; TB_imageCount = "Image " + (TB_Counter + 1) + " of " + (TB_TempArray.length) } } } imgPreloader = new Image(); imgPreloader.onload = function() { imgPreloader.onload = null; var pagesize = tb_getPageSize(); var x = pagesize[0] - 150; var y = pagesize[1] - 150; var imageWidth = imgPreloader.width; var imageHeight = imgPreloader.height; if (imageWidth > x) { imageHeight = imageHeight * (x / imageWidth); imageWidth = x; if (imageHeight > y) { imageWidth = imageWidth * (y / imageHeight); imageHeight = y } } else { if (imageHeight > y) { imageWidth = imageWidth * (y / imageHeight); imageHeight = y; if (imageWidth > x) { imageHeight = imageHeight * (x / imageWidth); imageWidth = x } } } TB_WIDTH = imageWidth + 30; TB_HEIGHT = imageHeight + 60; $("#TB_window").append("<a href='' id='TB_ImageOff' title='Close'><img id='TB_Image' src='" + url + "' width='" + imageWidth + "' height='" + imageHeight + "' alt='" + caption + "'/></a><div id='TB_caption'>" + caption + "<div id='TB_secondLine'>" + TB_imageCount + TB_PrevHTML + TB_NextHTML + "</div></div><div id='TB_closeWindow'><a href='#' id='TB_closeWindowButton' title='Close'>close</a> or Esc Key</div>"); $("#TB_closeWindowButton").click(tb_remove); if (!(TB_PrevHTML === "")) { function goPrev() { if ($(document).unbind("click", goPrev)) { $(document).unbind("click", goPrev) } $("#TB_window").remove(); $("body").append("<div id='TB_window'></div>"); tb_show(TB_PrevCaption, TB_PrevURL, imageGroup); return false } $("#TB_prev").click(goPrev) } if (!(TB_NextHTML === "")) { function goNext() { $("#TB_window").remove(); $("body").append("<div id='TB_window'></div>"); tb_show(TB_NextCaption, TB_NextURL, imageGroup); return false } $("#TB_next").click(goNext) } document.onkeydown = function(e) { if (e == null) { keycode = event.keyCode } else { keycode = e.which } if (keycode == 27) { tb_remove() } else { if (keycode == 190) { if (!(TB_NextHTML == "")) { document.onkeydown = ""; goNext() } } else { if (keycode == 188) { if (!(TB_PrevHTML == "")) { document.onkeydown = ""; goPrev() } } } } }; tb_position(); $("#TB_load").remove(); $("#TB_ImageOff").click(tb_remove); $("#TB_window").css({ display: "block" }) }; imgPreloader.src = url } else { var queryString = url.replace(/^[^\?]+\??/, ""); var params = tb_parseQuery(queryString); TB_WIDTH = (params.width * 1) + 30 || 630; TB_HEIGHT = (params.height * 1) + 40 || 440; ajaxContentW = TB_WIDTH - 30; ajaxContentH = TB_HEIGHT - 45; if (url.indexOf("TB_iframe") != -1) { urlNoQuery = url.split("TB_"); $("#TB_iframeContent").remove(); if (params.modal != "true") { $("#TB_window").append("<div id='TB_title'><div id='TB_ajaxWindowTitle'>" + caption + "</div><div id='TB_closeAjaxWindow'><a href='#' id='TB_closeWindowButton' title='Close'>close</a> or Esc Key</div></div><iframe frameborder='0' hspace='0' src='" + urlNoQuery[0] + "' id='TB_iframeContent' name='TB_iframeContent" + Math.round(Math.random() * 1000) + "' onload='tb_showIframe()' style='width:" + (ajaxContentW + 29) + "px;height:" + (ajaxContentH + 17) + "px;' > </iframe>") } else { $("#TB_overlay").unbind(); $("#TB_window").append("<iframe frameborder='0' hspace='0' src='" + urlNoQuery[0] + "' id='TB_iframeContent' name='TB_iframeContent" + Math.round(Math.random() * 1000) + "' onload='tb_showIframe()' style='width:" + (ajaxContentW + 29) + "px;height:" + (ajaxContentH + 17) + "px;'> </iframe>") } } else { if ($("#TB_window").css("display") != "block") { if (params.modal != "true") { $("#TB_window").append("<div id='TB_title'><div id='TB_ajaxWindowTitle'>" + caption + "</div><div id='TB_closeAjaxWindow'><a href='#' id='TB_closeWindowButton'>close</a> or Esc Key</div></div><div id='TB_ajaxContent' style='width:" + ajaxContentW + "px;height:" + ajaxContentH + "px'></div>") } else { $("#TB_overlay").unbind(); $("#TB_window").append("<div id='TB_ajaxContent' class='TB_modal' style='width:" + ajaxContentW + "px;height:" + ajaxContentH + "px;'></div>") } } else { $("#TB_ajaxContent")[0].style.width = ajaxContentW + "px"; $("#TB_ajaxContent")[0].style.height = ajaxContentH + "px"; $("#TB_ajaxContent")[0].scrollTop = 0; $("#TB_ajaxWindowTitle").html(caption) } } $("#TB_closeWindowButton").click(tb_remove); if (url.indexOf("TB_inline") != -1) { $("#TB_ajaxContent").append($("#" + params.inlineId).children()); $("#TB_window").unload(function() { $("#" + params.inlineId).append($("#TB_ajaxContent").children()) }); tb_position(); $("#TB_load").remove(); $("#TB_window").css({ display: "block" }) } else { if (url.indexOf("TB_iframe") != -1) { tb_position(); if ($.browser.safari) { $("#TB_load").remove(); $("#TB_window").css({ display: "block" }) } } else { $("#TB_ajaxContent").load(url += "&random=" + (new Date().getTime()), function() { tb_position(); $("#TB_load").remove(); tb_init("#TB_ajaxContent a.thickbox"); $("#TB_window").css({ display: "block" }) }) } } } if (!params.modal) { document.onkeyup = function(e) { if (e == null) { keycode = event.keyCode } else { keycode = e.which } if (keycode == 27) { tb_remove() } } } } catch (e) { } } function tb_showIframe() { $("#TB_load").remove(); $("#TB_window").css({ display: "block" }) } function tb_remove() { $("#TB_imageOff").unbind("click"); $("#TB_closeWindowButton").unbind("click"); $("#TB_window").fadeOut("fast", function() { $("#TB_window,#TB_overlay,#TB_HideSelect").trigger("unload").unbind().remove() }); $("#TB_load").remove(); if (typeof document.body.style.maxHeight == "undefined") { $("body", "html").css({ height: "auto", width: "auto" }); $("html").css("overflow", "") } document.onkeydown = ""; document.onkeyup = ""; return false } function tb_position() { $("#TB_window").css({ marginLeft: "-" + parseInt((TB_WIDTH / 2), 10) + "px", width: TB_WIDTH + "px" }); if (!(jQuery.browser.msie && jQuery.browser.version < 7)) { $("#TB_window").css({ marginTop: "-" + parseInt((TB_HEIGHT / 2), 10) + "px" }) } } function tb_parseQuery(query) { var Params = {}; if (!query) { return Params } var Pairs = query.split(/[;&]/); for (var i = 0; i < Pairs.length; i++) { var KeyVal = Pairs[i].split("="); if (!KeyVal || KeyVal.length != 2) { continue } var key = unescape(KeyVal[0]); var val = unescape(KeyVal[1]); val = val.replace(/\+/g, " "); Params[key] = val } return Params } function tb_getPageSize() { var de = document.documentElement; var w = window.innerWidth || self.innerWidth || (de && de.clientWidth) || document.body.clientWidth; var h = window.innerHeight || self.innerHeight || (de && de.clientHeight) || document.body.clientHeight; arrayPageSize = [w, h]; return arrayPageSize } function tb_detectMacXFF() { var userAgent = navigator.userAgent.toLowerCase(); if (userAgent.indexOf("mac") != -1 && userAgent.indexOf("firefox") != -1) { return true } };

/* Step Carousel Viewer: By Dynamic Drive, at http://www.dynamicdrive.com - used on bottom of daily deal*/
var stepcarousel={ajaxloadingmsg:'<div style="margin: 1em; font-weight: bold"><img src="ajaxloadr.gif" style="vertical-align: middle" /> Fetching Content. Please wait...</div>',defaultbuttonsfade:0.4,configholder:{},getCSSValue:function(val){return(val=="auto")?0:parseInt(val)},getremotepanels:function($,config){config.$belt.html(this.ajaxloadingmsg)
$.ajax({url:config.contenttype[1],async:true,error:function(ajaxrequest){config.$belt.html('Error fetching content.<br />Server Response: '+ajaxrequest.responseText)},success:function(content){config.$belt.html(content)
config.$panels=config.$gallery.find('.'+config.panelclass)
stepcarousel.alignpanels($,config)}})},getoffset:function(what,offsettype){return(what.offsetParent)?what[offsettype]+this.getoffset(what.offsetParent,offsettype):what[offsettype]},getCookie:function(Name){var re=new RegExp(Name+"=[^;]+","i");if(document.cookie.match(re))
return document.cookie.match(re)[0].split("=")[1]
return null},setCookie:function(name,value){document.cookie=name+"="+value},fadebuttons:function(config,currentpanel){config.$leftnavbutton.fadeTo('fast',currentpanel==0?this.defaultbuttonsfade:1)
config.$rightnavbutton.fadeTo('fast',currentpanel==config.lastvisiblepanel?this.defaultbuttonsfade:1)},addnavbuttons:function(config,currentpanel){config.$leftnavbutton=$('<img src="'+config.defaultbuttons.leftnav[0]+'">').css({zIndex:50,position:'absolute',left:config.offsets.left+config.defaultbuttons.leftnav[1]+'px',top:config.offsets.top+config.defaultbuttons.leftnav[2]+'px',cursor:'hand',cursor:'pointer'}).attr({title:'Back '+config.defaultbuttons.moveby+' Deal'}).appendTo('body')
config.$rightnavbutton=$('<img src="'+config.defaultbuttons.rightnav[0]+'">').css({zIndex:50,position:'absolute',left:config.offsets.left+config.$gallery.get(0).offsetWidth+config.defaultbuttons.rightnav[1]+'px',top:config.offsets.top+config.defaultbuttons.rightnav[2]+'px',cursor:'hand',cursor:'pointer'}).attr({title:'Forward '+config.defaultbuttons.moveby+' Deal'}).appendTo('body')
config.$leftnavbutton.bind('click',function(){stepcarousel.stepBy(config.galleryid,-config.defaultbuttons.moveby)})
config.$rightnavbutton.bind('click',function(){stepcarousel.stepBy(config.galleryid,config.defaultbuttons.moveby)})
if(config.panelbehavior.wraparound==false){this.fadebuttons(config,currentpanel)}
return config.$leftnavbutton.add(config.$rightnavbutton)},stopautostep:function(config){clearTimeout(config.steptimer)
clearTimeout(config.resumeautostep)},alignpanels:function($,config){var paneloffset=0
config.paneloffsets=[paneloffset]
config.panelwidths=[]
config.$panels.each(function(index){var $currentpanel=$(this)
$currentpanel.css({float:'none',position:'absolute',left:paneloffset+'px'})
$currentpanel.bind('click',function(e){return config.onpanelclick(e.target)})
paneloffset+=stepcarousel.getCSSValue($currentpanel.css('marginRight'))+parseInt($currentpanel.get(0).offsetWidth||$currentpanel.css('width'))
config.paneloffsets.push(paneloffset)
config.panelwidths.push(paneloffset-config.paneloffsets[config.paneloffsets.length-2])})
config.paneloffsets.pop()
var addpanelwidths=0
var lastpanelindex=config.$panels.length-1
config.lastvisiblepanel=lastpanelindex
for(var i=config.$panels.length-1;i>=0;i--){addpanelwidths+=(i==lastpanelindex?config.panelwidths[lastpanelindex]:config.paneloffsets[i+1]-config.paneloffsets[i])
if(config.gallerywidth>addpanelwidths){config.lastvisiblepanel=i}}
config.$belt.css({width:paneloffset+'px'})
config.currentpanel=(config.panelbehavior.persist)?parseInt(this.getCookie(window[config.galleryid+"persist"])):0
config.currentpanel=(typeof config.currentpanel=="number"&&config.currentpanel<config.$panels.length)?config.currentpanel:0
if(config.currentpanel!=0){var endpoint=config.paneloffsets[config.currentpanel]+(config.currentpanel==0?0:config.beltoffset)
config.$belt.css({left:-endpoint+'px'})}
if(config.defaultbuttons.enable==true){var $navbuttons=this.addnavbuttons(config,config.currentpanel)
$(window).bind("load resize",function(){config.offsets={left:stepcarousel.getoffset(config.$gallery.get(0),"offsetLeft"),top:stepcarousel.getoffset(config.$gallery.get(0),"offsetTop")}
config.$leftnavbutton.css({left:config.offsets.left+config.defaultbuttons.leftnav[1]+'px',top:config.offsets.top+config.defaultbuttons.leftnav[2]+'px'})
config.$rightnavbutton.css({left:config.offsets.left+config.$gallery.get(0).offsetWidth+config.defaultbuttons.rightnav[1]+'px',top:config.offsets.top+config.defaultbuttons.rightnav[2]+'px'})})}
if(config.autostep&&config.autostep.enable){var $carouselparts=config.$gallery.add(typeof $navbuttons!="undefined"?$navbuttons:null)
$carouselparts.bind('click',function(){stepcarousel.stopautostep(config)
config.autostep.status="stopped"})
$carouselparts.hover(function(){stepcarousel.stopautostep(config)
config.autostep.hoverstate="over"},function(){if(config.steptimer&&config.autostep.hoverstate=="over"&&config.autostep.status!="stopped"){config.resumeautostep=setTimeout(function(){stepcarousel.autorotate(config.galleryid)
config.autostep.hoverstate="out"},500)}})
config.steptimer=setTimeout(function(){stepcarousel.autorotate(config.galleryid)},config.autostep.pause)}
this.statusreport(config.galleryid)
config.oninit()
config.onslideaction(this)},stepTo:function(galleryid,pindex){var config=stepcarousel.configholder[galleryid]
if(typeof config=="undefined"){alert("There's an error with your set up of Carousel Viewer \""+galleryid+"\"!")
return}
stepcarousel.stopautostep(config)
var pindex=Math.min(pindex-1,config.paneloffsets.length-1)
var endpoint=config.paneloffsets[pindex]+(pindex==0?0:config.beltoffset)
if(config.panelbehavior.wraparound==false&&config.defaultbuttons.enable==true){this.fadebuttons(config,pindex)}
config.$belt.animate({left:-endpoint+'px'},config.panelbehavior.speed,function(){config.onslideaction(this)})
config.currentpanel=pindex
this.statusreport(galleryid)},stepBy:function(galleryid,steps){var config=stepcarousel.configholder[galleryid]
if(typeof config=="undefined"){alert("There's an error with your set up of Carousel Viewer \""+galleryid+"\"!")
return}
stepcarousel.stopautostep(config)
var direction=(steps>0)?'forward':'back'
var pindex=config.currentpanel+steps
if(config.panelbehavior.wraparound==false){pindex=(direction=="back"&&pindex<=0)?0:(direction=="forward")?Math.min(pindex,config.lastvisiblepanel):pindex
if(config.defaultbuttons.enable==true){stepcarousel.fadebuttons(config,pindex)}}
else{if(pindex>config.lastvisiblepanel&&direction=="forward"){pindex=(config.currentpanel<config.lastvisiblepanel)?config.lastvisiblepanel:0}
else if(pindex<0&&direction=="back"){pindex=(config.currentpanel>0)?0:config.lastvisiblepanel}}
var endpoint=config.paneloffsets[pindex]+(pindex==0?0:config.beltoffset)
if(pindex==0&&direction=='forward'||config.currentpanel==0&&direction=='back'&&config.panelbehavior.wraparound==true){config.$belt.animate({left:-config.paneloffsets[config.currentpanel]-(direction=='forward'?100:-30)+'px'},'normal',function(){config.$belt.animate({left:-endpoint+'px'},config.panelbehavior.speed,function(){config.onslideaction(this)})})}
else
config.$belt.animate({left:-endpoint+'px'},config.panelbehavior.speed,function(){config.onslideaction(this)})
config.currentpanel=pindex
this.statusreport(galleryid)},autorotate:function(galleryid){var config=stepcarousel.configholder[galleryid]
if(config.$gallery.attr('_ismouseover')!="yes"){this.stepBy(galleryid,config.autostep.moveby)}
config.steptimer=setTimeout(function(){stepcarousel.autorotate(galleryid)},config.autostep.pause)},statusreport:function(galleryid){var config=stepcarousel.configholder[galleryid]
var startpoint=config.currentpanel
var visiblewidth=0
for(var endpoint=startpoint;endpoint<config.paneloffsets.length;endpoint++){visiblewidth+=config.panelwidths[endpoint]
if(visiblewidth>config.gallerywidth){break}}
startpoint+=1
endpoint=(endpoint+1==startpoint)?startpoint:endpoint
var valuearray=[startpoint,endpoint,config.panelwidths.length]
for(var i=0;i<config.statusvars.length;i++){window[config.statusvars[i]]=valuearray[i]
config.$statusobjs[i].text(valuearray[i]+" ")}},setup:function(config){document.write('<style type="text/css">\n#'+config.galleryid+'{overflow: hidden;}\n</style>')
jQuery(document).ready(function($){config.$gallery=$('#'+config.galleryid)
config.gallerywidth=config.$gallery.width()
config.offsets={left:stepcarousel.getoffset(config.$gallery.get(0),"offsetLeft"),top:stepcarousel.getoffset(config.$gallery.get(0),"offsetTop")}
config.$belt=config.$gallery.find('.'+config.beltclass)
config.$panels=config.$gallery.find('.'+config.panelclass)
config.panelbehavior.wraparound=(config.autostep&&config.autostep.enable)?true:config.panelbehavior.wraparound
config.onpanelclick=(typeof config.onpanelclick=="undefined")?function(target){}:config.onpanelclick
config.onslideaction=(typeof config.onslide=="undefined")?function(){}:function(beltobj){$(beltobj).stop();config.onslide()}
config.oninit=(typeof config.oninit=="undefined")?function(){}:config.oninit
config.beltoffset=stepcarousel.getCSSValue(config.$belt.css('marginLeft'))
config.statusvars=config.statusvars||[]
config.$statusobjs=[$('#'+config.statusvars[0]),$('#'+config.statusvars[1]),$('#'+config.statusvars[2])]
config.currentpanel=0
stepcarousel.configholder[config.galleryid]=config
if(config.contenttype[0]=="ajax"&&typeof config.contenttype[1]!="undefined")
stepcarousel.getremotepanels($,config)
else
stepcarousel.alignpanels($,config)})
jQuery(window).bind('unload',function(){if(config.panelbehavior.persist){stepcarousel.setCookie(window[config.galleryid+"persist"],config.currentpanel)}
jQuery.each(config,function(ai,oi){oi=null})
config=null})}}

/* menu hookup */
$(document).ready(function() {	
    $("ul#mainnav li.unselected").hover(onHover,onHover);	
});
function onHover(e)
{    $("ul#mainnav li.selected span").toggle(); }

/* Twitter */
!function (d, s, id) { var js, fjs = d.getElementsByTagName(s)[0]; if (!d.getElementById(id)) { js = d.createElement(s); js.id = id; js.src = "//platform.twitter.com/widgets.js"; fjs.parentNode.insertBefore(js, fjs); } }
(document, "script", "twitter-wjs");
/* End Twitter*/

/* Rating.js */
var statsBody = '[[stats]]%'; var countMessage = ''; function RateSuccessItem(itemId, rating, ratingSectionType, customerId, ViewRatingSuccess, ViewThankYouMessage, StatsBody, CountMessage) {
    $.ajax
({ dataType: 'json', async: false, type: 'GET', url: rootUrl + 'WebAPI/SAHAPI.aspx', data: 'method=RateSuccessItem&Rating=' + rating + '&RatingSectionType=' + ratingSectionType + '&ItemId=' + itemId + '&CustomerId=' + customerId, success: function (json) {
    $('#rssd' + itemId).html(statsBody.replace('[[stats]]', json.SuccessPercentage).replace('[[count]]', json.RatingCount)).fadeIn('slow'); if (json.SuccessPercentage <= 0) { $('#rssd' + itemId).hide(); }
    if (json.SuccessPercentage >= 75)
        $('#rssd' + itemId).removeClass('low').addClass('high'); else
        $('#rssd' + itemId).removeClass('high').addClass('low'); if (json.error == null) {
        if (rating == 0 && ViewRatingSuccess) { $('[id=HasNotRatedItemDiv' + itemId + ']').fadeOut('fast', function () { $('[id=rssd' + itemId + ']').hide(); $('[id=rssd' + itemId + ']').html(statsBody.replace('[[stats]]', json.SuccessPercentage).replace('[[count]]', json.RatingCount)).fadeIn('slow'); }); $('[id=NoStatsText' + itemId + ']').show().children('p').text('Thank you!'); } else if (rating == 1 && ViewRatingSuccess) { $('[id=HasNotRatedItemDiv' + itemId + ']').fadeOut('fast', function () { $('[id=rssd' + itemId + ']').hide(); $('[id=rssd' + itemId + ']').html(statsBody.replace('[[stats]]', json.SuccessPercentage).replace('[[count]]', json.RatingCount)).fadeIn('slow'); }); $('[id=NoStatsText' + itemId + ']').show().children('p').text('Thank you!'); } else if (rating == 0 && ViewThankYouMessage) { $('#HasNotRatedItemDiv' + itemId).fadeOut('fast', function () { $('#ViewThankYouMessageDiv' + itemId).show(); }); } else if (rating == 1 && ViewThankYouMessage) { $('#HasNotRatedItemDiv' + itemId).fadeOut('fast', function () { $('#ViewThankYouMessageDiv' + itemId).show(); }); }
        if (mid == null)
            var mid = $('#Mid' + itemId).text(); if (ratingSectionType == 2)
            post_to_facebook_stream('coupon_success', mid, null, null);
    } 
} 
}); return (true);
}
/* End Rating.js */

/* zeroClipboard */
var ZeroClipboard={version:"1.0.7",clients:{},moviePath:'ZeroClipboard.swf',nextId:1,$:function(thingy){if(typeof(thingy)=='string')thingy=document.getElementById(thingy);if(!thingy.addClass){thingy.hide=function(){this.style.display='none';};thingy.show=function(){this.style.display='';};thingy.addClass=function(name){this.removeClass(name);this.className+=' '+name;};thingy.removeClass=function(name){var classes=this.className.split(/\s+/);var idx=-1;for(var k=0;k<classes.length;k++){if(classes[k]==name){idx=k;k=classes.length;}}
if(idx>-1){classes.splice(idx,1);this.className=classes.join(' ');}
return this;};thingy.hasClass=function(name){return!!this.className.match(new RegExp("\\s*"+name+"\\s*"));};}
return thingy;},setMoviePath:function(path){this.moviePath=path;},dispatch:function(id,eventName,args){var client=this.clients[id];if(client){client.receiveEvent(eventName,args);}},register:function(id,client){this.clients[id]=client;},getDOMObjectPosition:function(obj,stopObj){var info={left:0,top:0,width:obj.width?obj.width:obj.offsetWidth,height:obj.height?obj.height:obj.offsetHeight};while(obj&&(obj!=stopObj)){info.left+=obj.offsetLeft;info.top+=obj.offsetTop;obj=obj.offsetParent;}
return info;},Client:function(elem){this.handlers={};this.id=ZeroClipboard.nextId++;this.movieId='ZeroClipboardMovie_'+this.id;ZeroClipboard.register(this.id,this);if(elem)this.glue(elem);}};ZeroClipboard.Client.prototype={id:0,ready:false,movie:null,clipText:'',handCursorEnabled:true,cssEffects:true,handlers:null,glue:function(elem,appendElem,stylesToAdd){this.domElement=ZeroClipboard.$(elem);var zIndex=99;if(this.domElement.style.zIndex){zIndex=parseInt(this.domElement.style.zIndex,10)+1;}
if(typeof(appendElem)=='string'){appendElem=ZeroClipboard.$(appendElem);}
else if(typeof(appendElem)=='undefined'){appendElem=document.getElementsByTagName('body')[0];}
var box=ZeroClipboard.getDOMObjectPosition(this.domElement,appendElem);this.div=document.createElement('div');var style=this.div.style;style.position='absolute';style.left=''+box.left+'px';style.top=''+box.top+'px';style.width=''+box.width+'px';style.height=''+box.height+'px';style.zIndex=zIndex;if(typeof(stylesToAdd)=='object'){for(addedStyle in stylesToAdd){style[addedStyle]=stylesToAdd[addedStyle];}}
appendElem.appendChild(this.div);this.div.innerHTML=this.getHTML(box.width,box.height);},getHTML:function(width,height){var html='';var flashvars='id='+this.id+'&width='+width+'&height='+height;if(navigator.userAgent.match(/MSIE/)){var protocol=location.href.match(/^https/i)?'https://':'http://';html+='<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="'+protocol+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,0,0" width="'+width+'" height="'+height+'" id="'+this.movieId+'" align="middle"><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="false" /><param name="movie" value="'+ZeroClipboard.moviePath+'" /><param name="loop" value="false" /><param name="menu" value="false" /><param name="quality" value="best" /><param name="bgcolor" value="#ffffff" /><param name="flashvars" value="'+flashvars+'"/><param name="wmode" value="transparent"/></object>';}
else{html+='<embed id="'+this.movieId+'" src="'+ZeroClipboard.moviePath+'" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="'+width+'" height="'+height+'" name="'+this.movieId+'" align="middle" allowScriptAccess="always" allowFullScreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="'+flashvars+'" wmode="transparent" />';}
return html;},hide:function(){if(this.div){this.div.style.left='-2000px';}},show:function(){this.reposition();},destroy:function(){if(this.domElement&&this.div){this.hide();this.div.innerHTML='';var body=document.getElementsByTagName('body')[0];try{body.removeChild(this.div);}catch(e){;}
this.domElement=null;this.div=null;}},reposition:function(elem){if(elem){this.domElement=ZeroClipboard.$(elem);if(!this.domElement)this.hide();}
if(this.domElement&&this.div){var box=ZeroClipboard.getDOMObjectPosition(this.domElement);var style=this.div.style;style.left=''+box.left+'px';style.top=''+box.top+'px';}},setText:function(newText){this.clipText=newText;if(this.ready)this.movie.setText(newText);},addEventListener:function(eventName,func){eventName=eventName.toString().toLowerCase().replace(/^on/,'');if(!this.handlers[eventName])this.handlers[eventName]=[];this.handlers[eventName].push(func);},setHandCursor:function(enabled){this.handCursorEnabled=enabled;if(this.ready)this.movie.setHandCursor(enabled);},setCSSEffects:function(enabled){this.cssEffects=!!enabled;},receiveEvent:function(eventName,args){eventName=eventName.toString().toLowerCase().replace(/^on/,'');switch(eventName){case'load':this.movie=document.getElementById(this.movieId);if(!this.movie){var self=this;setTimeout(function(){self.receiveEvent('load',null);},1);return;}
if(!this.ready&&navigator.userAgent.match(/Firefox/)&&navigator.userAgent.match(/Windows/)){var self=this;setTimeout(function(){self.receiveEvent('load',null);},100);this.ready=true;return;}
this.ready=true;this.movie.setText(this.clipText);this.movie.setHandCursor(this.handCursorEnabled);break;case'mouseover':if(this.domElement&&this.cssEffects){this.domElement.addClass('hover');if(this.recoverActive)this.domElement.addClass('active');}
break;case'mouseout':if(this.domElement&&this.cssEffects){this.recoverActive=false;if(this.domElement.hasClass('active')){this.domElement.removeClass('active');this.recoverActive=true;}
this.domElement.removeClass('hover');}
break;case'mousedown':if(this.domElement&&this.cssEffects){this.domElement.addClass('active');}
break;case'mouseup':if(this.domElement&&this.cssEffects){this.domElement.removeClass('active');this.recoverActive=false;}
break;}
if(this.handlers[eventName]){for(var idx=0,len=this.handlers[eventName].length;idx<len;idx++){var func=this.handlers[eventName][idx];if(typeof(func)=='function'){func(this,args);}
else if((typeof(func)=='object')&&(func.length==2)){func[0][func[1]](this,args);}
else if(typeof(func)=='string'){window[func](this,args);}}}}};
/* zeroClipboard */
/* PeelToReveal.js */
var peelPop;

function revealCouponsJoin(url, auth, join) {
    popUpWin(url, 'standard', '780', '580', auth);
    if (auth.toLowerCase() == "false") {
        window.location = join;
    };
    showCode();
}

function revealCoupons(url, auth, tb) {
    popUpWin(url, 'standard', '780', '580', auth);
    if (auth.toLowerCase() == "false") {
        tb_show('', tb, '');
    }
    showCode();
}

function showCode() {
    if (peelPop && !peelPop.closed) {
        //$('#peelCoupons').remove();
        $('a.peel, #tooltip').fadeOut('slow', function () {
            $(this).remove();
        });
    }

    peelCoupons(peelId, true);
}

function peelCoupons(id, codePeeled) {
    $.ajax({
        dataType: 'json',
        async: true,
        type: 'GET',
        url: rootUrl + 'WebAPI/SAHAPI.aspx',
        data: 'method=PeelCoupon&id=' + id + '&peel=' + codePeeled
    });
}

function goToPopup(url, txt, auth, join) {
    copy_to_clipboard(txt);
    popUpWin(url, 'standard', '780', '580', auth);
    if (auth.toLowerCase() == "false") {
        window.location = join;
    };
}

function copy_to_clipboard(text) {
    if (window.clipboardData && (text != 'CLICK HERE' && text != '')) {
        window.clipboardData.setData('text', text);
    }
}

function popUpWin(url, type, width, height, auth) {
    type = type.toLowerCase();
    if (type == "fullscreen") {
        width = screen.availWidth;
        height = screen.availHeight;
    }
    if (auth != null && auth) {
        auth = (auth.toLowerCase() == 'true' || auth == true);
    }
//    else if ( IsAnon!='undefined' && IsAnon)
//        auth = !IsAnon;
    else
        auth = false;

    var features = "";
    if (type == "standard") features = "resizable,toolbar=yes,location=yes,scrollbars=yes,menubar=yes,width=" + width + ",height=" + height + ",top=0,left=0";
    else if (type == "console" || type == "fullscreen") features = "resizable,toolbar=no,location=no,scrollbars=no,width=" + width + ",height=" + height + ",left=0,top=0";
    var newWin = !popped;
    if (peelPop) {
        newWin = false;
        peelPop.close();
    }
    if (!popped && !auth) {
        url += (url.indexOf("?") != -1) ? "&blur=1" : "?blur=1";
    }
    peelPop = window.open(url, "peelWin", features);
    popped = true;
    //FB10635,Ensure that popup outclick window stays on top 
    peelPop.focus();
//    if (auth) {
//        peelPop.focus();
//        //window.focus();
//    }
//    else {
//        peelPop.blur();
//        window.focus();
//    }
} /* PeelToReveal.js */
function showCBGuidelines(o, text) { var tip = document.getElementById(text); o.title = tip.title; }
function hideCBGuidelines(o) { o.title = ''; }
function parseParameters() {var url = window.location.toString();url.match(/\?(.+)$/);var params = RegExp.$1;var params = params.split("&");var args = new Array();for (var i = 0; i < params.length; ++i) {var tmp = params[i].split("=");args[tmp[0]] = unescape(tmp[1]);}return args;}
/* Tooltip-min.js */
this.tooltip = function() { xOffset = 10; yOffset = 20; $("a.tooltip").hover(function(e) { this.t = this.title; this.title = ""; $("body").append("<p id='tooltip'>" + this.t + "</p>"); $("#tooltip").css("top", (e.pageY - xOffset) + "px").css("left", (e.pageX + yOffset) + "px").fadeIn("fast") }, function() { this.title = this.t; $("#tooltip").remove() }); $("a.tooltip").mousemove(function(e) { $("#tooltip").css("top", (e.pageY - xOffset) + "px").css("left", (e.pageX + yOffset) + "px") }) }; $(document).ready(function() { tooltip() });
/*please wait message*/
function shopAsGuest(id, async) { if (async == null) async = true; $.ajax({ dataType: 'json', async: true, cache: false, type: 'GET', url: rootUrl + 'WebAPI/SAHAPI.aspx', data: 'method=ShopAsGuest&id=' + escape(id) }); }
function pleaseWait() { $(window).bind("scroll", function() { $("#pleaseWait").css("margin-top", $(window).scrollTop()); }); $(window).bind("resize", function() { $("#dim").css("height", $(window).height()); }); $("#dim").css("height", $(document).height()); $("#pleaseWait").css("margin-top", $(window).scrollTop()); $("#dim").fadeIn(); }
// html5shiv MIT @rem remysharp.com/html5-enabling-script
// iepp v1.6.2 MIT @jon_neal iecss.com/print-protector
// FB 9186--moved to headerinjection.ascx
///*@cc_on(function(m, c) {
//var z = "abbr|article|aside|audio|canvas|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video"; function n(d) { for (var a = -1; ++a < o; ) d.createElement(i[a]) } function p(d, a) { for (var e = -1, b = d.length, j, q = []; ++e < b; ) { j = d[e]; if ((a = j.media || a) != "screen") q.push(p(j.imports, a), j.cssText) } return q.join("") } var g = c.createElement("div"); g.innerHTML = "<z>i</z>"; if (g.childNodes.length !== 1) {
//var i = z.split("|"), o = i.length, s = RegExp("(^|\\s)(" + z + ")",
//"gi"), t = RegExp("<(/*)(" + z + ")", "gi"), u = RegExp("(^|[^\\n]*?\\s)(" + z + ")([^\\n]*)({[\\n\\w\\W]*?})", "gi"), r = c.createDocumentFragment(), k = c.documentElement; g = k.firstChild; var h = c.createElement("body"), l = c.createElement("style"), f; n(c); n(r); g.insertBefore(l,
//g.firstChild); l.media = "print"; m.attachEvent("onbeforeprint", function() { var d = -1, a = p(c.styleSheets, "all"), e = [], b; for (f = f || c.body; (b = u.exec(a)) != null; ) e.push((b[1] + b[2] + b[3]).replace(s, "$1.iepp_$2") + b[4]); for (l.styleSheet.cssText = e.join("\n"); ++d < o; ) { a = c.getElementsByTagName(i[d]); e = a.length; for (b = -1; ++b < e; ) if (a[b].className.indexOf("iepp_") < 0) a[b].className += " iepp_" + i[d] } r.appendChild(f); k.appendChild(h); h.className = f.className; h.innerHTML = f.innerHTML.replace(t, "<$1font") }); m.attachEvent("onafterprint",
//function() { h.innerHTML = ""; k.removeChild(h); k.appendChild(f); l.styleSheet.cssText = "" })
//}})(this, document); @*/
/*jquery.qtip. The jQuery tooltip plugin Copyright (c) 2009 Craig Thompson
* http://craigsworks.com
*Licensed under MIT http://www.opensource.org/licenses/mit-license.php*/
(function(f) { f.fn.qtip = function(B, u) { var y, t, A, s, x, w, v, z; if (typeof B == "string") { if (typeof f(this).data("qtip") !== "object") { f.fn.qtip.log.error.call(self, 1, f.fn.qtip.constants.NO_TOOLTIP_PRESENT, false) } if (B == "api") { return f(this).data("qtip").interfaces[f(this).data("qtip").current] } else { if (B == "interfaces") { return f(this).data("qtip").interfaces } } } else { if (!B) { B = {} } if (typeof B.content !== "object" || (B.content.jquery && B.content.length > 0)) { B.content = { text: B.content} } if (typeof B.content.title !== "object") { B.content.title = { text: B.content.title} } if (typeof B.position !== "object") { B.position = { corner: B.position} } if (typeof B.position.corner !== "object") { B.position.corner = { target: B.position.corner, tooltip: B.position.corner} } if (typeof B.show !== "object") { B.show = { when: B.show} } if (typeof B.show.when !== "object") { B.show.when = { event: B.show.when} } if (typeof B.show.effect !== "object") { B.show.effect = { type: B.show.effect} } if (typeof B.hide !== "object") { B.hide = { when: B.hide} } if (typeof B.hide.when !== "object") { B.hide.when = { event: B.hide.when} } if (typeof B.hide.effect !== "object") { B.hide.effect = { type: B.hide.effect} } if (typeof B.style !== "object") { B.style = { name: B.style} } B.style = c(B.style); s = f.extend(true, {}, f.fn.qtip.defaults, B); s.style = a.call({ options: s }, s.style); s.user = f.extend(true, {}, B) } return f(this).each(function() { if (typeof B == "string") { w = B.toLowerCase(); A = f(this).qtip("interfaces"); if (typeof A == "object") { if (u === true && w == "destroy") { while (A.length > 0) { A[A.length - 1].destroy() } } else { if (u !== true) { A = [f(this).qtip("api")] } for (y = 0; y < A.length; y++) { if (w == "destroy") { A[y].destroy() } else { if (A[y].status.rendered === true) { if (w == "show") { A[y].show() } else { if (w == "hide") { A[y].hide() } else { if (w == "focus") { A[y].focus() } else { if (w == "disable") { A[y].disable(true) } else { if (w == "enable") { A[y].disable(false) } } } } } } } } } } } else { v = f.extend(true, {}, s); v.hide.effect.length = s.hide.effect.length; v.show.effect.length = s.show.effect.length; if (v.position.container === false) { v.position.container = f(document.body) } if (v.position.target === false) { v.position.target = f(this) } if (v.show.when.target === false) { v.show.when.target = f(this) } if (v.hide.when.target === false) { v.hide.when.target = f(this) } t = f.fn.qtip.interfaces.length; for (y = 0; y < t; y++) { if (typeof f.fn.qtip.interfaces[y] == "undefined") { t = y; break } } x = new d(f(this), v, t); f.fn.qtip.interfaces[t] = x; if (typeof f(this).data("qtip") == "object") { if (typeof f(this).attr("qtip") === "undefined") { f(this).data("qtip").current = f(this).data("qtip").interfaces.length } f(this).data("qtip").interfaces.push(x) } else { f(this).data("qtip", { current: 0, interfaces: [x] }) } if (v.content.prerender === false && v.show.when.event !== false && v.show.ready !== true) { v.show.when.target.bind(v.show.when.event + ".qtip-" + t + "-create", { qtip: t }, function(C) { z = f.fn.qtip.interfaces[C.data.qtip]; z.options.show.when.target.unbind(z.options.show.when.event + ".qtip-" + C.data.qtip + "-create"); z.cache.mouse = { x: C.pageX, y: C.pageY }; p.call(z); z.options.show.when.target.trigger(z.options.show.when.event) }) } else { x.cache.mouse = { x: v.show.when.target.offset().left, y: v.show.when.target.offset().top }; p.call(x) } } }) }; function d(u, t, v) { var s = this; s.id = v; s.options = t; s.status = { animated: false, rendered: false, disabled: false, focused: false }; s.elements = { target: u.addClass(s.options.style.classes.target), tooltip: null, wrapper: null, content: null, contentWrapper: null, title: null, button: null, tip: null, bgiframe: null }; s.cache = { mouse: {}, position: {}, toggle: 0 }; s.timers = {}; f.extend(s, s.options.api, { show: function(y) { var x, z; if (!s.status.rendered) { return f.fn.qtip.log.error.call(s, 2, f.fn.qtip.constants.TOOLTIP_NOT_RENDERED, "show") } if (s.elements.tooltip.css("display") !== "none") { return s } s.elements.tooltip.stop(true, false); x = s.beforeShow.call(s, y); if (x === false) { return s } function w() { if (s.options.position.type !== "static") { s.focus() } s.onShow.call(s, y); if (f.browser.msie) { s.elements.tooltip.get(0).style.removeAttribute("filter") } } s.cache.toggle = 1; if (s.options.position.type !== "static") { s.updatePosition(y, (s.options.show.effect.length > 0)) } if (typeof s.options.show.solo == "object") { z = f(s.options.show.solo) } else { if (s.options.show.solo === true) { z = f("div.qtip").not(s.elements.tooltip) } } if (z) { z.each(function() { if (f(this).qtip("api").status.rendered === true) { f(this).qtip("api").hide() } }) } if (typeof s.options.show.effect.type == "function") { s.options.show.effect.type.call(s.elements.tooltip, s.options.show.effect.length); s.elements.tooltip.queue(function() { w(); f(this).dequeue() }) } else { switch (s.options.show.effect.type.toLowerCase()) { case "fade": s.elements.tooltip.fadeIn(s.options.show.effect.length, w); break; case "slide": s.elements.tooltip.slideDown(s.options.show.effect.length, function() { w(); if (s.options.position.type !== "static") { s.updatePosition(y, true) } }); break; case "grow": s.elements.tooltip.show(s.options.show.effect.length, w); break; default: s.elements.tooltip.show(null, w); break } s.elements.tooltip.addClass(s.options.style.classes.active) } return f.fn.qtip.log.error.call(s, 1, f.fn.qtip.constants.EVENT_SHOWN, "show") }, hide: function(y) { var x; if (!s.status.rendered) { return f.fn.qtip.log.error.call(s, 2, f.fn.qtip.constants.TOOLTIP_NOT_RENDERED, "hide") } else { if (s.elements.tooltip.css("display") === "none") { return s } } clearTimeout(s.timers.show); s.elements.tooltip.stop(true, false); x = s.beforeHide.call(s, y); if (x === false) { return s } function w() { s.onHide.call(s, y) } s.cache.toggle = 0; if (typeof s.options.hide.effect.type == "function") { s.options.hide.effect.type.call(s.elements.tooltip, s.options.hide.effect.length); s.elements.tooltip.queue(function() { w(); f(this).dequeue() }) } else { switch (s.options.hide.effect.type.toLowerCase()) { case "fade": s.elements.tooltip.fadeOut(s.options.hide.effect.length, w); break; case "slide": s.elements.tooltip.slideUp(s.options.hide.effect.length, w); break; case "grow": s.elements.tooltip.hide(s.options.hide.effect.length, w); break; default: s.elements.tooltip.hide(null, w); break } s.elements.tooltip.removeClass(s.options.style.classes.active) } return f.fn.qtip.log.error.call(s, 1, f.fn.qtip.constants.EVENT_HIDDEN, "hide") }, updatePosition: function(w, x) { var C, G, L, J, H, E, y, I, B, D, K, A, F, z; if (!s.status.rendered) { return f.fn.qtip.log.error.call(s, 2, f.fn.qtip.constants.TOOLTIP_NOT_RENDERED, "updatePosition") } else { if (s.options.position.type == "static") { return f.fn.qtip.log.error.call(s, 1, f.fn.qtip.constants.CANNOT_POSITION_STATIC, "updatePosition") } } G = { position: { left: 0, top: 0 }, dimensions: { height: 0, width: 0 }, corner: s.options.position.corner.target }; L = { position: s.getPosition(), dimensions: s.getDimensions(), corner: s.options.position.corner.tooltip }; if (s.options.position.target !== "mouse") { if (s.options.position.target.get(0).nodeName.toLowerCase() == "area") { J = s.options.position.target.attr("coords").split(","); for (C = 0; C < J.length; C++) { J[C] = parseInt(J[C]) } H = s.options.position.target.parent("map").attr("name"); E = f('img[usemap="#' + H + '"]:first').offset(); G.position = { left: Math.floor(E.left + J[0]), top: Math.floor(E.top + J[1]) }; switch (s.options.position.target.attr("shape").toLowerCase()) { case "rect": G.dimensions = { width: Math.ceil(Math.abs(J[2] - J[0])), height: Math.ceil(Math.abs(J[3] - J[1])) }; break; case "circle": G.dimensions = { width: J[2] + 1, height: J[2] + 1 }; break; case "poly": G.dimensions = { width: J[0], height: J[1] }; for (C = 0; C < J.length; C++) { if (C % 2 == 0) { if (J[C] > G.dimensions.width) { G.dimensions.width = J[C] } if (J[C] < J[0]) { G.position.left = Math.floor(E.left + J[C]) } } else { if (J[C] > G.dimensions.height) { G.dimensions.height = J[C] } if (J[C] < J[1]) { G.position.top = Math.floor(E.top + J[C]) } } } G.dimensions.width = G.dimensions.width - (G.position.left - E.left); G.dimensions.height = G.dimensions.height - (G.position.top - E.top); break; default: return f.fn.qtip.log.error.call(s, 4, f.fn.qtip.constants.INVALID_AREA_SHAPE, "updatePosition"); break } G.dimensions.width -= 2; G.dimensions.height -= 2 } else { if (s.options.position.target.add(document.body).length === 1) { G.position = { left: f(document).scrollLeft(), top: f(document).scrollTop() }; G.dimensions = { height: f(window).height(), width: f(window).width()} } else { if (typeof s.options.position.target.attr("qtip") !== "undefined") { G.position = s.options.position.target.qtip("api").cache.position } else { G.position = s.options.position.target.offset() } G.dimensions = { height: s.options.position.target.outerHeight(), width: s.options.position.target.outerWidth()} } } y = f.extend({}, G.position); if (G.corner.search(/right/i) !== -1) { y.left += G.dimensions.width } if (G.corner.search(/bottom/i) !== -1) { y.top += G.dimensions.height } if (G.corner.search(/((top|bottom)Middle)|center/) !== -1) { y.left += (G.dimensions.width / 2) } if (G.corner.search(/((left|right)Middle)|center/) !== -1) { y.top += (G.dimensions.height / 2) } } else { G.position = y = { left: s.cache.mouse.x, top: s.cache.mouse.y }; G.dimensions = { height: 1, width: 1} } if (L.corner.search(/right/i) !== -1) { y.left -= L.dimensions.width } if (L.corner.search(/bottom/i) !== -1) { y.top -= L.dimensions.height } if (L.corner.search(/((top|bottom)Middle)|center/) !== -1) { y.left -= (L.dimensions.width / 2) } if (L.corner.search(/((left|right)Middle)|center/) !== -1) { y.top -= (L.dimensions.height / 2) } I = (f.browser.msie) ? 1 : 0; B = (f.browser.msie && parseInt(f.browser.version.charAt(0)) === 6) ? 1 : 0; if (s.options.style.border.radius > 0) { if (L.corner.search(/Left/) !== -1) { y.left -= s.options.style.border.radius } else { if (L.corner.search(/Right/) !== -1) { y.left += s.options.style.border.radius } } if (L.corner.search(/Top/) !== -1) { y.top -= s.options.style.border.radius } else { if (L.corner.search(/Bottom/) !== -1) { y.top += s.options.style.border.radius } } } if (I) { if (L.corner.search(/top/) !== -1) { y.top -= I } else { if (L.corner.search(/bottom/) !== -1) { y.top += I } } if (L.corner.search(/left/) !== -1) { y.left -= I } else { if (L.corner.search(/right/) !== -1) { y.left += I } } if (L.corner.search(/leftMiddle|rightMiddle/) !== -1) { y.top -= 1 } } if (s.options.position.adjust.screen === true) { y = o.call(s, y, G, L) } if (s.options.position.target === "mouse" && s.options.position.adjust.mouse === true) { if (s.options.position.adjust.screen === true && s.elements.tip) { K = s.elements.tip.attr("rel") } else { K = s.options.position.corner.tooltip } y.left += (K.search(/right/i) !== -1) ? -6 : 6; y.top += (K.search(/bottom/i) !== -1) ? -6 : 6 } if (!s.elements.bgiframe && f.browser.msie && parseInt(f.browser.version.charAt(0)) == 6) { f("select, object").each(function() { A = f(this).offset(); A.bottom = A.top + f(this).height(); A.right = A.left + f(this).width(); if (y.top + L.dimensions.height >= A.top && y.left + L.dimensions.width >= A.left) { k.call(s) } }) } y.left += s.options.position.adjust.x; y.top += s.options.position.adjust.y; F = s.getPosition(); if (y.left != F.left || y.top != F.top) { z = s.beforePositionUpdate.call(s, w); if (z === false) { return s } s.cache.position = y; if (x === true) { s.status.animated = true; s.elements.tooltip.animate(y, 200, "swing", function() { s.status.animated = false }) } else { s.elements.tooltip.css(y) } s.onPositionUpdate.call(s, w); if (typeof w !== "undefined" && w.type && w.type !== "mousemove") { f.fn.qtip.log.error.call(s, 1, f.fn.qtip.constants.EVENT_POSITION_UPDATED, "updatePosition") } } return s }, updateWidth: function(w) { var x; if (!s.status.rendered) { return f.fn.qtip.log.error.call(s, 2, f.fn.qtip.constants.TOOLTIP_NOT_RENDERED, "updateWidth") } else { if (w && typeof w !== "number") { return f.fn.qtip.log.error.call(s, 2, "newWidth must be of type number", "updateWidth") } } x = s.elements.contentWrapper.siblings().add(s.elements.tip).add(s.elements.button); if (!w) { if (typeof s.options.style.width.value == "number") { w = s.options.style.width.value } else { s.elements.tooltip.css({ width: "auto" }); x.hide(); if (f.browser.msie) { s.elements.wrapper.add(s.elements.contentWrapper.children()).css({ zoom: "normal" }) } w = s.getDimensions().width + 1; if (!s.options.style.width.value) { if (w > s.options.style.width.max) { w = s.options.style.width.max } if (w < s.options.style.width.min) { w = s.options.style.width.min } } } } if (w % 2 !== 0) { w -= 1 } s.elements.tooltip.width(w); x.show(); if (s.options.style.border.radius) { s.elements.tooltip.find(".qtip-betweenCorners").each(function(y) { f(this).width(w - (s.options.style.border.radius * 2)) }) } if (f.browser.msie) { s.elements.wrapper.add(s.elements.contentWrapper.children()).css({ zoom: "1" }); s.elements.wrapper.width(w); if (s.elements.bgiframe) { s.elements.bgiframe.width(w).height(s.getDimensions.height) } } return f.fn.qtip.log.error.call(s, 1, f.fn.qtip.constants.EVENT_WIDTH_UPDATED, "updateWidth") }, updateStyle: function(w) { var z, A, x, y, B; if (!s.status.rendered) { return f.fn.qtip.log.error.call(s, 2, f.fn.qtip.constants.TOOLTIP_NOT_RENDERED, "updateStyle") } else { if (typeof w !== "string" || !f.fn.qtip.styles[w]) { return f.fn.qtip.log.error.call(s, 2, f.fn.qtip.constants.STYLE_NOT_DEFINED, "updateStyle") } } s.options.style = a.call(s, f.fn.qtip.styles[w], s.options.user.style); s.elements.content.css(q(s.options.style)); if (s.options.content.title.text !== false) { s.elements.title.css(q(s.options.style.title, true)) } s.elements.contentWrapper.css({ borderColor: s.options.style.border.color }); if (s.options.style.tip.corner !== false) { if (f("<canvas>").get(0).getContext) { z = s.elements.tooltip.find(".qtip-tip canvas:first"); x = z.get(0).getContext("2d"); x.clearRect(0, 0, 300, 300); y = z.parent("div[rel]:first").attr("rel"); B = b(y, s.options.style.tip.size.width, s.options.style.tip.size.height); h.call(s, z, B, s.options.style.tip.color || s.options.style.border.color) } else { if (f.browser.msie) { z = s.elements.tooltip.find('.qtip-tip [nodeName="shape"]'); z.attr("fillcolor", s.options.style.tip.color || s.options.style.border.color) } } } if (s.options.style.border.radius > 0) { s.elements.tooltip.find(".qtip-betweenCorners").css({ backgroundColor: s.options.style.border.color }); if (f("<canvas>").get(0).getContext) { A = g(s.options.style.border.radius); s.elements.tooltip.find(".qtip-wrapper canvas").each(function() { x = f(this).get(0).getContext("2d"); x.clearRect(0, 0, 300, 300); y = f(this).parent("div[rel]:first").attr("rel"); r.call(s, f(this), A[y], s.options.style.border.radius, s.options.style.border.color) }) } else { if (f.browser.msie) { s.elements.tooltip.find('.qtip-wrapper [nodeName="arc"]').each(function() { f(this).attr("fillcolor", s.options.style.border.color) }) } } } return f.fn.qtip.log.error.call(s, 1, f.fn.qtip.constants.EVENT_STYLE_UPDATED, "updateStyle") }, updateContent: function(A, y) { var z, x, w; if (!s.status.rendered) { return f.fn.qtip.log.error.call(s, 2, f.fn.qtip.constants.TOOLTIP_NOT_RENDERED, "updateContent") } else { if (!A) { return f.fn.qtip.log.error.call(s, 2, f.fn.qtip.constants.NO_CONTENT_PROVIDED, "updateContent") } } z = s.beforeContentUpdate.call(s, A); if (typeof z == "string") { A = z } else { if (z === false) { return } } if (f.browser.msie) { s.elements.contentWrapper.children().css({ zoom: "normal" }) } if (A.jquery && A.length > 0) { A.clone(true).appendTo(s.elements.content).show() } else { s.elements.content.html(A) } x = s.elements.content.find("img[complete=false]"); if (x.length > 0) { w = 0; x.each(function(C) { f('<img src="' + f(this).attr("src") + '" />').load(function() { if (++w == x.length) { B() } }) }) } else { B() } function B() { s.updateWidth(); if (y !== false) { if (s.options.position.type !== "static") { s.updatePosition(s.elements.tooltip.is(":visible"), true) } if (s.options.style.tip.corner !== false) { n.call(s) } } } s.onContentUpdate.call(s); return f.fn.qtip.log.error.call(s, 1, f.fn.qtip.constants.EVENT_CONTENT_UPDATED, "loadContent") }, loadContent: function(w, z, A) { var y; if (!s.status.rendered) { return f.fn.qtip.log.error.call(s, 2, f.fn.qtip.constants.TOOLTIP_NOT_RENDERED, "loadContent") } y = s.beforeContentLoad.call(s); if (y === false) { return s } if (A == "post") { f.post(w, z, x) } else { f.get(w, z, x) } function x(B) { s.onContentLoad.call(s); f.fn.qtip.log.error.call(s, 1, f.fn.qtip.constants.EVENT_CONTENT_LOADED, "loadContent"); s.updateContent(B) } return s }, updateTitle: function(w) { if (!s.status.rendered) { return f.fn.qtip.log.error.call(s, 2, f.fn.qtip.constants.TOOLTIP_NOT_RENDERED, "updateTitle") } else { if (!w) { return f.fn.qtip.log.error.call(s, 2, f.fn.qtip.constants.NO_CONTENT_PROVIDED, "updateTitle") } } returned = s.beforeTitleUpdate.call(s); if (returned === false) { return s } if (s.elements.button) { s.elements.button = s.elements.button.clone(true) } s.elements.title.html(w); if (s.elements.button) { s.elements.title.prepend(s.elements.button) } s.onTitleUpdate.call(s); return f.fn.qtip.log.error.call(s, 1, f.fn.qtip.constants.EVENT_TITLE_UPDATED, "updateTitle") }, focus: function(A) { var y, x, w, z; if (!s.status.rendered) { return f.fn.qtip.log.error.call(s, 2, f.fn.qtip.constants.TOOLTIP_NOT_RENDERED, "focus") } else { if (s.options.position.type == "static") { return f.fn.qtip.log.error.call(s, 1, f.fn.qtip.constants.CANNOT_FOCUS_STATIC, "focus") } } y = parseInt(s.elements.tooltip.css("z-index")); x = 6000 + f("div.qtip[qtip]").length - 1; if (!s.status.focused && y !== x) { z = s.beforeFocus.call(s, A); if (z === false) { return s } f("div.qtip[qtip]").not(s.elements.tooltip).each(function() { if (f(this).qtip("api").status.rendered === true) { w = parseInt(f(this).css("z-index")); if (typeof w == "number" && w > -1) { f(this).css({ zIndex: parseInt(f(this).css("z-index")) - 1 }) } f(this).qtip("api").status.focused = false } }); s.elements.tooltip.css({ zIndex: x }); s.status.focused = true; s.onFocus.call(s, A); f.fn.qtip.log.error.call(s, 1, f.fn.qtip.constants.EVENT_FOCUSED, "focus") } return s }, disable: function(w) { if (!s.status.rendered) { return f.fn.qtip.log.error.call(s, 2, f.fn.qtip.constants.TOOLTIP_NOT_RENDERED, "disable") } if (w) { if (!s.status.disabled) { s.status.disabled = true; f.fn.qtip.log.error.call(s, 1, f.fn.qtip.constants.EVENT_DISABLED, "disable") } else { f.fn.qtip.log.error.call(s, 1, f.fn.qtip.constants.TOOLTIP_ALREADY_DISABLED, "disable") } } else { if (s.status.disabled) { s.status.disabled = false; f.fn.qtip.log.error.call(s, 1, f.fn.qtip.constants.EVENT_ENABLED, "disable") } else { f.fn.qtip.log.error.call(s, 1, f.fn.qtip.constants.TOOLTIP_ALREADY_ENABLED, "disable") } } return s }, destroy: function() { var w, x, y; x = s.beforeDestroy.call(s); if (x === false) { return s } if (s.status.rendered) { s.options.show.when.target.unbind("mousemove.qtip", s.updatePosition); s.options.show.when.target.unbind("mouseout.qtip", s.hide); s.options.show.when.target.unbind(s.options.show.when.event + ".qtip"); s.options.hide.when.target.unbind(s.options.hide.when.event + ".qtip"); s.elements.tooltip.unbind(s.options.hide.when.event + ".qtip"); s.elements.tooltip.unbind("mouseover.qtip", s.focus); s.elements.tooltip.remove() } else { s.options.show.when.target.unbind(s.options.show.when.event + ".qtip-create") } if (typeof s.elements.target.data("qtip") == "object") { y = s.elements.target.data("qtip").interfaces; if (typeof y == "object" && y.length > 0) { for (w = 0; w < y.length - 1; w++) { if (y[w].id == s.id) { y.splice(w, 1) } } } } delete f.fn.qtip.interfaces[s.id]; if (typeof y == "object" && y.length > 0) { s.elements.target.data("qtip").current = y.length - 1 } else { s.elements.target.removeData("qtip") } s.onDestroy.call(s); f.fn.qtip.log.error.call(s, 1, f.fn.qtip.constants.EVENT_DESTROYED, "destroy"); return s.elements.target }, getPosition: function() { var w, x; if (!s.status.rendered) { return f.fn.qtip.log.error.call(s, 2, f.fn.qtip.constants.TOOLTIP_NOT_RENDERED, "getPosition") } w = (s.elements.tooltip.css("display") !== "none") ? false : true; if (w) { s.elements.tooltip.css({ visiblity: "hidden" }).show() } x = s.elements.tooltip.offset(); if (w) { s.elements.tooltip.css({ visiblity: "visible" }).hide() } return x }, getDimensions: function() { var w, x; if (!s.status.rendered) { return f.fn.qtip.log.error.call(s, 2, f.fn.qtip.constants.TOOLTIP_NOT_RENDERED, "getDimensions") } w = (!s.elements.tooltip.is(":visible")) ? true : false; if (w) { s.elements.tooltip.css({ visiblity: "hidden" }).show() } x = { height: s.elements.tooltip.outerHeight(), width: s.elements.tooltip.outerWidth() }; if (w) { s.elements.tooltip.css({ visiblity: "visible" }).hide() } return x } }) } function p() { var s, w, u, t, v, y, x; s = this; s.beforeRender.call(s); s.status.rendered = true; s.elements.tooltip = '<div qtip="' + s.id + '" class="qtip ' + (s.options.style.classes.tooltip || s.options.style) + '"style="display:none; -moz-border-radius:0; -webkit-border-radius:0; border-radius:0;position:' + s.options.position.type + ';">  <div class="qtip-wrapper" style="position:relative; overflow:hidden; text-align:left;">    <div class="qtip-contentWrapper" style="overflow:hidden;">       <div class="qtip-content ' + s.options.style.classes.content + '"></div></div></div></div>'; s.elements.tooltip = f(s.elements.tooltip); s.elements.tooltip.appendTo(s.options.position.container); s.elements.tooltip.data("qtip", { current: 0, interfaces: [s] }); s.elements.wrapper = s.elements.tooltip.children("div:first"); s.elements.contentWrapper = s.elements.wrapper.children("div:first").css({ background: s.options.style.background }); s.elements.content = s.elements.contentWrapper.children("div:first").css(q(s.options.style)); if (f.browser.msie) { s.elements.wrapper.add(s.elements.content).css({ zoom: 1 }) } if (s.options.hide.when.event == "unfocus") { s.elements.tooltip.attr("unfocus", true) } if (typeof s.options.style.width.value == "number") { s.updateWidth() } if (f("<canvas>").get(0).getContext || f.browser.msie) { if (s.options.style.border.radius > 0) { m.call(s) } else { s.elements.contentWrapper.css({ border: s.options.style.border.width + "px solid " + s.options.style.border.color }) } if (s.options.style.tip.corner !== false) { e.call(s) } } else { s.elements.contentWrapper.css({ border: s.options.style.border.width + "px solid " + s.options.style.border.color }); s.options.style.border.radius = 0; s.options.style.tip.corner = false; f.fn.qtip.log.error.call(s, 2, f.fn.qtip.constants.CANVAS_VML_NOT_SUPPORTED, "render") } if ((typeof s.options.content.text == "string" && s.options.content.text.length > 0) || (s.options.content.text.jquery && s.options.content.text.length > 0)) { u = s.options.content.text } else { if (typeof s.elements.target.attr("title") == "string" && s.elements.target.attr("title").length > 0) { u = s.elements.target.attr("title").replace("\\n", "<br />"); s.elements.target.attr("title", "") } else { if (typeof s.elements.target.attr("alt") == "string" && s.elements.target.attr("alt").length > 0) { u = s.elements.target.attr("alt").replace("\\n", "<br />"); s.elements.target.attr("alt", "") } else { u = " "; f.fn.qtip.log.error.call(s, 1, f.fn.qtip.constants.NO_VALID_CONTENT, "render") } } } if (s.options.content.title.text !== false) { j.call(s) } s.updateContent(u); l.call(s); if (s.options.show.ready === true) { s.show() } if (s.options.content.url !== false) { t = s.options.content.url; v = s.options.content.data; y = s.options.content.method || "get"; s.loadContent(t, v, y) } s.onRender.call(s); f.fn.qtip.log.error.call(s, 1, f.fn.qtip.constants.EVENT_RENDERED, "render") } function m() { var F, z, t, B, x, E, u, G, D, y, w, C, A, s, v; F = this; F.elements.wrapper.find(".qtip-borderBottom, .qtip-borderTop").remove(); t = F.options.style.border.width; B = F.options.style.border.radius; x = F.options.style.border.color || F.options.style.tip.color; E = g(B); u = {}; for (z in E) { u[z] = '<div rel="' + z + '" style="' + ((z.search(/Left/) !== -1) ? "left" : "right") + ":0; position:absolute; height:" + B + "px; width:" + B + 'px; overflow:hidden; line-height:0.1px; font-size:1px">'; if (f("<canvas>").get(0).getContext) { u[z] += '<canvas height="' + B + '" width="' + B + '" style="vertical-align: top"></canvas>' } else { if (f.browser.msie) { G = B * 2 + 3; u[z] += '<v:arc stroked="false" fillcolor="' + x + '" startangle="' + E[z][0] + '" endangle="' + E[z][1] + '" style="width:' + G + "px; height:" + G + "px; margin-top:" + ((z.search(/bottom/) !== -1) ? -2 : -1) + "px; margin-left:" + ((z.search(/Right/) !== -1) ? E[z][2] - 3.5 : -1) + 'px; vertical-align:top; display:inline-block; behavior:url(#default#VML)"></v:arc>' } } u[z] += "</div>" } D = F.getDimensions().width - (Math.max(t, B) * 2); y = '<div class="qtip-betweenCorners" style="height:' + B + "px; width:" + D + "px; overflow:hidden; background-color:" + x + '; line-height:0.1px; font-size:1px;">'; w = '<div class="qtip-borderTop" dir="ltr" style="height:' + B + "px; margin-left:" + B + 'px; line-height:0.1px; font-size:1px; padding:0;">' + u.topLeft + u.topRight + y; F.elements.wrapper.prepend(w); C = '<div class="qtip-borderBottom" dir="ltr" style="height:' + B + "px; margin-left:" + B + 'px; line-height:0.1px; font-size:1px; padding:0;">' + u.bottomLeft + u.bottomRight + y; F.elements.wrapper.append(C); if (f("<canvas>").get(0).getContext) { F.elements.wrapper.find("canvas").each(function() { A = E[f(this).parent("[rel]:first").attr("rel")]; r.call(F, f(this), A, B, x) }) } else { if (f.browser.msie) { F.elements.tooltip.append('<v:image style="behavior:url(#default#VML);"></v:image>') } } s = Math.max(B, (B + (t - B))); v = Math.max(t - B, 0); F.elements.contentWrapper.css({ border: "0px solid " + x, borderWidth: v + "px " + s + "px" }) } function r(u, w, s, t) { var v = u.get(0).getContext("2d"); v.fillStyle = t; v.beginPath(); v.arc(w[0], w[1], s, 0, Math.PI * 2, false); v.fill() } function e(v) { var t, s, x, u, w; t = this; if (t.elements.tip !== null) { t.elements.tip.remove() } s = t.options.style.tip.color || t.options.style.border.color; if (t.options.style.tip.corner === false) { return } else { if (!v) { v = t.options.style.tip.corner } } x = b(v, t.options.style.tip.size.width, t.options.style.tip.size.height); t.elements.tip = '<div class="' + t.options.style.classes.tip + '" dir="ltr" rel="' + v + '" style="position:absolute; height:' + t.options.style.tip.size.height + "px; width:" + t.options.style.tip.size.width + 'px; margin:0 auto; line-height:0.1px; font-size:1px;">'; if (f("<canvas>").get(0).getContext) { t.elements.tip += '<canvas height="' + t.options.style.tip.size.height + '" width="' + t.options.style.tip.size.width + '"></canvas>' } else { if (f.browser.msie) { u = t.options.style.tip.size.width + "," + t.options.style.tip.size.height; w = "m" + x[0][0] + "," + x[0][1]; w += " l" + x[1][0] + "," + x[1][1]; w += " " + x[2][0] + "," + x[2][1]; w += " xe"; t.elements.tip += '<v:shape fillcolor="' + s + '" stroked="false" filled="true" path="' + w + '" coordsize="' + u + '" style="width:' + t.options.style.tip.size.width + "px; height:" + t.options.style.tip.size.height + "px; line-height:0.1px; display:inline-block; behavior:url(#default#VML); vertical-align:" + ((v.search(/top/) !== -1) ? "bottom" : "top") + '"></v:shape>'; t.elements.tip += '<v:image style="behavior:url(#default#VML);"></v:image>'; t.elements.contentWrapper.css("position", "relative") } } t.elements.tooltip.prepend(t.elements.tip + "</div>"); t.elements.tip = t.elements.tooltip.find("." + t.options.style.classes.tip).eq(0); if (f("<canvas>").get(0).getContext) { h.call(t, t.elements.tip.find("canvas:first"), x, s) } if (v.search(/top/) !== -1 && f.browser.msie && parseInt(f.browser.version.charAt(0)) === 6) { t.elements.tip.css({ marginTop: -4 }) } n.call(t, v) } function h(t, v, s) { var u = t.get(0).getContext("2d"); u.fillStyle = s; u.beginPath(); u.moveTo(v[0][0], v[0][1]); u.lineTo(v[1][0], v[1][1]); u.lineTo(v[2][0], v[2][1]); u.fill() } function n(u) { var t, w, s, x, v; t = this; if (t.options.style.tip.corner === false || !t.elements.tip) { return } if (!u) { u = t.elements.tip.attr("rel") } w = positionAdjust = (f.browser.msie) ? 1 : 0; t.elements.tip.css(u.match(/left|right|top|bottom/)[0], 0); if (u.search(/top|bottom/) !== -1) { if (f.browser.msie) { if (parseInt(f.browser.version.charAt(0)) === 6) { positionAdjust = (u.search(/top/) !== -1) ? -3 : 1 } else { positionAdjust = (u.search(/top/) !== -1) ? 1 : 2 } } if (u.search(/Middle/) !== -1) { t.elements.tip.css({ left: "50%", marginLeft: -(t.options.style.tip.size.width / 2) }) } else { if (u.search(/Left/) !== -1) { t.elements.tip.css({ left: t.options.style.border.radius - w }) } else { if (u.search(/Right/) !== -1) { t.elements.tip.css({ right: t.options.style.border.radius + w }) } } } if (u.search(/top/) !== -1) { t.elements.tip.css({ top: -positionAdjust }) } else { t.elements.tip.css({ bottom: positionAdjust }) } } else { if (u.search(/left|right/) !== -1) { if (f.browser.msie) { positionAdjust = (parseInt(f.browser.version.charAt(0)) === 6) ? 1 : ((u.search(/left/) !== -1) ? 1 : 2) } if (u.search(/Middle/) !== -1) { t.elements.tip.css({ top: "50%", marginTop: -(t.options.style.tip.size.height / 2) }) } else { if (u.search(/Top/) !== -1) { t.elements.tip.css({ top: t.options.style.border.radius - w }) } else { if (u.search(/Bottom/) !== -1) { t.elements.tip.css({ bottom: t.options.style.border.radius + w }) } } } if (u.search(/left/) !== -1) { t.elements.tip.css({ left: -positionAdjust }) } else { t.elements.tip.css({ right: positionAdjust }) } } } s = "padding-" + u.match(/left|right|top|bottom/)[0]; x = t.options.style.tip.size[(s.search(/left|right/) !== -1) ? "width" : "height"]; t.elements.tooltip.css("padding", 0); t.elements.tooltip.css(s, x); if (f.browser.msie && parseInt(f.browser.version.charAt(0)) == 6) { v = parseInt(t.elements.tip.css("margin-top")) || 0; v += parseInt(t.elements.content.css("margin-top")) || 0; t.elements.tip.css({ marginTop: v }) } } function j() { var s = this; if (s.elements.title !== null) { s.elements.title.remove() } s.elements.title = f('<div class="' + s.options.style.classes.title + '">').css(q(s.options.style.title, true)).css({ zoom: (f.browser.msie) ? 1 : 0 }).prependTo(s.elements.contentWrapper); if (s.options.content.title.text) { s.updateTitle.call(s, s.options.content.title.text) } if (s.options.content.title.button !== false && typeof s.options.content.title.button == "string") { s.elements.button = f('<a class="' + s.options.style.classes.button + '" style="float:right; position: relative"></a>').css(q(s.options.style.button, true)).html(s.options.content.title.button).prependTo(s.elements.title).click(function(t) { if (!s.status.disabled) { s.hide(t) } }) } } function l() { var t, v, u, s; t = this; v = t.options.show.when.target; u = t.options.hide.when.target; if (t.options.hide.fixed) { u = u.add(t.elements.tooltip) } if (t.options.hide.when.event == "inactive") { s = ["click", "dblclick", "mousedown", "mouseup", "mousemove", "mouseout", "mouseenter", "mouseleave", "mouseover"]; function y(z) { if (t.status.disabled === true) { return } clearTimeout(t.timers.inactive); t.timers.inactive = setTimeout(function() { f(s).each(function() { u.unbind(this + ".qtip-inactive"); t.elements.content.unbind(this + ".qtip-inactive") }); t.hide(z) }, t.options.hide.delay) } } else { if (t.options.hide.fixed === true) { t.elements.tooltip.bind("mouseover.qtip", function() { if (t.status.disabled === true) { return } clearTimeout(t.timers.hide) }) } } function x(z) { if (t.status.disabled === true) { return } if (t.options.hide.when.event == "inactive") { f(s).each(function() { u.bind(this + ".qtip-inactive", y); t.elements.content.bind(this + ".qtip-inactive", y) }); y() } clearTimeout(t.timers.show); clearTimeout(t.timers.hide); t.timers.show = setTimeout(function() { t.show(z) }, t.options.show.delay) } function w(z) { if (t.status.disabled === true) { return } if (t.options.hide.fixed === true && t.options.hide.when.event.search(/mouse(out|leave)/i) !== -1 && f(z.relatedTarget).parents("div.qtip[qtip]").length > 0) { z.stopPropagation(); z.preventDefault(); clearTimeout(t.timers.hide); return false } clearTimeout(t.timers.show); clearTimeout(t.timers.hide); t.elements.tooltip.stop(true, true); t.timers.hide = setTimeout(function() { t.hide(z) }, t.options.hide.delay) } if ((t.options.show.when.target.add(t.options.hide.when.target).length === 1 && t.options.show.when.event == t.options.hide.when.event && t.options.hide.when.event !== "inactive") || t.options.hide.when.event == "unfocus") { t.cache.toggle = 0; v.bind(t.options.show.when.event + ".qtip", function(z) { if (t.cache.toggle == 0) { x(z) } else { w(z) } }) } else { v.bind(t.options.show.when.event + ".qtip", x); if (t.options.hide.when.event !== "inactive") { u.bind(t.options.hide.when.event + ".qtip", w) } } if (t.options.position.type.search(/(fixed|absolute)/) !== -1) { t.elements.tooltip.bind("mouseover.qtip", t.focus) } if (t.options.position.target === "mouse" && t.options.position.type !== "static") { v.bind("mousemove.qtip", function(z) { t.cache.mouse = { x: z.pageX, y: z.pageY }; if (t.status.disabled === false && t.options.position.adjust.mouse === true && t.options.position.type !== "static" && t.elements.tooltip.css("display") !== "none") { t.updatePosition(z) } }) } } function o(u, v, A) { var z, s, x, y, t, w; z = this; if (A.corner == "center") { return v.position } s = f.extend({}, u); y = { x: false, y: false }; t = { left: (s.left < f.fn.qtip.cache.screen.scroll.left), right: (s.left + A.dimensions.width + 2 >= f.fn.qtip.cache.screen.width + f.fn.qtip.cache.screen.scroll.left), top: (s.top < f.fn.qtip.cache.screen.scroll.top), bottom: (s.top + A.dimensions.height + 2 >= f.fn.qtip.cache.screen.height + f.fn.qtip.cache.screen.scroll.top) }; x = { left: (t.left && (A.corner.search(/right/i) != -1 || (A.corner.search(/right/i) == -1 && !t.right))), right: (t.right && (A.corner.search(/left/i) != -1 || (A.corner.search(/left/i) == -1 && !t.left))), top: (t.top && A.corner.search(/top/i) == -1), bottom: (t.bottom && A.corner.search(/bottom/i) == -1) }; if (x.left) { if (z.options.position.target !== "mouse") { s.left = v.position.left + v.dimensions.width } else { s.left = z.cache.mouse.x } y.x = "Left" } else { if (x.right) { if (z.options.position.target !== "mouse") { s.left = v.position.left - A.dimensions.width } else { s.left = z.cache.mouse.x - A.dimensions.width } y.x = "Right" } } if (x.top) { if (z.options.position.target !== "mouse") { s.top = v.position.top + v.dimensions.height } else { s.top = z.cache.mouse.y } y.y = "top" } else { if (x.bottom) { if (z.options.position.target !== "mouse") { s.top = v.position.top - A.dimensions.height } else { s.top = z.cache.mouse.y - A.dimensions.height } y.y = "bottom" } } if (s.left < 0) { s.left = u.left; y.x = false } if (s.top < 0) { s.top = u.top; y.y = false } if (z.options.style.tip.corner !== false) { s.corner = new String(A.corner); if (y.x !== false) { s.corner = s.corner.replace(/Left|Right|Middle/, y.x) } if (y.y !== false) { s.corner = s.corner.replace(/top|bottom/, y.y) } if (s.corner !== z.elements.tip.attr("rel")) { e.call(z, s.corner) } } return s } function q(u, t) { var v, s; v = f.extend(true, {}, u); for (s in v) { if (t === true && s.search(/(tip|classes)/i) !== -1) { delete v[s] } else { if (!t && s.search(/(width|border|tip|title|classes|user)/i) !== -1) { delete v[s] } } } return v } function c(s) { if (typeof s.tip !== "object") { s.tip = { corner: s.tip} } if (typeof s.tip.size !== "object") { s.tip.size = { width: s.tip.size, height: s.tip.size} } if (typeof s.border !== "object") { s.border = { width: s.border} } if (typeof s.width !== "object") { s.width = { value: s.width} } if (typeof s.width.max == "string") { s.width.max = parseInt(s.width.max.replace(/([0-9]+)/i, "$1")) } if (typeof s.width.min == "string") { s.width.min = parseInt(s.width.min.replace(/([0-9]+)/i, "$1")) } if (typeof s.tip.size.x == "number") { s.tip.size.width = s.tip.size.x; delete s.tip.size.x } if (typeof s.tip.size.y == "number") { s.tip.size.height = s.tip.size.y; delete s.tip.size.y } return s } function a() { var s, t, u, x, v, w; s = this; u = [true, {}]; for (t = 0; t < arguments.length; t++) { u.push(arguments[t]) } x = [f.extend.apply(f, u)]; while (typeof x[0].name == "string") { x.unshift(c(f.fn.qtip.styles[x[0].name])) } x.unshift(true, { classes: { tooltip: "qtip-" + (arguments[0].name || "defaults")} }, f.fn.qtip.styles.defaults); v = f.extend.apply(f, x); w = (f.browser.msie) ? 1 : 0; v.tip.size.width += w; v.tip.size.height += w; if (v.tip.size.width % 2 > 0) { v.tip.size.width += 1 } if (v.tip.size.height % 2 > 0) { v.tip.size.height += 1 } if (v.tip.corner === true) { v.tip.corner = (s.options.position.corner.tooltip === "center") ? false : s.options.position.corner.tooltip } return v } function b(v, u, t) { var s = { bottomRight: [[0, 0], [u, t], [u, 0]], bottomLeft: [[0, 0], [u, 0], [0, t]], topRight: [[0, t], [u, 0], [u, t]], topLeft: [[0, 0], [0, t], [u, t]], topMiddle: [[0, t], [u / 2, 0], [u, t]], bottomMiddle: [[0, 0], [u, 0], [u / 2, t]], rightMiddle: [[0, 0], [u, t / 2], [0, t]], leftMiddle: [[u, 0], [u, t], [0, t / 2]] }; s.leftTop = s.bottomRight; s.rightTop = s.bottomLeft; s.leftBottom = s.topRight; s.rightBottom = s.topLeft; return s[v] } function g(s) { var t; if (f("<canvas>").get(0).getContext) { t = { topLeft: [s, s], topRight: [0, s], bottomLeft: [s, 0], bottomRight: [0, 0]} } else { if (f.browser.msie) { t = { topLeft: [-90, 90, 0], topRight: [-90, 90, -s], bottomLeft: [90, 270, 0], bottomRight: [90, 270, -s]} } } return t } function k() { var s, t, u; s = this; u = s.getDimensions(); t = '<iframe class="qtip-bgiframe" frameborder="0" tabindex="-1" src="javascript:false" style="display:block; position:absolute; z-index:-1; filter:alpha(opacity=\'0\'); border: 1px solid red; height:' + u.height + "px; width:" + u.width + 'px" />'; s.elements.bgiframe = s.elements.wrapper.prepend(t).children(".qtip-bgiframe:first") } f(document).ready(function() { f.fn.qtip.cache = { screen: { scroll: { left: f(window).scrollLeft(), top: f(window).scrollTop() }, width: f(window).width(), height: f(window).height()} }; var s; f(window).bind("resize scroll", function(t) { clearTimeout(s); s = setTimeout(function() { if (t.type === "scroll") { f.fn.qtip.cache.screen.scroll = { left: f(window).scrollLeft(), top: f(window).scrollTop()} } else { f.fn.qtip.cache.screen.width = f(window).width(); f.fn.qtip.cache.screen.height = f(window).height() } for (i = 0; i < f.fn.qtip.interfaces.length; i++) { var u = f.fn.qtip.interfaces[i]; if (u.status.rendered === true && (u.options.position.type !== "static" || u.options.position.adjust.scroll && t.type === "scroll" || u.options.position.adjust.resize && t.type === "resize")) { u.updatePosition(t, true) } } }, 100) }); f(document).bind("mousedown.qtip", function(t) { if (f(t.target).parents("div.qtip").length === 0) { f(".qtip[unfocus]").each(function() { var u = f(this).qtip("api"); if (f(this).is(":visible") && !u.status.disabled && f(t.target).add(u.elements.target).length > 1) { u.hide(t) } }) } }) }); f.fn.qtip.interfaces = []; f.fn.qtip.log = { error: function() { return this } }; f.fn.qtip.constants = {}; f.fn.qtip.defaults = { content: { prerender: false, text: false, url: false, data: null, title: { text: false, button: false} }, position: { target: false, corner: { target: "bottomRight", tooltip: "topLeft" }, adjust: { x: 0, y: 0, mouse: true, screen: false, scroll: true, resize: true }, type: "absolute", container: false }, show: { when: { target: false, event: "mouseover" }, effect: { type: "fade", length: 100 }, delay: 140, solo: false, ready: false }, hide: { when: { target: false, event: "mouseout" }, effect: { type: "fade", length: 100 }, delay: 0, fixed: false }, api: { beforeRender: function() { }, onRender: function() { }, beforePositionUpdate: function() { }, onPositionUpdate: function() { }, beforeShow: function() { }, onShow: function() { }, beforeHide: function() { }, onHide: function() { }, beforeContentUpdate: function() { }, onContentUpdate: function() { }, beforeContentLoad: function() { }, onContentLoad: function() { }, beforeTitleUpdate: function() { }, onTitleUpdate: function() { }, beforeDestroy: function() { }, onDestroy: function() { }, beforeFocus: function() { }, onFocus: function() { } } }; f.fn.qtip.styles = { defaults: { background: "white", color: "#111", overflow: "hidden", textAlign: "left", width: { min: 0, max: 250 }, padding: "5px 9px", border: { width: 1, radius: 0, color: "#d3d3d3" }, tip: { corner: false, color: false, size: { width: 13, height: 13 }, opacity: 1 }, title: { background: "#e1e1e1", fontWeight: "bold", padding: "7px 12px" }, button: { cursor: "pointer" }, classes: { target: "", tip: "qtip-tip", title: "qtip-title", button: "qtip-button", content: "qtip-content", active: "qtip-active"} }, cream: { border: { width: 3, radius: 0, color: "#F9E98E" }, title: { background: "#F0DE7D", color: "#A27D35" }, background: "#FBF7AA", color: "#A27D35", classes: { tooltip: "qtip-cream"} }, light: { border: { width: 3, radius: 0, color: "#E2E2E2" }, title: { background: "#f1f1f1", color: "#454545" }, background: "white", color: "#454545", classes: { tooltip: "qtip-light"} }, dark: { border: { width: 3, radius: 0, color: "#303030" }, title: { background: "#404040", color: "#f3f3f3" }, background: "#505050", color: "#f3f3f3", classes: { tooltip: "qtip-dark"} }, red: { border: { width: 3, radius: 0, color: "#CE6F6F" }, title: { background: "#f28279", color: "#9C2F2F" }, background: "#F79992", color: "#9C2F2F", classes: { tooltip: "qtip-red"} }, green: { border: { width: 3, radius: 0, color: "#A9DB66" }, title: { background: "#b9db8c", color: "#58792E" }, background: "#CDE6AC", color: "#58792E", classes: { tooltip: "qtip-green"} }, blue: { border: { width: 3, radius: 0, color: "#ADD9ED" }, title: { background: "#D0E9F5", color: "#5E99BD" }, background: "#E5F6FE", color: "#4D9FBF", classes: { tooltip: "qtip-blue"}}} })(jQuery);
/* Merchant suggest and qtip hookup */
$(window).ready(function () {
    $("#sf").suggest(rootUrl + "WebAPI/ReferenceDataAPI.aspx?method=merchsuggest",
        { 
            onSelect: function () {
                $("#sf")[0].form.submit();
            }
        });
}); 
$.fn.qtip.styles.sahbubble = { background: '#fbf7aa', color: '#bb7207', border: { width: 2, radius: 5, color: '#ff9c0a' }, name: 'cream' }; $.fn.qtip.styles.vrbubble = { background: '#ffffff', color: '#333333', border: { width: 2, radius: 5, color: '#85B1D6' }, name: 'cream' };
/* Coupon Comments.js */
function GetCommentControl(sid, mid, type, commentType, commentSection, thankYouSection, commentControlType) { $.ajax({ dataType: 'html', async: false, cache: false, type: 'GET', url: rootUrl + 'WebAPI/SAHAPI.aspx', data: 'method=GetCommentControl&sid=' + sid + '&type=' + type + '&mid=' + mid + '&CS=' + commentSection + '&TS=' + thankYouSection + '&CCT=' + commentControlType, success: function (retval) { switch (commentType) { case "sc": $('#comment' + sid).html(retval); $('#commentDiv' + sid).show(); break; case "cc": $('#commentCC' + sid).html(retval); $('#commentDiv' + sid).show(); break; case "spc": $('#commentSP' + sid).html(retval); $('#commentDivFCStaffPick' + sid).show(); break; case "pdc": $('#commentPD' + sid).html(retval); $('#commentDivFCProduct' + sid).show(); break; } } }); }
function GetRatingControl(SpecialsId, CouponType, commentSection, commentDiv, reviewType, thankYouSection, commentControlType) { $(commentDiv).val = $.ajax({ dataType: 'html', async: false, cache: false, type: 'GET', url: rootUrl + 'WebAPI/SAHAPI.aspx', data: 'method=GetRatingControl&SID=' + SpecialsId + '&CT=' + CouponType + '&CS=' + commentSection + '&RT=' + reviewType + '&TS=' + thankYouSection + '&CCT=' + commentControlType, success: function (retval) { $('#' + commentDiv).html(retval); $('#' + commentDiv).show(); } }); }
function PostCouponSavings(UserID, SpecialsId, CouponType, savingsDollar, savingsCents, savingComment) { $.ajax({ dataType: 'json', async: false, type: 'GET', url: rootUrl + 'WebAPI/SAHAPI.aspx', data: 'method=PostCouponSavings&UID=' + UserID + '&SID=' + SpecialsId + '&CT=' + CouponType + '&Dollar=' + savingsDollar + '&Cents=' + savingsCents + '&Comment=' + savingComment, success: function (json) { } }); }
function PostCouponComment(UserID, SpecialsId, CouponType, savingComment) { $.ajax({ dataType: 'json', async: false, type: 'GET', url: rootUrl + 'WebAPI/SAHAPI.aspx', data: 'method=PostCouponComment&UID=' + UserID + '&SID=' + SpecialsId + '&CT=' + CouponType + '&Comment=' + savingComment, success: function (json) { } }); }
function PostCouponAbuse(CustomerID, CSUSerID, SpecialsId, CouponType, abuseComment) { $.ajax({ dataType: 'json', async: false, type: 'GET', url: rootUrl + 'WebAPI/SAHAPI.aspx', data: 'method=PostCouponAbuse&CID=' + CustomerID + '&UID=' + CSUSerID + '&SID=' + SpecialsId + '&CT=' + CouponType + '&Comment=' + abuseComment, success: function (json) { } }); }
function ValidateSavingsAmount(obj) { if (!$.isNumeric(obj.value)) { alert('Must be numeric.'); obj.value = '0'; obj.focus(); } }
function isCaptchaValid(captchaText, captchaImageMID) { return $.ajax({ dataType: 'json', async: false, cache: false, type: 'GET', url: rootUrl + 'WebAPI/SAHAPI.aspx', data: 'method=isCaptchaValid&ctxt=' + captchaText + '&cimid=' + captchaImageMID, success: function (json) { return json; } }).responseText; }
/* End Coupn Comments.js */

//Coupons
function CommentClick(sid) { }
function JoinNowStoreModal(title, redirectUrl, height, width) { window.parent.tb_show(title, redirectUrl + '?keepThis=true&TB_iframe=true&modal=false&height=' + height + '&width=' + width + '&scrollbars=false'); }

//mid is defined globally on the calling page
var initCouponsComplete = false;
function InitCoupons(){if (!initCouponsComplete) {
$("div.cc").html("Click to copy code & visit site &raquo;"); $("div.ncc").html("Click to Shop"); $("div.notreq").html("Code Not Required"); $("div.opdiv").html("& Open Site");
$(".displayText").each(function (index) { if ($.trim($(this).html()) != "") { $(this).show(); $(this).parent().siblings('.NoComments').hide(); } else { $(this).hide(); $(this).parent().siblings('.NoComments').show(); } $('#commentDiv' + $(this).parent().attr("ID")).hide(); });
$(".displayText").click(function () { GetCommentControl($(this).parent().attr("ID"), mid, ($(this).hasClass("communityComment")) ? "csid" : "sid", ($(this).hasClass("communityComment")) ? "cc" : "sc", "commentDiv", ($(this).hasClass("communityComment")) ? "ThankYouCC" : "ThankYou", ($(this).hasClass("interstitialPage")) ? "inter" : "store"); return false; });
$(".closeComment").click(function () { $('#commentDiv' + $(this).parent().attr("ID")).hide(); $(this).parent().hide(); $(this).parent().siblings('.displayText').show(); $(this).parent().parent().siblings('.NoComments').hide(); return false; });
$(".closeCommentNew").click(function () { $(this).parent().parent().hide(); $(this).parent().parent().siblings().find('.displayText').show(); $(this).parent().parent().siblings().find('.close').hide(); return false; });
$(".addCommentOuter").click(function () { GetCommentControl($(this).parent().attr("ID"), mid, ($(this).hasClass("communityComment")) ? "csid" : "sid", ($(this).hasClass("communityComment")) ? "cc" : "sc", "commentDiv", ($(this).hasClass("communityComment")) ? "ThankYouCC" : "ThankYou", ($(this).hasClass("interstitialPage")) ? "inter" : "store"); return false; });
$(".addCommentInner").click(function () { GetCommentControl($(this).parent().attr("ID"), mid, ($(this).hasClass("communityComment")) ? "csid" : "sid", ($(this).hasClass("communityComment")) ? "cc" : "sc", "commentDiv", ($(this).hasClass("communityComment")) ? "ThankYouCC" : "ThankYou", ($(this).hasClass("interstitialPage")) ? "inter" : "store"); return false; });
//StaffPick control
$(".displayTextFCStaffPick").each(function (index) {if ($.trim($(this).html()) != "") { $(this).show(); $(this).parent().siblings('.NoComments').hide(); } else { $(this).hide(); $(this).parent().siblings('.NoComments').show(); }$('#commentDivFCStaffPick' + $(this).parent().attr("ID")).hide();});
$(".displayTextFCStaffPick").click(function () { GetCommentControl($(this).parent().attr("ID"), mid, "sid", "spc", "commentDivFCStaffPick", "ThankYouSP", 'store'); return false; });
$(".addCommentOuterSP").click(function () { GetCommentControl($(this).parent().attr("ID"), mid, "sid", "spc", "commentDivFCStaffPick", "ThankYouSP", 'store'); return false; });
$(".addCommentInnerSP").click(function () { GetCommentControl($(this).parent().attr("ID"), mid, "sid", "spc", "commentDivFCStaffPick", "ThankYouSP", 'store'); return false; });
//$(".displayTextFCStaffPick").each(function (index) { if ($.trim($(this).html()) != "") { $(this).show(); $(this).parent().siblings('.NoComments').hide(); } else { $(this).hide(); $(this).parent().siblings('.NoComments').show(); } $('#commentDivFCStaffPick' + $(this).parent().attr("ID")).hide(); });
//$(".displayTextFCStaffPick").click(function () { $('#commentDivFCStaffPick' + $(this).parent().attr("ID")).show(); $(this).siblings('.close').show(); $(this).hide(); return false; });
$(".closeCommentFCStaffPick").click(function () { $(this).parent().parent().hide(); $(this).parent().parent().siblings().find('.displayTextFCStaffPick').show(); $(this).parent().parent().siblings().find('.close').hide(); return false; });
//ProductDeal control
$(".displayTextFCProduct").each(function (index) {if ($.trim($(this).html()) != "") { $(this).show(); $(this).parent().siblings('.NoComments').hide(); } else { $(this).hide(); $(this).parent().siblings('.NoComments').show(); }$('#commentDivFCProduct' + $(this).parent().attr("ID")).hide();});
$(".displayTextFCProduct").click(function () { GetCommentControl($(this).parent().attr("ID"), mid, "sid", "pdc", "commentDivFCProduct", "ThankYouPD", 'store'); return false; });
$(".addCommentOuterPD").click(function () { GetCommentControl($(this).parent().attr("ID"), mid, "sid", "pdc", "commentDivFCProduct", "ThankYouPD", 'store'); return false; });
$(".addCommentInnerPD").click(function () { GetCommentControl($(this).parent().attr("ID"), mid, "sid", "pdc", "commentDivFCProduct", "ThankYouPD", 'store'); return false; });
//$(".displayTextFCProduct").each(function (index) { if ($.trim($(this).html()) != "") { $(this).show(); $(this).parent().siblings('.NoComments').hide(); } else { $(this).hide(); $(this).parent().siblings('.NoComments').show(); } $('#commentDivFCProduct' + $(this).parent().attr("ID")).hide(); });
//$(".displayTextFCProduct").click(function () { $('#commentDivFCProduct' + $(this).parent().attr("ID")).show(); $(this).siblings('.close').show(); $(this).hide(); return false; });
$(".closeCommentFCProduct").click(function () { $(this).parent().parent().hide(); $(this).parent().parent().siblings().find('.displayTextFCProduct').show(); $(this).parent().parent().siblings().find('.close').hide(); return false; });
$("#selectPrem").change(function () { window.location.href = $("#selectPrem option:selected").val(); });
$("#selectComm").change(function () { window.location.href = $("#selectComm option:selected").val(); });
initCouponsComplete = true;
} 
}
/* - - - Google Customizable Content Ads: FB 8505 - - - */   
function google_ad_request_done(a){var b="";var c;if(a.length==0){return}if(a[0].type=="flash"){b+='<a href="'+google_info.feedback_url+'" style="color:#cccccc" class="abg">Ads by Google</a><br>'+'<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+' codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0" WIDTH="'+google_ad.image_width+'" HEIGHT="'+google_ad.image_height+'"> <PARAM NAME="movie" VALUE="'+google_ad.image_url+'">'+'<PARAM NAME="quality" VALUE="high">'+'<PARAM NAME="AllowScriptAccess" VALUE="never">'+'<EMBED src="'+google_ad.image_url+'" WIDTH="'+google_ad.image_width+'" HEIGHT="'+google_ad.image_height+'" TYPE="application/x-shockwave-flash"'+' AllowScriptAccess="never" '+' PLUGINSPAGE="http://www.macromedia.com/go/getflashplayer"></EMBED></OBJECT>'}else if(a[0].type=="image"){b+='<a href="'+google_info.feedback_url+'" style="color:#cccccc;" class="abg">Ads by Google</a><br> <a href="'+a[0].url+'" target="_top" title="go to '+a[0].visible_url+'" onmouseout="window.status=\'\'" onmouseover="window.status=\'go to '+a[0].visible_url+'\';return true"><img border="0" src="'+a[0].image_url+'"width="'+a[0].image_width+'"height="'+a[0].image_height+'"></a>'}else if(a[0].type=="html"){b+='<a href="'+google_info.feedback_url+'" style="color:#cccccc;" class="abg">Ads by Google</a>'+a[0].snippet}else{if(a.length==1){b+='<a href="'+google_info.feedback_url+'" style="color:cccccc;" class="abg">Ads by Google</a></span> <p><a style="text-decoration:none" href="'+a[0].url+'" onmouseout="window.status=\'\'" onmouseover="window.status=\'go to '+a[0].visible_url+'\';return true"> <span style="text-decoration:underline;"> <b>'+a[0].line1+'</b><br></span></a> <span style="color:#000000;">'+a[0].line2+""+a[0].line3+'</span><br><a style="color:#008000;text-decoration:none" href="'+a[0].url+'" onmouseout="window.status=\'\'" onmouseover="window.status=\'go to '+a[0].visible_url+"';return true\"><span>"+a[0].visible_url+"</span></a></p>"}else if(a.length>1){b+='<a href="'+google_info.feedback_url+'" style="color:#555555" class="abg">Ads by Google</a>';for(c=0;c<a.length;++c){b+='<p><a style="text-decoration:none" href="'+a[c].url+'" onmouseout="window.status=\'\'" onmouseover="window.status=\'go to '+a[c].visible_url+'\';return true"> <span style="text-decoration:underline"> <b>'+a[c].line1+'</b><br></span></a> <span style="color:#000000">'+a[c].line2+""+a[c].line3+'<br></span> <a style="color:#008000;text-decoration:none" href="'+a[c].url+'" onmouseout="window.status=\'\'" onmouseover="window.status=\'go to '+a[c].visible_url+"';return true\"><span>"+a[c].visible_url+"</span></a></p>"}}}if(a[0].bidtype=="CPC"){google_adnum=google_adnum+a.length}document.write(b);return}var google_adnum=0;google_ad_client="ca-pub-5231138490044938";google_ad_channel="4305131093";google_ad_output="js";google_max_num_ads="3";google_ad_type="text";google_image_size="468x60";google_feedback="on";google_skip=google_adnum

/* - - - jQuery Cookie methods - - - */
jQuery.cookie = function (a, b, c) { if (arguments.length > 1 && String(b) !== "[object Object]") { c = jQuery.extend({}, c); if (b === null || b === undefined) { c.expires = -1 } if (typeof c.expires === "number") { var d = c.expires, e = c.expires = new Date; e.setDate(e.getDate() + d) } b = String(b); return document.cookie = [encodeURIComponent(a), "=", c.raw ? b : encodeURIComponent(b), c.expires ? "; expires=" + c.expires.toUTCString() : "", c.path ? "; path=" + c.path : "", c.domain ? "; domain=" + c.domain : "", c.secure ? "; secure" : ""].join("") } c = b || {}; var f, g = c.raw ? function (a) { return a } : decodeURIComponent; return (f = (new RegExp("(?:^|; )" + encodeURIComponent(a) + "=([^;]*)")).exec(document.cookie)) ? g(f[1]) : null }

/* begin CouponCodePopup code */
var couponCodePop;
function showCouponCodePopup(auth, popupUrl, outclickUrl) {

    try {
        // call the popup   
        popCouponCodePopup(popupUrl, 'standard', '450', '560', auth);
    }
    catch (e) {
        // error
    }
    finally {
        if (outclickUrl != null) {
            window.location.href = outclickUrl;
            peelCoupons(peelId, true);
        }
    }
}

function outclickCouponCodePopup(outclickUrl, parentWindow) {

    if (window.opener) {
        window.opener.location = outclickUrl;
    }
}

function popCouponCodePopup(url, type, width, height, auth) {

    type = type.toLowerCase();
    if (type == "fullscreen") {
        width = screen.availWidth;
        height = screen.availHeight;
    }
    if (auth != null && auth) {
        auth = (auth.toLowerCase() == 'true' || auth == true);
    }
    //    else if ( IsAnon!='undefined' && IsAnon)
    //        auth = !IsAnon;
    else
        auth = false;

    var features = "";
    if (type == "standard") features = "resizable,toolbar=yes,location=yes,scrollbars=yes,menubar=yes,width=" + width + ",height=" + height + ",top=0,left=0";
    else if (type == "console" || type == "fullscreen") features = "resizable,toolbar=no,location=no,scrollbars=no,width=" + width + ",height=" + height + ",left=0,top=0";
    var newWin = !couponCodePopped;
    if (couponCodePop) {
        newWin = false;
        couponCodePop.close();
    }
    if (!couponCodePop && !auth) {
        url += (url.indexOf("?") != -1) ? "&blur=1" : "?blur=1";
    }
    if (window.name != "couponCodePop") {
        // opening couponCodePop from main window
        couponCodePop = window.open(url, "couponCodePop", features);
    }
    else {
        // opening couponCodePop from open couponCodePop window
        couponCodePop = window.open(url, "couponCodePopSub", features);
    }
    couponCodePopped = true;
    if (couponCodePop!= null)
        couponCodePop.focus();
} /* end CouponCodePopup code */

function JoinNowModal(title, redirectUrl, height, width) {
        window.parent.tb_show(title, redirectUrl + "&keepThis=false&TB_iframe=true&modal=false&height=" + height + "&width=" + width + "&scrollbars=false");
    }

 var ValidEmailPattern = "^[a-zA-Z0-9_]+(?:[\\.\\-][a-zA-Z0-9_]+)*@[a-zA-Z0-9_]+(?:[\\.\\-][a-zA-Z0-9_]+)*\\.[a-zA-Z]{2,4}$";
