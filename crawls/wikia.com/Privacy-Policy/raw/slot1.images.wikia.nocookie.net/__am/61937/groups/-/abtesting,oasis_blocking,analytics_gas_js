(function(window){var Wikia=window.Wikia=(window.Wikia||{}),config=Wikia.AbTestConfig||{},AbTest,serverTimeString=window.varnishTime,serverTime=new Date(serverTimeString).getTime()/1000;var log=function(methodName,message){if(window.console&&window.console.log){if(!message){methodName=undefined;message=arguments[0];}
window.console.log('Wikia.AbTest'+(methodName?'.'+methodName+'()':'')+':',message);}};AbTest=function(expName){this.expName=expName;};AbTest.uuid=(function(uuid){var ret=uuid&&uuid!='ThisIsFake'?uuid:null;if(!ret){log('init','UUID is not available, A/B testing will be disabled');}
return ret;})(window.beacon_id);AbTest.getGroup=function(expName){var exp=getExperiment(expName,'getGroup'),group=exp&&exp.group;return group&&group.name;};AbTest.inGroup=function(expName,groupName){return AbTest.getGroup(expName)===groupName;};AbTest.isValidGroup=function(expName,groupName){var exp=getExperiment(expName,'isValidGroup'),current=exp&&exp.current;return!!(current&&current.groups[groupName]);};AbTest.getGASlot=function(expName){var exp=getExperiment(expName,'getGASlot'),current=exp&&exp.current;return current&&current.gaSlot;};AbTest.getExperiments=function(includeAll){var expName,exp,group,el,list=[];for(expName in AbTest.experiments){exp=AbTest.experiments[expName];group=exp.group;if(!group&&!includeAll){continue;}
el={id:exp.id,name:exp.name};if(group){el.group={id:group.id,name:group.name}}
list.push(el);}
return list;};(function(prototype){var i,length,methodNames=['inGroup','getGroup','getGASlot','getUserSlot'];for(i=0,length=methodNames.length;i<length;i++){(function(methodName){prototype[methodName]=function(){return AbTest[methodName].apply(AbTest,[this.expName].concat(arguments));};})(methodNames[i]);}})(AbTest.prototype);function getExperiment(expName,methodName){if(!expName){log(methodName,'Missing required argument "expName".');}
var exp=AbTest.experiments[expName];if(!exp){log(methodName,'Experiment configuration not found for "'+expName+'."');}
return exp;}
function hash(s){var slot=0,i;for(i=0;i<s.length;i++){slot+=s.charCodeAt(i)*(i+1);}
return Math.abs(slot)%100;}
function getSlot(expName){return AbTest.uuid?hash(AbTest.uuid+expName):-1;}
function setActiveGroup(expName,groupName,force){var exp=getExperiment(expName,'setActiveGroup'),current=exp&&exp.current,group=current&&current.groups[groupName];if(group&&(!exp.group||force)){exp.group=group;return true;}
return false;}
function isInRanges(value,ranges){var i,range;for(i=0;i<ranges.length;i++){range=ranges[i];if(value>=range.min&&value<=range.max){return true;}}
return false;}
AbTest.experiments=(function(experiments){var expName,exp,versions,version,i,activeExperiments={},count=0;for(expName in experiments){exp=experiments[expName];versions=exp.versions;for(i=0;i<versions.length;i++){version=versions[i];if(serverTime>=version.startTime&&serverTime<=version.endTime){exp.current=version;count++;break;}}
if(exp.current){activeExperiments[expName]=exp;}}
AbTest.experimentCount=count;return activeExperiments;})(config.experiments||{});(function(experiments){var matches,rTreatmentGroups=/AbTest\.([^=]+)=([^?&]+)/gi,queryString=window.location.search,expName,groupName,exp,slot;if(queryString){while((matches=rTreatmentGroups.exec(queryString))!=null){expName=matches[1];groupName=matches[2];if(!AbTest.isValidGroup(expName,groupName)){log('init','Invalid experiment/group specified in URL: '+expName+'/'+groupName);continue;}
setActiveGroup(expName,groupName);}}
for(expName in experiments){exp=experiments[expName];slot=getSlot(expName);if(exp.group||!exp.current||slot<0){continue;}
for(groupName in exp.current.groups){if(isInRanges(slot,exp.current.groups[groupName].ranges)){setActiveGroup(expName,groupName);}}}})(AbTest.experiments);Wikia.AbTest=AbTest;})(window);;


(function(window){var WikiaScriptLoader={};var userAgent=navigator.userAgent.toLowerCase(),useDOMInjection=(userAgent.indexOf('opera')!=-1)||(userAgent.indexOf('firefox/3.')!=-1),headNode=document.getElementsByTagName('HEAD')[0],NodeFactories={js:function(url,options){var script=document.createElement('script');script.src=url;script.type="text/javascript";script.async=false;script.onLoadDone=false;script.onLoadCallback=options.callback||null;script.onload=function(){if(!this.onLoadDone&&typeof this.onLoadCallback=='function'){this.onLoadCallback();this.onLoadDone=true;}};script.onreadystatechange=function(){if(!this.onloadDone&&this.readyState=='loaded'&&typeof this.onLoadCallback=='function'){this.onLoadCallback();this.onLoadDone=true;}};return script;},css:function(url,options){var link=document.createElement('link');link.href=url;link.rel='stylesheet';link.type='text/css';link.media=options.media||'';return link;}},counter=0;function isArray(obj){return obj instanceof Array;}
function injectNode(type,urls,options){options=options||{};if(!isArray(urls)){urls=[urls];}
var node,url,finalCallback,opts;if(options.callback){finalCallback=function(){counter--;if(counter==0){options.callback();}}}
if(type=='js'){opts={callback:finalCallback};counter+=urls.length;}else{opts=options;}
for(var x=0,y=urls.length;x<y;x++){headNode.appendChild(NodeFactories[type](urls[x],opts));}}
function buildScript(urls){var output='';if(!isArray(urls))
urls=[urls];for(var x=0,y=urls.length;x<y;x++){if(typeof urls[x]==='string'){output+='<scr'+'ipt src="'+urls[x]+'" type="text/javascript"></scr'+'ipt>';}}
return output;}
function writeScript(urls,callback){var output=buildScript(urls);document.write(output);if(typeof callback=='function'){var handler=function(){callback();};if(window.addEventListener)
window.addEventListener('load',handler,false);else if(window.attachEvent)
window.attachEvent('onload',handler);}}
WikiaScriptLoader.buildScript=buildScript;WikiaScriptLoader.loadScript=function(urls,callback){if(useDOMInjection)
injectNode('js',urls,{callback:callback});else
writeScript(urls,callback);};WikiaScriptLoader.loadCSS=function(urls,media){injectNode('css',urls,{media:media});};window.wsl=WikiaScriptLoader;})(window);;(function(window){var jQueryRequested=false;window.getJqueryUrl=function(){var result=[];if((typeof window.jQuery==='undefined'||typeof window.jQuery.fn==='undefined')&&jQueryRequested==false){jQueryRequested=true;result=result.concat(window.wgJqueryUrl);}
return result;};})(window);;


(function(window,undefined){var possible_domains,i;window._gaq=window._gaq||[];window._gaq.push(['_setAccount','UA-32129070-1']);window._gaq.push(['_setSampleRate','10']);if(window.wgIsGASpecialWiki){window._gaq.push(['special._setAccount','UA-32132943-1']);window._gaq.push(['special._setSampleRate','100']);}
function _gaqWikiaPush(){var i,spec,args=Array.prototype.slice.call(arguments);for(i=0;i<args.length;i++){if(typeof args[i]==='function'){window._gaq.push(args[i]);continue;}
window._gaq.push(args[i]);if(window.wgIsGASpecialWiki){spec=args[i].slice();spec[0]='special.'+spec[0];window._gaq.push(spec);}}}
possible_domains=['wikia.com','ffxiclopedia.org','jedipedia.de','marveldatabase.com','memory-alpha.org','uncyclopedia.org','websitewiki.de','wowwiki.com','yoyowiki.org'];for(i=0;i<possible_domains.length;i++){if(document.location.hostname.indexOf(possible_domains[i])>-1){_gaqWikiaPush(['_setDomainName',possible_domains[i]]);break;}}
_gaqWikiaPush(['_setCustomVar',1,'DBname',window.wgDBname,3],['_setCustomVar',2,'ContentLanguage',window.wgContentLanguage,3],['_setCustomVar',3,'Hub',window.cscoreCat,3],['_setCustomVar',4,'Skin',window.skin,3],['_setCustomVar',5,'LoginStatus',!!window.wgUserName?'user':'anon',3]);_gaqWikiaPush(['_setCustomVar',8,'PageType',window.wikiaPageType,3],['_setCustomVar',9,'CityId',window.wgCityId,3],['_setCustomVar',12,'MedusaSlot',window.wgMedusaSlot,3]);if(window.Wikia&&window.Wikia.AbTest){var abList=window.Wikia.AbTest.getExperiments(true),abExp,abGroupName,abSlot,abIndex,abForceTrackOnLoad=false,abPrefootersGroup;for(abIndex=0;abIndex<abList.length;abIndex++){abExp=abList[abIndex];abSlot=window.Wikia.AbTest.getGASlot(abExp.name);if(abExp.group){abForceTrackOnLoad=true;abPrefootersGroup=abExp.group.name;}
if(abSlot>=40&&abSlot<=49){abGroupName=abExp.group?abExp.group.name:'CONTROL';_gaqWikiaPush(['_setCustomVar',abSlot,abExp.name,abGroupName,3]);}}
if(abForceTrackOnLoad){var abRenderStart=window.wgNow||(new Date());var abOnLoadHandler=function(){var renderTime=(new Date()).getTime()-abRenderStart.getTime();setTimeout(function(){window.gaTrackEvent('ABtest','ONLOAD',abPrefootersGroup,renderTime);},10);};if(window.attachEvent){window.attachEvent("onload",abOnLoadHandler);}else if(window.addEventListener){window.addEventListener("load",abOnLoadHandler,false);}}}
_gaqWikiaPush(['_trackPageview']);window._gaq.push(['ads._setAccount','UA-32129071-1']);window._gaq.push(['ads._setDomainName',document.location.hostname]);window._gaq.push(['ads._setCustomVar',1,'DBname',window.wgDBname,3],['ads._setCustomVar',2,'ContentLanguage',window.wgContentLanguage,3],['ads._setCustomVar',3,'Hub',window.cscoreCat,3],['ads._setCustomVar',4,'Skin',window.skin,3],['ads._setCustomVar',5,'LoginStatus',!!window.wgUserName?'user':'anon',3]);window._gaq.push(['ads._setCustomVar',8,'PageType',window.wikiaPageType,3],['ads._setCustomVar',9,'CityId',window.wgCityId,3],['ads._setCustomVar',12,'MedusaSlot',window.wgMedusaSlot,3]);window.gaTrackAdEvent=function(category,action,opt_label,opt_value,opt_noninteractive){var args,ad_hit_sample=1;if(Math.random()*100<=ad_hit_sample){args=Array.prototype.slice.call(arguments);args.unshift('ads._trackEvent');try{window._gaq.push(args);}catch(e){}}};window.gaTrackEvent=function(category,action,opt_label,opt_value,opt_noninteractive){var args=Array.prototype.slice.call(arguments);args.unshift('_trackEvent');try{_gaqWikiaPush(args);}catch(e){}};}(window));(function(){var ga=document.createElement('script');ga.type='text/javascript';ga.async=true;ga.src=('https:'==document.location.protocol?'https://ssl':'http://www')+'.google-analytics.com/ga.js';var s=document.getElementsByTagName('script')[0];s.parentNode.insertBefore(ga,s);})();;