function enterTextBox(n){return n.which&&n.which==13||n.keyCode&&n.keyCode==13?!1:!0}function enterOnlyNum(n){n.keyCode!=46&&n.keyCode!=8&&(n.keyCode<95?(n.keyCode<48||n.keyCode>57)&&n.preventDefault():(n.keyCode<96||n.keyCode>105)&&n.preventDefault())}function ShowSlashForm(){return window.scrollTo(0,0),fwurl="/Slash/Create",$("#slashDialog").html(""),$.ajax({url:fwurl,type:"POST",data:null,success:function(n){$("#slashDialog").html(n),$.validator.unobtrusive.parse($("#slashDialog")),$("#slashDialog").dialog("open")}}),!1}function ShowLoginForm(n){return window.scrollTo(0,0),n=n?"/Login/Create/?url="+n:"/Login/Create",$("#LoginDialog").html(""),$.ajax({url:n,type:"POST",data:null,success:function(n){$("#LoginDialog").html(n),$.validator.unobtrusive.parse($("#LoginDialog")),$("#LoginDialog").dialog("open")}}),!1}function ShowKedvencek(){return window.scrollTo(0,0),$("#FavDialog").html(""),$.ajax({url:"/Account/GetKedvencek",type:"POST",data:null,success:function(n){$("#FavDialog").html(n),$("#FavDialog").dialog("open")}}),!1}function ShowHistory(){return window.scrollTo(0,0),$("#HisDialog").html(""),$.ajax({url:"/Account/GetHistory",type:"POST",data:null,success:function(n){$("#HisDialog").html(n),$("#HisDialog").dialog("open")}}),!1}function AddKedvencek(){var n={url:window.location.href,title:document.title};$.ajax({type:"POST",url:"/Account/AddFav",contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify(n),success:function(n){alert(n)}})}function fblikecount(n,t){if(!n||!t)return;var i="http://graph.facebook.com/?ids=";$.getJSON(i+n+"&callback=?",function(i){if(i[n]&&i[n].shares){var r={url:n,sum:i[n].shares,ntype:t};$.ajax({type:"POST",url:"/Account/AddFB",contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify(r)})}})}(function(n){n.extend(n.fn,{validate:function(t){if(!this.length){t&&t.debug&&window.console&&console.warn("nothing selected, can't validate, returning nothing");return}var i=n.data(this[0],"validator");return i?i:(i=new n.validator(t,this[0]),n.data(this[0],"validator",i),i.settings.onsubmit&&(this.find("input, button").filter(".cancel").click(function(){i.cancelSubmit=!0}),i.settings.submitHandler&&this.find("input, button").filter(":submit").click(function(){i.submitButton=this}),this.submit(function(t){function r(){if(i.settings.submitHandler){if(i.submitButton)var t=n("<input type='hidden'/>").attr("name",i.submitButton.name).val(i.submitButton.value).appendTo(i.currentForm);return i.settings.submitHandler.call(i,i.currentForm),i.submitButton&&t.remove(),!1}return!0}return i.settings.debug&&t.preventDefault(),i.cancelSubmit?(i.cancelSubmit=!1,r()):i.form()?i.pendingRequest?(i.formSubmitted=!0,!1):r():(i.focusInvalid(),!1)})),i)},valid:function(){if(n(this[0]).is("form"))return this.validate().form();var t=!0,i=n(this[0].form).validate();return this.each(function(){t&=i.element(this)}),t},removeAttrs:function(t){var r={},i=this;return n.each(t.split(/\s/),function(n,t){r[t]=i.attr(t),i.removeAttr(t)}),r},rules:function(t,i){var r=this[0],e,u,s;if(t){var o=n.data(r.form,"validator").settings,h=o.rules,f=n.validator.staticRules(r);switch(t){case"add":n.extend(f,n.validator.normalizeRule(i)),h[r.name]=f,i.messages&&(o.messages[r.name]=n.extend(o.messages[r.name],i.messages));break;case"remove":return i?(e={},n.each(i.split(/\s/),function(n,t){e[t]=f[t],delete f[t]}),e):(delete h[r.name],f)}}return u=n.validator.normalizeRules(n.extend({},n.validator.metadataRules(r),n.validator.classRules(r),n.validator.attributeRules(r),n.validator.staticRules(r)),r),u.required&&(s=u.required,delete u.required,u=n.extend({required:s},u)),u}}),n.extend(n.expr[":"],{blank:function(t){return!n.trim(""+t.value)},filled:function(t){return!!n.trim(""+t.value)},unchecked:function(n){return!n.checked}}),n.validator=function(t,i){this.settings=n.extend({},n.validator.defaults,t),this.currentForm=i,this.init()},n.validator.format=function(t,i){return arguments.length==1?function(){var i=n.makeArray(arguments);return i.unshift(t),n.validator.format.apply(this,i)}:(arguments.length>2&&i.constructor!=Array&&(i=n.makeArray(arguments).slice(1)),i.constructor!=Array&&(i=[i]),n.each(i,function(n,i){t=t.replace(new RegExp("\\{"+n+"\\}","g"),i)}),t)},n.extend(n.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:n([]),errorLabelContainer:n([]),onsubmit:!0,ignore:[],ignoreTitle:!1,onfocusin:function(n){this.lastActive=n,this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,n,this.settings.errorClass,this.settings.validClass),this.errorsFor(n).hide())},onfocusout:function(n){!this.checkable(n)&&(n.name in this.submitted||!this.optional(n))&&this.element(n)},onkeyup:function(n){(n.name in this.submitted||n==this.lastElement)&&this.element(n)},onclick:function(n){n.name in this.submitted?this.element(n):n.parentNode.name in this.submitted&&this.element(n.parentNode)},highlight:function(t,i,r){n(t).addClass(i).removeClass(r)},unhighlight:function(t,i,r){n(t).removeClass(i).addClass(r)}},setDefaults:function(t){n.extend(n.validator.defaults,t)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",accept:"Please enter a value with a valid extension.",maxlength:n.validator.format("Please enter no more than {0} characters."),minlength:n.validator.format("Please enter at least {0} characters."),rangelength:n.validator.format("Please enter a value between {0} and {1} characters long."),range:n.validator.format("Please enter a value between {0} and {1}."),max:n.validator.format("Please enter a value less than or equal to {0}."),min:n.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function i(t){var i=n.data(this[0].form,"validator");i.settings["on"+t.type]&&i.settings["on"+t.type].call(i,this[0])}var r,t;this.labelContainer=n(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||n(this.currentForm),this.containers=n(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset(),r=this.groups={},n.each(this.settings.groups,function(t,i){n.each(i.split(/\s/),function(n,i){r[i]=t})}),t=this.settings.rules,n.each(t,function(i,r){t[i]=n.validator.normalizeRule(r)}),n(this.currentForm).delegate("focusin focusout keyup",":text, :password, :file, select, textarea",i).delegate("click",":radio, :checkbox, select, option",i),this.settings.invalidHandler&&n(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),n.extend(this.submitted,this.errorMap),this.invalid=n.extend({},this.errorMap),this.valid()||n(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var n=0,t=this.currentElements=this.elements();t[n];n++)this.check(t[n]);return this.valid()},element:function(t){t=this.clean(t),this.lastElement=t,this.prepareElement(t),this.currentElements=n(t);var i=this.check(t);return i?delete this.invalid[t.name]:this.invalid[t.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),i},showErrors:function(t){if(t){n.extend(this.errorMap,t),this.errorList=[];for(var i in t)this.errorList.push({message:t[i],element:this.findByName(i)[0]});this.successList=n.grep(this.successList,function(n){return!(n.name in t)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){n.fn.resetForm&&n(this.currentForm).resetForm(),this.submitted={},this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(n){var t=0,i;for(i in n)t++;return t},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return this.size()==0},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{n(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus()}catch(t){}},findLastActive:function(){var t=this.lastActive;return t&&n.grep(this.errorList,function(n){return n.element.name==t.name}).length==1&&t},elements:function(){var i=this,t={};return n([]).add(this.currentForm.elements).filter(":input").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return!this.name&&i.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in t||!i.objectLength(n(this).rules())?!1:(t[this.name]=!0,!0)})},clean:function(t){return n(t)[0]},errors:function(){return n(this.settings.errorElement+"."+this.settings.errorClass,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=n([]),this.toHide=n([]),this.currentElements=n([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(n){this.reset(),this.toHide=this.errorsFor(n)},check:function(t){var u,f,i,r;t=this.clean(t),this.checkable(t)&&(t=this.findByName(t.name)[0]),u=n(t).rules(),f=!1;for(method in u){i={method:method,parameters:u[method]};try{r=n.validator.methods[method].call(this,t.value.replace(/\r/g,""),t,i.parameters);if(r=="dependency-mismatch"){f=!0;continue}f=!1;if(r=="pending"){this.toHide=this.toHide.not(this.errorsFor(t));return}if(!r)return this.formatAndAdd(t,i),!1}catch(e){this.settings.debug&&window.console&&console.log("exception occured when checking element "+t.id+", check the '"+i.method+"' method",e);throw e;}}if(!f)return this.objectLength(u)&&this.successList.push(t),!0},customMetaMessage:function(t,i){if(!n.metadata)return;var r=this.settings.meta?n(t).metadata()[this.settings.meta]:n(t).metadata();return r&&r.messages&&r.messages[i]},customMessage:function(n,t){var i=this.settings.messages[n];return i&&(i.constructor==String?i:i[t])},findDefined:function(){for(var n=0;n<arguments.length;n++)if(arguments[n]!==undefined)return arguments[n];return undefined},defaultMessage:function(t,i){return this.findDefined(this.customMessage(t.name,i),this.customMetaMessage(t,i),!this.settings.ignoreTitle&&t.title||undefined,n.validator.messages[i],"<strong>Warning: No message defined for "+t.name+"</strong>")},formatAndAdd:function(n,t){var i=this.defaultMessage(n,t.method),r=/\$?\{(\d+)\}/g;typeof i=="function"?i=i.call(this,t.parameters,n):r.test(i)&&(i=jQuery.format(i.replace(r,"{$1}"),t.parameters)),this.errorList.push({message:i,element:n}),this.errorMap[n.name]=i,this.submitted[n.name]=i},addWrapper:function(n){return this.settings.wrapper&&(n=n.add(n.parent(this.settings.wrapper))),n},defaultShowErrors:function(){for(var t,i,n=0;this.errorList[n];n++)t=this.errorList[n],this.settings.highlight&&this.settings.highlight.call(this,t.element,this.settings.errorClass,this.settings.validClass),this.showLabel(t.element,t.message);this.errorList.length&&(this.toShow=this.toShow.add(this.containers));if(this.settings.success)for(n=0;this.successList[n];n++)this.showLabel(this.successList[n]);if(this.settings.unhighlight)for(n=0,i=this.validElements();i[n];n++)this.settings.unhighlight.call(this,i[n],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return n(this.errorList).map(function(){return this.element})},showLabel:function(t,i){var r=this.errorsFor(t);r.length?(r.removeClass().addClass(this.settings.errorClass),r.attr("generated")&&r.html(i)):(r=n("<"+this.settings.errorElement+"/>").attr({"for":this.idOrName(t),generated:!0}).addClass(this.settings.errorClass).html(i||""),this.settings.wrapper&&(r=r.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.append(r).length||(this.settings.errorPlacement?this.settings.errorPlacement(r,n(t)):r.insertAfter(t))),!i&&this.settings.success&&(r.text(""),typeof this.settings.success=="string"?r.addClass(this.settings.success):this.settings.success(r)),this.toShow=this.toShow.add(r)},errorsFor:function(t){var i=this.idOrName(t);return this.errors().filter(function(){return n(this).attr("for")==i})},idOrName:function(n){return this.groups[n.name]||(this.checkable(n)?n.name:n.id||n.name)},checkable:function(n){return/radio|checkbox/i.test(n.type)},findByName:function(t){var i=this.currentForm;return n(document.getElementsByName(t)).map(function(n,r){return r.form==i&&r.name==t&&r||null})},getLength:function(t,i){switch(i.nodeName.toLowerCase()){case"select":return n("option:selected",i).length;case"input":if(this.checkable(i))return this.findByName(i.name).filter(":checked").length}return t.length},depend:function(n,t){return this.dependTypes[typeof n]?this.dependTypes[typeof n](n,t):!0},dependTypes:{boolean:function(n){return n},string:function(t,i){return!!n(t,i.form).length},"function":function(n,t){return n(t)}},optional:function(t){return!n.validator.methods.required.call(this,n.trim(t.value),t)&&"dependency-mismatch"},startRequest:function(n){this.pending[n.name]||(this.pendingRequest++,this.pending[n.name]=!0)},stopRequest:function(t,i){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[t.name],i&&this.pendingRequest==0&&this.formSubmitted&&this.form()?(n(this.currentForm).submit(),this.formSubmitted=!1):!i&&this.pendingRequest==0&&this.formSubmitted&&(n(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t){return n.data(t,"previousValue")||n.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},dateDE:{dateDE:!0},number:{number:!0},numberDE:{numberDE:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,i){t.constructor==String?this.classRuleSettings[t]=i:n.extend(this.classRuleSettings,t)},classRules:function(t){var r={},i=n(t).attr("class");return i&&n.each(i.split(" "),function(){this in n.validator.classRuleSettings&&n.extend(r,n.validator.classRuleSettings[this])}),r},attributeRules:function(t){var i={},u=n(t),r;for(method in n.validator.methods)r=u.attr(method),r&&(i[method]=r);return i.maxlength&&/-1|2147483647|524288/.test(i.maxlength)&&delete i.maxlength,i},metadataRules:function(t){if(!n.metadata)return{};var i=n.data(t.form,"validator").settings.meta;return i?n(t).metadata()[i]:n(t).metadata()},staticRules:function(t){var r={},i=n.data(t.form,"validator");return i.settings.rules&&(r=n.validator.normalizeRule(i.settings.rules[t.name])||{}),r},normalizeRules:function(t,i){return n.each(t,function(r,u){if(u===!1){delete t[r];return}if(u.param||u.depends){var f=!0;switch(typeof u.depends){case"string":f=!!n(u.depends,i.form).length;break;case"function":f=u.depends.call(i,i)}f?t[r]=u.param!==undefined?u.param:!0:delete t[r]}}),n.each(t,function(r,u){t[r]=n.isFunction(u)?u(i):u}),n.each(["minlength","maxlength","min","max"],function(){t[this]&&(t[this]=Number(t[this]))}),n.each(["rangelength","range"],function(){t[this]&&(t[this]=[Number(t[this][0]),Number(t[this][1])])}),n.validator.autoCreateRanges&&(t.min&&t.max&&(t.range=[t.min,t.max],delete t.min,delete t.max),t.minlength&&t.maxlength&&(t.rangelength=[t.minlength,t.maxlength],delete t.minlength,delete t.maxlength)),t.messages&&delete t.messages,t},normalizeRule:function(t){if(typeof t=="string"){var i={};n.each(t.split(/\s/),function(){i[this]=!0}),t=i}return t},addMethod:function(t,i,r){n.validator.methods[t]=i,n.validator.messages[t]=r!=undefined?r:n.validator.messages[t],i.length<3&&n.validator.addClassRules(t,n.validator.normalizeRule(t))},methods:{required:function(t,i,r){if(!this.depend(r,i))return"dependency-mismatch";switch(i.nodeName.toLowerCase()){case"select":var u=n(i).val();return u&&u.length>0;case"input":if(this.checkable(i))return this.getLength(t,i)>0;default:return n.trim(t).length>0}},remote:function(t,i,r){var f,u,e;if(this.optional(i))return"dependency-mismatch";return f=this.previousValue(i),this.settings.messages[i.name]||(this.settings.messages[i.name]={}),f.originalMessage=this.settings.messages[i.name].remote,this.settings.messages[i.name].remote=f.message,r=typeof r=="string"&&{url:r}||r,f.old!==t?(f.old=t,u=this,this.startRequest(i),e={},e[i.name]=t,n.ajax(n.extend(!0,{url:r,mode:"abort",port:"validate"+i.name,dataType:"json",data:e,success:function(r){var o,h,s,e;u.settings.messages[i.name].remote=f.originalMessage,o=r===!0,o?(h=u.formSubmitted,u.prepareElement(i),u.formSubmitted=h,u.successList.push(i),u.showErrors()):(s={},e=f.message=r||u.defaultMessage(i,"remote"),s[i.name]=n.isFunction(e)?e(t):e,u.showErrors(s)),f.valid=o,u.stopRequest(i,o)}},r)),"pending"):this.pending[i.name]?"pending":f.valid},minlength:function(t,i,r){return this.optional(i)||this.getLength(n.trim(t),i)>=r},maxlength:function(t,i,r){return this.optional(i)||this.getLength(n.trim(t),i)<=r},rangelength:function(t,i,r){var u=this.getLength(n.trim(t),i);return this.optional(i)||u>=r[0]&&u<=r[1]},min:function(n,t,i){return this.optional(t)||n>=i},max:function(n,t,i){return this.optional(t)||n<=i},range:function(n,t,i){return this.optional(t)||n>=i[0]&&n<=i[1]},email:function(n,t){return this.optional(t)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(n)},url:function(n,t){return this.optional(t)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(n)},date:function(n,t){return this.optional(t)||!/Invalid|NaN/.test(new Date(n))},dateISO:function(n,t){return this.optional(t)||/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(n)},number:function(n,t){return this.optional(t)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/.test(n)},digits:function(n,t){return this.optional(t)||/^\d+$/.test(n)},creditcard:function(n,t){var i,f,r;if(this.optional(t))return"dependency-mismatch";if(/[^0-9-]+/.test(n))return!1;var e=0,r=0,u=!1;for(n=n.replace(/\D/g,""),i=n.length-1;i>=0;i--)f=n.charAt(i),r=parseInt(f,10),u&&(r*=2)>9&&(r-=9),e+=r,u=!u;return e%10==0},accept:function(n,t,i){return i=typeof i=="string"?i.replace(/,/g,"|"):"png|jpe?g|gif",this.optional(t)||n.match(new RegExp(".("+i+")$","i"))},equalTo:function(t,i,r){var u=n(r).unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){n(i).valid()});return t==u.val()}}}),n.format=n.validator.format})(jQuery),(function(n){var i=n.ajax,t={};n.ajax=function(r){r=n.extend(r,n.extend({},n.ajaxSettings,r));var u=r.port;return r.mode=="abort"?(t[u]&&t[u].abort(),t[u]=i.apply(this,arguments)):i.apply(this,arguments)}})(jQuery),(function(n){n.each({focus:"focusin",blur:"focusout"},function(t,i){n.event.special[i]={setup:function(){if(n.browser.msie)return!1;this.addEventListener(t,n.event.special[i].handler,!0)},teardown:function(){if(n.browser.msie)return!1;this.removeEventListener(t,n.event.special[i].handler,!0)},handler:function(t){return arguments[0]=n.event.fix(t),arguments[0].type=i,n.event.handle.apply(this,arguments)}}}),n.extend(n.fn,{delegate:function(t,i,r){return this.bind(t,function(t){var u=n(t.target);if(u.is(i))return r.apply(u,arguments)})},triggerEvent:function(t,i){return this.triggerHandler(t,[n.event.fix({type:t,target:i})])}})})(jQuery),(function(n){function i(n,t,i){n.rules[t]=i,n.message&&(n.messages[t]=n.message)}function h(n){return n.replace(/^\s+|\s+$/g,"").split(/\s*,\s*/g)}function u(n){return n.substr(0,n.lastIndexOf(".")+1)}function f(n,t){return n.indexOf("*.")===0&&(n=n.replace("*.",t)),n}function c(t,i){var r=n(this).find("[data-valmsg-for='"+i[0].name+"']"),u=n.parseJSON(r.attr("data-valmsg-replace"))!==!1;r.removeClass("field-validation-valid").addClass("field-validation-error"),t.data("unobtrusiveContainer",r),u?(r.empty(),t.removeClass("input-validation-error").appendTo(r)):t.hide()}function l(t,i){var u=n(this).find("[data-valmsg-summary=true]"),r=u.find("ul");r&&r.length&&i.errorList.length&&(r.empty(),u.addClass("validation-summary-errors").removeClass("validation-summary-valid"),n.each(i.errorList,function(){n("<li />").html(this.message).appendTo(r)}))}function s(t){var i=t.data("unobtrusiveContainer"),r=n.parseJSON(i.attr("data-valmsg-replace"));i&&(i.addClass("field-validation-valid").removeClass("field-validation-error"),t.removeData("unobtrusiveContainer"),r&&i.empty())}function o(t){var i=n(t),r=i.data(e);return r||(r={options:{errorClass:"input-validation-error",errorElement:"span",errorPlacement:n.proxy(c,t),invalidHandler:n.proxy(l,t),messages:{},rules:{},success:n.proxy(s,t)},attachValidation:function(){i.validate(this.options)},validate:function(){return i.validate(),i.valid()}},i.data(e,r)),r}var r=n.validator,t,e="unobtrusiveValidation";r.unobtrusive={adapters:[],parseElement:function(t,i){var f=n(t),e=f.parents("form")[0],r,u,s;if(!e)return;r=o(e),r.options.rules[t.name]=u={},r.options.messages[t.name]=s={},n.each(this.adapters,function(){var i="data-val-"+this.name,o=f.attr(i),r={};o!==undefined&&(i+="-",n.each(this.params,function(){r[this]=f.attr(i+this)}),this.adapt({element:t,form:e,message:o,params:r,rules:u,messages:s}))}),jQuery.extend(u,{__dummy__:!0}),!i&&r.attachValidation()},parse:function(t){n(t).find(":input[data-val=true]").each(function(){r.unobtrusive.parseElement(this,!0)}),n("form").each(function(){var n=o(this);n&&n.attachValidation()})}},t=r.unobtrusive.adapters,t.add=function(n,t,i){return i||(i=t,t=[]),this.push({name:n,params:t,adapt:i}),this},t.addBool=function(n,t){return this.add(n,function(r){i(r,t||n,!0)})},t.addMinMax=function(n,t,r,u,f,e){return this.add(n,[f||"min",e||"max"],function(n){var e=n.params.min,f=n.params.max;e&&f?i(n,u,[e,f]):e?i(n,t,e):f&&i(n,r,f)})},t.addSingleVal=function(n,t,r){return this.add(n,[t||"val"],function(u){i(u,r||n,u.params[t])})},r.addMethod("__dummy__",function(){return!0}),r.addMethod("regex",function(n,t,i){var r;return this.optional(t)?!0:(r=new RegExp(i).exec(n),r&&r.index===0&&r[0].length===n.length)}),t.addSingleVal("accept","exts").addSingleVal("regex","pattern"),t.addBool("creditcard").addBool("date").addBool("digits").addBool("email").addBool("number").addBool("url"),t.addMinMax("length","minlength","maxlength","rangelength").addMinMax("range","min","max","range"),t.add("equalto",["other"],function(t){var o=u(t.element.name),s=t.params.other,r=f(s,o),e=n(t.form).find(":input[name="+r+"]")[0];i(t,"equalTo",e)}),t.add("required",function(n){(n.element.tagName.toUpperCase()!=="INPUT"||n.element.type.toUpperCase()!=="CHECKBOX")&&i(n,"required",!0)}),t.add("remote",["url","type","additionalfields"],function(t){var r={url:t.params.url,type:t.params.type||"GET",data:{}},e=u(t.element.name);n.each(h(t.params.additionalfields||t.element.name),function(i,u){var o=f(u,e);r.data[o]=function(){return n(t.form).find(":input[name='"+o+"']").val()}}),i(t,"remote",r)}),n(function(){r.unobtrusive.parse(document)})})(jQuery),(function(n,t,i){function tt(){var n=u;return n.loader={load:ft,i:0},n}function ft(n,t,i){var r=t=="c"?ht:g;return h=0,t=t||"j",l(n)?st(r,n,t,this.i++,a,i):(e.splice(this.i++,0,n),e.length==1&&d()),this}function st(n,i,s,l,a,v){function k(){!b&&it(y.readyState)&&(w.r=b=1,!h&&r(),y.onload=y.onreadystatechange=null,f(function(){p.removeChild(y)},0))}var y=t.createElement(n),b=0,w={t:s,s:i,e:v};y.src=y.data=i,!c&&(y.style.display="none"),y.width=y.height="0",n!="object"&&(y.type=s),y.onload=y.onreadystatechange=k,n=="img"?y.onerror=k:n=="script"&&(y.onerror=function(){w.e=w.r=1,d()}),e.splice(l,0,w),p.insertBefore(y,c?null:o),f(function(){b||(p.removeChild(y),w.r=w.e=b=1,r())},u.errorTimeout)}function d(){var n=e.shift();h=1,n?n.t?f(function(){n.t=="c"?ot(n):et(n)},0):(n(),r()):h=0}function ot(n){var e=t.createElement("link"),i;e.href=n.s,e.rel="stylesheet",e.type="text/css",!n.e&&(v||s)?function h(n){f(function(){if(!i)try{n.sheet.cssRules.length?(i=1,r()):h(n)}catch(t){t.code==1e3||t.message=="security"||t.message=="denied"?(i=1,f(function(){r()},0)):h(n)}},0)}(e):(e.onload=function(){i||(i=1,f(function(){r()},0))},n.e&&e.onload()),f(function(){i||(i=1,r())},u.errorTimeout),!n.e&&o.parentNode.insertBefore(e,o)}function et(n){var i=t.createElement("script"),e;i.src=n.s,i.onreadystatechange=i.onload=function(){!e&&it(i.readyState)&&(e=1,r(),i.onload=i.onreadystatechange=null)},f(function(){e||(e=1,r())},u.errorTimeout),n.e?i.onload():o.parentNode.insertBefore(i,o)}function r(){var t=1,n=-1;while(e.length-++n)if(e[n].s&&!(t=e[n].r))break;t&&d()}function it(n){return!n||n=="loaded"||n=="complete"}var a=t.documentElement,f=n.setTimeout,o=t.getElementsByTagName("script")[0],b={}.toString,e=[],h=0,s="MozAppearance"in a.style,c=s&&!!t.createRange().compareNode,at=s&&!c,p=c?a:o.parentNode,lt=n.opera&&b.call(n.opera)=="[object Opera]",v="webkitAppearance"in a.style,ct=v&&"async"in t.createElement("script"),g=s?"object":lt||ct?"img":"script",ht=v?"img":g,nt=Array.isArray||function(n){return b.call(n)=="[object Array]"},y=function(n){return typeof n=="object"},l=function(n){return typeof n=="string"},w=function(n){return b.call(n)=="[object Function]"},k=[],ut={},rt,u;u=function(n){function o(n,t){function f(n){if(l(n))e(n,u,t,0,r);else if(y(n))for(i in n)n.hasOwnProperty(i)&&e(n[i],u,t,i,r)}var r=!!n.test,s=r?n.yep:n.nope,o=n.load||n.both,u=n.callback,i;f(s),f(o),n.complete&&t.load(n.complete)}function e(n,t,r,u,f){var e=s(n),o=e.autoCallback;if(!e.bypass){t&&(t=w(t)?t:t[n]||t[u]||t[n.split("/").pop().split("?")[0]]);if(e.instead)return e.instead(n,t,r,u,f);r.load(e.url,e.forceCSS||!e.forceJS&&/css$/.test(e.url)?"c":i,e.noexec),(w(t)||w(o))&&r.load(function(){tt(),t&&t(e.origUrl,f,u),o&&o(e.origUrl,f,u)})}}function s(n){for(var r=n.split("!"),e=k.length,f=r.pop(),o=r.length,i={url:f,origUrl:f,prefixes:r},u,t=0;t<o;t++)u=ut[r[t]],u&&(i=u(i));for(t=0;t<e;t++)i=k[t](i);return i}var r,t,f=this.yepnope.loader;if(l(n))e(n,0,f,0);else if(nt(n))for(r=0;r<n.length;r++)t=n[r],l(t)?e(t,0,f,0):nt(t)?u(t):y(t)&&o(t,f);else y(n)&&o(n,f)},u.addPrefix=function(n,t){ut[n]=t},u.addFilter=function(n){k.push(n)},u.errorTimeout=1e4,t.readyState==null&&t.addEventListener&&(t.readyState="loading",t.addEventListener("DOMContentLoaded",rt=function(){t.removeEventListener("DOMContentLoaded",rt,0),t.readyState="complete"},0)),n.yepnope=tt()})(this,this.document),yepnope({test:window.JSON,nope:"/Scripts/json2.js"}),jQuery.jqURL={url:function(n){return n=jQuery.extend({win:window},n),n.win.location.href},qs:function(n){var u,f,t,r;n=jQuery.extend({ret:"string",win:window},n);if(n.ret=="string")return jQuery.jqURL.url({win:n.win}).split("?")[1];if(n.ret=="object"){u={},f=jQuery.jqURL.url({win:n.win}).split("?")[1];if(f)for(t=f.split("&"),i=0;i<t.length;i++)r=t[i].split("="),u[r[0]]=r[1];return u}},get:function(n,t){return t=jQuery.extend({win:window},t),qsobj=jQuery.jqURL.qs({ret:"object",win:t.win}),qsobj[n]}},jQuery(function(){$("button, input:submit, .buttonClass").button();$("#mainSearchButton").on("click",function(){$("#tbKereses").val().length>0&&(window.location.href="/Search/?t=kb&mq="+encodeURIComponent($("#tbKereses").val()))});$("#tbKereses").on("keydown",function(n){return n.which&&n.which==13||n.keyCode&&n.keyCode==13?($("#mainSearchButton").click(),!1):!0});$(".loginLink").on("click",function(){ShowLoginForm()});$.post("/Account/GetMenu",function(n){$("#smoothcontainer").html(n),setTimeout(function(){ddsmoothmenu.init({mainmenuid:"smoothmenu1",orientation:"h",classname:"ddsmoothmenu"})},200)}),$.post("/Account/GetPager",function(n){$("#featured").html(n)}),$.post("/Account/GetFooter",function(n){$("#footDiv").html(n)}),$.post("/Account/GetSlideMe",function(n){$("#SlideMe").html(n),$("#FavDialog").dialog({autoOpen:!1,width:350,modal:!0,resizable:!1,title:"Kedvencek",dialogClass:"loginClass",buttons:{bezaras:{text:"bezárás",id:"favid",click:function(){$("#FavDialog").dialog("close")}}}}),$("#HisDialog").dialog({autoOpen:!1,width:350,modal:!0,resizable:!1,title:"Elõzmények",dialogClass:"loginClass",buttons:{bezaras:{text:"bezárás",id:"hisid",click:function(){$("#HisDialog").dialog("close")}}}})});if(location.href.indexOf("http://epulettar.hu")>-1){var n=location.href.replace("http://epulettar.hu","");$.post("/Account/GetFreshMe/?url="+encodeURIComponent(n),function(n){$("#FreshMe").hide(),$("#FreshMe").html(n),setTimeout(function(){$("#FreshMe").fadeIn(500,function(){setTimeout(function(){$("#FreshMe").fadeOut(1e3)},8e3)})},2500)})}$("#LikeIt").length&&$("#LikeIt").html("<iframe src='http://www.facebook.com/plugins/like.php?locale=hu_HU&amp;href="+encodeURIComponent(location.href)+"&amp;send=false&amp;layout=button_count&amp;show_faces=false&amp;width=450&amp;action=like&amp;font=verdana&amp;colorscheme=light&amp;height=35&amp;appId=231954186871695' style='border:0px; overflow:auto; width:450px; height:35px;'></iframe>");if($("#printLink").length)$("#printLink").on("click",function(){return window.print&&setTimeout("window.print();",200),!1});$("#LoginDialog").dialog({autoOpen:!1,width:350,modal:!0,resizable:!1,title:"Belépés",dialogClass:"loginClass",buttons:{mehet:{text:"mehet",id:"logid",click:function(){$("#loginForm").validate(),$("#loginForm").valid()&&$.post("/Login/Index",$("#loginForm").serialize(),function(n){n&&n.Val1=="[error]"?alert("Sikertelen belépési kisérlet!\r\nHasználja az elveszett jelszót vagy regisztráljon"):n&&n.Val1.startsWith("<b>")?($("#LoginDialog").dialog("close"),$("#header_login").html(n.Val1),n.Val2&&n.Val2!=""&&$("#SliderLogin").html(n.Val2)):n&&n.Val1!=""&&($(this).dialog("close"),window.location.href=n.Val1)})}},"mégse":function(){$(this).dialog("close")}}})}),String.prototype.startsWith=function(n){return this.indexOf(n)===0},String.prototype.endsWith=function(n){return this.match(n+"$")==n},window.Modernizr=function(n,t,i){function at(){f.input=function(n){for(var t=0,i=n.length;t<i;t++)ft[n[t]]=!!(n[t]in u);return ft}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),f.inputtypes=function(n){for(var o=0,r,f,s,h=n.length;o<h;o++)u.setAttribute("type",f=n[o]),r=u.type!=="text",r&&(u.value=nt,u.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(f)&&u.style.WebkitAppearance!==i?(e.appendChild(u),s=t.defaultView,r=s.getComputedStyle&&s.getComputedStyle(u,null).WebkitAppearance!=="textfield"&&u.offsetHeight!==0,e.removeChild(u)):/^(search|tel)$/.test(f)||(/^(url|email)$/.test(f)?r=u.checkValidity&&u.checkValidity()===!1:/^color$/.test(f)?(e.appendChild(u),e.offsetWidth,r=u.value!=nt,e.removeChild(u)):r=u.value!=nt)),st[n[o]]=!!r;return st}("search tel url email datetime date month week time datetime-local number range color".split(" "))}function s(n,t){var i=n.charAt(0).toUpperCase()+n.substr(1),r=(n+" "+b.join(i+" ")+i).split(" ");return!!tt(r,t)}function tt(n,t){for(var r in n)if(o[n[r]]!==i&&(!t||t(n[r],w)))return!0}function a(n,t){return(""+n).indexOf(t)!==-1}function c(n,t){return typeof n===t}function ct(n,t){return l(h.join(n+";")+(t||""))}function l(n){o.cssText=n}var lt="1.7",f={},it=!0,e=t.documentElement,ut=t.head||t.getElementsByTagName("head")[0],ht="modernizr",w=t.createElement(ht),o=w.style,u=t.createElement("input"),nt=":)",et=Object.prototype.toString,h=" -webkit- -moz- -o- -ms- -khtml- ".split(" "),b="Webkit Moz O ms Khtml".split(" "),p={svg:"http://www.w3.org/2000/svg"},r={},st={},ft={},ot=[],y,rt=function(n){var r=t.createElement("style"),i=t.createElement("div"),u;return r.textContent=n+"{#modernizr{height:3px}}",ut.appendChild(r),i.id="modernizr",e.appendChild(i),u=i.offsetHeight===3,r.parentNode.removeChild(r),i.parentNode.removeChild(i),!!u},k=function(){function r(r,u){u=u||t.createElement(n[r]||"div");var f=(r="on"+r)in u;return f||(u.setAttribute||(u=t.createElement("div")),u.setAttribute&&u.removeAttribute&&(u.setAttribute(r,""),f=c(u[r],"function"),c(u[r],i)||(u[r]=i),u.removeAttribute(r))),u=null,f}var n={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return r}(),g={}.hasOwnProperty,d,v;d=c(g,i)||c(g.call,i)?function(n,t){return t in n&&c(n.constructor.prototype[t],i)}:function(n,t){return g.call(n,t)},r.flexbox=function(){function u(n,t,i,r){n.style.cssText=h.join(t+":"+i+";")+(r||"")}function f(n,t,i,r){t+=":",n.style.cssText=(t+h.join(i+";"+t)).slice(0,-t.length)+(r||"")}var n=t.createElement("div"),i=t.createElement("div"),r;return f(n,"display","box","width:42px;padding:0;"),u(i,"box-flex","1","width:10px;"),n.appendChild(i),e.appendChild(n),r=i.offsetWidth===42,n.removeChild(i),e.removeChild(n),r},r.canvas=function(){var n=t.createElement("canvas");return n.getContext&&n.getContext("2d")},r.canvastext=function(){return f.canvas&&c(t.createElement("canvas").getContext("2d").fillText,"function")},r.webgl=function(){return!!n.WebGLRenderingContext},r.touch=function(){return"ontouchstart"in n||rt("@media ("+h.join("touch-enabled),(")+"modernizr)")},r.geolocation=function(){return!!navigator.geolocation},r.postmessage=function(){return!!n.postMessage},r.websqldatabase=function(){return!!n.openDatabase},r.indexedDB=function(){for(var t,i=-1,r=b.length;++i<r;){t=b[i].toLowerCase();if(n[t+"_indexedDB"]||n[t+"IndexedDB"])return!0}return!1},r.hashchange=function(){return k("hashchange",n)&&(t.documentMode===i||t.documentMode>7)},r.history=function(){return!!(n.history&&history.pushState)},r.draganddrop=function(){return k("dragstart")&&k("drop")},r.websockets=function(){return"WebSocket"in n},r.rgba=function(){return l("background-color:rgba(150,255,150,.5)"),a(o.backgroundColor,"rgba")},r.hsla=function(){return l("background-color:hsla(120,40%,100%,.5)"),a(o.backgroundColor,"rgba")||a(o.backgroundColor,"hsla")},r.multiplebgs=function(){return l("background:url(//:),url(//:),red url(//:)"),new RegExp("(url\\s*\\(.*?){3}").test(o.background)},r.backgroundsize=function(){return s("backgroundSize")},r.borderimage=function(){return s("borderImage")},r.borderradius=function(){return s("borderRadius","",function(n){return a(n,"orderRadius")})},r.boxshadow=function(){return s("boxShadow")},r.textshadow=function(){return t.createElement("div").style.textShadow===""},r.opacity=function(){return ct("opacity:.55"),/^0.55$/.test(o.opacity)},r.cssanimations=function(){return s("animationName")},r.csscolumns=function(){return s("columnCount")},r.cssgradients=function(){var n="background-image:",i="gradient(linear,left top,right bottom,from(#9f9),to(white));",t="linear-gradient(left top,#9f9, white);";return l((n+h.join(i+n)+h.join(t+n)).slice(0,-n.length)),a(o.backgroundImage,"gradient")},r.cssreflections=function(){return s("boxReflect")},r.csstransforms=function(){return!!tt(["transformProperty","WebkitTransform","MozTransform","OTransform","msTransform"])},r.csstransforms3d=function(){var n=!!tt(["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"]);return n&&"webkitPerspective"in e.style&&(n=rt("@media ("+h.join("transform-3d),(")+"modernizr)")),n},r.csstransitions=function(){return s("transitionProperty")},r.fontface=function(){var n,f,r=ut||e,i=t.createElement("style"),o=t.implementation||{hasFeature:function(){return!1}},u;return i.type="text/css",r.insertBefore(i,r.firstChild),n=i.sheet||i.styleSheet,u=o.hasFeature("CSS2","")?function(t){if(!n||!t)return!1;var i=!1;try{n.insertRule(t,0),i=/src/i.test(n.cssRules[0].cssText),n.deleteRule(n.cssRules.length-1)}catch(r){}return i}:function(t){return!n||!t?!1:(n.cssText=t,n.cssText.length!==0&&/src/i.test(n.cssText)&&n.cssText.replace(/\r+|\n+/g,"").indexOf(t.split(" ")[0])===0)},f=u('@font-face { font-family: "font"; src: url(data:,); }'),r.removeChild(i),f},r.video=function(){var i=t.createElement("video"),n=!!i.canPlayType,r;return n&&(n=new Boolean(n),n.ogg=i.canPlayType('video/ogg; codecs="theora"'),r='video/mp4; codecs="avc1.42E01E',n.h264=i.canPlayType(r+'"')||i.canPlayType(r+', mp4a.40.2"'),n.webm=i.canPlayType('video/webm; codecs="vp8, vorbis"')),n},r.audio=function(){var i=t.createElement("audio"),n=!!i.canPlayType;return n&&(n=new Boolean(n),n.ogg=i.canPlayType('audio/ogg; codecs="vorbis"'),n.mp3=i.canPlayType("audio/mpeg;"),n.wav=i.canPlayType('audio/wav; codecs="1"'),n.m4a=i.canPlayType("audio/x-m4a;")||i.canPlayType("audio/aac;")),n},r.localstorage=function(){try{return!!localStorage.getItem}catch(n){return!1}},r.sessionstorage=function(){try{return!!sessionStorage.getItem}catch(n){return!1}},r.webWorkers=function(){return!!n.Worker},r.applicationcache=function(){return!!n.applicationCache},r.svg=function(){return!!t.createElementNS&&!!t.createElementNS(p.svg,"svg").createSVGRect},r.inlinesvg=function(){var n=t.createElement("div");return n.innerHTML="<svg/>",(n.firstChild&&n.firstChild.namespaceURI)==p.svg},r.smil=function(){return!!t.createElementNS&&/SVG/.test(et.call(t.createElementNS(p.svg,"animate")))},r.svgclippaths=function(){return!!t.createElementNS&&/SVG/.test(et.call(t.createElementNS(p.svg,"clipPath")))};for(v in r)d(r,v)&&(y=v.toLowerCase(),f[y]=r[v](),ot.push((f[y]?"":"no-")+y));return f.input||at(),f.crosswindowmessaging=f.postmessage,f.historymanagement=f.history,f.addTest=function(n,t){return n=n.toLowerCase(),f[n]?void 0:(t=!!t(),e.className+=" "+(t?"":"no-")+n,f[n]=t,f)},l(""),w=u=null,it&&n.attachEvent&&function(){var n=t.createElement("div");return n.innerHTML="<elem></elem>",n.childNodes.length!==1}()&&function(n,t){function l(n,t){var u=-1,f=n.length,i,r=[];while(++u<f)i=n[u],(t=i.media||t)!="screen"&&r.push(l(i.imports,t),i.cssText);return r.join("")}function a(n){var t=-1;while(++t<c)n.createElement(o[t])}var e="abbr|article|aside|audio|canvas|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",o=e.split("|"),c=o.length,v=new RegExp("(^|\\s)("+e+")","gi"),y=new RegExp("<(/*)("+e+")","gi"),p=new RegExp("(^|[^\\n]*?\\s)("+e+")([^\\n]*)({[\\n\\w\\W]*?})","gi"),h=t.createDocumentFragment(),f=t.documentElement,s=f.firstChild,r=t.createElement("body"),u=t.createElement("style"),i;a(t),a(h),s.insertBefore(u,s.firstChild),u.media="print",n.attachEvent("onbeforeprint",function(){var a=-1,b=l(t.styleSheets,"all"),w=[],n;i=i||t.body;while((n=p.exec(b))!=null)w.push((n[1]+n[2]+n[3]).replace(v,"$1.iepp_$2")+n[4]);u.styleSheet.cssText=w.join("\n");while(++a<c){var e=t.getElementsByTagName(o[a]),k=e.length,s=-1;while(++s<k)e[s].className.indexOf("iepp_")<0&&(e[s].className+=" iepp_"+o[a])}h.appendChild(i),f.appendChild(r),r.className=i.className,r.innerHTML=i.innerHTML.replace(y,"<$1font")}),n.attachEvent("onafterprint",function(){r.innerHTML="",f.removeChild(r),f.appendChild(i),u.styleSheet.cssText=""})}(n,t),f._enableHTML5=it,f._version=lt,e.className=e.className.replace(/\bno-js\b/,"")+" js "+ot.join(" "),f}(this,this.document)