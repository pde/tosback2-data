/*!
*    Copyright (c) 2010-2012 Globo Comunicações e Participações S.A. All Rights Reserved.
*    tag: '2.0.39'
*    commit: '3770b6d173a5fd58b4567185fb836c2c0944fadc'
*
*    UUID.generate - Copyright (c) 2011 Matt Williams <matt@makeable.co.uk>. All rights reserved.
*/
(function(a,b,c){function t(a,b){return s(a).isFunction()?a(b):a}function u(a,b){return b=b||{},d.environment==="qa1"?t(a.qa1,b):d.isInternal()?t(a.internal,b):t(a.live,b)}if(a.WM&&a.WM.PlayerManager)return;((function(){function A(a,b,c){if(a===b)return a!==0||1/a==1/b;if(a==null||b==null)return a===b;a._chain&&(a=a._wrapped),b._chain&&(b=b._wrapped);if(a.isEqual&&w.isFunction(a.isEqual))return a.isEqual(b);if(b.isEqual&&w.isFunction(b.isEqual))return b.isEqual(a);var d=i.call(a);if(d!=i.call(b))return!1;switch(d){case"[object String]":return a==String(b);case"[object Number]":return a!=+a?b!=+b:a==0?1/a==1/b:a==+b;case"[object Date]":case"[object Boolean]":return+a==+b;case"[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if(typeof a!="object"||typeof b!="object")return!1;var e=c.length;while(e--)if(c[e]==a)return!0;c.push(a);var f=0,g=!0;if(d=="[object Array]"){f=a.length,g=f==b.length;if(g)while(f--)if(!(g=f in a==f in b&&A(a[f],b[f],c)))break}else{if("constructor"in a!="constructor"in b||a.constructor!=b.constructor)return!1;for(var h in a)if(w.has(a,h)){f++;if(!(g=w.has(b,h)&&A(a[h],b[h],c)))break}if(g){for(h in b)if(w.has(b,h)&&!(f--))break;g=!f}}return c.pop(),g}var a=this,b=a._,c={},d=Array.prototype,e=Object.prototype,f=Function.prototype,g=d.slice,h=d.unshift,i=e.toString,j=e.hasOwnProperty,k=d.forEach,l=d.map,m=d.reduce,n=d.reduceRight,o=d.filter,p=d.every,q=d.some,r=d.indexOf,s=d.lastIndexOf,t=Array.isArray,u=Object.keys,v=f.bind,w=function(a){return new E(a)};typeof exports!="undefined"?(typeof module!="undefined"&&module.exports&&(exports=module.exports=w),exports._=w):a._=w,w.VERSION="1.3.1";var x=w.each=w.forEach=function(a,b,d){if(a==null)return;if(k&&a.forEach===k)a.forEach(b,d);else if(a.length===+a.length){for(var e=0,f=a.length;e<f;e++)if(e in a&&b.call(d,a[e],e,a)===c)return}else for(var g in a)if(w.has(a,g)&&b.call(d,a[g],g,a)===c)return};w.map=w.collect=function(a,b,c){var d=[];return a==null?d:l&&a.map===l?a.map(b,c):(x(a,function(a,e,f){d[d.length]=b.call(c,a,e,f)}),a.length===+a.length&&(d.length=a.length),d)},w.reduce=w.foldl=w.inject=function(a,b,c,d){var e=arguments.length>2;a==null&&(a=[]);if(m&&a.reduce===m)return d&&(b=w.bind(b,d)),e?a.reduce(b,c):a.reduce(b);x(a,function(a,f,g){e?c=b.call(d,c,a,f,g):(c=a,e=!0)});if(!e)throw new TypeError("Reduce of empty array with no initial value");return c},w.reduceRight=w.foldr=function(a,b,c,d){var e=arguments.length>2;a==null&&(a=[]);if(n&&a.reduceRight===n)return d&&(b=w.bind(b,d)),e?a.reduceRight(b,c):a.reduceRight(b);var f=w.toArray(a).reverse();return d&&!e&&(b=w.bind(b,d)),e?w.reduce(f,b,c,d):w.reduce(f,b)},w.find=w.detect=function(a,b,c){var d;return y(a,function(a,e,f){if(b.call(c,a,e,f))return d=a,!0}),d},w.filter=w.select=function(a,b,c){var d=[];return a==null?d:o&&a.filter===o?a.filter(b,c):(x(a,function(a,e,f){b.call(c,a,e,f)&&(d[d.length]=a)}),d)},w.reject=function(a,b,c){var d=[];return a==null?d:(x(a,function(a,e,f){b.call(c,a,e,f)||(d[d.length]=a)}),d)},w.every=w.all=function(a,b,d){var e=!0;return a==null?e:p&&a.every===p?a.every(b,d):(x(a,function(a,f,g){if(!(e=e&&b.call(d,a,f,g)))return c}),e)};var y=w.some=w.any=function(a,b,d){b||(b=w.identity);var e=!1;return a==null?e:q&&a.some===q?a.some(b,d):(x(a,function(a,f,g){if(e||(e=b.call(d,a,f,g)))return c}),!!e)};w.include=w.contains=function(a,b){var c=!1;return a==null?c:r&&a.indexOf===r?a.indexOf(b)!=-1:(c=y(a,function(a){return a===b}),c)},w.invoke=function(a,b){var c=g.call(arguments,2);return w.map(a,function(a){return(w.isFunction(b)?b||a:a[b]).apply(a,c)})},w.pluck=function(a,b){return w.map(a,function(a){return a[b]})},w.max=function(a,b,c){if(!b&&w.isArray(a))return Math.max.apply(Math,a);if(!b&&w.isEmpty(a))return-Infinity;var d={computed:-Infinity};return x(a,function(a,e,f){var g=b?b.call(c,a,e,f):a;g>=d.computed&&(d={value:a,computed:g})}),d.value},w.min=function(a,b,c){if(!b&&w.isArray(a))return Math.min.apply(Math,a);if(!b&&w.isEmpty(a))return Infinity;var d={computed:Infinity};return x(a,function(a,e,f){var g=b?b.call(c,a,e,f):a;g<d.computed&&(d={value:a,computed:g})}),d.value},w.shuffle=function(a){var b=[],c;return x(a,function(a,d,e){d==0?b[0]=a:(c=Math.floor(Math.random()*(d+1)),b[d]=b[c],b[c]=a)}),b},w.sortBy=function(a,b,c){return w.pluck(w.map(a,function(a,d,e){return{value:a,criteria:b.call(c,a,d,e)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;return c<d?-1:c>d?1:0}),"value")},w.groupBy=function(a,b){var c={},d=w.isFunction(b)?b:function(a){return a[b]};return x(a,function(a,b){var e=d(a,b);(c[e]||(c[e]=[])).push(a)}),c},w.sortedIndex=function(a,b,c){c||(c=w.identity);var d=0,e=a.length;while(d<e){var f=d+e>>1;c(a[f])<c(b)?d=f+1:e=f}return d},w.toArray=function(a){return a?a.toArray?a.toArray():w.isArray(a)?g.call(a):w.isArguments(a)?g.call(a):w.values(a):[]},w.size=function(a){return w.toArray(a).length},w.first=w.head=function(a,b,c){return b!=null&&!c?g.call(a,0,b):a[0]},w.initial=function(a,b,c){return g.call(a,0,a.length-(b==null||c?1:b))},w.last=function(a,b,c){return b!=null&&!c?g.call(a,Math.max(a.length-b,0)):a[a.length-1]},w.rest=w.tail=function(a,b,c){return g.call(a,b==null||c?1:b)},w.compact=function(a){return w.filter(a,function(a){return!!a})},w.flatten=function(a,b){return w.reduce(a,function(a,c){return w.isArray(c)?a.concat(b?c:w.flatten(c)):(a[a.length]=c,a)},[])},w.without=function(a){return w.difference(a,g.call(arguments,1))},w.uniq=w.unique=function(a,b,c){var d=c?w.map(a,c):a,e=[];return w.reduce(d,function(c,d,f){if(0==f||(b===!0?w.last(c)!=d:!w.include(c,d)))c[c.length]=d,e[e.length]=a[f];return c},[]),e},w.union=function(){return w.uniq(w.flatten(arguments,!0))},w.intersection=w.intersect=function(a){var b=g.call(arguments,1);return w.filter(w.uniq(a),function(a){return w.every(b,function(b){return w.indexOf(b,a)>=0})})},w.difference=function(a){var b=w.flatten(g.call(arguments,1));return w.filter(a,function(a){return!w.include(b,a)})},w.zip=function(){var a=g.call(arguments),b=w.max(w.pluck(a,"length")),c=new Array(b);for(var d=0;d<b;d++)c[d]=w.pluck(a,""+d);return c},w.indexOf=function(a,b,c){if(a==null)return-1;var d,e;if(c)return d=w.sortedIndex(a,b),a[d]===b?d:-1;if(r&&a.indexOf===r)return a.indexOf(b);for(d=0,e=a.length;d<e;d++)if(d in a&&a[d]===b)return d;return-1},w.lastIndexOf=function(a,b){if(a==null)return-1;if(s&&a.lastIndexOf===s)return a.lastIndexOf(b);var c=a.length;while(c--)if(c in a&&a[c]===b)return c;return-1},w.range=function(a,b,c){arguments.length<=1&&(b=a||0,a=0),c=arguments[2]||1;var d=Math.max(Math.ceil((b-a)/c),0),e=0,f=new Array(d);while(e<d)f[e++]=a,a+=c;return f};var z=function(){};w.bind=function(b,c){var d,e;if(b.bind===v&&v)return v.apply(b,g.call(arguments,1));if(!w.isFunction(b))throw new TypeError;return e=g.call(arguments,2),d=function(){if(this instanceof d){z.prototype=b.prototype;var a=new z,f=b.apply(a,e.concat(g.call(arguments)));return Object(f)===f?f:a}return b.apply(c,e.concat(g.call(arguments)))}},w.bindAll=function(a){var b=g.call(arguments,1);return b.length==0&&(b=w.functions(a)),x(b,function(b){a[b]=w.bind(a[b],a)}),a},w.memoize=function(a,b){var c={};return b||(b=w.identity),function(){var d=b.apply(this,arguments);return w.has(c,d)?c[d]:c[d]=a.apply(this,arguments)}},w.delay=function(a,b){var c=g.call(arguments,2);return setTimeout(function(){return a.apply(a,c)},b)},w.defer=function(a){return w.delay.apply(w,[a,1].concat(g.call(arguments,1)))},w.throttle=function(a,b){var c,d,e,f,g,h=w.debounce(function(){g=f=!1},b);return function(){c=this,d=arguments;var i=function(){e=null,g&&a.apply(c,d),h()};e||(e=setTimeout(i,b)),f?g=!0:a.apply(c,d),h(),f=!0}},w.debounce=function(a,b){var c;return function(){var d=this,e=arguments,f=function(){c=null,a.apply(d,e)};clearTimeout(c),c=setTimeout(f,b)}},w.once=function(a){var b=!1,c;return function(){return b?c:(b=!0,c=a.apply(this,arguments))}},w.wrap=function(a,b){return function(){var c=[a].concat(g.call(arguments,0));return b.apply(this,c)}},w.compose=function(){var a=arguments;return function(){var b=arguments;for(var c=a.length-1;c>=0;c--)b=[a[c].apply(this,b)];return b[0]}},w.after=function(a,b){return a<=0?b():function(){if(--a<1)return b.apply(this,arguments)}},w.keys=u||function(a){if(a!==Object(a))throw new TypeError("Invalid object");var b=[];for(var c in a)w.has(a,c)&&(b[b.length]=c);return b},w.values=function(a){return w.map(a,w.identity)},w.functions=w.methods=function(a){var b=[];for(var c in a)w.isFunction(a[c])&&b.push(c);return b.sort()},w.extend=function(a){return x(g.call(arguments,1),function(b){for(var c in b)a[c]=b[c]}),a},w.defaults=function(a){return x(g.call(arguments,1),function(b){for(var c in b)a[c]==null&&(a[c]=b[c])}),a},w.clone=function(a){return w.isObject(a)?w.isArray(a)?a.slice():w.extend({},a):a},w.tap=function(a,b){return b(a),a},w.isEqual=function(a,b){return A(a,b,[])},w.isEmpty=function(a){if(w.isArray(a)||w.isString(a))return a.length===0;for(var b in a)if(w.has(a,b))return!1;return!0},w.isElement=function(a){return!!a&&a.nodeType==1},w.isArray=t||function(a){return i.call(a)=="[object Array]"},w.isObject=function(a){return a===Object(a)},w.isArguments=function(a){return i.call(a)=="[object Arguments]"},w.isArguments(arguments)||(w.isArguments=function(a){return!!a&&!!w.has(a,"callee")}),w.isFunction=function(a){return i.call(a)=="[object Function]"},w.isString=function(a){return i.call(a)=="[object String]"},w.isNumber=function(a){return i.call(a)=="[object Number]"},w.isNaN=function(a){return a!==a},w.isBoolean=function(a){return a===!0||a===!1||i.call(a)=="[object Boolean]"},w.isDate=function(a){return i.call(a)=="[object Date]"},w.isRegExp=function(a){return i.call(a)=="[object RegExp]"},w.isNull=function(a){return a===null},w.isUndefined=function(a){return a===void 0},w.has=function(a,b){return j.call(a,b)},w.noConflict=function(){return a._=b,this},w.identity=function(a){return a},w.times=function(a,b,c){for(var d=0;d<a;d++)b.call(c,d)},w.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},w.mixin=function(a){x(w.functions(a),function(b){G(b,w[b]=a[b])})};var B=0;w.uniqueId=function(a){var b=B++;return a?a+b:b},w.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var C=/.^/,D=function(a){return a.replace(/\\\\/g,"\\").replace(/\\'/g,"'")};w.template=function(a,b){var c=w.templateSettings,d="var __p=[],print=function(){__p.push.apply(__p,arguments);};with(obj||{}){__p.push('"+a.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(c.escape||C,function(a,b){return"',_.escape("+D(b)+"),'"}).replace(c.interpolate||C,function(a,b){return"',"+D(b)+",'"}).replace(c.evaluate||C,function(a,b){return"');"+D(b).replace(/[\r\n\t]/g," ")+";__p.push('"}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+"');}return __p.join('');",e=new Function("obj","_",d);return b?e(b,w):function(a){return e.call(this,a,w)}},w.chain=function(a){return w(a).chain()};var E=function(a){this._wrapped=a};w.prototype=E.prototype;var F=function(a,b){return b?w(a).chain():a},G=function(a,b){E.prototype[a]=function(){var a=g.call(arguments);return h.call(a,this._wrapped),F(b.apply(w,a),this._chain)}};w.mixin(w),x(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=d[a];E.prototype[a]=function(){var c=this._wrapped;b.apply(c,arguments);var d=c.length;return(a=="shift"||a=="splice")&&d===0&&delete c[0],F(c,this._chain)}}),x(["concat","join","slice"],function(a){var b=d[a];E.prototype[a]=function(){return F(b.apply(this._wrapped,arguments),this._chain)}}),E.prototype.chain=function(){return this._chain=!0,this},E.prototype.value=function(){return this._wrapped}})).call(this),function(a){"use strict";var b=String.prototype.trim,c=function(a){return a*1||0},d=function(a,b){for(var c=[];b>0;c[--b]=a);return c.join("")},e=function(a){return Array.prototype.slice.call(a)},f=function(a){return a?h.escapeRegExp(a):"\\s"},g=function(a){return function(){var b=e(arguments);for(var c=0;c<b.length;c++)b[c]=b[c]==null?"":""+b[c];return a.apply(null,b)}},h={VERSION:"2.0.0",isBlank:g(function(a){return/^\s*$/.test(a)}),stripTags:g(function(a){return a.replace(/<\/?[^>]+>/ig,"")}),capitalize:g(function(a){return a.charAt(0).toUpperCase()+a.substring(1).toLowerCase()}),chop:g(function(a,b){b=c(b)||a.length;var d=[];for(var e=0;e<a.length;)d.push(a.slice(e,e+b)),e+=b;return d}),clean:g(function(a){return h.strip(a.replace(/\s+/g," "))}),count:g(function(a,b){var c=0,d;for(var e=0;e<a.length;)d=a.indexOf(b,e),d>=0&&c++,e=e+(d>=0?d:0)+b.length;return c}),chars:g(function(a){return a.split("")}),escapeHTML:g(function(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}),unescapeHTML:g(function(a){return a.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&apos;/g,"'").replace(/&amp;/g,"&")}),escapeRegExp:g(function(a){return a.replace(/([-.*+?^${}()|[\]\/\\])/g,"\\$1")}),insert:g(function(a,b,d){var e=a.split("");return e.splice(c(b),0,d),e.join("")}),include:g(function(a,b){return a.indexOf(b)!==-1}),join:g(function(a){var b=e(arguments);return b.join(b.shift())}),lines:g(function(a){return a.split("\n")}),reverse:g(function(a){return Array.prototype.reverse.apply(String(a).split("")).join("")}),splice:g(function(a,b,d,e){var f=a.split("");return f.splice(c(b),c(d),e),f.join("")}),startsWith:g(function(a,b){return a.length>=b.length&&a.substring(0,b.length)===b}),endsWith:g(function(a,b){return a.length>=b.length&&a.substring(a.length-b.length)===b}),succ:g(function(a){var b=a.split("");return b.splice(a.length-1,1,String.fromCharCode(a.charCodeAt(a.length-1)+1)),b.join("")}),titleize:g(function(a){var b=a.split(" "),c;for(var d=0;d<b.length;d++)c=b[d].split(""),typeof c[0]!="undefined"&&(c[0]=c[0].toUpperCase()),d+1===b.length?b[d]=c.join(""):b[d]=c.join("")+" ";return b.join("")}),camelize:g(function(a){return h.trim(a).replace(/(\-|_|\s)+(.)?/g,function(a,b,c){return c?c.toUpperCase():""})}),underscored:function(a){return h.trim(a).replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/\-|\s+/g,"_").toLowerCase()},dasherize:function(a){return h.trim(a).replace(/([a-z\d])([A-Z]+)/g,"$1-$2").replace(/^([A-Z]+)/,"-$1").replace(/\_|\s+/g,"-").toLowerCase()},humanize:function(a){return h.capitalize(this.underscored(a).replace(/_id$/,"").replace(/_/g," "))},trim:g(function(a,c){return!c&&b?b.call(a):(c=f(c),a.replace(new RegExp("^["+c+"]+|["+c+"]+$","g"),""))}),ltrim:g(function(a,b){return b=f(b),a.replace(new RegExp("^["+b+"]+","g"),"")}),rtrim:g(function(a,b){return b=f(b),a.replace(new RegExp("["+b+"]+$","g"),"")}),truncate:g(function(a,b,d){return d=d||"...",b=c(b),a.length>b?a.slice(0,b)+d:a}),prune:g(function(a,b,d){var e=function(a){return a.toUpperCase()!=a.toLowerCase()||/[-_\d]/.test(a)},f="",g="",i=0;d=d||"...",b=c(b);for(i in a)f+=e(a[i])?"A":" ";return f.substring(b-1,b+1).search(/^\w\w$/)===0?g=h.rtrim(f.slice(0,b).replace(/([\W][\w]*)$/,"")):g=h.rtrim(f.slice(0,b)),g=g.replace(/\W+$/,""),g.length+d.length>a.length?a:a.substring(0,g.length)+d}),words:function(a,b){return String(a).split(b||" ")},pad:g(function(a,b,e,f){var g="",h=0;b=c(b),e?e.length>1&&(e=e.charAt(0)):e=" ";switch(f){case"right":h=b-a.length,g=d(e,h),a+=g;break;case"both":h=b-a.length,g={left:d(e,Math.ceil(h/2)),right:d(e,Math.floor(h/2))},a=g.left+a+g.right;break;default:h=b-a.length,g=d(e,h),a=g+a}return a}),lpad:function(a,b,c){return h.pad(a,b,c)},rpad:function(a,b,c){return h.pad(a,b,c,"right")},lrpad:function(a,b,c){return h.pad(a,b,c,"both")},toNumber:function(a,b){var d=c(c(a).toFixed(c(b)));return d!==0||a==="0"||a===0?d:Number.NaN},strRight:g(function(a,b){var c=b?a.indexOf(b):-1;return c!=-1?a.slice(c+b.length,a.length):a}),strRightBack:g(function(a,b){var c=b?a.lastIndexOf(b):-1;return c!=-1?a.slice(c+b.length,a.length):a}),strLeft:g(function(a,b){var c=b?a.indexOf(b):-1;return c!=-1?a.slice(0,c):a}),strLeftBack:g(function(a,b){var c=a.lastIndexOf(b);return c!=-1?a.slice(0,c):a}),exports:function(){var a={};for(var b in this){if(!this.hasOwnProperty(b)||b=="include"||b=="contains"||b=="reverse")continue;a[b]=this[b]}return a}};h.strip=h.trim,h.lstrip=h.ltrim,h.rstrip=h.rtrim,h.center=h.lrpad,h.ljust=h.lpad,h.rjust=h.rpad,h.contains=h.include,typeof exports!="undefined"?(typeof module!="undefined"&&module.exports&&(module.exports=h),exports._s=h):typeof a._!="undefined"?(a._.mixin(h),a._.string=h,a._.str=a._.string):a._={string:h,str:h}}(this||a),!function(a,b){this[a]=b()}("morpheus",function(){function c(a,b){var c={},d;if(d=a.match(v))c.rotate=m(d[1],b?b.rotate:null);if(d=a.match(w))c.scale=m(d[1],b?b.scale:null);if(d=a.match(x))c.skewx=m(d[1],b?b.skewx:null),c.skewy=m(d[3],b?b.skewy:null);if(d=a.match(y))c.translatex=m(d[1],b?b.translatex:null),c.translatey=m(d[3],b?b.translatey:null);return c}function d(a){var b="";return"rotate"in a&&(b+="rotate("+a.rotate+"deg) "),"scale"in a&&(b+="scale("+a.scale+") "),"translatex"in a&&(b+="translate("+a.translatex+"px,"+a.translatey+"px) "),"skewx"in a&&(b+="skew("+a.skewx+"deg,"+a.skewy+"deg)"),b}function e(a,b,c){return"#"+(1<<24|a<<16|b<<8|c).toString(16).slice(1)}function f(a){var b=/rgba?\((\d+),\s*(\d+),\s*(\d+)/.exec(a);return(b?e(b[1],b[2],b[3]):a).replace(/#(\w)(\w)(\w)$/,"#$1$1$2$2$3$3")}function g(a){return a.replace(/-(.)/g,function(a,b){return b.toUpperCase()})}function h(a){return typeof a=="function"}function i(a,b,c,d,e,f){function g(a){var h=a-l;if(h>i||m)return f=isFinite(f)?f:1,m?o&&b(f):b(f),c&&c.apply(j);isFinite(f)?b(k*d(h/i)+e):b(d(h/i)),D(g)}d=h(d)?d:n.easings[d]||function(a){return Math.sin(a*Math.PI/2)};var i=a||1e3,j=this,k=f-e,l=+(new Date),m=0,o=0;return D(g),{stop:function(a){m=1,o=a,a||(c=null)}}}function j(a,b){var c=a.length,d=[],e,f;for(e=0;e<c;++e)d[e]=[a[e][0],a[e][1]];for(f=1;f<c;++f)for(e=0;e<c-f;++e)d[e][0]=(1-b)*d[e][0]+b*d[parseInt(e+1,10)][0],d[e][1]=(1-b)*d[e][1]+b*d[parseInt(e+1,10)][1];return[d[0][0],d[0][1]]}function k(a,b,c){var d=[],e,f;for(e=0;e<6;e++)from=Math.min(15,parseInt(b.charAt(e),16)),to=Math.min(15,parseInt(c.charAt(e),16)),f=Math.floor((to-from)*a+from),f=f>15?15:f<0?0:f,d[e]=f.toString(16);return"#"+d.join("")}function l(a,b,c,d,e,f,g){if(e=="transform"){g={};for(var h in c[f][e])g[h]=h in d[f][e]?Math.round(((d[f][e][h]-c[f][e][h])*a+c[f][e][h])*1e3)/1e3:c[f][e][h];return g}return typeof c[f][e]=="string"?k(a,c[f][e],d[f][e]):(g=Math.round(((d[f][e]-c[f][e])*a+c[f][e])*1e3)/1e3,e in z||(g+=b[f][e]||"px"),g)}function m(a,b,c,d,e){return(c=t.exec(a))?(e=parseFloat(c[2]))&&b+(c[1]=="+"?1:-1)*e:parseFloat(a)}function n(a,b){var e=a?e=isFinite(a.length)?a:[a]:[],k,n=b.complete,o=b.duration,p=b.easing,q=b.bezier,r=[],t=[],v=[],w=[],x,y;delete b.complete,delete b.duration,delete b.easing,delete b.bezier,q&&(x=b.left,y=b.top,delete b.right,delete b.bottom,delete b.left,delete b.top);for(k=e.length;k--;){r[k]={},t[k]={},v[k]={};if(q){var z=C(e[k],"left"),D=C(e[k],"top"),E=[m(h(x)?x(e[k]):x||0,parseFloat(z)),m(h(y)?y(e[k]):y||0,parseFloat(D))];w[k]=h(q)?q(e[k],E):q,w[k].push(E),w[k].unshift([parseInt(z,10),parseInt(D,10)])}for(var F in b){var G=C(e[k],F),H,I=h(b[F])?b[F](e[k]):b[F];if(typeof I=="string"&&s.test(I)&&!s.test(G)){delete b[F];continue}r[k][F]=F=="transform"?c(G):typeof I=="string"&&s.test(I)?f(G).slice(1):parseFloat(G),t[k][F]=F=="transform"?c(I,r[k][F]):typeof I=="string"&&I.charAt(0)=="#"?f(I).slice(1):m(I,parseFloat(G)),typeof I=="string"&&(H=I.match(u))&&(v[k][F]=H[1])}}return i.apply(e,[o,function(a,c,f){for(k=e.length;k--;){q&&(f=j(w[k],a),e[k].style.left=f[0]+"px",e[k].style.top=f[1]+"px");for(var h in b)c=l(a,v,r,t,h,k),h=="transform"?e[k].style[A]=d(c):h=="opacity"&&!B?e[k].style.filter="alpha(opacity="+c*100+")":e[k].style[g(h)]=c}},n,p])}var o=this,p=b,q=a,r=p.documentElement,s=/^rgb\(|#/,t=/^([+\-])=([\d\.]+)/,u=/^(?:[\+\-]=)?\d+(?:\.\d+)?(%|in|cm|mm|em|ex|pt|pc|px)$/,v=/rotate\(((?:[+\-]=)?([\-\d\.]+))deg\)/,w=/scale\(((?:[+\-]=)?([\d\.]+))\)/,x=/skew\(((?:[+\-]=)?([\-\d\.]+))deg, ?((?:[+\-]=)?([\-\d\.]+))deg\)/,y=/translate\(((?:[+\-]=)?([\-\d\.]+))px, ?((?:[+\-]=)?([\-\d\.]+))px\)/,z={lineHeight:1,zoom:1,zIndex:1,opacity:1,transform:1},A=function(){var a=p.createElement("a").style,b=["webkitTransform","MozTransform","OTransform","msTransform","Transform"],c;for(c=0;c<b.length;c++)if(b[c]in a)return b[c]}(),B=function(){return typeof p.createElement("a").style.opacity!="undefined"}(),C=p.defaultView&&p.defaultView.getComputedStyle?function(a,b){b=b=="transform"?A:b;var c=null,d=p.defaultView.getComputedStyle(a,"");return d&&(c=d[g(b)]),a.style[b]||c}:r.currentStyle?function(a,b){b=g(b);if(b=="opacity"){var c=100;try{c=a.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(d){try{c=a.filters("alpha").opacity}catch(e){}}return c/100}var f=a.currentStyle?a.currentStyle[b]:null;return a.style[b]||f}:function(a,b){return a.style[g(b)]},D=function(){return q.requestAnimationFrame||q.webkitRequestAnimationFrame||q.mozRequestAnimationFrame||q.oRequestAnimationFrame||q.msRequestAnimationFrame||function(a){q.setTimeout(function(){a(+(new Date))},10)}}();return n.tween=i,n.getStyle=C,n.bezier=j,n.transform=A,n.parseTransform=c,n.formatTransform=d,n.easings={},n});var d={};d.defaultEnvironment="prod",d.playerVersion="2.0.39";var e={},f={},g={},h={},i={},j={},k={},l={},m={},n={},o={},p={},q={},r=function(){},s=a._.noConflict();e.IPHONE_PATTERN=/iPhone/i,e.IPOD_PATTERN=/iPod/i,e.IPAD_PATTERN=/iPad/i,e.ANDROID_PATTERN=/Android/i,e.GOOGLEBOT_PATTERN=/Googlebot/i,e.GOOGLE_WEB_PREVIEW_PATTERN=/Google Web Preview/i,e.VIDEO_URL_PATTERNS=[/[A-Z]{3}([1-9][0-9]*)-/,/\/([1-9][0-9]*)(?:\/|\?|#|$)/,/\/[0-9]*x[0-9]+\/([1-9][0-9]*)\.jpg/,/(?:\.video\.globoi\.com|\.video\.globo\.com|\.video\.glbimg\.com|\.video\.qa01\.globoi\.com)\/GMC\/foto\/[0-9],,([1-9][0-9]*)[\-a-zA-Z]*,[0-9]{2}\.jpg/],function(a){var b=!1,c=!0,d=/xyz/.test(function(){return c})?/\b_super\b/:/.*/;a.extend=function(a){function g(){!b&&this.init&&this.init.apply(this,arguments)}var c=this.prototype;b=!0;var e=new this;b=!1;for(var f in a)e[f]=typeof a[f]=="function"&&typeof c[f]=="function"&&d.test(a[f])?function(a,b){return function(){var d=this._super;this._super=c[a];var e=b.apply(this,arguments);return this._super=d,e}}(f,a[f]):a[f];return g.prototype=e,g.prototype.constructor=g,g.extend=arguments.callee,g}}(r),d.environment=d.defaultEnvironment,d.isTest=function(){return!1},d.isInternal=function(){return/\.globoi\.com$/.test(h.getHostname())},d.isGloboDomain=function(){return d.isInternal()&&d.environment==="qa1"||/\.globo\.com$/.test(h.getHostname())};var v=s.template("s0<%=index%>.video.glbimg.com");d.HOSTS={API:{qa1:"api.video.qa01.globoi.com",internal:"api.video.globoi.com",live:"api.globovideos.com"},SECURITY:{qa1:"security.video.qa01.globoi.com",internal:"security.video.globo.com",live:"security.video.globo.com"},PLAYER:{qa1:"s.videos.cma.qa01.globoi.com",internal:"s.videos.globo.com",live:"s.videos.globo.com"},CADUN:{qa1:"login.qa01.globoi.com",internal:"login.globo.com",live:"login.globo.com"},INTERVENCOES:{qa1:"intervencoes.qa01.globoi.com",internal:"intervencao.globo.com",live:"intervencao.globo.com"},THUMB:{qa1:"img.video.qa01.globoi.com",internal:v,live:v},VMINE:{qa1:"hit.video.qa01.globoi.com",internal:"hit.video.globo.com",live:"hit.video.globo.com"}},d.apiHostname=function(){return u(d.HOSTS.API)},d.securityHostname=function(){return u(d.HOSTS.SECURITY)},d.playerHostname=function(){return u(d.HOSTS.PLAYER)},d.cadunHostname=function(){return u(d.HOSTS.CADUN)},d.intervencoesHostname=function(){return u(d.HOSTS.INTERVENCOES)},d.thumbHostname=function(a){return u(d.HOSTS.THUMB,{index:a.videoID%4+1})},d.vmineHostname=function(){return u(d.HOSTS.VMINE)};var w={objectTag:s.template('<object name="<%=objectId%>" id="<%=objectId%>" width="100%" height="100%" data="<%=swfUrl%>" type="application/x-shockwave-flash"><param value="true" name="allowFullScreen"><param value="always" name="allowScriptAccess" /><param value="high" name="quality" /><param value="<%=wmode%>" name="wmode" /><param value="#000000" name="bgcolor" /><param value="<%=swfUrl%>" name="movie" /><param value="<%=flashvars%>" name="flashvars" /></object>'),videoTag:s.template('<video width="100%" height="100%" src="<%=src%>" controls="controls" style="background-color: black;" poster="<%=poster%>"></video>'),liveAndroidVideoTag:s.template('<video width="100%" height="100%" controls="controls" style="background-color: black;" poster="<%=poster%>"><source src="<%=src%>" type="application/vnd.apple.mpegurl"></video>'),errorPage:s.template('<div class="wm-error"><img src="<%=ops_url%>" /><div class="wm-error-title"><%=title%></div><div class="wm-error-description"><%=description%></div><div class="wm-error-code">Código do Erro - <span class="wm-error-code-number"><%=code%></span></div></div>'),iframeBanner:s.template('<iframe width="<%=width%>" height="<%=height%>" frameborder="0" scrolling="no" allowtransparency="true" leftmargin="0" rightmargin="0" marginwidth="0" marginheight="0" src="<%=data%>"></iframe>')};n.PLAYER_PARAMS_PREFIX="wmp_",n.parse=function(a,b){var c=[];b=s(b).isUndefined()?"":b;if(a){var d=a.split("?")[1];d&&(c=d.split("&"))}return s(c).reduce(function(a,c){var d=c.split("="),e=d[0].toLowerCase();return s(e).startsWith(b)&&(e=e.substring(b.length),a[e]=n.parseValue(d[1])),a},{})},n.parseValue=function(a){return a===c||a=="true"?!0:a=="false"?!1:a},g.jsonp=function(d){d.callbackName=d.callbackName||"json_callback",d.timeout=d.timeout||1e4,a[d.callbackName]=function(a){g.isErrorObject(a)?d.error(a):d.success(a)};var e=h.head(),f=b.createElement("script");f.setAttribute("src",d.url),f.setAttribute("async","async"),f.onload=f.onreadystatechange=function(b){if(!f.readyState||/loaded|complete/.test(f.readyState))d.timeoutId&&a.clearTimeout(d.timeoutId),f.onload=f.onreadystatechange=null,e&&f.parentNode&&e.removeChild(f),f=c},e.insertBefore(f,e.firstChild),d.error&&(d.timeoutId=a.setTimeout(d.error,d.timeout))},g.isErrorObject=function(a){return a&&a.http_status_code&&a.http_status_code!=200},h.Exception=function(a){this.message=a},h.firstOnLower=function(a){return a.charAt(0).toLowerCase()+a.substring(1)},function(){var b=/^[\],:{}\s]*$/,c=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,d=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,e=/(?:^|:|,)(?:\s*\[)+/g;h.parseJSON=function(f){if(typeof f!="string"||!f)return null;f=s(f).trim();if(a.JSON&&a.JSON.parse)try{return a.JSON.parse(f)}catch(g){throw new h.Exception("Invalid JSON: "+f)}if(b.test(f.replace(c,"@").replace(d,"]").replace(e,"")))return(new Function("return "+f))();throw new h.Exception("Invalid JSON: "+f)}}(),h.getUserAgent=function(){return navigator.userAgent},h.getHostname=function(){return location.hostname},h.getCurrentUrl=function(){return location.href},h.isIPhone=function(){var a=h.getUserAgent();return e.IPHONE_PATTERN.test(a)||e.IPOD_PATTERN.test(a)},h.isIPad=function(){return e.IPAD_PATTERN.test(h.getUserAgent())},h.isAndroid=function(){return e.ANDROID_PATTERN.test(h.getUserAgent())},h.isGoogleBot=function(){return e.GOOGLEBOT_PATTERN.test(h.getUserAgent())||e.GOOGLE_WEB_PREVIEW_PATTERN.test(h.getUserAgent())},h.isIE=function(){return a.ActiveXObject},h.isHtml5VideoSupported=function(){return h.canPlayType("mp4")},h.canPlayType=function(a){var c=b.createElement("video");return c.canPlayType("video/"+a.split("?")[0].split(".").pop())!==""},h.navigateTo=function(b){a.location.href=b},h.isPrivate=function(a){return a.indexOf("_")===0},h.isPrimitive=function(a){return!(s.isUndefined(a)||s.isFunction(a)||h.isObject(a))},h.isObject=function(a){return typeof a=="object"},h.createElement=function(a){var c=b.createElement(a.tagName||"div");return delete a.tagName,a.id&&(c.setAttribute("id",a.id),delete a.id),a.className&&(c.className=a.className,delete a.className),h.updateStyle(c,a),c},function(){var a;b.getElementsByClassName?a=function(a,b,c){return a.getElementsByClassName(c)}:a=function(a,b,c){var d=b=="*"&&a.all?a.all:h.byTag(b,a),e=new RegExp("(^|\\s)"+c.replace(/\-/g,"\\-")+"(\\s|$)");return s(d).reduce(function(a,b){return e.test(b.className)&&a.push(b),a},[])},h.getElementsByClassName=a,h.getFirstElementByClassName=function(b,c){var d=a(b,"*",c);return d.length>0?d[0]:null}}(),h.byId=function(a){return b.getElementById(a)},h.byTag=function(a,c){return c=c||b,c.getElementsByTagName(a)},h.firstByTag=function(a,b){return h.byTag(a,b)[0]},h.getStyle=function(c,d){return c.currentStyle?c.currentStyle[d]:a.getComputedStyle?b.defaultView.getComputedStyle(c,null).getPropertyValue(d):null},h.updateStyle=function(a,b){s(b).each(function(b,c){c=="opacity"?(a.style.opacity=b,a.style.filter="alpha(opacity="+b*100+")"):a.style[c]=b})},h.updateStyleWithUnit=function(a,b,c){c=c||"px",h.updateStyle(a,s(b).reduce(function(a,b,d){return a[d]=b+c,a},{}))},h.getDefaultDisplay=function(a){var c=s(a).has("defaultDisplay")&&s(a.defaultDisplay).isString();if(!c){var d=b.createElement(a.nodeName),e=h.body();e.appendChild(d),a.defaultDisplay=h.getStyle(d,"display"),e.removeChild(d)}return a.defaultDisplay},h.log=function(){a.console&&a.console.log&&a.console.log.apply&&a.console.log.apply(a.console,arguments)},h.getCookie=function(c){var d=b.cookie.match("(^|;) ?"+c+"=([^;]*)(;|$)");return d?a.unescape(d[2]):null},h.setCookie=function(a,c,d,e){var f;e=e&&e!="localhost"?" domain="+e:"";if(d){var g=new Date;g.setTime(g.getTime()+d*24*60*60*1e3),f="; expires="+g.toGMTString()}else f="";return b.cookie=a+"="+c+f+"; path=/;"+e,c},h.getTopLevelDomain=function(){var a=h.getHostname(),b=a;return s(a).endsWith("globo.com")?b=".globo.com":s(a).endsWith("globoi.com")&&(b=".globoi.com"),b},h.head=function(){return b.head||h.firstByTag("head")},h.body=function(){return b.body||h.firstByTag("body")};var x;(function(){x=function(a){return a&&s(h.byTag("style")).any(function(b){return b.pushName&&b.pushName==a})},h.pushCss=function(a,c){if(x(c))return;var d=b.createElement("style");d.type="text/css",d.media="all",d.rel="stylesheet",c&&(d.pushName=c);var e=b.createTextNode(a.join("\n"));d.styleSheet?d.styleSheet.cssText=e.nodeValue:d.appendChild(e),h.head().appendChild(d)}})(),h.getCurrentDate=function(){return new Date},h.getCurrentTime=function(){return h.getCurrentDate().getTime()},h.mergeObjects=function(a,b){var d={};s(a).forEach(function(e,f){var g=f.toLowerCase();d[g]=1,a[f]=b[g]!==c?b[g]:a[f]}),s(b).forEach(function(c,e){d[e]||(a[e]=b[e])})},h.getUrlParameters=function(a){return n.parse(h.getCurrentUrl(),a)},h.hasFlashInstalled=function(){try{return!!(new ActiveXObject("ShockwaveFlash.ShockwaveFlash"))}catch(a){}var b=h.getMimeType("application/x-shockwave-flash");return!!b&&!!b.enabledPlugin},h.getMimeType=function(a){return navigator.mimeTypes[a]},h.clearElement=function(a){try{if(a.hasChildNodes())while(a.childNodes.length>=1)a.removeChild(a.firstChild)}catch(b){h.log(b)}a.innerHTML=""},h.toCallbackFunction=function(a,b){var c=b[a.toLowerCase()]||b[a],d;if(c){if(!s(c).isFunction())try{c=(new Function("return "+c))()}catch(e){h.log(e)}if(s(c).isFunction()){var f=s.bind(c,b),g=function(){try{return f.apply(b,arguments)}catch(c){h.log("error executing callback: ",a,c)}};d=b[a]=g}}return d},h.callCallbackFunction=function(a,b){var c=h.toCallbackFunction(a,b);c&&c({type:a})},h.extractIdFromURL=function(a){for(var b=0;b<e.VIDEO_URL_PATTERNS.length;b++){var c=e.VIDEO_URL_PATTERNS[b].exec(a);if(c&&c[1])return c[1]}return null},h.thumbURL=function(a){var b=d.thumbHostname(a),c=a.width||"";return"http://"+b+"/"+c+"x"+a.height+"/"+a.videoID+".jpg"},h.vmineURL=function(a){var b=d.vmineHostname();return"http://"+b+"/ping_html5?mid="+a};var y=r.extend({_account:"UA-296593-12",_trackerName:"WMPlayer",init:function(a){a=a||{},this._account=a.account||this._account,this._trackerName=a.trackerName===c?this._trackerName:a.trackerName,this._formatTrackerName(),this._initializeGAQ(),this.push([this._trackerName+"_setAccount",this._account]),this.push([this._trackerName+"_trackPageview"]),this._loadScript(),this._loadOmniture()},push:function(b){a._gaq.push(b)},play:function(a){this._hasStartedPlaying||(this._updateOmnitureVars(a),this._notifyOmniture("open",[a.title,parseInt(a.duration,10),y.PLAYER_NAME]),this.push([this._trackerName+"_trackPageview",this._pageview(y.PLAY_TEMPLATE_URL
,a)]),this.push([this._trackerName+"_trackEvent","Videos","Play",a.videoID+" - "+a.title])),a.type=="Live"&&(h.log("Starting Vmine ping"),this._startVminePing(a)),this._notifyOmniture("play",[a.title,parseInt(a.currentTime||0,10)]),this._hasStartedPlaying=!0},pause:function(a){this._notifyOmniture("stop",[a.title,parseInt(a.currentTime||0,10)]),a.type=="Live"&&this._stopVminePing()},end:function(a){this.push([this._trackerName+"_trackPageview",this._pageview(y.END_TEMPLATE_URL,a)]),this.push([this._trackerName+"_trackEvent","Videos","End Of The Video",a.videoID+" - "+a.title]),this._notifyOmniture("stop",[a.title,parseInt(a.currentTime||0,10)]),this._notifyOmniture("close",[a.title]),a.type=="Live"&&this._stopVminePing(),this.reset()},reset:function(){this._hasStartedPlaying=!1},_formatTrackerName:function(){this._trackerName=this._trackerName.length>0?this._trackerName+".":this._trackerName},_initializeGAQ:function(){a._gaq=a._gaq||[]},_loadScript:function(){if(!a._gat){var c=b.createElement("script");c.type="text/javascript",c.async=!0,c.src=("https:"==b.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var d=h.firstByTag("script");d.parentNode.insertBefore(c,d)}},_loadOmniture:function(){if(!a.s){var c=b.createElement("script");c.type="text/javascript",c.async=!0,c.src="http://"+d.playerHostname()+"/p2/j/s_code.js";var e=h.firstByTag("script");e.parentNode.insertBefore(c,e)}},_startVminePing:function(a){var b=this;this._vminePingHandler=setInterval(function(){b._vminePing(a.videoID)},6e4)},_stopVminePing:function(){clearInterval(this._vminePingHandler),delete this._vminePingHandler,h.log("Stopping Vmine ping")},_vminePing:function(a){h.log("Loading vmine ping with videoID:",a);var b=h.vmineURL(a);this._loadUrlAsImage(b)},_loadUrlAsImage:function(a){var b=new Image;return b.src=a,b},_pageview:function(a,b){return a(s({category:b.category.substr(0,3).toUpperCase()}).defaults(b))},_durationLength:function(a){var b=a/60,c=y.DURATION_RANGES,d=s(c).find(function(a,c){return b<=a});if(d==1)return"00:00 - 01:00";if(s(d).isUndefined())return"10:01 +";var e=s(c).indexOf(d);return s(c[e-1]).pad(2,"0")+":01 - "+s(c[e]).pad(2,"0")+":00"},_updateOmnitureVars:function(b){var c=a.s;c&&(c.eVar1=b.type,c.eVar3=b.videoID,c.eVar4=b.program,c.eVar5=b.channel,c.eVar6="D=g",c.eVar7=h.getHostname(),c.eVar18=(new Date).getHours().toString(),c.eVar19=b.category,c.eVar20=this._durationLength(b.duration),c.events="event2")},_notifyOmniture:function(b,c){var d=a.s;if(d&&d.Media){var e=d.Media;e[b].apply(e,c)}}});y.getDefaultInstance=function(){return y._defaultInstance=y._defaultInstance||new y},y.PLAY_TEMPLATE_URL=s.template("/use/play/<%=channel%>/<%=program%>/<%=category%>/<%=videoID%>"),y.END_TEMPLATE_URL=s.template("/use/end/<%=channel%>/<%=program%>/<%=category%>/<%=videoID%>"),y.PLAYER_NAME="Globo Player",y.DURATION_RANGES=[1,2,3,4,5,7,10],o.CALLBACK_TEMPLATE="wmPlayerPlaylistLoaded<%=playerId%>",o.urlFor=function(a,b,c){return b=s(b).isEmpty()?"":"/profile/"+b,"http://"+d.apiHostname()+"/videos/"+a+"/playlist"+b+"/callback/"+c},o.load=function(a){var b=o._callbackNameFor(a.playerId);g.jsonp({url:o.urlFor(a.videoID,a.profile,b),callbackName:b,success:a.success,error:a.error})},o._callbackNameFor=function(a){var b={playerId:a>0?a:""};return s.template(o.CALLBACK_TEMPLATE,b)},o._isTargetDeviceEqual=function(a,b){return a.target_device&&s(a.target_device).indexOf(b)>=0},o._isPlayerTypeEqual=function(a,b){return a.player_type&&s(a.player_type).indexOf(b)>=0},o._isDeliveryTypeEqual=function(a,b){return a.delivery_type&&a.delivery_type===b},o._findResource=function(a,b,c,d,e){var f={};return e&&s(a.resources).forEach(function(a){if(o._isDeliveryTypeEqual(a,e))return f=a}),f.url||s(a.resources).forEach(function(a){if(o._isTargetDeviceEqual(a,b)&&o._isPlayerTypeEqual(a,c))return f=a}),f.url||s(a.resources).forEach(function(a){if(d===a.kind)return f=a}),f.id=f._id,f.target_device&&(f.targetDevice=f.target_device),f.player_type&&(f.playerType=f.player_type),f},o._isVideoIndexAvailable=function(a,b){return a&&a.videos&&a.videos.length>b},o._isChildrenIndexAvailable=function(a,b){return!!(a.children&&a.children.length>b)},o.isGalleryOrFullEpisode=function(a){return o._isChildrenIndexAvailable(a,0)},o._getVideo=function(a,b,c){var d=a.videos[b];return o._isChildrenIndexAvailable(d,c)?d.children[c]:d},o.getResource=function(a,b,c){var d={};b=b||0,c=c||0;if(o._isVideoIndexAvailable(a,b)){var e=o._getVideo(a,b,c);h.isIPhone()?d=o._findResource(e,"iphone","html5","M4","hls"):h.isIPad()?(d=o._findResource(e,"ipad","html5","H4","hls"),d.url&&d.url.indexOf("rtmp")===0?d=o._findResource(e,"iphone","html5","M4","hls"):d.url&&(d.url=d.url.replace("flashvideo","ipadvideo"))):h.isAndroid()?d=o._findResource(e,"android","html5","M4"):(d=o._findResource(e,"web","flash","H4"),d.url||(d=o._findResource(e,"web","flash","FS")))}return d},o.totalChildren=function(a,b){if(o._isVideoIndexAvailable(a,b)){var c=a.videos[b];return c.children?c.children.length:1}return 1},o.getTotalDuration=function(a,b){var c=o.totalChildren(a,b);return o.getPreviousChildrenDuration(a,b,c)},o.getPreviousChildrenDuration=function(a,b,c){var d=0;for(var e=0;e<c;e++)d+=o.getResource(a,b,e).duration;return d/1e3},o.getServiceId=function(a){if(o._isVideoIndexAvailable(a,0))return a.videos[0].service_id},o.getProgramId=function(a){if(o._isVideoIndexAvailable(a,0))return a.videos[0].program_id},o.parametersForMetrics=function(a,b){if(o._isVideoIndexAvailable(a,b)){var c=a.videos[b];return{type:c.type,channel:c.channel,program:c.program,category:c.category,title:c.title,videoID:c.id,duration:o.getTotalDuration(a,b)}}return{}},o.parametersForAds=function(a,b){if(o._isVideoIndexAvailable(a,b)){var c=a.videos[b];return{zoneId:c.zone_id,sitePage:c.site_page,defaultVideoId:c.default_video_id}}return{}},o.hasSubscriberOnly=function(a){if(o._isVideoIndexAvailable(a,0)){var b=!1;return s(a.videos).forEach(function(a){a.subscriber_only&&(b=!0)}),b}return!0},function(){function a(a,b,c,d){c=[].concat(c||[]),s(c).each(function(c){b.addEventListener||b.removeEventListener?a.call(b,c,d,!1):(b.attachEvent||b.detachEvent)&&a("on"+c,d)})}j.addListener=function(b,c,d){var e=b.addEventListener||b.attachEvent;a(e,b,c,d)},j.removeListener=function(b,c,d){var e=b.removeEventListener||b.detachEvent;a(e,b,c,d)}}();var z=r.extend({init:function(a){this.rendered=!1,this.width=a.width,this.height=a.height,this.element=a.element,this.errorMessages=[z.DEFAULT_MESSAGE,z.GEO_BLOCKED,z.NOT_FOUND,z.DEVICE_NOT_SUPPORTED],this._mergeWithErrorMessages(a.errorMessages),this.ops_url="http://"+d.playerHostname()+"/p2/i/ops.png"},render:function(a){var b=a?a:z.DEFAULT_MESSAGE.code,c=this.messageFor(b);this._applyCss(),h.clearElement(this.element),this.element.innerHTML=w.errorPage({ops_url:this.ops_url,title:c.title,description:c.description,code:c.code}),this.rendered=!0,this.resize()},isNotFound:function(a){return a&&a.http_status_code==404},isGeoBlocked:function(a){return a&&a.http_status_code==403&&a.code=="GB"},isNotAuthorized:function(a){return a&&a.http_status_code==403&&a.code=="AUT"},messageFor:function(a){return s(this.errorMessages).find(function(b){return b.code.toLowerCase()==a.toLowerCase()})},_mergeWithErrorMessages:function(a){s(a).forEach(function(a){var b=this.messageFor(a.code);b&&this.errorMessages.splice(s(this.errorMessages).indexOf(b),1),this.errorMessages.push(a)},this)},_applyCss:function(){h.pushCss(this._cssRules(),"wm-error")},resize:function(a){a=a||{},this.width=a.width||this.width,this.height=a.height||this.height;if(this.element&&this.rendered){var b=h.getFirstElementByClassName(this.element,"wm-error");if(b){var c=this._getSizeClass();b.className=b.className.replace(/(\s?wm-error-small)+/,"").replace(/(\s?wm-error-big)+/,""),b.className+=" "+c}}},_getSizeClass:function(){return this.height===c||this.height>240?"wm-error-big":"wm-error-small"},_cssRules:function(){return[".wm-error { background-color: #2C2C2C; font-family: Arial; width: 100%; height: 100%; position: relative; }",".wm-error img { border: 0; }",".wm-error-title { color: #999999; }",".wm-error-description { color: #838383; }",".wm-error-code { color: #838383; position: absolute; }",".wm-error-code-number { color: #D5D5D5; }",".wm-error a, .wm-error a:visited { text-decoration: underline; color: #B6B6B6; }",".wm-error a:hover { color: #ECECEC; }",".wm-error-big img { height: 73px; margin: 38px 0 0 38px; }",".wm-error-big .wm-error-title { font-size: 22px; margin: 30px 38px 0 38px; }",".wm-error-big .wm-error-description { font-size: 12px; margin: 24px 38px 0 38px; }",".wm-error-big .wm-error-code { font-size: 10px; margin: 0 38px; bottom: 38px}",".wm-error-small img { height: 54px; margin: 20px 0 0 20px; }",".wm-error-small .wm-error-title { font-size: 18px; margin: 5px 20px 0 20px; }",".wm-error-small .wm-error-description { font-size: 10px; margin: 18px 20px 0 20px; }",".wm-error-small .wm-error-code { font-size: 8px; margin: 0 20px; bottom: 20px}"]}});z.DEFAULT_MESSAGE={title:"N&#227;o foi poss&#237;vel exibir o v&#237;deo!",description:'Ocorreu um problema ao tentar carregar o v&#237;deo. Tente <a href="" onclick="window.location.reload(); return false;">recarregar</a> a sua p&#225;gina.',code:"load-error"},z.GEO_BLOCKED={title:"O v&#237;deo n&#227;o pode ser exibido nessa regi&#227;o",description:"Infelizmente este v&#237;deo n&#227;o est&#225; dispon&#237;vel para ser exibido na sua regi&#227;o ou pa&#237;s. Desculpe-nos pelo inconveniente.",code:"GB"},z.NOT_FOUND={title:"Conte&#250;do n&#227;o dispon&#237;vel.",description:"Infelizmente este v&#237;deo n&#227;o est&#225; dispon&#237;vel. Desculpe-nos pelo inconveniente.",code:"NF"},z.DEVICE_NOT_SUPPORTED={title:"Dispositivo n&#227;o suportado.",description:"Infelizmente o seu dispositivo n&#227;o possui os requisitos m&#237;nimos para exibir esse v&#237;deo.",code:"DNS"};var A={interval_id:null,last_hash:null,cache_bust:1,has_postMessage:a.postMessage,rm_callback:null,post:function(a,b,c){if(!b)return;if(typeof a!="string")return;c=c||parent,A.has_postMessage?c.postMessage(a,b.replace(/([^:]+:\/\/[^\/]+).*/,"$1")):b&&(c.location=b.replace(/#.*$/,"")+"#"+ +(new Date)+A.cache_bust++ +"&"+a)},receive:function(c,d,e){A.has_postMessage?c?(A.rm_callback&&A.receive(),A.rm_callback=function(a){if(typeof d=="string"&&a.origin!==d||s.isFunction(d)&&d(a.origin)===!1)return!1;c(a)},j.addListener(a,"message",A.rm_callback)):j.removeListener(a,"message",A.rm_callback):(A.interval_id&&clearInterval(A.interval_id),A.interval_id=null,c&&(e=typeof d=="number"?d:typeof e=="number"?e:100,A.interval_id=setInterval(function(){var a=b.location.hash,d=/^#?\d+&/;a!==A.last_hash&&d.test(a)&&(b.location.hash=null,A.last_hash=a,c({data:a.replace(d,"")}))},e)))}};i.tween=function(b,c){if(s(c.easing).isFunction()&&c.duration){var d=c.easing,e=c.duration,f=c.onUpdate;delete c.onUpdate,c.easing=function(a){return f(),d(a,e)}}a.morpheus(b,c)},i.easeInOutExpo=function(a,b){return a*=1e3,a===0?0:(a/=b/2)<1?Math.pow(2,10*(a-1))/2:(-Math.pow(2,-10*--a)+2)/2},i.show=function(a){h.updateStyle(a,{display:h.getDefaultDisplay(a),visibility:"visible"})},i.hide=function(a){a.style.display="none"},i.showAll=function(a){s(a).each(i.show)},i.hideAll=function(a){s(a).each(i.hide)},i.Fade=r.extend({init:function(a){this.elements=[].concat(a.element||[]).concat(a.elements||[]),s(this).chain().extend(a).defaults({maxFade:1,maxFadeOut:0,duration:500,complete:function(){}})},fadeIn:function(){this._stop(),i.showAll(this.elements),this.animation=i.tween(this.elements,{opacity:this.maxFade,duration:this.duration,complete:this.complete})},fadeOut:function(){var a=this.elements,b=this.complete,c=this.maxFadeOut;this._stop(),this.animation=i.tween(a,{opacity:c,duration:this.duration,complete:function(){c===0&&i.hideAll(a),b()}})},_stop:function(){this.animation&&this.animation.stop()}}),i.Light=r.extend({init:function(a,b,c){this.element=a,this.zIndex=b||1e5,this.wrapperId="wm-player-shadow-wrapper",s(this).extend(c),s(this).bindAll("resizeAndPosition","_onResizeOrScroll")},on:function(){this.onLightOnStart&&this.onLightOnStart({type:"onLightOnStart"}),this._prepare(),this._removeListeners(),this._onCompleteFunction="onLightOnComplete",this._fade().fadeOut()},off:function(){this.onLightOffStart&&this.onLightOffStart({type:"onLightOffStart"}),this._prepare(),this._addListeners(),this._onCompleteFunction="onLightOffComplete",this._fade().fadeIn()},resizeAndPosition:function(){var a=this._displayedRectangle(),c=Math.max(b.documentElement.scrollLeft,h.body().scrollLeft)+i.clientWidth(),d=i.clientHeight();this._updatePosition("left",a.top,0,a.left,a.bottom-a.top),this._updatePosition("top",0,0,c,a.top),this._updatePosition("right",a.top,a.right,c-a.right,a.bottom-a.top),this._updatePosition("bottom",a.bottom,0,c,d-a.bottom)},_prepare:function(){this._createShadow(),this.resizeAndPosition()},_removeListeners:function(){j.removeListener(a,["resize","scroll"],this._onResizeOrScroll)},_addListeners:function(){j.addListener(a,["resize","scroll"],this._onResizeOrScroll)},_fade:function(){return this._wrapper().wmFade},_wrapper:function(){return h.byId(this.wrapperId)},_hasShadow:function(){return s(this._wrapper()).isElement()},_createShadow:function(){if(!this._hasShadow()){var a=h.createElement({id:this.wrapperId}),b=s(["left","top","right","bottom"]).map(function(b){return s(this._createShadowElement(b)).tap(function(b){a.appendChild(b)})},this),c=this;this._complete=function(){c._onComplete()},a.wmFade=new i.Fade({elements:b,maxFade:.8,complete:this._complete}),h.body().appendChild(a)}},_createShadowElement:function(a){return h.createElement({id:"wm-player-shadow-"+a,backgroundColor:"#000000",position:"absolute",zIndex:this.zIndex,display:"none",opacity:0})},_onComplete:function(){var a=this[this._onCompleteFunction];a&&a({type:this._onCompleteFunction})},_onResizeOrScroll:function(){this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(this.resizeAndPosition,10)},_updatePosition:function(a,b,c,d,e){var f=h.byId("wm-player-shadow-"+a);f&&d>0&&e>0&&h.updateStyleWithUnit(f,{top:b,left:c,width:d,height:e})},_displayedRectangle:function(){var a=0,b=0,c=0,d=0,e=this.element;if(e.offsetParent){do b+=e.offsetTop,a+=e.offsetLeft;while(e=e.offsetParent);c=this.element.offsetWidth+a,d=this.element.offsetHeight+b}return{left:a,top:b,right:c,bottom:d}}}),i.clientHeight=function(){var c=a.innerHeight?a.innerHeight:0,d=b.documentElement?b.documentElement.clientHeight:0,e=b.documentElement?b.documentElement.scrollHeight:0,f=h.body()?h.body().clientHeight:0;return Math.max(c,Math.max(d,Math.max(e,f)))},i.clientWidth=function(){var c=a.innerWidth?a.innerWidth:Number.MAX_VALUE,d=b.documentElement?b.documentElement.clientWidth:Number.MAX_VALUE,e=h.body()?h.body().clientWidth:Number.MAX_VALUE;return Math.min(c,Math.min(d,e))},i.Lightbox=r.extend({init:function(a){s(this).bindAll("_closedByUser","_alignLightbox"),this.body=h.body(),this.element=a.element,this.onClose=a.onClose,this._applyCss(),this._createElements(),this._bindEvents(),this._appendElements(),this._alignLightbox(),this.fadeOverlay=new i.Fade({element:this.overlay,duration:300,maxFade:.6}),this.fadeInnerWrapper=new i.Fade({element:this.innerWrapper,duration:200})},open:function(){i.show(this.wrapper),this.fadeOverlay.fadeIn(),this.fadeInnerWrapper.fadeIn()},close:function(){this.fadeInnerWrapper.fadeOut(),this.fadeOverlay.fadeOut(),i.hide(this.wrapper)},resize:function(a){h.updateStyleWithUnit(this.element,a),this._alignLightbox()},_closedByUser:function(){this.onClose&&this.onClose(),this.close()},_bindEvents:function(){this.closeButton.onclick=this._closedByUser,j.addListener(a,["resize","scroll"],this._alignLightbox)},_alignLightbox:function(){var c=this._getStyleIntValue("width"),d=this._getStyleIntValue("height");if(c&&d){var e=i.clientWidth(),f=a.innerHeight||b.documentElement.clientHeight||this.body.clientHeight,g=e/2-c/2,j=f/2-d/2;h.updateStyleWithUnit(this.innerWrapper,{left:g,top:j})}},_getStyleIntValue:function(a){return parseInt(h.getStyle(this.element,a).replace(/\D+/,""),10)},_createElements:function(){this.overlay=h.createElement({className:"wm-lightbox-black-overlay",opacity:0}),this.outerWrapper=h.createElement({className:"wm-lightbox-outer-wrapper"}),this.innerWrapper=h.createElement({className:"wm-lightbox-inner-wrapper",opacity:0}),this.content=h.createElement({className:"wm-lightbox-content"}),this.closeButton=h.createElement({className:"wm-lightbox-close"}),this.wrapper=h.createElement({className:"wm-lightbox-wrapper",display:"none"})},_appendElements:function(){this.content.appendChild(this.element),this.innerWrapper.appendChild(this.content),this.innerWrapper.appendChild(this.closeButton),this.outerWrapper.appendChild(this.innerWrapper),this.wrapper.appendChild(this.outerWrapper),i.show(this.element),this.body.appendChild(this.overlay),this.body.appendChild(this.wrapper)},_applyCss:function(){var a="http://"+d.playerHostname()+"/p2/i/close.png",b=[".wm-lightbox-black-overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: black; z-index: 100000; }",".wm-lightbox-wrapper { z-index: 100001; position: fixed; top: 0; left: 0; width: 100%; height: 100%; }",".wm-lightbox-outer-wrapper { position: relative; width: 100%; height: 100%; }",".wm-lightbox-inner-wrapper { position: absolute; z-index: 100002; padding-top: 11px; }",".wm-lightbox-content { float: left; } ",".wm-lightbox-close { z-index: 100003; cursor: pointer; width: 24px; height: 24px; float: left; background:url('"+a+"') no-repeat transparent; margin-left: -12px; margin-top: -10px; position: relative; }"];h.pushCss(b,"wm-lightbox")}});var B=r.extend({init:function(){s(this).bindAll("_showImage","_onClick","_mouseover","_mouseout")},render:function(a){this._hasChanged(a)&&(this._settings=a,this._create(),this.enable()),a.callback&&(this._settings.callback=a.callback)},resize:function(a){if(!this._settings)return;this._settings.width=a.width,this._settings.height=a.height;var b=this._settings.width/2-58.5,c=this._settings.height/2-49;h.updateStyleWithUnit(this.play,{top:c,left:b}),h.updateStyleWithUnit(this.wrapper,{width:this._settings.width,height:this._settings.height}),this.image.src=h.thumbURL({height:B._fixHeight(this._settings.height),videoID:this._settings.videoID}),this._applyLetterbox()},disable:function(){this._disabled=!0,this._disableEffects(),i.hide(this.play),this.innerWrapper.style.cursor="default"},enable:function(){this._disabled=!1,i.show(this.play),this.innerWrapper.style.cursor="pointer",this._enableEffects()},_onClick:function(){this._disabled||(this.disable(),this._settings.callback())},_create:function(){this._applyCss(),this._createImage(),this._createPlayIcon(),this._createInnerWrapper(),this._createWrapper(),this.resize(this._settings),this._settings.element.appendChild(this.wrapper)},_hasChanged:function(a){return this._settings===c||this._settings.videoID!==a.videoID||this._settings.width!==a.width||this._settings.height!==a.height},_applyCss:function(a){var b="http://"+d.playerHostname()+"/p2/i/play.png",c=[".wm-poster-wrapper { background: black; }",".wm-poster-inner-wrapper { position: relative; width: 100%; height: 100%; }",".wm-poster-inner-wrapper img { visibility:hidden; } ",".wm-poster-inner-wrapper:hover { cursor: pointer; }",".wm-poster-play { background:url('"+b+"') no-repeat transparent; } ",".wm-poster-play { width:117px; height:98px; position:absolute; }"];h.isIE()&&(c.push(".wm-poster-play { background-position: 0px -97px; }"),c.push(".wm-poster-inner-wrapper:hover .wm-poster-play { background-position: 0px 0px; }")),h.pushCss(c,"wm-poster")},_enableEffects:function(){h.isIE()||(this.fade=new i.Fade({element:this.play,duration:300,maxFadeOut:B.MAX_FADE_OUT}),j.addListener(this.innerWrapper,"mouseover",this._mouseover),j.addListener(this.innerWrapper,"mouseout",this._mouseout),this.fade.fadeOut())},_mouseover:function(a){this.fade.fadeIn()},_mouseout:function(a){var b=a.toElement||a.relatedTarget||null;b&&s(B.CLASSES).indexOf(b.getAttribute("class"))==-1&&this.fade.fadeOut()},_disableEffects:function(){this.innerWrapper.onmouseover=function(a){},this.innerWrapper.onmouseout=function(a){}},_createImage:function(){this.image=new Image,this.image.className="wm-poster-image",this.image.onload=this._showImage},_createPlayIcon:function(){this.play=h.createElement({className:"wm-poster-play"}),h.isIE()||h.updateStyle(this.play,{opacity:B.MAX_FADE_OUT})},_createInnerWrapper:function(){this.innerWrapper=h.createElement({className:"wm-poster-inner-wrapper"}),this.innerWrapper.appendChild(this.play),this.innerWrapper.appendChild(this.image),this.innerWrapper.onclick=this._onClick},_createWrapper:function(){h.clearElement(this._settings.element),this.wrapper=h.createElement({className:"wm-poster-wrapper"}),this.wrapper.appendChild(this.innerWrapper)},_applyLetterbox:function(){var a=this._settings.width/this._settings.height,b=this.imageWidth/this.imageHeight;if(isNaN(this.imageWidth)||isNaN(this.imageHeight)||isNaN(a)||isNaN(b))return;var c,d;a>b?c=Math.round(this._settings.height*b):a<b&&(d=Math.round(this._settings.width/b)),c=c||this._settings.width,d=d||this._settings.height,h.updateStyleWithUnit(this.image,{width:c,height:d,marginLeft:(this._settings.width-c)/2,marginTop:(this._settings.height-d)/2})},_showImage:function(){this._measureImage(),this._applyLetterbox(),this.image.style.visibility="visible"},_getImageSize:function(){this.imageWidth=parseInt(h.getStyle(this.image,"width").replace(/[^0-9\.]+/,""),10),this.imageHeight=parseInt(h.getStyle(this.image,"height").replace(/[^0-9\.]+/,""),10)},_measureImage:function(){this._getImageSize();if(isNaN(this.imageWidth)||isNaN(this.imageHeight)||this.imageWidth==100||this.imageHeight==100){var a=h.body(),b=h.createElement({width:"1px",height:"1px"});a.appendChild(b),b.appendChild(this.image),this._getImageSize(),a.removeChild(b),this.innerWrapper.appendChild(this.image)}}});B.MAX_FADE_OUT=.6,B.AVAILABLE_HEIGHTS=[216,240,360],B.CLASSES=["wm-poster-image","wm-poster-play","wm-poster-inner-wrapper","wm-poster-wrapper"],B._fixHeight=function(a){a=parseInt(a,10);for(var b=0;b<B.AVAILABLE_HEIGHTS.length;b++)if(B.AVAILABLE_HEIGHTS[b]>=a)return B.AVAILABLE_HEIGHTS[b];return B.AVAILABLE_HEIGHTS[B.AVAILABLE_HEIGHTS.length-1]},k.all=function(a,b){var c=b||"player";return s(k._getDataSet(a)).reduce(function(a,b,d){return a[h.firstOnLower(d.replace(c,""))]=b,a},{})},k._getDataSet=function(a){return s(a.attributes).reduce(function(b,c){var d=c.name;if(typeof d=="string"&&d.match(/^data-/)){var e=k._extractAttributeName(d.toLowerCase());b[e]=n.parseValue(a.getAttribute(d))}return b},{})},k._extractAttributeName=function(a){return h.firstOnLower(s(a.substring(5)).camelize())},l._lightbox=null,l.hasGlbId=function(){var a=h.getCookie("GLBID");return typeof a=="string"&&a.length>10},l.getHash=function(a){var b="getHash_"+h.getCurrentTime(),c="/videos/"+a.videosIDs+"/hash?resource_id="+a.resourceId+"&callback="+b+"&version="+d.playerVersion,e="http://"+d.securityHostname()+c,f=l._getHashCallbackWrapper(a.success,a.error);g.jsonp({url:e,callbackName:b,success:f,error:f})},l._getHashCallbackWrapper=function(a,b){return function(c){l._isValidHash(c)?a&&a(c):b&&b(h.isObject(c)?c:{})}},l.isAuthenticationRequired=function(a){return o.hasSubscriberOnly(a)},l._isValidHash=function(a){return a!==c&&a!=null&&a.hash!==c&&a.hash!=null&&a.hash!==""},l.checkAuthorized=function(a){if(d.isGloboDomain()&&!l.hasGlbId())a.callback(!1);else{var b=function(b){a.callback&&a.callback(!0,b)},c=function(b){a.callback&&a.callback(!1,b)};l.getHash({videosIDs:a.videosIDs,resourceId:a.resourceId,success:b,error:c})}},l._loginIframeUrl=function(a,b,c){c=c||"widget";var e=encodeURIComponent(h.getCurrentUrl()),f=b?encodeURIComponent("http://"+d.playerHostname()+"/p2/close_box_login.html?url="+e):e;f=encodeURIComponent("https://"+d.intervencoesHostname()+"/intervencoes/show.do?popin=true&servicoId="+a+"&urlIntervencao="+f);var g=d.isTest()?"http":"https",i=g+"://"+d.cadunHostname()+"/login/"+a+"?tam="+c+"&url="+f;return i},l.redirectToAuthenticationScreen=function(a){location.href=l._loginIframeUrl(a.serviceId,!1)},l.showAuthenticationScreen=function(a){var b=function(){l._authenticationScreenCallback(a.callback)};A.receive(b,"http://"+d.playerHostname());var c=h.byId("wmPlayerBoxLogin");c?h.clearElement(c):(c=h.createElement({id:"wmPlayerBoxLogin",backgroundColor:"#FFFFFF",width:"350px",height:"520px",position:"relative"}),h.body().appendChild(c));var e=h.createElement({tagName:"iframe",id:"",backgroundColor:"#FFFFFF",width:"100%",height:"100%",border:"none",position:"relative"});e.setAttribute("src",l._loginIframeUrl(a.serviceId,!0)),c.appendChild(e),l._lightbox?l._lightbox.onClose=a.onClose:l._lightbox=new i.Lightbox({element:c,onClose:a.onClose}),j.addListener(e,"load",l._onIframeLoad),l._openLightbox()},l._onIframeLoad=function(){var a=h.byId("wmPlayerBoxLogin");if(a){var b=h.firstByTag("iframe",a);b._hasBeenReladed&&l._lightbox.resize({width:980}),b._hasBeenReladed=!0}},l._openLightbox=function(){l._lightbox&&l._lightbox.open()},l.closeAuthenticationScreen=function(){l._lightbox&&l._lightbox.close()},l._authenticationScreenCallback=function(a){A.receive(),l.closeAuthenticationScreen(),a&&a()},l.closeBoxLoginScreen=function(){var b=h.getUrlParameters();A.post('{"operation":"close"}',a.unescape(b.url))};var C="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",D=3600,E="=0xAC10FD",F="",G=function(a){var b=function(a){var b="",c=a.length;for(var d=0;d<c;d+=3){var e=a.charCodeAt(d)<<16|(d+1<c?a.charCodeAt(d+1)<<8:0)|(d+2<c?a.charCodeAt(d+2):0);for(var f=0;f<4;f++)d*8+f*6>a.length*8?b+=F:b+=C.charAt(e>>>6*(3-f)&63)}return b},c=function(a,b){var c="",d=-1,e,f;a+=b.substr(1,8);while(++d<a.length)e=a.charCodeAt(d),f=d+1<a.length?a.charCodeAt(d+1):0,55296<=e&&e<=56319&&56320<=f&&f<=57343&&(e=65536+((e&1023)<<10)+(f&1023),d++),e<=127?c+=String.fromCharCode(e):e<=2047?c+=String.fromCharCode(192|e>>>6&31,128|e&63):e<=65535?c+=String.fromCharCode(224|e>>>12&15,128|e>>>6&63,128|e&63):e<=2097151&&(c+=String.fromCharCode(240|e>>>18&7,128|e>>>12&63,128|e>>>6&63,128|e&63));return c},d=function(a){var b=new Array(a.length>>2);for(var c=0;c<b.length;c++)b[c]=0;for(c=0;c<a.length*8;c+=8)b[c>>5]|=(a.charCodeAt(c/8)&255)<<c%32;return b},e=function(a){var b="";for(var c=0;c<a.length*32;c+=8)b+=String.fromCharCode(a[c>>5]>>>c%32&255);return b},f=function(a,b){var c=(a&65535)+(b&65535),d=(a>>16)+(b>>16)+(c>>16);return d<<16|c&65535},g=function(a,b){return a<<b|a>>>32-b},h=function(a,b,c,d,e,h){return f(g(f(f(b,a),f(d,h)),e),c)},i=function(a,b,c,d,e,f,g){return h(b&c|~b&d,a,b,e,f,g)},j=function(a,b,c,d,e,f,g){return h(b&d|c&~d,a,b,e,f,g)},k=function(a,b,c,d,e,f,g){return h(b^c^d,a,b,e,f,g)},l=function(a,b,c,d,e,f,g){return h(c^(b|~d),a,b,e,f,g)},m=function(a,b){a[b>>5]|=128<<b%32,a[(b+64>>>9<<4)+14]=b;var c=1732584193,d=-271733879,e=-1732584194,g=271733878;for(var h=0;h<a.length;h+=16){var m=c,n=d,o=e,p=g;c=i(c,d,e,g,a[h+0],7,-680876936),g=i(g,c,d,e,a[h+1],12,-389564586),e=i(e,g,c,d,a[h+2],17,606105819),d=i(d,e,g,c,a[h+3],22,-1044525330),c=i(c,d,e,g,a[h+4],7,-176418897),g=i(g,c,d,e,a[h+5],12,1200080426),e=i(e,g,c,d,a[h+6],17,-1473231341),d=i(d,e,g,c,a[h+7],22,-45705983),c=i(c,d,e,g,a[h+8],7,1770035416),g=i(g,c,d,e,a[h+9],12,-1958414417),e=i(e,g,c,d,a[h+10],17,-42063),d=i(d,e,g,c,a[h+11],22,-1990404162),c=i(c,d,e,g,a[h+12],7,1804603682),g=i(g,c,d,e,a[h+13],12,-40341101),e=i(e,g,c,d,a[h+14],17,-1502002290),d=i(d,e,g,c,a[h+15],22,1236535329),c=j(c,d,e,g,a[h+1],5,-165796510),g=j(g,c,d,e,a[h+6],9,-1069501632),e=j(e,g,c,d,a[h+11],14,643717713),d=j(d,e,g,c,a[h+0],20,-373897302),c=j(c,d,e,g,a[h+5],5,-701558691),g=j(g,c,d,e,a[h+10],9,38016083),e=j(e,g,c,d,a[h+15],14,-660478335),d=j(d,e,g,c,a[h+4],20,-405537848),c=j(c,d,e,g,a[h+9],5,568446438),g=j(g,c,d,e,a[h+14],9,-1019803690),e=j(e,g,c,d,a[h+3],14,-187363961),d=j(d,e,g,c,a[h+8],20,1163531501),c=j(c,d,e,g,a[h+13],5,-1444681467),g=j(g,c,d,e,a[h+2],9,-51403784),e=j(e,g,c,d,a[h+7],14,1735328473),d=j(d,e,g,c,a[h+12],20,-1926607734),c=k(c,d,e,g,a[h+5],4,-378558),g=k(g,c,d,e,a[h+8],11,-2022574463),e=k(e,g,c,d,a[h+11],16,1839030562),d=k(d,e,g,c,a[h+14],23,-35309556),c=k(c,d,e,g,a[h+1],4,-1530992060),g=k(g,c,d,e,a[h+4],11,1272893353),e=k(e,g,c,d,a[h+7],16,-155497632),d=k(d,e,g,c,a[h+10],23,-1094730640),c=k(c,d,e,g,a[h+13],4,681279174),g=k(g,c,d,e,a[h+0],11,-358537222),e=k(e,g,c,d,a[h+3],16,-722521979),d=k(d,e,g,c,a[h+6],23,76029189),c=k(c,d,e,g,a[h+9],4,-640364487),g=k(g,c,d,e,a[h+12],11,-421815835),e=k(e,g,c,d,a[h+15],16,530742520),d=k(d,e,g,c,a[h+2],23,-995338651),c=l(c,d,e,g,a[h+0],6,-198630844),g=l(g,c,d,e,a[h+7],10,1126891415),e=l(e,g,c,d,a[h+14],15,-1416354905),d=l(d,e,g,c,a[h+5],21,-57434055),c=l(c,d,e,g,a[h+12],6,1700485571),g=l(g,c,d,e,a[h+3],10,-1894986606),e=l(e,g,c,d,a[h+10],15,-1051523),d=l(d,e,g,c,a[h+1],21,-2054922799),c=l(c,d,e,g,a[h+8],6,1873313359),g=l(g,c,d,e,a[h+15],10,-30611744),e=l(e,g,c,d,a[h+6],15,-1560198380),d=l(d,e,g,c,a[h+13],21,1309151649),c=l(c,d,e,g,a[h+4],6,-145523070),g=l(g,c,d,e,a[h+11],10,-1120210379),e=l(e,g,c,d,a[h+2],15,718787259),d=l(d,e,g,c,a[h+9],21,-343485551),c=f(c,m),d=f(d,n),e=f(e,o),g=f(g,p)}return[c,d,e,g]},n=function(a){return e(m(d(a),a.length*8))};return b(n(c(a,E)))},H=function(){var a=Math.round(Math.random()*1e10).toString();while(a.length<10)a="0"+a;return a},I=function(a){var b=a.substr(0,2),c=a.substr(2,10),d=a.substr(12,10),e=a.substr(22,22),f=Number(c)+D,g=H(),h=G(e+f+g);return"05"+b+c+d+f+g+h},J=function(){return parseInt((new Date).getTime()/1e3,10)},K=function(a){var b=a.substr(0,2),c=a.substr(2,1),d=a.substr(3,10),e=a.substr(13,10),f=a.substr(24,22),g=J()+D,h=H(),i=G(f+g+h);return b+c+d+e+g+h+i},L=function(a){var b="04",c="03",d="",e=a.substr(0,2);return e==b?K(a):e==c?I(a):d};m.generate=function(){var a=[],b="",c;for(c=0;c<=15;c++)a[c]=c.toString(16);for(c=1;c<=36;c++)c===9||c===14||c===19||c===24?b+="-":c===15?b+=4:c===20?b+=a[Math.random()*4|8]:b+=a[Math.random()*15|0];return b},f.toObjectTag=function(a){return w.objectTag({objectId:a.objectId,wmode:"opaque",swfUrl:a.swf||"http://"+d.playerHostname()+"/p2/player.swf",flashvars:f._toFlashVars(a)})},f.toVideoTag=function(a){return w.videoTag(a)},f.toLiveAndroidVideoTag=function(a){return w.liveAndroidVideoTag(a)},f._toFlashVars=function(a){return s(a).reduce(function(b,c,d){return h.isPrimitive(a[d])&&!h.isPrivate(d)&&b.push(d+"="+a[d]),b},[]).join("&")};var q=r.extend({domain:"auditude.com",_isLoading:!1,_isInBreak:!1,init:function(a){this._player=a,this._mapping=a.banners||{},this._previous={},s(this).bindAll()},loadScript:function(){if(!this.isReady()&&!this._isLoading){q._isLoading=!0,h.log("Loading script...");var a=b.createElement("script");a.type="text/javascript",a.async=!0,a.src="http://adunit.cdn.auditude.com/player/js/lib/plugin/1.2/aud.html5player.js";var c=h.firstByTag("script");c.parentNode.insertBefore(a,c)}},isReady:function(){return a.aud!==c},isInBreak:function(){return q._isInBreak},load:function(b,c,d,e){this.loadCallback=e,this.plugin||(h.log("Creating plugin..."),this.plugin=a.aud.html5.AdPlayer(b,c,this.domain,this._player.zoneId||110291,this._optionsForPlugin()),this._setupListeners());var f=["globo_"+String(d)];this._player.defaultVideoId&&f.push("globo_"+String(this._player.defaultVideoId)),f.push("globo_1869276"),h.log("Initializing plugin..."),this.plugin.init(f,{userData:this._userdata()})},setupAdParameters:function(a){this._player.zoneId=this._player.zoneId||this._player.zoneid||a.zoneId,this._player.defaultVideoId=this._player.defaultVideoId||this._player.defaultvideoid||a.defaultVideoId,this._player.sitePage=this._player.sitePage||this._player.sitepage||a.sitePage},addBanner:function(a){var b=this._idFor(a),c=h.byId(b);c&&(this._previous[b]=c.innerHTML,c.innerHTML=a.data)},addIFrameBanner:function(a){var b=w.iframeBanner(a);this.addBanner(s({}).extend(a,{data:b}))},removeBanner:function(a){var b=this._idFor(a),c=h.byId(b);c&&(c.innerHTML=this._previous[b])},videoPlay:function(){h.log("Video play")},videoPause:function(){h.log("Video pause")},videoTimeUpdate:function(a,b){this._publish("video_playhead_update",a,b)},videoVolumeChange:function(a,b){h.log("Volume change")},videoEnded:function(){h.log("Video ended"),this._publish("video_playback_complete"),this._publish("break_begin")},_idFor:function(a){var b=a.size||a.width+"x"+a.height;return this._mapping[b]||"auditude_companion_"+b},_event:function(b){return a.aud.events[b]},_notification:function(b){return a.aud.notifications[b]},_subscribe:function(a,b,c){this.plugin&&this.plugin.subscribe.apply(this.plugin
,[this._event(a),b].concat(c||[]))},_publish:function(a,b){this.plugin&&this.plugin.publish.apply(this.plugin,[this._notification(a)].concat(b||[]))},_setupListeners:function(){this._subscribe("init_complete",this._onInitComplete),this._subscribe("init_failed",this._onInitFailed),this._subscribe("break_begin",this._onBreakBegin),this._subscribe("break_end",this._onBreakEnd),this._subscribe("pause_playback",this._onPausePlayback),this._subscribe("resume_playback",this._onResumePlayback),this._subscribe("linear_ad_begin",this._onLinearAdBegin),this._subscribe("linear_ad_end",this._onLinearAdEnd),this._subscribe("non_linear_ad_begin",this._onNonLinearAdBegin),this._subscribe("non_linear_ad_end",this._onNonLinearAdEnd)},_optionsForPlugin:function(){return{controls:!0,auditudeHandlesChapterBreaks:!0,style:{backgroundColor:"#000",width:588,height:250},handlers:{play:this._onPlay,error:this._onError,pause:this._onPause,timeupdate:this._onTimeUpdate,volumechange:this._onVolumeChange}}},_userdata:function(){return"sitecategory="+this._player.sitePage+";"},_onPlay:function(a,b,c){h.log("On play in ad")},_onPause:function(){h.log("On Pause in ad")},_onError:function(){h.log("On error in ad")},_onTimeUpdate:function(a,b,c){h.log("On time update in ad")},_onVolumeChange:function(a,b,c){h.log("On volume change in ad")},_onInitComplete:function(a,b){this._publish("break_begin")},_onInitFailed:function(a,b){h.log("Init failed"),this.loadCallback()},_onBreakBegin:function(a,b){h.log("Break begin"),q._isInBreak=!0},_onBreakEnd:function(a,b){h.log("Break end"),q._isInBreak=!1},_onPausePlayback:function(a,b){h.log("Pause playback requested"),this._player.pauseVideo()},_onResumePlayback:function(a,b){this._hasCalledLoadCallback?(h.log("Resume playback requested"),this._player.playVideo()):(this._hasCalledLoadCallback=!0,this.loadCallback())},_onLinearAdBegin:function(a,b,c){h.log("linear ad begin")},_onLinearAdEnd:function(a,b,c){h.log("linear ad end")},_onNonLinearAdBegin:function(a,b,c){h.log("non linear ad begin")},_onNonLinearAdEnd:function(a,b,c){h.log("non linear ad end")}}),M={create:function(a){return h.isIPad()?new p.IPad(a):h.isIPhone()?new p.IPhone(a):h.isAndroid()?new p.Android(a):h.hasFlashInstalled()||h.isGoogleBot()?new P(a):h.isHtml5VideoSupported()?new p.IPhone(a):new P(a)}},N=[],O=function(a){h.isObject(a)&&s(a).forEach(function(a,b){if(h.isPrivate(b)||s(O.PROTECTED_ATTRIBUTES).indexOf(b)!=-1)throw new O.Exception(b+" should not be overrided");this[b]=a},this),this.errorMessages=this.errorMessages||[],this._definedProperties(),this._defaultValues(),this._delegate(["playVideo","seek","pauseVideo","stopVideo","mute","unmute","volume","lightOn","lightOff","loadSecondary","hideSecondary","dynamicStream","isStopped","isPlaying","isPaused","isStretched","isLightOn","isOnPoster","watchedPercentage","stretch","shrink"]),h.mergeObjects(this,h.getUrlParameters(n.PLAYER_PARAMS_PREFIX)),this._disableOctoshapeIfNotInstalled(),d.environment=this.environment};O.prototype={attachTo:function(a){this._element=a,h.updateStyle(a,{backgroundColor:"black",overflow:"hidden"}),this._setElementSize(),this._light=new i.Light(a,this.zIndex,{onLightOnStart:h.toCallbackFunction("onLightOnStart",this),onLightOnComplete:h.toCallbackFunction("onLightOnComplete",this),onLightOffStart:h.toCallbackFunction("onLightOffStart",this),onLightOffComplete:h.toCallbackFunction("onLightOffComplete",this)}),this._createAndStart()},load:function(a){this.videosIDs=a.videosIDs=String(a.videosIDs),this.autoPlay=a.autoPlay===c||a.autoPlay,this.autoPlay&&this._hasPlayerImpl()?this._playerImpl.load(a):this._createAndStart()},resize:function(a){this.width=a.width||this.width,this.height=a.height||this.height,this._setElementSize(),this._hasPlayerImpl()&&this._playerImpl.resize({width:this.width,height:this.height})},authenticationRequired:function(){this._hasPlayerImpl()?this._playerImpl.loadPlaylist():this._createAndStart()},getErrorMessageFor:function(a){if(this._hasPlayerImpl())return this._playerImpl.getErrorMessageFor(a)},getUserId:function(){return h.getCookie("wmp_uuid")||h.setCookie("wmp_uuid",m.generate(),730,h.getTopLevelDomain())},_setElementSize:function(){h.updateStyleWithUnit(this._element,{width:this.width,height:this.height})},_hasPlayerImpl:function(){return this._playerImpl!==c},_delegate:function(a){s(a).each(function(a){this[a]=s.bind(function(){if(this._hasPlayerImpl())return this._playerImpl[a].apply(this._playerImpl,arguments)},this)},this)},_createAndStart:function(){this._create(),this.videosIDs?this._start():this._playerImpl._renderError({http_status_code:404})},_create:function(){this._playerImpl=M.create({playerId:this.id,width:this.width,height:this.height,autoPlay:this.autoPlay,element:this._element,player:this})},_start:function(){this.autoPlay?this._playerImpl.loadPlaylist():this._playerImpl.showPoster()},_definedProperties:function(){this.id=N.push(this)-1,this.objectId="wmPlayer-"+this.id,this.playerNamespace=s.template(this.playerNamespaceTemplate||"WM.PlayerManager[<%= id %>]")({id:this.id})},_defaultValues:function(){s(this).defaults({autoPlay:this.autoplay||!1,width:320,height:240,stretchWidth:this.stretchwidth||this.width,stretchHeight:this.stretchheight||this.height,environment:d.defaultEnvironment,simulateAutoPlay:!this.autoPlay,onLightOn:this.playerNamespace+"._onLightOn",onLightOff:this.playerNamespace+"._onLightOff",onStretch:this.playerNamespace+"._onStretch",onShrink:this.playerNamespace+"._onShrink",relatedFeedURL:this.playerNamespace+"._relatedFeedURL",playRelated:this._getPlayRelated(),onVideoPlayerError:this._getOnError(),enableOctoshape:!1,enableSCAdTracker:!1}),this.videosIDs=this._getVideosIDs()},_relatedFeedURL:function(){return""},_getPlayRelated:function(){return h.toCallbackFunction("onPlayRelatedClick",this)||this._onPlayRelatedClick},_getOnError:function(){return h.toCallbackFunction("onError",this)},_getVideosIDs:function(){return String(this.videosIDs||this.videosids||h.extractIdFromURL(this.videoURL||this.videourl)||"")},_interfaceReady:function(){this._hasPlayerImpl()&&this._playerImpl.setCallbacks()},_onShrink:function(){this._tweenResize(this.width,this.height,"onShrinkStart","onShrinkComplete")},_onStretch:function(){this._tweenResize(this.stretchWidth,this.stretchHeight,"onStretchStart","onStretchComplete")},_onLightOn:function(){this._light.on()},_onLightOff:function(){this._light.off()},_onPlayRelatedClick:function(){return!1},_tweenResize:function(a,b,c,d){var e=this;h.callCallbackFunction(c,this),i.tween(this._element,{width:a,height:b,duration:800,easing:i.easeInOutExpo,onUpdate:function(){e._light.resizeAndPosition()},complete:function(){e._light.resizeAndPosition(),h.callCallbackFunction(d,e)}})},_addBanner:function(a){this._hasPlayerImpl()&&this._playerImpl.addBanner(a)},_addIFrameBanner:function(a){this._hasPlayerImpl()&&this._playerImpl.addIFrameBanner(a)},_removeBanner:function(a){this._hasPlayerImpl()&&this._playerImpl.removeBanner(a)},_disableOctoshapeIfNotInstalled:function(){this.enableOctoshape&&(this.enableOctoshape=this._hasOctoshapeInstalled())},_hasOctoshapeInstalled:function(){if(a.navigator.plugins.length>0)for(var b=0;b<navigator.plugins.length;b++){var c=navigator.plugins[b];for(var d=0;d<c.length;d++){var e=c[d];if(e.description.indexOf("Octoshape")===0)return!0}}else try{var f=new a.ActiveXObject("octoshapeplugin.client.1");return!0}catch(g){return!1}return!1}},O.Exception=function(a){this.message=a},O.PROTECTED_ATTRIBUTES=["id","attachTo","objectId","playerNamespace","playVideo","seek","pauseVideo","stopVideo","mute","unmute","volume","lightOn","lightOff","load","loadSecondary","hideSecondary","authenticationRequired","dynamicStream","resize","getErrorMessageFor","isStopped","isPlaying","isPaused","isStretched","isLightOn","isOnPoster","playRelated","getUserId","stretch","shrink","watchedPercentage"];var P=r.extend({_videoIndex:0,_totalChildren:1,_hasRenderedPlayer:!1,_callCallbackWhenAutorized:!1,init:function(a){this.settings=a,this._setup()},showPoster:function(){this._renderPoster(),this._getPoster().enable()},loadPlaylist:function(){o.load({playerId:this.settings.playerId,videoID:this._mainVideoID(),success:this._playlistLoaded,error:this._playlistLoadError,profile:this.player.profile})},posterClicked:function(){this._call("onPlay"),this.loadPlaylist()},playVideo:function(){this._hasRenderedPlayer?this._getObject().playVideo():this.posterClicked()},seek:function(a){this._hasRenderedPlayer&&this._getObject().seek(a)},pauseVideo:function(){this._hasRenderedPlayer&&this._getObject().pauseVideo()},stopVideo:function(){this._hasRenderedPlayer&&this._getObject().stopVideo()},mute:function(){this._hasRenderedPlayer&&this._getObject().mute()},unmute:function(){this._hasRenderedPlayer&&this._getObject().unmute()},volume:function(a){this._hasRenderedPlayer&&this._getObject().volume(a)},lightOn:function(){this._hasRenderedPlayer&&this._getObject().lightOn()},lightOff:function(){this._hasRenderedPlayer&&this._getObject().lightOff()},stretch:function(){this._hasRenderedPlayer&&this._getObject().stretch()},shrink:function(){this._hasRenderedPlayer&&this._getObject().shrink()},watchedPercentage:function(){if(this._hasRenderedPlayer)return this._getObject().watchedPercentage()},load:function(a){this._hasRenderedPlayer?this._getObject().load(a):this.loadPlaylist()},loadSecondary:function(a){this._hasRenderedPlayer&&this._getObject().loadSecondary(a)},hideSecondary:function(){this._hasRenderedPlayer&&this._getObject().hideSecondary()},dynamicStream:function(a){this._hasRenderedPlayer&&this._getObject().dynamicStream(a)},isStopped:function(){return this._hasRenderedPlayer?this._getObject().isVideoStopped():!0},isPlaying:function(){return this._hasRenderedPlayer?this._getObject().isVideoPlaying():!1},isPaused:function(){return this._hasRenderedPlayer?this._getObject().isVideoPaused():!1},isStretched:function(){return this._hasRenderedPlayer?this._getObject().isStretched():!1},isLightOn:function(){return this._hasRenderedPlayer?this._getObject().isLightOn():!0},isOnPoster:function(){return!this._hasRenderedPlayer&&this.error&&!this.error.rendered},resize:function(a){this._getPoster()&&this._getPoster().resize(a),this.error.resize(a)},setCallbacks:function(){if(this._hasRenderedPlayer){var a=this._getObject();a?(this._setCallbacks(a,a.addListener,P.CALLBACKS),this._setCallbacks(a,a.addInputListener,P.INPUTCALLBACKS)):h.log("Object tag was not found, could not configure callbacks")}},getErrorMessageFor:function(a){return this.error.messageFor(a)},addBanner:function(a){this._ad.addBanner(a)},addIFrameBanner:function(a){this._ad.addIFrameBanner(a)},removeBanner:function(a){this._ad.removeBanner(a)},_call:function(a){var b=h.toCallbackFunction(a,this.player);b&&b({type:a})},_setup:function(){this.player=this.settings.player,this.error=new z({element:this.settings.element,errorMessages:this.player.errorMessages,width:this.settings.width,height:this.settings.height}),s(this).bindAll(),this._ad=new q(this.player)},_getObject:function(){return h.byId(this.player.objectId)},_mainVideoID:function(){return this.player.videosIDs.split("|")[0]},_setCallbacks:function(a,b,c){s(c).forEach(function(c){var d=this.player[c.toLowerCase()]||this.player[c];if(d){s.isFunction(d)&&(this.player[c]=d,d=this.player.playerNamespace+"."+c);try{b.call(a,c,d)}catch(e){h.log("Could not configure callback "+c+":",e)}}},this)},_playlistLoaded:function(a){this._setPlaylist(a),this._getResource(),this._getTotalChildren(),this._shouldEnableSiteCatalystAdTracker()&&(this.player.enableSCAdTracker=!0),this._isAuthenticationRequired()?this._checkAuthorized():this._authorized()},_shouldEnableSiteCatalystAdTracker:function(){return o.getProgramId(this.playlist)==P.SC_POC_PROGRAM_ID},_setPlaylist:function(a){this.playlist=this.player.playlist=a,s(this.player).defaults(a.profile)},_isAuthenticationRequired:function(){return l.isAuthenticationRequired(this.playlist)},_playlistLoadError:function(a){this._renderError(a)},_getResource:function(){this.resource=o.getResource(this.playlist,this._videoIndex,this._childrenIndex)},_checkAuthorized:function(){l.checkAuthorized({videosIDs:this._mainVideoID(),resourceId:this._getResourcesIds(),callback:this._authorizationChecked})},_authorizationChecked:function(a,b){a?this._authorized():this._isNotAuthorized(b)?this._handleAuthentication():this._renderError(b)},_isNotAuthorized:function(a){return a===c||this.error.isNotAuthorized(a)},_callSignedInCallback:function(){this._callCallbackWhenAutorized&&(this._callCallbackWhenAutorized=!1,this._call("onSignedIn"))},_authorized:function(){this._callSignedInCallback(),this._render()},_handleAuthentication:function(){this._renderPoster(),this._getPoster().disable(),this._showAuthenticationScreen()},_showAuthenticationScreen:function(){this._callCallbackWhenAutorized=!0,l.showAuthenticationScreen({serviceId:o.getServiceId(this.playlist),element:this.settings.element,callback:this._authorized,onClose:this.showPoster})},_renderError:function(a){var b;this.error.isNotFound(a)?b=z.NOT_FOUND.code:this.error.isGeoBlocked(a)&&(b=z.GEO_BLOCKED.code),this.error.render(b),this._hasRenderedPlayer=!1,this._call("onError")},_renderFlashErrorPage:function(){this.error.render(z.DEVICE_NOT_SUPPORTED.code),this._hasRenderedPlayer=!1},_getPoster:function(){return this._poster===c&&(this._poster=new B),this._poster},_renderPoster:function(){this._getPoster().render({element:this.settings.element,videoID:this._mainVideoID(),width:this.settings.width,height:this.settings.height,callback:this.posterClicked}),this._hasRenderedPlayer=!1},_render:function(){h.clearElement(this.settings.element),h.hasFlashInstalled()?(this.settings.element.innerHTML=f.toObjectTag(this.player),this._hasRenderedPlayer=!0):h.isGoogleBot()?this._renderPoster():this._renderFlashErrorPage()},_getResourcesIds:function(){var a=[];for(var b=0;b<this._totalChildren;b++)a.push(o.getResource(this.playlist,this._videoIndex,b).id);return a.join("|")},_getTotalChildren:function(){this._totalChildren=o.totalChildren(this.playlist,this._videoIndex)}});P.SC_POC_PROGRAM_ID="2512",P.CALLBACKS=["onLightOn","onLightOff","complete","onNotifyWatched","onVideoPlayerError"],P.INPUTCALLBACKS=["onPlay","onPause","onStop","onSeek","onVolumeChange","onMute","onUnmute","onEnterFullScreen","onExitFullScreen","onShrink","onStretch","onDynamicStream"],p.BLACK_VIDEO="http://flashvideo.globo.com/entretenimento/1/propaganda/black.mp4",p.IPad=P.extend({_childrenIndex:0,_eventsRegistered:!1,_signedHashes:[],_stretched:!1,_lightOn:!0,_isAdloaded:!1,_user:c,playVideo:function(){this._isRendered()?this._video.play():this.posterClicked()},seek:function(a){if(this._isRendered()){var b=this._video.duration;if(!isNaN(b)){var c=parseFloat(a.seekPercentage);this._video.currentTime=b*c}}},pauseVideo:function(){this._isRendered()&&this._video.pause()},stopVideo:function(){this._isRendered()&&(this._video.pause(),this._video.currentTime=0,this._call("onStop"))},mute:function(){this._isRendered()&&(this._video.muted=!0)},unmute:function(){this._isRendered()&&(this._video.muted=!1)},volume:function(a){this._isRendered()&&(this._video.volume=parseFloat(a.value))},lightOn:function(){this._lightOn=!0,this._call("onLightOn")},lightOff:function(){this._lightOn=!1,this._call("onLightOff")},stretch:function(){this._stretched=!0,this._call("onStretch")},shrink:function(){this._stretched=!1,this._call("onShrink")},load:function(a){h.clearElement(this.settings.element),this._video=c,this._metrics.reset(),this.loadPlaylist()},isStopped:function(){if(this._isRendered())return this._video.ended||this._video.paused&&this._video.currentTime===0},isPlaying:function(){if(this._isRendered())return!this._video.paused&&!this._video.ended},isPaused:function(){if(this._isRendered())return this._video.paused&&this._video.currentTime!==0},isStretched:function(){return this._stretched},isLightOn:function(){return this._lightOn},setCallbacks:function(){this._setCallbacks("onPlay","play"),this._setCallbacks("onPause","pause"),this._setCallbacks("onStop","ended"),this._setCallbacks("complete","ended"),this._setCallbacks("onSeek","seeked")},_setCallbacks:function(a,b){var c=h.toCallbackFunction(a,this.player);c&&j.addListener(this._video,b,c)},showPoster:function(){this._render()},_setup:function(){this._super(),this._metrics=y.getDefaultInstance(),this._ad.loadScript()},_playlistLoaded:function(a){this._getResource(),this._super(a),this._setupParametersForMetrics(),this._setupParametersForAds()},_playlistLoadError:function(a){this._renderError(a)},_authorized:function(){this._callSignedInCallback(),this._loadHash()},_handleAuthentication:function(){this.settings.autoPlay&&(this.showPoster(),this._hideVideo()),this._showAuthenticationScreen()},_loadHash:function(){l.getHash({videosIDs:this._mainVideoID(),resourceId:this._getResourcesIds(),success:this._hashLoaded,error:this._hashError})},_hashLoaded:function(a){this._setUser(a),this._setSignedHashes(a),this._play()},_setUser:function(a){this._user=a.user},_setSignedHashes:function(a){var b=a.hash instanceof Array?a.hash:[a.hash];this._signedHashes=s(b).map(function(a){return L(a)})},_getVideoURL:function(){var a,b,d,e;return b=this._signedHashes[this._childrenIndex],this._getVideoType()==="Live"?(d=this._isSubscriberOnly()?"F":"A",e=this._user!==c?this._user:"",a=this.resource.url+"?h="+b+"&u="+e+"&a="+d):a=this.resource.url+"?"+b,a},_play:function(){var a=this._getVideoURL();this._isRendered()?(this._showVideo(),h.log("Will play"),this._ad.isReady()&&!this._isAdloaded?(this._ad.load(this._video,this.player._element,this._mainVideoID(),this._playAfterAd),this._isAdloaded=!0):this._loadAndPlay(a)):this._render()},_playAfterAd:function(){h.log("Playing after ad..."),this._loadAndPlay(this._getVideoURL())},_hashError:function(a){this._renderError(a)},_isRendered:function(){return this._video!==c},_loadAndPlay:function(a){this._video.src=a,this._eventsRegistered||this._setupEventListeners(),this._video.load()},_setupParametersForMetrics:function(){this._parameters=o.parametersForMetrics(this.playlist,this._videoIndex)},_setupParametersForAds:function(){this._ad.setupAdParameters(o.parametersForAds(this.playlist,this._videoIndex))},_showVideo:function(){i.show(this._video)},_hideVideo:function(){i.hide(this._video)},_render:function(a){h.clearElement(this.settings.element),this.settings.element.innerHTML=f.toVideoTag({width:this.settings.width,height:this.settings.height,src:a||p.BLACK_VIDEO,poster:this._getPosterUrl()}),this._video=h.firstByTag("video",this.settings.element),this._hasRenderedPlayer=!0,this._setupFirstPlay()},_getPosterUrl:function(){return h.thumbURL({videoID:this._mainVideoID(),height:B._fixHeight(this.settings.height)})},_setupFirstPlay:function(){j.addListener(this._video,"play",this._onFirstPlay)},_onFirstPlay:function(){j.removeListener(this._video,"play",this._onFirstPlay),this._hideVideo(),this.loadPlaylist()},_setupEventListeners:function(){j.addListener(this._video,"play",this._onPlay),j.addListener(this._video,"canplay",this._onCanPlay),j.addListener(this._video,"pause",this._onPause),j.addListener(this._video,"timeupdate",this._onTimeUpdate),j.addListener(this._video,"volumechange",this._onVolumeChange),this.setCallbacks(),this._eventsRegistered=!0},_onPlay:function(){this._ad.isInBreak()||(this._metrics.play(this._parameters),this._ad.videoPlay(),j.addListener(this._video,"ended",this._onEnded))},_onCanPlay:function(){this._video.play()},_onPause:function(){this._metrics.pause(this._parameters),this._ad.videoPause()},_onTimeUpdate:function(){this._video&&this._parameters&&!isNaN(this._video.currentTime)&&(this._parameters.currentTime=this._video.currentTime+this._getPreviousChildrenDuration(),this._ad.videoTimeUpdate(this._video.currentTime,this._video.duration))},_onVolumeChange:function(){this._video&&this._ad.videoVolumeChange(this._video.muted,this._video.volume)},_getPreviousChildrenDuration:function(){return o.getPreviousChildrenDuration(this.playlist,this._videoIndex,this._childrenIndex)},_onEnded:function(){this._isLastChild()&&(this._ad.videoEnded(),j.removeListener(this._video,"ended",this._onEnded),this._metrics.end(this._parameters)),this._next()},_getVideoType:function(){return o._getVideo(this.playlist,0).type},_hasChildren:function(){return o.totalChildren(this.playlist,0)>1},_isSubscriberOnly:function(){return o._getVideo(this.playlist,0).subscriber_only},_isLastChild:function(){return this._childrenIndex==this._totalChildren-1},_next:function(){this._isLastChild()||(h.log("Playing next"),this._childrenIndex++,this._getResource(),this._play())},_getResource:function(){this.resource=o.getResource(this.playlist,this._videoIndex,this._childrenIndex)}}),p.IPhone=p.IPad.extend({showPoster:function(){this.loadPlaylist()},posterClicked:function(){this._redirectToAuthenticationPage()},_handleAuthentication:function(){this.settings.autoPlay?this._redirectToAuthenticationPage():this._renderPoster()},_redirectToAuthenticationPage:function(){l.redirectToAuthenticationScreen({serviceId:o.getServiceId(this.playlist)})}}),p.Android=p.IPhone.extend({_setupEventListeners:function(){j.addListener(this._video,"play",this._onPlay),j.addListener(this._video,"loadeddata",this._onCanPlay),j.addListener(this._video,"pause",this._onPause),j.addListener(this._video,"timeupdate",this._onTimeUpdate),j.addListener(this._video,"volumechange",this._onVolumeChange),this.setCallbacks(),this._eventsRegistered=!0},posterClicked:function(){this._src?h.navigateTo(this._src):this._super()},_render:function(a){this._isLive()?(h.clearElement(this.settings.element),this.settings.element.innerHTML=this._liveAndroidTag(a||this._getVideoURL())):h.canPlayType(a||p.BLACK_VIDEO)?this._super(a):(this._src=this._getVideoURL(),this._renderPoster())},_isLive:function(){return this._getVideoType()=="Live"},_liveAndroidTag:function(a){return f.toLiveAndroidVideoTag({width:this.settings.width,height:this.settings.height,src:a||p.BLACK_VIDEO,poster:this._getPosterUrl()})}}),a.WM={Player:O,PlayerManager:N,closeBoxLoginScreen:l.closeBoxLoginScreen,getUrlParameters:h.getUrlParameters,getDataAttributes:k.all,extractIdFromURL:h.extractIdFromURL,thumbURL:h.thumbURL},a.jQuery!==c&&a.jQuery!=null&&function(a){a.fn.playerInstance=function(){var a=[];return this.each(function(){this.wmPlayer&&a.push(this.wmPlayer)}),a},a.fn.playerApiCaller=function(a,b){return this.each(function(){this.wmPlayer&&this.wmPlayer[a](b)})},a.fn.player=function(b){var c={};return a.each(b||{},function(a,b){c[a.toLowerCase()]=b}),this.each(function(){var b={videosIDs:"",videoURL:"",autoPlay:!1,width:320,height:240};h.mergeObjects(b,k.all(this,"player")),h.mergeObjects(b,c),(b.autoPlay===!1||b.autoPlay==="false")&&delete b.autoPlay;var d=a.extend({},b);if(!s(d.videosIDs).isNumber()&&s(d.videosIDs).isEmpty()&&s(d.videoURL).isEmpty())h.log("Não foi passado o parâmetro videosIDs: '"+d.videosIDs+"' ou o parâmetro videoURL: '"+d.videoURL+"'");else{var e=new O(d);this.wmPlayer=e,e.attachTo(this)}})}}(a.jQuery),a.jQuery!==c&&a.jQuery!=null&&function(a){a(b).ready(function(){a(".player").player()})}(a.jQuery)})(window,window.document);