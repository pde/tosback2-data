(function(){"use strict";var e="undefined"!=typeof window?window:global;if("function"!=typeof e.require){var t={},n={},r=function(e,t){return{}.hasOwnProperty.call(e,t)},i=function(e,t){var n,r,i=[];n=/^\.\.?(\/|$)/.test(t)?[e,t].join("/").split("/"):t.split("/");for(var o=0,s=n.length;s>o;o++)r=n[o],".."===r?i.pop():"."!==r&&""!==r&&i.push(r);return i.join("/")},o=function(e){return e.split("/").slice(0,-1).join("/")},s=function(t){return function(n){var r=o(t),s=i(r,n);return e.require(s)}},a=function(e,t){var r={id:e,exports:{}};t(r.exports,s(e),r);var i=n[e]=r.exports;return i},l=function(e){var o=i(e,".");if(r(n,o))return n[o];if(r(t,o))return a(o,t[o]);var s=i(o,"./index");if(r(n,s))return n[s];if(r(t,s))return a(s,t[s]);throw Error('Cannot find module "'+e+'"')},u=function(e){for(var n in e)r(e,n)&&(t[n]=e[n])};e.require=l,e.require.define=u}})(),function(){var e=this,t=e._,n={},r=Array.prototype,i=Object.prototype,o=Function.prototype,s=r.push,a=r.slice,l=r.concat,u=(r.unshift,i.toString),c=i.hasOwnProperty,p=r.forEach,d=r.map,h=r.reduce,f=r.reduceRight,m=r.filter,g=r.every,v=r.some,y=r.indexOf,w=r.lastIndexOf,b=Array.isArray,_=Object.keys,k=o.bind,x=function(e){return e instanceof x?e:this instanceof x?(this._wrapped=e,void 0):new x(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=x),exports._=x):e._=x,x.VERSION="1.4.2";var S=x.each=x.forEach=function(e,t,r){if(null!=e)if(p&&e.forEach===p)e.forEach(t,r);else if(e.length===+e.length){for(var i=0,o=e.length;o>i;i++)if(t.call(r,e[i],i,e)===n)return}else for(var s in e)if(x.has(e,s)&&t.call(r,e[s],s,e)===n)return};x.map=x.collect=function(e,t,n){var r=[];return null==e?r:d&&e.map===d?e.map(t,n):(S(e,function(e,i,o){r[r.length]=t.call(n,e,i,o)}),r)},x.reduce=x.foldl=x.inject=function(e,t,n,r){var i=arguments.length>2;if(null==e&&(e=[]),h&&e.reduce===h)return r&&(t=x.bind(t,r)),i?e.reduce(t,n):e.reduce(t);if(S(e,function(e,o,s){i?n=t.call(r,n,e,o,s):(n=e,i=!0)}),!i)throw new TypeError("Reduce of empty array with no initial value");return n},x.reduceRight=x.foldr=function(e,t,n,r){var i=arguments.length>2;if(null==e&&(e=[]),f&&e.reduceRight===f)return r&&(t=x.bind(t,r)),arguments.length>2?e.reduceRight(t,n):e.reduceRight(t);var o=e.length;if(o!==+o){var s=x.keys(e);o=s.length}if(S(e,function(a,l,u){l=s?s[--o]:--o,i?n=t.call(r,n,e[l],l,u):(n=e[l],i=!0)}),!i)throw new TypeError("Reduce of empty array with no initial value");return n},x.find=x.detect=function(e,t,n){var r;return C(e,function(e,i,o){return t.call(n,e,i,o)?(r=e,!0):void 0}),r},x.filter=x.select=function(e,t,n){var r=[];return null==e?r:m&&e.filter===m?e.filter(t,n):(S(e,function(e,i,o){t.call(n,e,i,o)&&(r[r.length]=e)}),r)},x.reject=function(e,t,n){var r=[];return null==e?r:(S(e,function(e,i,o){t.call(n,e,i,o)||(r[r.length]=e)}),r)},x.every=x.all=function(e,t,r){t||(t=x.identity);var i=!0;return null==e?i:g&&e.every===g?e.every(t,r):(S(e,function(e,o,s){return(i=i&&t.call(r,e,o,s))?void 0:n}),!!i)};var C=x.some=x.any=function(e,t,r){t||(t=x.identity);var i=!1;return null==e?i:v&&e.some===v?e.some(t,r):(S(e,function(e,o,s){return i||(i=t.call(r,e,o,s))?n:void 0}),!!i)};x.contains=x.include=function(e,t){var n=!1;return null==e?n:y&&e.indexOf===y?-1!=e.indexOf(t):n=C(e,function(e){return e===t})},x.invoke=function(e,t){var n=a.call(arguments,2);return x.map(e,function(e){return(x.isFunction(t)?t:e[t]).apply(e,n)})},x.pluck=function(e,t){return x.map(e,function(e){return e[t]})},x.where=function(e,t){return x.isEmpty(t)?[]:x.filter(e,function(e){for(var n in t)if(t[n]!==e[n])return!1;return!0})},x.max=function(e,t,n){if(!t&&x.isArray(e)&&e[0]===+e[0]&&65535>e.length)return Math.max.apply(Math,e);if(!t&&x.isEmpty(e))return-1/0;var r={computed:-1/0};return S(e,function(e,i,o){var s=t?t.call(n,e,i,o):e;s>=r.computed&&(r={value:e,computed:s})}),r.value},x.min=function(e,t,n){if(!t&&x.isArray(e)&&e[0]===+e[0]&&65535>e.length)return Math.min.apply(Math,e);if(!t&&x.isEmpty(e))return 1/0;var r={computed:1/0};return S(e,function(e,i,o){var s=t?t.call(n,e,i,o):e;r.computed>s&&(r={value:e,computed:s})}),r.value},x.shuffle=function(e){var t,n=0,r=[];return S(e,function(e){t=x.random(n++),r[n-1]=r[t],r[t]=e}),r};var E=function(e){return x.isFunction(e)?e:function(t){return t[e]}};x.sortBy=function(e,t,n){var r=E(t);return x.pluck(x.map(e,function(e,t,i){return{value:e,index:t,criteria:r.call(n,e,t,i)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(r>n||void 0===r)return-1}return e.index<t.index?-1:1}),"value")};var T=function(e,t,n,r){var i={},o=E(t);return S(e,function(t,s){var a=o.call(n,t,s,e);r(i,a,t)}),i};x.groupBy=function(e,t,n){return T(e,t,n,function(e,t,n){(x.has(e,t)?e[t]:e[t]=[]).push(n)})},x.countBy=function(e,t,n){return T(e,t,n,function(e,t){x.has(e,t)||(e[t]=0),e[t]++})},x.sortedIndex=function(e,t,n,r){n=null==n?x.identity:E(n);for(var i=n.call(r,t),o=0,s=e.length;s>o;){var a=o+s>>>1;i>n.call(r,e[a])?o=a+1:s=a}return o},x.toArray=function(e){return e?e.length===+e.length?a.call(e):x.values(e):[]},x.size=function(e){return e.length===+e.length?e.length:x.keys(e).length},x.first=x.head=x.take=function(e,t,n){return null==t||n?e[0]:a.call(e,0,t)},x.initial=function(e,t,n){return a.call(e,0,e.length-(null==t||n?1:t))},x.last=function(e,t,n){return null==t||n?e[e.length-1]:a.call(e,Math.max(e.length-t,0))},x.rest=x.tail=x.drop=function(e,t,n){return a.call(e,null==t||n?1:t)},x.compact=function(e){return x.filter(e,function(e){return!!e})};var $=function(e,t,n){return S(e,function(e){x.isArray(e)?t?s.apply(n,e):$(e,t,n):n.push(e)}),n};x.flatten=function(e,t){return $(e,t,[])},x.without=function(e){return x.difference(e,a.call(arguments,1))},x.uniq=x.unique=function(e,t,n,r){var i=n?x.map(e,n,r):e,o=[],s=[];return S(i,function(n,r){(t?r&&s[s.length-1]===n:x.contains(s,n))||(s.push(n),o.push(e[r]))}),o},x.union=function(){return x.uniq(l.apply(r,arguments))},x.intersection=function(e){var t=a.call(arguments,1);return x.filter(x.uniq(e),function(e){return x.every(t,function(t){return x.indexOf(t,e)>=0})})},x.difference=function(e){var t=l.apply(r,a.call(arguments,1));return x.filter(e,function(e){return!x.contains(t,e)})},x.zip=function(){for(var e=a.call(arguments),t=x.max(x.pluck(e,"length")),n=Array(t),r=0;t>r;r++)n[r]=x.pluck(e,""+r);return n},x.object=function(e,t){for(var n={},r=0,i=e.length;i>r;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},x.indexOf=function(e,t,n){if(null==e)return-1;var r=0,i=e.length;if(n){if("number"!=typeof n)return r=x.sortedIndex(e,t),e[r]===t?r:-1;r=0>n?Math.max(0,i+n):n}if(y&&e.indexOf===y)return e.indexOf(t,n);for(;i>r;r++)if(e[r]===t)return r;return-1},x.lastIndexOf=function(e,t,n){if(null==e)return-1;var r=null!=n;if(w&&e.lastIndexOf===w)return r?e.lastIndexOf(t,n):e.lastIndexOf(t);for(var i=r?n:e.length;i--;)if(e[i]===t)return i;return-1},x.range=function(e,t,n){1>=arguments.length&&(t=e||0,e=0),n=arguments[2]||1;for(var r=Math.max(Math.ceil((t-e)/n),0),i=0,o=Array(r);r>i;)o[i++]=e,e+=n;return o};var A=function(){};x.bind=function(e,t){var n,r;if(e.bind===k&&k)return k.apply(e,a.call(arguments,1));if(!x.isFunction(e))throw new TypeError;return r=a.call(arguments,2),n=function(){if(!(this instanceof n))return e.apply(t,r.concat(a.call(arguments)));A.prototype=e.prototype;var i=new A,o=e.apply(i,r.concat(a.call(arguments)));return Object(o)===o?o:i}},x.bindAll=function(e){var t=a.call(arguments,1);return 0==t.length&&(t=x.functions(e)),S(t,function(t){e[t]=x.bind(e[t],e)}),e},x.memoize=function(e,t){var n={};return t||(t=x.identity),function(){var r=t.apply(this,arguments);return x.has(n,r)?n[r]:n[r]=e.apply(this,arguments)}},x.delay=function(e,t){var n=a.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},x.defer=function(e){return x.delay.apply(x,[e,1].concat(a.call(arguments,1)))},x.throttle=function(e,t){var n,r,i,o,s,a,l=x.debounce(function(){s=o=!1},t);return function(){n=this,r=arguments;var u=function(){i=null,s&&(a=e.apply(n,r)),l()};return i||(i=setTimeout(u,t)),o?s=!0:(o=!0,a=e.apply(n,r)),l(),a}},x.debounce=function(e,t,n){var r,i;return function(){var o=this,s=arguments,a=function(){r=null,n||(i=e.apply(o,s))},l=n&&!r;return clearTimeout(r),r=setTimeout(a,t),l&&(i=e.apply(o,s)),i}},x.once=function(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments),e=null,t)}},x.wrap=function(e,t){return function(){var n=[e];return s.apply(n,arguments),t.apply(this,n)}},x.compose=function(){var e=arguments;return function(){for(var t=arguments,n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},x.after=function(e,t){return 0>=e?t():function(){return 1>--e?t.apply(this,arguments):void 0}},x.keys=_||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)x.has(e,n)&&(t[t.length]=n);return t},x.values=function(e){var t=[];for(var n in e)x.has(e,n)&&t.push(e[n]);return t},x.pairs=function(e){var t=[];for(var n in e)x.has(e,n)&&t.push([n,e[n]]);return t},x.invert=function(e){var t={};for(var n in e)x.has(e,n)&&(t[e[n]]=n);return t},x.functions=x.methods=function(e){var t=[];for(var n in e)x.isFunction(e[n])&&t.push(n);return t.sort()},x.extend=function(e){return S(a.call(arguments,1),function(t){for(var n in t)e[n]=t[n]}),e},x.pick=function(e){var t={},n=l.apply(r,a.call(arguments,1));return S(n,function(n){n in e&&(t[n]=e[n])}),t},x.omit=function(e){var t={},n=l.apply(r,a.call(arguments,1));for(var i in e)x.contains(n,i)||(t[i]=e[i]);return t},x.defaults=function(e){return S(a.call(arguments,1),function(t){for(var n in t)null==e[n]&&(e[n]=t[n])}),e},x.clone=function(e){return x.isObject(e)?x.isArray(e)?e.slice():x.extend({},e):e},x.tap=function(e,t){return t(e),e};var P=function(e,t,n,r){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof x&&(e=e._wrapped),t instanceof x&&(t=t._wrapped);var i=u.call(e);if(i!=u.call(t))return!1;switch(i){case"[object String]":return e==t+"";case"[object Number]":return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if("object"!=typeof e||"object"!=typeof t)return!1;for(var o=n.length;o--;)if(n[o]==e)return r[o]==t;n.push(e),r.push(t);var s=0,a=!0;if("[object Array]"==i){if(s=e.length,a=s==t.length)for(;s--&&(a=P(e[s],t[s],n,r)););}else{var l=e.constructor,c=t.constructor;if(l!==c&&!(x.isFunction(l)&&l instanceof l&&x.isFunction(c)&&c instanceof c))return!1;for(var p in e)if(x.has(e,p)&&(s++,!(a=x.has(t,p)&&P(e[p],t[p],n,r))))break;if(a){for(p in t)if(x.has(t,p)&&!s--)break;a=!s}}return n.pop(),r.pop(),a};x.isEqual=function(e,t){return P(e,t,[],[])},x.isEmpty=function(e){if(null==e)return!0;if(x.isArray(e)||x.isString(e))return 0===e.length;for(var t in e)if(x.has(e,t))return!1;return!0},x.isElement=function(e){return!(!e||1!==e.nodeType)},x.isArray=b||function(e){return"[object Array]"==u.call(e)},x.isObject=function(e){return e===Object(e)},S(["Arguments","Function","String","Number","Date","RegExp"],function(e){x["is"+e]=function(t){return u.call(t)=="[object "+e+"]"}}),x.isArguments(arguments)||(x.isArguments=function(e){return!(!e||!x.has(e,"callee"))}),x.isFunction=function(e){return"function"==typeof e},x.isFinite=function(e){return x.isNumber(e)&&isFinite(e)},x.isNaN=function(e){return x.isNumber(e)&&e!=+e},x.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==u.call(e)},x.isNull=function(e){return null===e},x.isUndefined=function(e){return void 0===e},x.has=function(e,t){return c.call(e,t)},x.noConflict=function(){return e._=t,this},x.identity=function(e){return e},x.times=function(e,t,n){for(var r=0;e>r;r++)t.call(n,r)},x.random=function(e,t){return null==t&&(t=e,e=0),e+(0|Math.random()*(t-e+1))};var D={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};D.unescape=x.invert(D.escape);var I={escape:RegExp("["+x.keys(D.escape).join("")+"]","g"),unescape:RegExp("("+x.keys(D.unescape).join("|")+")","g")};x.each(["escape","unescape"],function(e){x[e]=function(t){return null==t?"":(""+t).replace(I[e],function(t){return D[e][t]})}}),x.result=function(e,t){if(null==e)return null;var n=e[t];return x.isFunction(n)?n.call(e):n},x.mixin=function(e){S(x.functions(e),function(t){var n=x[t]=e[t];x.prototype[t]=function(){var e=[this._wrapped];return s.apply(e,arguments),F.call(this,n.apply(x,e))}})};var L=0;x.uniqueId=function(e){var t=L++;return e?e+t:t},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var O=/(.)^/,R={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},j=/\\|'|\r|\n|\t|\u2028|\u2029/g;x.template=function(e,t,n){n=x.defaults({},n,x.templateSettings);var r=RegExp([(n.escape||O).source,(n.interpolate||O).source,(n.evaluate||O).source].join("|")+"|$","g"),i=0,o="__p+='";e.replace(r,function(t,n,r,s,a){o+=e.slice(i,a).replace(j,function(e){return"\\"+R[e]}),o+=n?"'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?"'+\n((__t=("+r+"))==null?'':__t)+\n'":s?"';\n"+s+"\n__p+='":"",i=a+t.length}),o+="';\n",n.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var s=Function(n.variable||"obj","_",o)}catch(a){throw a.source=o,a}if(t)return s(t,x);var l=function(e){return s.call(this,e,x)};return l.source="function("+(n.variable||"obj")+"){\n"+o+"}",l},x.chain=function(e){return x(e).chain()};var F=function(e){return this._chain?x(e).chain():e};x.mixin(x),S(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=r[e];x.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!=e&&"splice"!=e||0!==n.length||delete n[0],F.call(this,n)}}),S(["concat","join","slice"],function(e){var t=r[e];x.prototype[e]=function(){return F.call(this,t.apply(this._wrapped,arguments))}}),x.extend(x.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),function(){var e,t=this,n=t.Backbone,r=Array.prototype.slice,i=Array.prototype.splice;e="undefined"!=typeof exports?exports:t.Backbone={},e.VERSION="0.9.2";var o=t._;o||"undefined"==typeof require||(o=require("underscore"));var s=t.jQuery||t.Zepto||t.ender;e.setDomLibrary=function(e){s=e},e.noConflict=function(){return t.Backbone=n,this},e.emulateHTTP=!1,e.emulateJSON=!1;var a=/\s+/,l=e.Events={on:function(e,t,n){var r,i,o,s,l;if(!t)return this;for(e=e.split(a),r=this._callbacks||(this._callbacks={});i=e.shift();)l=r[i],o=l?l.tail:{},o.next=s={},o.context=n,o.callback=t,r[i]={tail:s,next:l?l.next:o};return this},off:function(e,t,n){var r,i,s,l,u,c;if(i=this._callbacks){if(!(e||t||n))return delete this._callbacks,this;for(e=e?e.split(a):o.keys(i);r=e.shift();)if(s=i[r],delete i[r],s&&(t||n))for(l=s.tail;(s=s.next)!==l;)u=s.callback,c=s.context,(t&&u!==t||n&&c!==n)&&this.on(r,u,c);return this}},trigger:function(e){var t,n,i,o,s,l,u;if(!(i=this._callbacks))return this;for(l=i.all,e=e.split(a),u=r.call(arguments,1);t=e.shift();){if(n=i[t])for(o=n.tail;(n=n.next)!==o;)n.callback.apply(n.context||this,u);if(n=l)for(o=n.tail,s=[t].concat(u);(n=n.next)!==o;)n.callback.apply(n.context||this,s)}return this}};l.bind=l.on,l.unbind=l.off;var u=e.Model=function(e,t){var n;e||(e={}),t&&t.parse&&(e=this.parse(e)),(n=E(this,"defaults"))&&(e=o.extend({},n,e)),t&&t.collection&&(this.collection=t.collection),this.attributes={},this._escapedAttributes={},this.cid=o.uniqueId("c"),this.changed={},this._silent={},this._pending={},this.set(e,{silent:!0}),this.changed={},this._silent={},this._pending={},this._previousAttributes=o.clone(this.attributes),this.initialize.apply(this,arguments)};o.extend(u.prototype,l,{changed:null,_silent:null,_pending:null,idAttribute:"id",initialize:function(){},toJSON:function(){return o.clone(this.attributes)},get:function(e){return this.attributes[e]},escape:function(e){var t;if(t=this._escapedAttributes[e])return t;var n=this.get(e);return this._escapedAttributes[e]=o.escape(null==n?"":""+n)},has:function(e){return null!=this.get(e)},set:function(e,t,n){var r,i,s;if(o.isObject(e)||null==e?(r=e,n=t):(r={},r[e]=t),n||(n={}),!r)return this;if(r instanceof u&&(r=r.attributes),n.unset)for(i in r)r[i]=void 0;if(!this._validate(r,n))return!1;this.idAttribute in r&&(this.id=r[this.idAttribute]);var a=n.changes={},l=this.attributes,c=this._escapedAttributes,p=this._previousAttributes||{};for(i in r)s=r[i],(!o.isEqual(l[i],s)||n.unset&&o.has(l,i))&&(delete c[i],(n.silent?this._silent:a)[i]=!0),n.unset?delete l[i]:l[i]=s,o.isEqual(p[i],s)&&o.has(l,i)==o.has(p,i)?(delete this.changed[i],delete this._pending[i]):(this.changed[i]=s,n.silent||(this._pending[i]=!0));return n.silent||this.change(n),this},unset:function(e,t){return(t||(t={})).unset=!0,this.set(e,null,t)},clear:function(e){return(e||(e={})).unset=!0,this.set(o.clone(this.attributes),e)},fetch:function(t){t=t?o.clone(t):{};var n=this,r=t.success;return t.success=function(e,i,o){return n.set(n.parse(e,o),t)?(r&&r(n,e),void 0):!1},t.error=e.wrapError(t.error,n,t),(this.sync||e.sync).call(this,"read",this,t)},save:function(t,n,r){var i,s;if(o.isObject(t)||null==t?(i=t,r=n):(i={},i[t]=n),r=r?o.clone(r):{},r.wait){if(!this._validate(i,r))return!1;s=o.clone(this.attributes)}var a=o.extend({},r,{silent:!0});if(i&&!this.set(i,r.wait?a:r))return!1;var l=this,u=r.success;r.success=function(e,t,n){var s=l.parse(e,n);return r.wait&&(delete r.wait,s=o.extend(i||{},s)),l.set(s,r)?(u?u(l,e):l.trigger("sync",l,e,r),void 0):!1},r.error=e.wrapError(r.error,l,r);var c=this.isNew()?"create":"update",p=(this.sync||e.sync).call(this,c,this,r);return r.wait&&this.set(s,a),p},destroy:function(t){t=t?o.clone(t):{};var n=this,r=t.success,i=function(){n.trigger("destroy",n,n.collection,t)};if(this.isNew())return i(),!1;t.success=function(e){t.wait&&i(),r?r(n,e):n.trigger("sync",n,e,t)},t.error=e.wrapError(t.error,n,t);var s=(this.sync||e.sync).call(this,"delete",this,t);return t.wait||i(),s},url:function(){var e=E(this,"urlRoot")||E(this.collection,"url")||T();return this.isNew()?e:e+("/"==e.charAt(e.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(e){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},change:function(e){e||(e={});var t=this._changing;this._changing=!0;for(var n in this._silent)this._pending[n]=!0;var r=o.extend({},e.changes,this._silent);this._silent={};for(var n in r)this.trigger("change:"+n,this,this.get(n),e);if(t)return this;for(;!o.isEmpty(this._pending);){this._pending={},this.trigger("change",this,e);for(var n in this.changed)this._pending[n]||this._silent[n]||delete this.changed[n];this._previousAttributes=o.clone(this.attributes)}return this._changing=!1,this},hasChanged:function(e){return arguments.length?o.has(this.changed,e):!o.isEmpty(this.changed)},changedAttributes:function(e){if(!e)return this.hasChanged()?o.clone(this.changed):!1;var t,n=!1,r=this._previousAttributes;for(var i in e)o.isEqual(r[i],t=e[i])||((n||(n={}))[i]=t);return n},previous:function(e){return arguments.length&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return o.clone(this._previousAttributes)},isValid:function(){return!this.validate(this.attributes)},_validate:function(e,t){if(t.silent||!this.validate)return!0;e=o.extend({},this.attributes,e);var n=this.validate(e,t);return n?(t&&t.error?t.error(this,n,t):this.trigger("error",this,n,t),!1):!0}});var c=e.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,{silent:!0,parse:t.parse})};o.extend(c.prototype,l,{model:u,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},add:function(e,t){var n,r,s,a,l,u,c={},p={},d=[];for(t||(t={}),e=o.isArray(e)?e.slice():[e],n=0,s=e.length;s>n;n++){if(!(a=e[n]=this._prepareModel(e[n],t)))throw Error("Can't add an invalid model to a collection");l=a.cid,u=a.id,c[l]||this._byCid[l]||null!=u&&(p[u]||this._byId[u])?d.push(n):c[l]=p[u]=a}for(n=d.length;n--;)e.splice(d[n],1);for(n=0,s=e.length;s>n;n++)(a=e[n]).on("all",this._onModelEvent,this),this._byCid[a.cid]=a,null!=a.id&&(this._byId[a.id]=a);if(this.length+=s,r=null!=t.at?t.at:this.models.length,i.apply(this.models,[r,0].concat(e)),this.comparator&&this.sort({silent:!0}),t.silent)return this;for(n=0,s=this.models.length;s>n;n++)c[(a=this.models[n]).cid]&&(t.index=n,a.trigger("add",a,this,t));return this},remove:function(e,t){var n,r,i,s;for(t||(t={}),e=o.isArray(e)?e.slice():[e],n=0,r=e.length;r>n;n++)s=this.getByCid(e[n])||this.get(e[n]),s&&(delete this._byId[s.id],delete this._byCid[s.cid],i=this.indexOf(s),this.models.splice(i,1),this.length--,t.silent||(t.index=i,s.trigger("remove",s,this,t)),this._removeReference(s));return this},push:function(e,t){return e=this._prepareModel(e,t),this.add(e,t),e},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,t){return e=this._prepareModel(e,t),this.add(e,o.extend({at:0},t)),e},shift:function(e){var t=this.at(0);return this.remove(t,e),t},get:function(e){return null==e?void 0:this._byId[null!=e.id?e.id:e]},getByCid:function(e){return e&&this._byCid[e.cid||e]},at:function(e){return this.models[e]},where:function(e){return o.isEmpty(e)?[]:this.filter(function(t){for(var n in e)if(e[n]!==t.get(n))return!1;return!0})},sort:function(e){if(e||(e={}),!this.comparator)throw Error("Cannot sort a set without a comparator");var t=o.bind(this.comparator,this);return 1==this.comparator.length?this.models=this.sortBy(t):this.models.sort(t),e.silent||this.trigger("reset",this,e),this},pluck:function(e){return o.map(this.models,function(t){return t.get(e)})},reset:function(e,t){e||(e=[]),t||(t={});for(var n=0,r=this.models.length;r>n;n++)this._removeReference(this.models[n]);return this._reset(),this.add(e,o.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),this},fetch:function(t){t=t?o.clone(t):{},void 0===t.parse&&(t.parse=!0);var n=this,r=t.success;return t.success=function(e,i,o){n[t.add?"add":"reset"](n.parse(e,o),t),r&&r(n,e)},t.error=e.wrapError(t.error,n,t),(this.sync||e.sync).call(this,"read",this,t)},create:function(e,t){var n=this;if(t=t?o.clone(t):{},e=this._prepareModel(e,t),!e)return!1;t.wait||n.add(e,t);var r=t.success;return t.success=function(i,o){t.wait&&n.add(i,t),r?r(i,o):i.trigger("sync",e,o,t)},e.save(null,t),e},parse:function(e){return e},chain:function(){return o(this.models).chain()},_reset:function(){this.length=0,this.models=[],this._byId={},this._byCid={}},_prepareModel:function(e,t){if(t||(t={}),e instanceof u)e.collection||(e.collection=this);else{var n=e;t.collection=this,e=new this.model(n,t),e._validate(e.attributes,t)||(e=!1)}return e},_removeReference:function(e){this==e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,r){("add"!=e&&"remove"!=e||n==this)&&("destroy"==e&&this.remove(t,r),t&&e==="change:"+t.idAttribute&&(delete this._byId[t.previous(t.idAttribute)],this._byId[t.id]=t),this.trigger.apply(this,arguments))}});var p=["forEach","each","map","reduce","reduceRight","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","sortBy","sortedIndex","toArray","size","first","initial","rest","last","without","indexOf","shuffle","lastIndexOf","isEmpty","groupBy"];o.each(p,function(e){c.prototype[e]=function(){return o[e].apply(o,[this.models].concat(o.toArray(arguments)))}});var d=e.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},h=/:\w+/g,f=/\*\w+/g,m=/[-[\]{}()+?.,\\^$|#\s]/g;o.extend(d.prototype,l,{initialize:function(){},route:function(t,n,r){return e.history||(e.history=new g),o.isRegExp(t)||(t=this._routeToRegExp(t)),r||(r=this[n]),e.history.route(t,o.bind(function(i){var o=this._extractParameters(t,i);r&&r.apply(this,o),this.trigger.apply(this,["route:"+n].concat(o)),e.history.trigger("route",this,n,o)},this)),this},navigate:function(t,n){e.history.navigate(t,n)},_bindRoutes:function(){if(this.routes){var e=[];for(var t in this.routes)e.unshift([t,this.routes[t]]);for(var n=0,r=e.length;r>n;n++)this.route(e[n][0],e[n][1],this[e[n][1]])}},_routeToRegExp:function(e){return e=e.replace(m,"\\$&").replace(h,"([^/]+)").replace(f,"(.*?)"),RegExp("^"+e+"$")},_extractParameters:function(e,t){return e.exec(t).slice(1)}});var g=e.History=function(){this.handlers=[],o.bindAll(this,"checkUrl")},v=/^[#\/]/,y=/msie [\w.]+/;g.started=!1,o.extend(g.prototype,l,{interval:50,getHash:function(e){var t=e?e.location:window.location,n=t.href.match(/#(.*)$/);return n?n[1]:""},getFragment:function(e,t){if(null==e)if(this._hasPushState||t){e=window.location.pathname;var n=window.location.search;n&&(e+=n)}else e=this.getHash();return e.indexOf(this.options.root)||(e=e.substr(this.options.root.length)),e.replace(v,"")},start:function(e){if(g.started)throw Error("Backbone.history has already been started");g.started=!0,this.options=o.extend({},{root:"/"},this.options,e),this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&window.history&&window.history.pushState);var t=this.getFragment(),n=document.documentMode,r=y.exec(navigator.userAgent.toLowerCase())&&(!n||7>=n);r&&(this.iframe=s('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(t)),this._hasPushState?s(window).bind("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!r?s(window).bind("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=t;var i=window.location,a=i.pathname==this.options.root;return this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!a?(this.fragment=this.getFragment(null,!0),window.location.replace(this.options.root+"#"+this.fragment),!0):(this._wantsPushState&&this._hasPushState&&a&&i.hash&&(this.fragment=this.getHash().replace(v,""),window.history.replaceState({},document.title,i.protocol+"//"+i.host+this.options.root+this.fragment)),this.options.silent?void 0:this.loadUrl())},stop:function(){s(window).unbind("popstate",this.checkUrl).unbind("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),g.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(){var e=this.getFragment();return e==this.fragment&&this.iframe&&(e=this.getFragment(this.getHash(this.iframe))),e==this.fragment?!1:(this.iframe&&this.navigate(e),this.loadUrl()||this.loadUrl(this.getHash()),void 0)},loadUrl:function(e){var t=this.fragment=this.getFragment(e),n=o.any(this.handlers,function(e){return e.route.test(t)?(e.callback(t),!0):void 0});return n},navigate:function(e,t){if(!g.started)return!1;t&&t!==!0||(t={trigger:t});var n=(e||"").replace(v,"");this.fragment!=n&&(this._hasPushState?(0!=n.indexOf(this.options.root)&&(n=this.options.root+n),this.fragment=n,window.history[t.replace?"replaceState":"pushState"]({},document.title,n)):this._wantsHashChange?(this.fragment=n,this._updateHash(window.location,n,t.replace),this.iframe&&n!=this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,n,t.replace))):window.location.assign(this.options.root+e),t.trigger&&this.loadUrl(e))},_updateHash:function(e,t,n){n?e.replace((""+e).replace(/(javascript:|#).*$/,"")+"#"+t):e.hash=t}});var w=e.View=function(e){this.cid=o.uniqueId("view"),this._configure(e||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},b=/^(\S+)\s*(.*)$/,_=["model","collection","el","id","attributes","className","tagName"];o.extend(w.prototype,l,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this},make:function(e,t,n){var r=document.createElement(e);return t&&s(r).attr(t),n&&s(r).html(n),r},setElement:function(e,t){return this.$el&&this.undelegateEvents(),this.$el=e instanceof s?e:s(e),this.el=this.$el[0],t!==!1&&this.delegateEvents(),this},delegateEvents:function(e){if(e||(e=E(this,"events"))){this.undelegateEvents();for(var t in e){var n=e[t];if(o.isFunction(n)||(n=this[e[t]]),!n)throw Error('Method "'+e[t]+'" does not exist');var r=t.match(b),i=r[1],s=r[2];n=o.bind(n,this),i+=".delegateEvents"+this.cid,""===s?this.$el.bind(i,n):this.$el.delegate(s,i,n)}}},undelegateEvents:function(){this.$el.unbind(".delegateEvents"+this.cid)},_configure:function(e){this.options&&(e=o.extend({},this.options,e));for(var t=0,n=_.length;n>t;t++){var r=_[t];e[r]&&(this[r]=e[r])}this.options=e},_ensureElement:function(){if(this.el)this.setElement(this.el,!1);else{var e=E(this,"attributes")||{};this.id&&(e.id=this.id),this.className&&(e["class"]=this.className),this.setElement(this.make(this.tagName,e),!1)}}});var k=function(e,t){var n=C(this,e,t);return n.extend=this.extend,n};u.extend=c.extend=d.extend=w.extend=k;var x={create:"POST",update:"PUT","delete":"DELETE",read:"GET"};e.sync=function(t,n,r){var i=x[t];r||(r={});var a={type:i,dataType:"json"};return r.url||(a.url=E(n,"url")||T()),r.data||!n||"create"!=t&&"update"!=t||(a.contentType="application/json",a.data=JSON.stringify(n.toJSON())),e.emulateJSON&&(a.contentType="application/x-www-form-urlencoded",a.data=a.data?{model:a.data}:{}),e.emulateHTTP&&("PUT"===i||"DELETE"===i)&&(e.emulateJSON&&(a.data._method=i),a.type="POST",a.beforeSend=function(e){e.setRequestHeader("X-HTTP-Method-Override",i)}),"GET"===a.type||e.emulateJSON||(a.processData=!1),s.ajax(o.extend(a,r))},e.wrapError=function(e,t,n){return function(r,i){i=r===t?i:r,e?e(t,i,n):t.trigger("error",t,i,n)}};var S=function(){},C=function(e,t,n){var r;return r=t&&t.hasOwnProperty("constructor")?t.constructor:function(){e.apply(this,arguments)},o.extend(r,e),S.prototype=e.prototype,r.prototype=new S,t&&o.extend(r.prototype,t),n&&o.extend(r,n),r.prototype.constructor=r,r.__super__=e.prototype,r},E=function(e,t){return e&&e[t]?o.isFunction(e[t])?e[t]():e[t]:null},T=function(){throw Error('A "url" property or function must be specified')}}.call(this),function(){"use strict";var e={}.hasOwnProperty,t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t},n=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1},r=function(e,t){return function(){return e.apply(t,arguments)}},i=[].slice;require.define({jquery:function(e,t,n){return n.exports=$},underscore:function(e,t,n){return n.exports=_},backbone:function(e,t,n){return n.exports=Backbone}}),require.define({"chaplin/application":function(e,t,n){var r,i,o,s,a,l,u;return i=t("backbone"),u=t("chaplin/mediator"),o=t("chaplin/dispatcher"),a=t("chaplin/views/layout"),l=t("chaplin/lib/router"),s=t("chaplin/lib/event_broker"),n.exports=r=function(){function e(){}return e.extend=i.Model.extend,_(e.prototype).extend(s),e.prototype.title="",e.prototype.dispatcher=null,e.prototype.layout=null,e.prototype.router=null,e.prototype.initialize=function(){},e.prototype.initDispatcher=function(e){return this.dispatcher=new o(e)},e.prototype.initLayout=function(e){var t;return null==e&&(e={}),null==(t=e.title)&&(e.title=this.title),this.layout=new a(e)},e.prototype.initRouter=function(e,t){return this.router=new l(t),"function"==typeof e&&e(this.router.match),this.router.startHistory()},e.prototype.disposed=!1,e.prototype.dispose=function(){var e,t,n,r;if(!this.disposed){for(t=["dispatcher","layout","router"],n=0,r=t.length;r>n;n++)e=t[n],null!=this[e]&&(this[e].dispose(),delete this[e]);
return this.disposed=!0,"function"==typeof Object.freeze?Object.freeze(this):void 0}},e}()}}),require.define({"chaplin/mediator":function(e,t,n){var r,i,o,s,a;return a=t("underscore"),r=t("backbone"),o=t("chaplin/lib/support"),s=t("chaplin/lib/utils"),i={},i.subscribe=r.Events.on,i.unsubscribe=r.Events.off,i.publish=r.Events.trigger,i.on=i.subscribe,i._callbacks=null,s.readonly(i,"subscribe","unsubscribe","publish","on"),i.seal=function(){return o.propertyDescriptors&&Object.seal?Object.seal(i):void 0},s.readonly(i,"seal"),n.exports=i}}),require.define({"chaplin/dispatcher":function(e,t,n){var r,i,o,s,a;return a=t("underscore"),r=t("backbone"),s=t("chaplin/lib/utils"),o=t("chaplin/lib/event_broker"),n.exports=i=function(){function e(){this.initialize.apply(this,arguments)}return e.extend=r.Model.extend,a(e.prototype).extend(o),e.prototype.previousControllerName=null,e.prototype.currentControllerName=null,e.prototype.currentController=null,e.prototype.currentAction=null,e.prototype.currentParams=null,e.prototype.url=null,e.prototype.initialize=function(e){return null==e&&(e={}),this.settings=a(e).defaults({controllerPath:"controllers/",controllerSuffix:"_controller"}),this.subscribeEvent("matchRoute",this.matchRoute),this.subscribeEvent("!startupController",this.startupController)},e.prototype.matchRoute=function(e,t,n){return this.startupController(e.controller,e.action,t,n)},e.prototype.startupController=function(e,t,n,r){var i,o;return null==t&&(t="index"),null==n&&(n={}),null==r&&(r={}),r.changeURL!==!1&&(r.changeURL=!0),r.forceStartup!==!0&&(r.forceStartup=!1),(o=!r.forceStartup&&this.currentControllerName===e&&this.currentAction===t&&(!this.currentParams||a(n).isEqual(this.currentParams)))?void 0:(i=a(this.controllerLoaded).bind(this,e,t,n,r),this.loadController(e,i))},e.prototype.loadController=function(e,n){var r,i;return r=s.underscorize(e)+this.settings.controllerSuffix,i=this.settings.controllerPath+r,("undefined"!=typeof define&&null!==define?define.amd:void 0)?t([i],n):n(t(i))},e.prototype.controllerLoaded=function(e,t,n,r,i){var o,s,a;return a=this.currentControllerName||null,s=this.currentController||null,s&&(this.publishEvent("beforeControllerDispose",s),s.dispose(n,e)),o=new i(n,a),o[t](n,a),o.redirected?void 0:(this.previousControllerName=a,this.currentControllerName=e,this.currentController=o,this.currentAction=t,this.currentParams=n,this.adjustURL(o,n,r),this.publishEvent("startupController",{previousControllerName:this.previousControllerName,controller:this.currentController,controllerName:this.currentControllerName,params:this.currentParams}))},e.prototype.adjustURL=function(e,t,n){var r;if("string"==typeof n.path)r=n.path;else if("function"==typeof e.historyURL)r=e.historyURL(t);else{if("string"!=typeof e.historyURL)throw Error("Dispatcher#adjustURL: controller for "+(""+this.currentControllerName+" does not provide a historyURL"));r=e.historyURL}return n.changeURL&&this.publishEvent("!router:changeURL",r,n),this.url=r},e.prototype.disposed=!1,e.prototype.dispose=function(){return this.disposed?void 0:(this.unsubscribeAllEvents(),this.disposed=!0,"function"==typeof Object.freeze?Object.freeze(this):void 0)},e}()}}),require.define({"chaplin/controllers/controller":function(t,n,r){var i,o,s,a;return a=n("underscore"),i=n("backbone"),s=n("chaplin/lib/event_broker"),r.exports=o=function(){function t(){this.initialize.apply(this,arguments)}return t.extend=i.Model.extend,a(t.prototype).extend(s),t.prototype.view=null,t.prototype.currentId=null,t.prototype.redirected=!1,t.prototype.initialize=function(){},t.prototype.redirectTo=function(e,t,n,r){return this.redirected=!0,1===arguments.length?this.publishEvent("!router:route",e,{},function(e){if(!e)throw Error("Controller#redirectTo: no route matched")}):this.publishEvent("!startupController",e,t,n,r)},t.prototype.disposed=!1,t.prototype.dispose=function(){var t,n,r,i,o;if(!this.disposed){for(n in this)e.call(this,n)&&(t=this[n],t&&"function"==typeof t.dispose&&(t.dispose(),delete this[n]));for(this.unsubscribeAllEvents(),r=["currentId","redirected"],i=0,o=r.length;o>i;i++)n=r[i],delete this[n];return this.disposed=!0,"function"==typeof Object.freeze?Object.freeze(this):void 0}},t}()}}),require.define({"chaplin/models/collection":function(e,n,r){var i,o,s,a,l;return l=n("underscore"),i=n("backbone"),s=n("chaplin/lib/event_broker"),a=n("chaplin/models/model"),r.exports=o=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),l(n.prototype).extend(s),n.prototype.model=a,n.prototype.initDeferred=function(){return l(this).extend($.Deferred())},n.prototype.serialize=function(){var e,t,n,r,i;for(r=this.models,i=[],t=0,n=r.length;n>t;t++)e=r[t],e instanceof a?i.push(e.serialize()):i.push(e.toJSON());return i},n.prototype.addAtomic=function(e,t){var n,r;if(null==t&&(t={}),e.length){for(t.silent=!0,n="number"==typeof t.at?"pop":"shift";r=e[n]();)this.add(r,t);return this.trigger("reset")}},n.prototype.update=function(e,t){var n,r,i,o,s,a,u,c,p;if(null==t&&(t={}),n=this.pluck("id").join(),i=l(e).pluck("id"),s=i.join(),s!==n)for(c=l(i),r=this.models.length;r--;)o=this.models[r],c.include(o.id)||this.remove(o);if(s!==n||t.deep)for(r=u=0,p=e.length;p>u;r=++u)o=e[r],a=this.get(o.id),a?t.deep&&a.set(o):this.add(o,{at:r})},n.prototype.disposed=!1,n.prototype.dispose=function(){var e,t,n,r;if(!this.disposed){for(this.trigger("dispose",this),this.reset([],{silent:!0}),this.unsubscribeAllEvents(),this.off(),"function"==typeof this.reject&&this.reject(),t=["model","models","_byId","_byCid","_callbacks"],n=0,r=t.length;r>n;n++)e=t[n],delete this[e];return this.disposed=!0,"function"==typeof Object.freeze?Object.freeze(this):void 0}},n}(i.Collection)}}),require.define({"chaplin/models/model":function(e,r,i){var o,s,a,l,u;return u=r("underscore"),o=r("backbone"),l=r("chaplin/lib/utils"),s=r("chaplin/lib/event_broker"),i.exports=a=function(e){function r(){return r.__super__.constructor.apply(this,arguments)}var i,a;return t(r,e),u(r.prototype).extend(s),r.prototype.initDeferred=function(){return u(this).extend($.Deferred())},r.prototype.getAttributes=function(){return this.attributes},i=function(e,t,n){var r,i,s,u,c,p,d,h;r=l.beget(t),n?n.push(e):n=[e];for(i in t)if(c=t[i],c instanceof o.Model)r[i]=a(c,e,n);else if(c instanceof o.Collection){for(u=[],h=c.models,p=0,d=h.length;d>p;p++)s=h[p],u.push(a(s,e,n));r[i]=u}return n.pop(),r},a=function(e,t,r){var o;return e===t||n.call(r,e)>=0?null:(o="function"==typeof e.getAttributes?e.getAttributes():e.attributes,i(e,o,r))},r.prototype.serialize=function(){return i(this,this.getAttributes())},r.prototype.disposed=!1,r.prototype.dispose=function(){var e,t,n,r;if(!this.disposed){for(this.trigger("dispose",this),this.unsubscribeAllEvents(),this.off(),"function"==typeof this.reject&&this.reject(),t=["collection","attributes","changed","_escapedAttributes","_previousAttributes","_silent","_pending","_callbacks"],n=0,r=t.length;r>n;n++)e=t[n],delete this[e];return this.disposed=!0,"function"==typeof Object.freeze?Object.freeze(this):void 0}},r}(o.Model)}}),require.define({"chaplin/views/layout":function(e,t,n){var i,o,s,a,l,u;return i=t("jquery"),u=t("underscore"),o=t("backbone"),l=t("chaplin/lib/utils"),s=t("chaplin/lib/event_broker"),n.exports=a=function(){function e(){this.openLink=r(this.openLink,this),this.initialize.apply(this,arguments)}return e.extend=o.Model.extend,u(e.prototype).extend(s),e.prototype.title="",e.prototype.events={},e.prototype.el=document,e.prototype.$el=i(document),e.prototype.cid="chaplin-layout",e.prototype.initialize=function(e){return null==e&&(e={}),this.title=e.title,this.settings=u(e).defaults({titleTemplate:u.template("<%= subtitle %> â€“ <%= title %>"),openExternalToBlank:!1,routeLinks:"a, .go-to",skipRouting:".noscript",scrollTo:[0,0]}),this.subscribeEvent("beforeControllerDispose",this.hideOldView),this.subscribeEvent("startupController",this.showNewView),this.subscribeEvent("startupController",this.adjustTitle),this.settings.routeLinks&&this.startLinkRouting(),this.delegateEvents()},e.prototype.delegateEvents=o.View.prototype.delegateEvents,e.prototype.undelegateEvents=o.View.prototype.undelegateEvents,e.prototype.hideOldView=function(e){var t,n;return t=this.settings.scrollTo,t&&window.scrollTo(t[0],t[1]),n=e.view,n?n.$el.css("display","none"):void 0},e.prototype.showNewView=function(e){var t;return t=e.controller.view,t?t.$el.css({display:"block",opacity:1,visibility:"visible"}):void 0},e.prototype.adjustTitle=function(e){var t,n;return n=this.title||"",t=e.controller.title||"",n=this.settings.titleTemplate({title:n,subtitle:t}),setTimeout(function(){return document.title=n},50)},e.prototype.startLinkRouting=function(){return this.settings.routeLinks?i(document).on("click",this.settings.routeLinks,this.openLink):void 0},e.prototype.stopLinkRouting=function(){return this.settings.routeLinks?i(document).off("click",this.settings.routeLinks):void 0},e.prototype.openLink=function(e){var t,n,r,o,s,a,u,c,p,d;if(!(l.modifierKeyPressed(e)||(n=e.currentTarget,t=i(n),s="A"===n.nodeName,r=t.attr("href")||t.data("href")||null,null===r||void 0===r||""===r||"#"===r.charAt(0)||s&&("_blank"===t.attr("target")||"external"===t.attr("rel")||"http:"!==(p=n.protocol)&&"https:"!==p&&"file:"!==p)||(u=this.settings.skipRouting,c=typeof u,"function"===c&&!u(r,n)||"string"===c&&t.is(u))))){if(o=!s||(d=n.hostname)===location.hostname||""===d,!o)return this.settings.openExternalToBlank&&(e.preventDefault(),window.open(n.href)),void 0;s?(a=n.pathname+n.search,"/"!==a.charAt(0)&&(a="/"+a)):a=r,this.publishEvent("!router:route",a,{},function(t){t?e.preventDefault():s||(location.href=a)})}},e.prototype.disposed=!1,e.prototype.dispose=function(){return this.disposed?void 0:(this.stopLinkRouting(),this.unsubscribeAllEvents(),this.undelegateEvents(),delete this.title,this.disposed=!0,"function"==typeof Object.freeze?Object.freeze(this):void 0)},e}()}}),require.define({"chaplin/views/view":function(e,n,r){var i,o,s,a,l,u,c,p;return i=n("jquery"),p=n("underscore"),o=n("backbone"),c=n("chaplin/lib/utils"),a=n("chaplin/lib/event_broker"),l=n("chaplin/models/model"),s=n("chaplin/models/collection"),r.exports=u=function(e){function n(e){this.initialize!==n.prototype.initialize&&c.wrapMethod(this,"initialize"),this.render!==n.prototype.render?c.wrapMethod(this,"render"):this.render=p(this.render).bind(this),e&&p(this).extend(p.pick(e,["autoRender","container","containerMethod"])),n.__super__.constructor.apply(this,arguments)}return t(n,e),p(n.prototype).extend(a),n.prototype.autoRender=!1,n.prototype.container=null,n.prototype.containerMethod="append",n.prototype.subviews=null,n.prototype.subviewsByName=null,n.prototype.initialize=function(){return this.subviews=[],this.subviewsByName={},(this.model||this.collection)&&this.modelBind("dispose",this.dispose),this.initializeIsWrapped?void 0:this.afterInitialize()},n.prototype.afterInitialize=function(){return this.autoRender?this.render():void 0},n.prototype.delegate=function(e,t,n){var r,i,o,s,a;if("string"!=typeof e)throw new TypeError("View#delegate: first argument must be a string");if(2===arguments.length)o=t;else{if(3!==arguments.length)throw new TypeError("View#delegate: only two or three arguments are allowed");if(a=t,"string"!=typeof a)throw new TypeError("View#delegate: second argument must be a string");o=n}if("function"!=typeof o)throw new TypeError("View#delegate: handler argument must be function");return s=function(){var t,n,i,o;for(i=e.split(" "),o=[],t=0,n=i.length;n>t;t++)r=i[t],o.push(""+r+".delegate"+this.cid);return o}.call(this),i=s.join(" "),o=p(o).bind(this),a?this.$el.on(i,a,o):this.$el.on(i,o),o},n.prototype.undelegate=function(){return this.$el.unbind(".delegate"+this.cid)},n.prototype.modelBind=function(e,t){var n;if("string"!=typeof e)throw new TypeError("View#modelBind: type must be a string");if("function"!=typeof t)throw new TypeError("View#modelBind: handler argument must be function");if(n=this.model||this.collection,!n)throw new TypeError("View#modelBind: no model or collection set");return n.off(e,t,this),n.on(e,t,this)},n.prototype.modelUnbind=function(e,t){var n;if("string"!=typeof e)throw new TypeError("View#modelUnbind: type argument must be a string");if("function"!=typeof t)throw new TypeError("View#modelUnbind: handler argument must be a function");return(n=this.model||this.collection)?n.off(e,t):void 0},n.prototype.modelUnbindAll=function(){var e;return(e=this.model||this.collection)?e.off(null,null,this):void 0},n.prototype.pass=function(e,t){var n=this;return this.modelBind("change:"+e,function(e,r){var i;return i=n.$(t),i.is("input, textarea, select, button")?i.val(r):i.text(r)})},n.prototype.subview=function(e,t){return e&&t?(this.removeSubview(e),this.subviews.push(t),this.subviewsByName[e]=t,t):e?this.subviewsByName[e]:void 0},n.prototype.removeSubview=function(e){var t,n,r,i,o,s;if(e){if("string"==typeof e)n=e,o=this.subviewsByName[n];else{o=e,s=this.subviewsByName;for(r in s)if(i=s[r],o===i){n=r;break}}if(n&&o&&o.dispose)return o.dispose(),t=p(this.subviews).indexOf(o),t>-1&&this.subviews.splice(t,1),delete this.subviewsByName[n]}},n.prototype.getTemplateData=function(){var e,t,n,r,i,o,a;if(this.model)r=this.model instanceof l?this.model.serialize():c.beget(this.model.attributes);else if(this.collection){if(this.collection instanceof s)e=this.collection.serialize();else for(e=[],a=this.collection.models,i=0,o=a.length;o>i;i++)t=a[i],e.push(c.beget(t.attributes));r={items:e}}else r={};return n=this.model||this.collection,n&&("function"!=typeof n.state||"resolved"in r||(r.resolved="resolved"===n.state()),"function"!=typeof n.isSynced||"synced"in r||(r.synced=n.isSynced())),r},n.prototype.getTemplateFunction=function(){throw Error("View#getTemplateFunction must be overridden")},n.prototype.render=function(){var e,t;return this.disposed?!1:(t=this.getTemplateFunction(),"function"==typeof t&&(e=t(this.getTemplateData()),this.$el.empty().append(e)),this.renderIsWrapped||this.afterRender(),this)},n.prototype.afterRender=function(){return this.container?(i(this.container)[this.containerMethod](this.el),this.trigger("addedToDOM")):void 0},n.prototype.disposed=!1,n.prototype.dispose=function(){var e,t,n,r,i,o,s,a;if(!this.disposed){if(null==this.subviews)throw Error("Your `initialize` method must include a super call to        Chaplin `initialize`");for(a=this.subviews,r=0,o=a.length;o>r;r++)n=a[r],n.dispose();for(this.unsubscribeAllEvents(),this.modelUnbindAll(),this.off(),this.$el.remove(),t=["el","$el","options","model","collection","subviews","subviewsByName","_callbacks"],i=0,s=t.length;s>i;i++)e=t[i],delete this[e];return this.disposed=!0,"function"==typeof Object.freeze?Object.freeze(this):void 0}},n}(o.View)}}),require.define({"chaplin/views/collection_view":function(n,i,o){var s,a,l,u;return s=i("jquery"),u=i("underscore"),l=i("chaplin/views/view"),o.exports=a=function(n){function i(e){this.renderAllItems=r(this.renderAllItems,this),this.showHideFallback=r(this.showHideFallback,this),this.itemsResetted=r(this.itemsResetted,this),this.itemRemoved=r(this.itemRemoved,this),this.itemAdded=r(this.itemAdded,this),e&&u(this).extend(u.pick(e,["renderItems","itemView"])),i.__super__.constructor.apply(this,arguments)}return t(i,n),i.prototype.itemView=null,i.prototype.autoRender=!0,i.prototype.renderItems=!0,i.prototype.animationDuration=500,i.prototype.useCssAnimation=!1,i.prototype.listSelector=null,i.prototype.$list=null,i.prototype.fallbackSelector=null,i.prototype.$fallback=null,i.prototype.loadingSelector=null,i.prototype.$loading=null,i.prototype.itemSelector=null,i.prototype.filterer=null,i.prototype.filterCallback=function(e,t){var n;return n=t?"":"none",e.$el.stop(!0,!0).css("display",n)},i.prototype.visibleItems=null,i.prototype.initialize=function(e){return null==e&&(e={}),i.__super__.initialize.apply(this,arguments),this.visibleItems=[],this.addCollectionListeners(),null!=e.filterer?this.filter(e.filterer):void 0},i.prototype.addCollectionListeners=function(){return this.modelBind("add",this.itemAdded),this.modelBind("remove",this.itemRemoved),this.modelBind("reset",this.itemsResetted)},i.prototype.getTemplateFunction=function(){},i.prototype.render=function(){return i.__super__.render.apply(this,arguments),this.$list=this.listSelector?this.$(this.listSelector):this.$el,this.initFallback(),this.initLoadingIndicator(),this.renderItems?this.renderAllItems():void 0},i.prototype.itemAdded=function(e,t,n){return null==n&&(n={}),this.renderAndInsertItem(e,n.index)},i.prototype.itemRemoved=function(e){return this.removeViewForItem(e)},i.prototype.itemsResetted=function(){return this.renderAllItems()},i.prototype.initFallback=function(){return this.fallbackSelector?(this.$fallback=this.$(this.fallbackSelector),this.on("visibilityChange",this.showHideFallback),this.modelBind("syncStateChange",this.showHideFallback),this.showHideFallback()):void 0},i.prototype.showHideFallback=function(){var e;return e=0===this.visibleItems.length&&("function"==typeof this.collection.isSynced?this.collection.isSynced():!0),this.$fallback.css("display",e?"block":"none")},i.prototype.initLoadingIndicator=function(){return this.loadingSelector&&"function"==typeof this.collection.isSyncing?(this.$loading=this.$(this.loadingSelector),this.modelBind("syncStateChange",this.showHideLoadingIndicator),this.showHideLoadingIndicator()):void 0},i.prototype.showHideLoadingIndicator=function(){var e;return e=0===this.collection.length&&this.collection.isSyncing(),this.$loading.css("display",e?"block":"none")},i.prototype.getItemViews=function(){var e,t,n,r;e={},r=this.subviewsByName;for(t in r)n=r[t],"itemView:"===t.slice(0,9)&&(e[t.slice(9)]=n);return e},i.prototype.filter=function(e,t){var n,r,i,o,s,a,l;if(this.filterer=e,t&&(this.filterCallback=t),null==t&&(t=this.filterCallback),!u(this.getItemViews()).isEmpty())for(l=this.collection.models,r=s=0,a=l.length;a>s;r=++s){if(i=l[r],n="function"==typeof e?e(i,r):!0,o=this.subview("itemView:"+i.cid),!o)throw Error("CollectionView#filter: "+("no view found for "+i.cid));this.filterCallback(o,n),this.updateVisibleItems(o.model,n,!1)}return this.trigger("visibilityChange",this.visibleItems)},i.prototype.renderAllItems=function(){var t,n,r,i,o,s,a,l,u,c,p;for(i=this.collection.models,this.visibleItems=[],o={},a=0,u=i.length;u>a;a++)r=i[a],s=this.subview("itemView:"+r.cid),s&&(o[r.cid]=s);p=this.getItemViews();for(t in p)e.call(p,t)&&(s=p[t],t in o||this.removeSubview("itemView:"+t));for(n=l=0,c=i.length;c>l;n=++l)r=i[n],s=this.subview("itemView:"+r.cid),s?this.insertView(r,s,n,!1):this.renderAndInsertItem(r,n);return i.length?void 0:this.trigger("visibilityChange",this.visibleItems)},i.prototype.renderAndInsertItem=function(e,t){var n;return n=this.renderItem(e),this.insertView(e,n,t)},i.prototype.renderItem=function(e){var t;return t=this.subview("itemView:"+e.cid),t||(t=this.getView(e),this.subview("itemView:"+e.cid,t)),t.render(),t},i.prototype.getView=function(e){if(this.itemView)return new this.itemView({model:e});throw Error("The CollectionView#itemView property must be defined or the getView() must be overridden.")},i.prototype.insertView=function(e,t,n,r){var i,o,s,a,l,u,c,p,d;null==n&&(n=null),null==r&&(r=!0),p="number"==typeof n?n:this.collection.indexOf(e),u="function"==typeof this.filterer?this.filterer(e,p):!0,d=t.el,a=t.$el,u?r&&(this.useCssAnimation?a.addClass("animated-item-view"):a.css("opacity",0)):this.filterCallback(t,u),i=this.$list,l=this.itemSelector?i.children(this.itemSelector):i.children(),l.get(p)!==d&&(c=l.length,0===c||p===c?i.append(d):0===p?(o=l.eq(p),o.before(d)):(s=l.eq(p-1),s.after(d))),t.trigger("addedToDOM"),this.updateVisibleItems(e,u),r&&u&&(this.useCssAnimation?setTimeout(function(){return a.addClass("animated-item-view-end")},0):a.animate({opacity:1},this.animationDuration))},i.prototype.removeViewForItem=function(e){return this.updateVisibleItems(e,!1),this.removeSubview("itemView:"+e.cid)},i.prototype.updateVisibleItems=function(e,t,n){var r,i,o;return null==n&&(n=!0),i=!1,o=u(this.visibleItems).indexOf(e),r=o>-1,t&&!r?(this.visibleItems.push(e),i=!0):!t&&r&&(this.visibleItems.splice(o,1),i=!0),i&&n&&this.trigger("visibilityChange",this.visibleItems),i},i.prototype.dispose=function(){var e,t,n,r;if(!this.disposed){for(t=["$list","$fallback","$loading","visibleItems"],n=0,r=t.length;r>n;n++)e=t[n],delete this[e];return i.__super__.dispose.apply(this,arguments)}},i}(l)}}),require.define({"chaplin/lib/route":function(t,n,i){var o,s,a,l,u;return u=n("underscore"),o=n("backbone"),a=n("chaplin/lib/event_broker"),s=n("chaplin/controllers/controller"),i.exports=l=function(){function t(e,t,n){var i;if(this.options=null!=n?n:{},this.handler=r(this.handler,this),this.addParamName=r(this.addParamName,this),this.pattern=e,null!=this.options.name&&(this.name=this.options.name),i=t.split("#"),this.controller=i[0],this.action=i[1],u(s.prototype).has(this.action))throw Error("Route: You should not use existing controller properties as action names");this.createRegExp()}var n,i,l,c;return t.extend=o.Model.extend,u(t.prototype).extend(a),c=["path","changeURL"],n=/[-[\]{}()+?.,\\^$|#\s]/g,i="&",l="=",t.prototype.reverse=function(e){var t,n,r;if(n=this.pattern,u.isRegExp(n))return!1;for(t in e)r=e[t],n=n.replace(RegExp(":"+t,"g"),r),n=n.replace(RegExp("\\*"+t,"g"),r);return this.test(n)?n:!1},t.prototype.createRegExp=function(){var e;return u.isRegExp(this.pattern)?(this.regExp=this.pattern,u.isArray(this.options.names)&&(this.paramNames=this.options.names),void 0):(e=this.pattern.replace(n,"\\$&").replace(/(?::|\*)(\w+)/g,this.addParamName),this.regExp=RegExp("^"+e+"(?=\\?|$)"))},t.prototype.addParamName=function(e,t){var n;if(null==(n=this.paramNames)&&(this.paramNames=[]),u(c).include(t))throw Error("Route#addParamName: parameter name "+t+" is reserved");return this.paramNames.push(t),":"===e.charAt(0)?"([^/?]+)":"(.*?)"},t.prototype.test=function(t){var n,r,i,o,s;if(i=this.regExp.test(t),!i)return!1;if(r=this.options.constraints){s=this.extractParams(t);for(o in r)if(e.call(r,o)&&(n=r[o],!n.test(s[o])))return!1}return!0},t.prototype.handler=function(e,t){var n;return null==t&&(t={}),n=this.buildParams(e),t.path=e,this.publishEvent("matchRoute",this,n,t)},t.prototype.buildParams=function(e){return u.extend({},this.extractQueryParams(e),this.extractParams(e),this.options.params)},t.prototype.extractParams=function(e){var t,n,r,i,o,s,a,l;for(o={},r=this.regExp.exec(e),l=r.slice(1),t=s=0,a=l.length;a>s;t=++s)n=l[t],i=this.paramNames?this.paramNames[t]:t,o[i]=n;return o},t.prototype.extractQueryParams=function(e){var t,n,r,o,s,a,u,c,p,d,h,f;if(a={},c=/\?(.+?)(?=#|$)/,r=c.exec(e),!r)return a;for(u=r[1],s=u.split(i),d=0,h=s.length;h>d;d++)o=s[d],o.length&&(f=o.split(l),n=f[0],p=f[1],n.length&&(n=decodeURIComponent(n),p=decodeURIComponent(p),t=a[n],t?t.push?t.push(p):a[n]=[t,p]:a[n]=p));return a},t}()}}),require.define({"chaplin/lib/router":function(e,t,n){var i,o,s,a,l,u;return u=t("underscore"),i=t("backbone"),l=t("chaplin/mediator"),o=t("chaplin/lib/event_broker"),s=t("chaplin/lib/route"),n.exports=a=function(){function e(e){this.options=null!=e?e:{},this.route=r(this.route,this),this.match=r(this.match,this),u(this.options).defaults({pushState:!0}),this.subscribeEvent("!router:route",this.routeHandler),this.subscribeEvent("!router:reverse",this.reverseHandler),this.subscribeEvent("!router:changeURL",this.changeURLHandler),this.createHistory()}return e.extend=i.Model.extend,u(e.prototype).extend(o),e.prototype.createHistory=function(){return i.history||(i.history=new i.History)},e.prototype.startHistory=function(){return i.history.start(this.options)},e.prototype.stopHistory=function(){return i.History.started?i.history.stop():void 0},e.prototype.match=function(e,t,n){var r;return null==n&&(n={}),r=new s(e,t,n),i.history.handlers.push({route:r,callback:r.handler}),r},e.prototype.route=function(e,t){var n,r,o,s;for(null==t&&(t={}),u(t).defaults({changeURL:!0}),e=e.replace(/^(\/#|\/)/,""),s=i.history.handlers,r=0,o=s.length;o>r;r++)if(n=s[r],n.route.test(e))return n.callback(e,t),!0;return!1},e.prototype.reverseHandler=function(e,t,n){return n(this.reverse(e,t))},e.prototype.reverse=function(e,t){var n,r,o,s,a;for(a=i.history.handlers,o=0,s=a.length;s>o;o++)if(n=a[o],n.route.name===e&&(r=n.route.reverse(t),r!==!1))return r;return!1},e.prototype.routeHandler=function(e,t,n){var r;return 2===arguments.length&&"function"==typeof t&&(n=t,t={}),r=this.route(e,t),"function"==typeof n?n(r):void 0},e.prototype.changeURL=function(e,t){var n;return null==t&&(t={}),n={trigger:t.trigger===!0,replace:t.replace===!0},i.history.navigate(e,n)},e.prototype.changeURLHandler=function(e,t){return this.changeURL(e,t)},e.prototype.disposed=!1,e.prototype.dispose=function(){return this.disposed?void 0:(this.stopHistory(),delete i.history,this.unsubscribeAllEvents(),this.disposed=!0,"function"==typeof Object.freeze?Object.freeze(this):void 0)},e}()}}),require.define({"chaplin/lib/delayer":function(e,t,n){var r;return r={setTimeout:function(e,t,n){var r,i,o,s=this;return null==(o=this.timeouts)&&(this.timeouts={}),this.clearTimeout(e),i=function(){return delete s.timeouts[e],n()},r=setTimeout(i,t),this.timeouts[e]=r,r},clearTimeout:function(e){this.timeouts&&null!=this.timeouts[e]&&(clearTimeout(this.timeouts[e]),delete this.timeouts[e])},clearAllTimeouts:function(){var e,t,n;if(this.timeouts){n=this.timeouts;for(t in n)e=n[t],this.clearTimeout(t)}},setInterval:function(e,t,n){var r,i;return this.clearInterval(e),null==(i=this.intervals)&&(this.intervals={}),r=setInterval(n,t),this.intervals[e]=r,r},clearInterval:function(e){this.intervals&&this.intervals[e]&&(clearInterval(this.intervals[e]),delete this.intervals[e])},clearAllIntervals:function(){var e,t,n;if(this.intervals){n=this.intervals;for(t in n)e=n[t],this.clearInterval(t)}},clearDelayed:function(){this.clearAllTimeouts(),this.clearAllIntervals()}},"function"==typeof Object.freeze&&Object.freeze(r),n.exports=r}}),require.define({"chaplin/lib/event_broker":function(e,t,n){var r,o;return o=t("chaplin/mediator"),r={subscribeEvent:function(e,t){if("string"!=typeof e)throw new TypeError("EventBroker#subscribeEvent: type argument must be a string");if("function"!=typeof t)throw new TypeError("EventBroker#subscribeEvent: handler argument must be a function");return o.unsubscribe(e,t,this),o.subscribe(e,t,this)},unsubscribeEvent:function(e,t){if("string"!=typeof e)throw new TypeError("EventBroker#unsubscribeEvent: type argument must be a string");if("function"!=typeof t)throw new TypeError("EventBroker#unsubscribeEvent: handler argument must be a function");return o.unsubscribe(e,t)},unsubscribeAllEvents:function(){return o.unsubscribe(null,null,this)},publishEvent:function(){var e,t;if(t=arguments[0],e=arguments.length>=2?i.call(arguments,1):[],"string"!=typeof t)throw new TypeError("EventBroker#publishEvent: type argument must be a string");return o.publish.apply(o,[t].concat(i.call(e)))}},"function"==typeof Object.freeze&&Object.freeze(r),n.exports=r}}),require.define({"chaplin/lib/support":function(e,t,n){var r;return r={propertyDescriptors:function(){var e;if("function"!=typeof Object.defineProperty||"function"!=typeof Object.defineProperties)return!1;try{return e={},Object.defineProperty(e,"foo",{value:"bar"}),"bar"===e.foo}catch(t){return!1}}()},n.exports=r}}),require.define({"chaplin/lib/sync_machine":function(e,t,n){var r,i,o,s,a,l,u,c,p,d;for(a="unsynced",o="syncing",i="synced",r="syncStateChange",s={_syncState:a,_previousSyncState:null,syncState:function(){return this._syncState},isUnsynced:function(){return this._syncState===a},isSynced:function(){return this._syncState===i},isSyncing:function(){return this._syncState===o},unsync:function(){var e;((e=this._syncState)===o||e===i)&&(this._previousSync=this._syncState,this._syncState=a,this.trigger(this._syncState,this,this._syncState),this.trigger(r,this,this._syncState))},beginSync:function(){var e;((e=this._syncState)===a||e===i)&&(this._previousSync=this._syncState,this._syncState=o,this.trigger(this._syncState,this,this._syncState),this.trigger(r,this,this._syncState))},finishSync:function(){this._syncState===o&&(this._previousSync=this._syncState,this._syncState=i,this.trigger(this._syncState,this,this._syncState),this.trigger(r,this,this._syncState))},abortSync:function(){this._syncState===o&&(this._syncState=this._previousSync,this._previousSync=this._syncState,this.trigger(this._syncState,this,this._syncState),this.trigger(r,this,this._syncState))}},d=[a,o,i,r],u=function(e){return s[e]=function(t,n){return null==n&&(n=this),this.on(e,t,n),this._syncState===e?t.call(n):void 0}},c=0,p=d.length;p>c;c++)l=d[c],u(l);return"function"==typeof Object.freeze&&Object.freeze(s),n.exports=s}}),require.define({"chaplin/lib/utils":function(e,t,n){var r,o;return r=t("chaplin/lib/support"),o={beget:function(){var e;return"function"==typeof Object.create?Object.create:(e=function(){},function(t){return e.prototype=t,new e})}(),readonly:function(){var e;return r.propertyDescriptors?(e={writable:!1,enumerable:!0,configurable:!1},function(){var t,n,r,o,s;for(t=arguments[0],r=arguments.length>=2?i.call(arguments,1):[],o=0,s=r.length;s>o;o++)n=r[o],e.value=t[n],Object.defineProperty(t,n,e);return!0}):function(){return!1}}(),wrapMethod:function(e,t){var n;return n=e[t],e[""+t+"IsWrapped"]=!0,e[t]=function(){return e.disposed?!1:(n.apply(e,arguments),e["after"+o.upcase(t)].apply(e,arguments),e)}},upcase:function(e){return e.charAt(0).toUpperCase()+e.substring(1)},underscorize:function(e){return e.replace(/[A-Z]/g,function(e,t){return(0!==t?"_":"")+e.toLowerCase()})},modifierKeyPressed:function(e){return e.shiftKey||e.altKey||e.ctrlKey||e.metaKey}},"function"==typeof Object.seal&&Object.seal(o),n.exports=o}}),require.define({chaplin:function(e,t,n){var r,i,o,s,a,l,u,c,p,d,h,f,m,g,v,y;return r=t("chaplin/application"),g=t("chaplin/mediator"),l=t("chaplin/dispatcher"),s=t("chaplin/controllers/controller"),i=t("chaplin/models/collection"),p=t("chaplin/models/model"),c=t("chaplin/views/layout"),m=t("chaplin/views/view"),o=t("chaplin/views/collection_view"),d=t("chaplin/lib/route"),h=t("chaplin/lib/router"),a=t("chaplin/lib/delayer"),u=t("chaplin/lib/event_broker"),v=t("chaplin/lib/support"),f=t("chaplin/lib/sync_machine"),y=t("chaplin/lib/utils"),n.exports={Application:r,mediator:g,Dispatcher:l,Controller:s,Collection:i,Model:p,Layout:c,View:m,CollectionView:o,Route:d,Router:h,Delayer:a,EventBroker:u,support:v,SyncMachine:f,utils:y}}})}.call(this);var Handlebars={};Handlebars.VERSION="1.0.beta.6",Handlebars.helpers={},Handlebars.partials={},Handlebars.registerHelper=function(e,t,n){n&&(t.not=n),this.helpers[e]=t},Handlebars.registerPartial=function(e,t){this.partials[e]=t},Handlebars.registerHelper("helperMissing",function(e){if(2===arguments.length)return void 0;throw Error("Could not find property '"+e+"'")});var toString=Object.prototype.toString,functionType="[object Function]";Handlebars.registerHelper("blockHelperMissing",function(e,t){var n=t.inverse||function(){},r=t.fn,i="",o=toString.call(e);if(o===functionType&&(e=e.call(this)),e===!0)return r(this);if(e===!1||null==e)return n(this);if("[object Array]"===o){if(e.length>0)for(var s=0,a=e.length;a>s;s++)i+=r(e[s]);else i=n(this);return i}return r(e)}),Handlebars.registerHelper("each",function(e,t){var n=t.fn,r=t.inverse,i="";if(e&&e.length>0)for(var o=0,s=e.length;s>o;o++)i+=n(e[o]);else i=r(this);return i}),Handlebars.registerHelper("if",function(e,t){var n=toString.call(e);return n===functionType&&(e=e.call(this)),!e||Handlebars.Utils.isEmpty(e)?t.inverse(this):t.fn(this)}),Handlebars.registerHelper("unless",function(e,t){var n=t.fn,r=t.inverse;return t.fn=r,t.inverse=n,Handlebars.helpers["if"].call(this,e,t)}),Handlebars.registerHelper("with",function(e,t){return t.fn(e)}),Handlebars.registerHelper("log",function(e){Handlebars.log(e)
}),Handlebars.Exception=function(){var e=Error.prototype.constructor.apply(this,arguments);for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);this.message=e.message},Handlebars.Exception.prototype=Error(),Handlebars.SafeString=function(e){this.string=e},Handlebars.SafeString.prototype.toString=function(){return""+this.string},Handlebars.SaferString=function(e){return-1!=e.indexOf("<script")||-1!=e.indexOf("script>")||-1!=e.indexOf("<iframe")||-1!=e.indexOf("iframe>")||-1!=e.indexOf("javascript:")?!1:void 0},function(){var e={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},t=/&(?!\w+;)|[<>"'`]/g,n=/[&<>"'`]/,r=function(t){return e[t]||"&amp;"};Handlebars.Utils={escapeExpression:function(e){return e instanceof Handlebars.SafeString?""+e:null==e||e===!1?"":n.test(e)?e.replace(t,r):e},isEmpty:function(e){return e===void 0?!0:null===e?!0:e===!1?!0:"[object Array]"===Object.prototype.toString.call(e)&&0===e.length?!0:!1}}}(),Handlebars.VM={template:function(e){var t={escapeExpression:Handlebars.Utils.escapeExpression,invokePartial:Handlebars.VM.invokePartial,programs:[],program:function(e,t,n){var r=this.programs[e];return n?Handlebars.VM.program(t,n):r?r:r=this.programs[e]=Handlebars.VM.program(t)},programWithDepth:Handlebars.VM.programWithDepth,noop:Handlebars.VM.noop};return function(n,r){return r=r||{},e.call(t,Handlebars,n,r.helpers,r.partials,r.data)}},programWithDepth:function(e,t){var n=Array.prototype.slice.call(arguments,2);return function(r,i){return i=i||{},e.apply(this,[r,i.data||t].concat(n))}},program:function(e,t){return function(n,r){return r=r||{},e(n,r.data||t)}},noop:function(){return""},invokePartial:function(e,t,n,r,i,o){if(options={helpers:r,partials:i,data:o},void 0===e)throw new Handlebars.Exception("The partial "+t+" could not be found");if(e instanceof Function)return e(n,options);if(Handlebars.compile)return i[t]=Handlebars.compile(e),i[t](n,options);throw new Handlebars.Exception("The partial "+t+" could not be compiled when running in runtime-only mode")}},Handlebars.template=Handlebars.VM.template,!function(e){e(function(){"use strict";e.support.transition=function(){var e=function(){var e,t=document.createElement("bootstrap"),n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(e in n)if(void 0!==t.style[e])return n[e]}();return e&&{end:e}}()})}(window.jQuery),!function(e){"use strict";var t='[data-dismiss="alert"]',n=function(n){e(n).on("click",t,this.close)};n.prototype.close=function(t){function n(){r.trigger("closed").remove()}var r,i=e(this),o=i.attr("data-target");o||(o=i.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,"")),r=e(o),t&&t.preventDefault(),r.length||(r=i.hasClass("alert")?i:i.parent()),r.trigger(t=e.Event("close")),t.isDefaultPrevented()||(r.removeClass("in"),e.support.transition&&r.hasClass("fade")?r.on(e.support.transition.end,n):n())},e.fn.alert=function(t){return this.each(function(){var r=e(this),i=r.data("alert");i||r.data("alert",i=new n(this)),"string"==typeof t&&i[t].call(r)})},e.fn.alert.Constructor=n,e(function(){e("body").on("click.alert.data-api",t,n.prototype.close)})}(window.jQuery),!function(e){"use strict";var t=function(t){this.element=e(t)};t.prototype={constructor:t,show:function(){var t,n,r,i=this.element,o=i.closest("ul:not(.dropdown-menu)"),s=i.attr("data-target");s||(s=i.attr("href"),s=s&&s.replace(/.*(?=#[^\s]*$)/,"")),i.parent("li").hasClass("active")||(t=o.find(".active a").last()[0],r=e.Event("show",{relatedTarget:t}),i.trigger(r),r.isDefaultPrevented()||(n=e(s),this.activate(i.parent("li"),o),this.activate(n,n.parent(),function(){i.trigger({type:"shown",relatedTarget:t})})))},activate:function(t,n,r){function i(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("active"),s?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),r&&r()}var o=n.find("> .active"),s=r&&e.support.transition&&o.hasClass("fade");s?o.one(e.support.transition.end,i):i(),o.removeClass("in")}},e.fn.tab=function(n){return this.each(function(){var r=e(this),i=r.data("tab");i||r.data("tab",i=new t(this)),"string"==typeof n&&i[n]()})},e.fn.tab.Constructor=t,e(function(){e("body").on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(t){t.preventDefault(),e(this).tab("show")})})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.button.defaults,n)};t.prototype.setState=function(e){var t="disabled",n=this.$element,r=n.data(),i=n.is("input")?"val":"html";e+="Text",r.resetText||n.data("resetText",n[i]()),n[i](r[e]||this.options[e]),setTimeout(function(){"loadingText"==e?n.addClass(t).attr(t,t):n.removeClass(t).removeAttr(t)},0)},t.prototype.toggle=function(){var e=this.$element.parent('[data-toggle="buttons-radio"]');e&&e.find(".active").removeClass("active"),this.$element.toggleClass("active")},e.fn.button=function(n){return this.each(function(){var r=e(this),i=r.data("button"),o="object"==typeof n&&n;i||r.data("button",i=new t(this,o)),"toggle"==n?i.toggle():n&&i.setState(n)})},e.fn.button.defaults={loadingText:"loading..."},e.fn.button.Constructor=t,e(function(){e("body").on("click.button.data-api","[data-toggle^=button]",function(t){var n=e(t.target);n.hasClass("btn")||(n=n.closest(".btn")),n.button("toggle")})})}(window.jQuery),!function(e){"use strict";function t(){e(r).each(function(){n(e(this)).removeClass("open")})}function n(t){var n,r=t.attr("data-target");return r||(r=t.attr("href"),r=r&&/#/.test(r)&&r.replace(/.*(?=#[^\s]*$)/,"")),n=r&&e(r),n&&n.length||(n=t.parent()),n}var r="[data-toggle=dropdown]",i=function(t){var n=e(t).on("click.dropdown.data-api",this.toggle);e("html").on("click.dropdown.data-api",function(){n.parent().removeClass("open")})};i.prototype={constructor:i,toggle:function(){var r,i,o=e(this);if(!o.is(".disabled, :disabled"))return r=n(o),i=r.hasClass("open"),t(),i||r.toggleClass("open"),o.focus(),!1},keydown:function(t){var i,o,s,a,l;if(/(38|40|27)/.test(t.keyCode)&&(i=e(this),t.preventDefault(),t.stopPropagation(),!i.is(".disabled, :disabled"))){if(s=n(i),a=s.hasClass("open"),!a||a&&27==t.keyCode)return 27==t.which&&s.find(r).focus(),i.click();o=e("[role=menu] li:not(.divider):visible a",s),o.length&&(l=o.index(o.filter(":focus")),38==t.keyCode&&l>0&&l--,40==t.keyCode&&o.length-1>l&&l++,~l||(l=0),o.eq(l).focus())}}};var o=e.fn.dropdown;e.fn.dropdown=function(t){return this.each(function(){var n=e(this),r=n.data("dropdown");r||n.data("dropdown",r=new i(this)),"string"==typeof t&&r[t].call(n)})},e.fn.dropdown.Constructor=i,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=o,this},e(document).on("click.dropdown.data-api",t).on("click.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.dropdown-menu",function(e){e.stopPropagation()}).on("click.dropdown.data-api",r,i.prototype.toggle).on("keydown.dropdown.data-api",r+", [role=menu]",i.prototype.keydown)}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.options=n,this.$element=e(t).delegate('[data-dismiss="modal"]',"click.dismiss.modal",e.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};t.prototype={constructor:t,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var t=this,n=e.Event("show");this.$element.trigger(n),this.isShown||n.isDefaultPrevented()||(e("body").addClass("modal-open"),this.isShown=!0,this.escape(),this.backdrop(function(){var n=e.support.transition&&t.$element.hasClass("fade");t.$element.parent().length||t.$element.appendTo(document.body),t.$element.show(),n&&t.$element[0].offsetWidth,t.$element.addClass("in").attr("aria-hidden",!1).focus(),t.enforceFocus(),n?t.$element.one(e.support.transition.end,function(){t.$element.trigger("shown")}):t.$element.trigger("shown")}))},hide:function(t){t&&t.preventDefault(),t=e.Event("hide"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,e("body").removeClass("modal-open"),this.escape(),e(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),e.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal())},enforceFocus:function(){var t=this;e(document).on("focusin.modal",function(e){t.$element[0]===e.target||t.$element.has(e.target).length||t.$element.focus()})},escape:function(){var e=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(t){27==t.which&&e.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var t=this,n=setTimeout(function(){t.$element.off(e.support.transition.end),t.hideModal()},500);this.$element.one(e.support.transition.end,function(){clearTimeout(n),t.hideModal()})},hideModal:function(){this.$element.hide().trigger("hidden"),this.backdrop()},removeBackdrop:function(){this.$backdrop.remove(),this.$backdrop=null},backdrop:function(t){var n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var r=e.support.transition&&n;this.$backdrop=e('<div class="modal-backdrop '+n+'" />').appendTo(document.body),"static"!=this.options.backdrop&&this.$backdrop.click(e.proxy(this.hide,this)),r&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),r?this.$backdrop.one(e.support.transition.end,t):t()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(e.support.transition.end,e.proxy(this.removeBackdrop,this)):this.removeBackdrop()):t&&t()}},e.fn.modal=function(n){return this.each(function(){var r=e(this),i=r.data("modal"),o=e.extend({},e.fn.modal.defaults,r.data(),"object"==typeof n&&n);i||r.data("modal",i=new t(this,o)),"string"==typeof n?i[n]():o.show&&i.show()})},e.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},e.fn.modal.Constructor=t,e(function(){e("body").on("click.modal.data-api",'[data-toggle="modal"]',function(t){var n=e(this),r=n.attr("href"),i=e(n.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),o=i.data("modal")?"toggle":e.extend({remote:!/#/.test(r)&&r},i.data(),n.data());t.preventDefault(),i.modal(o).one("hide",function(){n.focus()})})})}(window.jQuery),function(){var e={}.hasOwnProperty,t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};RegExp.escape=function(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")},this.AutocompleteItem=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.key=function(){return"name"},n.prototype.matches=function(e){return e.test(this.completion())},n.prototype.completion=function(){var e;return e=this.get(this.key()),/\s/.test(e)&&(e='"'+e+'"'),this._prefixToken()+e+this._suffixToken()},n.prototype.groupBy=function(){return this.get("kind")||"results"},n.prototype._prefixToken=function(){var e;return(null!=(e=this.get("token"))?e.slice(0,1):void 0)||""},n.prototype._suffixToken=function(){var e;return(null!=(e=this.get("token"))?e.slice(1,2):void 0)||""},n}(Backbone.Model),this.AutocompleteItems=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.model=AutocompleteItem,n.prototype.comparator=function(e){return e.get(e.key()).toLowerCase()},n.prototype.matches=function(e){return this.filter(function(t){return t.matches(e)})},n}(Backbone.Collection),this.AutocompleteItemView=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.tagName="li",n.prototype.className="autocomplete-item",n.prototype.initialize=function(){return this.model.on("change",this.render)},n.prototype.template=function(e){return'<a href="#">'+e.markup+"</a>"},n.prototype.render=function(e){var t,n;return n=this.model.toJSON(),n.markup=e?n[this.model.key()].replace(e,"<em>$1</em>"):n[this.model.key()],this.$el.html(this.template(n)),t=encodeURIComponent(this.model.completion()),this.$el.attr("data-autocomplete-completion",t),this},n}(Backbone.View),this.AutocompleteItemsView=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.itemView=AutocompleteItemView,n.prototype.events={"submit form":"_handleSubmit","keyup input[type=text]":"_handleKeypress","focus input[type=text]":"showResults","blur input[type=text]":"hideResults","mouseenter [data-autocomplete-completion]":"_selectResult","mousedown [data-autocomplete-completion]":"submit"},n.prototype.initialize=function(){var e=this;return this.options.itemView&&(this.itemView=this.options.itemView),this._$field=this.$el.find("input[type=text]"),this._$form=this.$el.find("form"),this._$resultsList=this.$el.find(".autocomplete-results"),this.on("autocomplete:clear",function(){return e._$field.val("")}),this.on("autocomplete:replace",function(t){var n;return n=e._fragments(t),e._$field.val(n.join(" ").trim()+" ")}),this.on("autocomplete:append",function(t){var n;return n=e._fragments(e._$field.val()).concat(t),e._$field.val(e._fragments(n.join(" ")).join(" ").trim()+" ")})},n.prototype.render=function(){return this},n.prototype._handleSubmit=function(e,t){var n=this;return null==t&&(t=!1),t?!0:(_.delay(function(){return n._$form.trigger("submit",!0)},100),!1)},n.prototype.submit=function(){return this._finishAutocomplete(),this.hideResults(),this._$field.blur(),this._handleSubmit(!0)},n.prototype.showResults=function(){return this._showAutocompleteResults()},n.prototype.hideResults=function(){return this._$resultsList.hide().empty()},n.prototype.selectResult=function(e){return null==e&&(e=0),this._$resultsList.children().removeClass("selected").filter(":eq("+e+")").addClass("selected")},n.prototype._selectResult=function(e){var t;return t=$(e.target),t=t.is("li")?t:t.closest("li"),this.selectResult(this._$resultsList.children().index(t))},n.prototype._handleKeypress=function(e){var t=this;return this._debouncedHandleKeypress||(this._debouncedHandleKeypress=_.debounce(function(e){var n,r,i,o,s;switch(e.which){case 38:case 40:return i=t._$resultsList.children(),r=i.filter(":first-child"),o=i.filter(":last-child"),s=i.filter(".selected"),n=38===e.which?s.is(":first-child")?o:s.prevAll("[data-autocomplete-completion]").filter(":eq(0)"):s.is(":last-child")?r:s.nextAll("[data-autocomplete-completion]").filter(":eq(0)"),t.selectResult(i.index(n));case 27:return t.hideResults();case 13:return t.submit();default:return t._showAutocompleteResults()}})),this._debouncedHandleKeypress(e)},n.prototype._showAutocompleteResults=function(){var e,t,n,r=this;return this.hideResults(),(e=_.last(this._fragments(this._$field.val()))).length>0?(n=RegExp("("+RegExp.escape(e)+")","i"),this._$resultsList.append('<li class="autocomplete-item-all" data-autocomplete-completion="#"><a href="#">See all results</a></li>'),t=_.groupBy(this.collection.matches(n),function(e){return e.groupBy()}),_.each(t,function(e,t){return r._$resultsList.append('<li class="autocomplete-item-group"><h5>'+t+"</h5></li>"),_.each(e,function(e,t){var i,o;return o=new r.itemView({model:e}),i=o.render(n).$el.addClass("index-"+t),r._$resultsList.append(i)})}),this._$resultsList.show(),this.selectResult()):void 0},n.prototype._finishAutocomplete=function(){var e,t;return e=this._$resultsList.children(".selected").attr("data-autocomplete-completion"),e&&(e=decodeURIComponent(e)),_.isEmpty(e)||"#"===e?void 0:(t=this._fragments(this._$field.val()).slice(0,-1).concat(e),this._$field.val(this._fragments(t.join(" ")).join(" ").trim()+" "))},n.prototype._fragments=function(e){return _.uniq(e.trim().split(/\s+/))},n}(Backbone.View)}.call(this),function(e){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=function(){for(var e=[],t="A".charCodeAt(0),n="a".charCodeAt(0),r="0".charCodeAt(0),i=0;26>i;i++)e.push(t+i);for(var i=0;26>i;i++)e.push(n+i);for(var i=0;10>i;i++)e.push(r+i);return e.push("+".charCodeAt(0)),e.push("/".charCodeAt(0)),e}(),r=function(e){for(var t={},n=0,r=e.length;r>n;n++)t[e.charAt(n)]=n;return t}(t),i=function(e){for(var t=[],n=0,r=e.length;r>n;n++)t[n]=e.charCodeAt(n);return t},o=function(e){for(var t=0;e.length%3;)e.push(0),t++;for(var r=[],i=0,o=e.length;o>i;i+=3){var s=e[i],a=e[i+1],l=e[i+2];if(s>=256||a>=256||l>=256)throw"unsupported character found";var u=s<<16|a<<8|l;r.push(n[u>>>18],n[63&u>>>12],n[63&u>>>6],n[63&u])}for(;t--;)r[r.length-t-1]="=".charCodeAt(0);return v(r)},s=function(e){e=e.replace(/[^A-Za-z0-9+\/]+/g,"");for(var t=[],n=e.length%4,i=0,o=e.length;o>i;i+=4){var s=(r[e.charAt(i)]||0)<<18|(r[e.charAt(i+1)]||0)<<12|(r[e.charAt(i+2)]||0)<<6|(r[e.charAt(i+3)]||0);t.push(s>>16,255&s>>8,255&s)}return t.length-=[0,0,2,1][n],t},a=function(e){for(var t=[],n=0,r=e.length;r>n;n++){var i=e[n];128>i?t.push(i):2048>i?t.push(192|i>>>6,128|63&i):t.push(224|15&i>>>12,128|63&i>>>6,128|63&i)}return t},l=function(e){for(var t=[],n=0,r=e.length;r>n;n++){var i=e[n];if(128>i)t.push(i);else{var o=e[++n];if(224>i)t.push((31&i)<<6|63&o);else{var s=e[++n];t.push((15&i)<<12|(63&o)<<6|63&s)}}}return t},u=function(e){return o(i(e))},c=function(e){return v(s(e))},p=function(e){return l(i(e))},d=function(e){return v(l(e))},h=function(e){return v(l(i(e)))},f=function(e){return a(i(e))},m=function(e){return v(a(e))},g=function(e){return v(a(i(e)))},v=function(e){var t,n=[];for(t=0;e.length>t;t+=65536)n.push(String.fromCharCode.apply(String,e.slice(t,t+65536)));return n.join("")};if(e.btoa)var y=e.btoa,w=function(e){return y(g(e))};else var y=u,w=function(e){return o(f(e))};if(e.atob)var b=e.atob,_=function(e){return h(b(e))};else var b=c,_=function(e){return d(s(e))};e.Base64={convertUTF8ArrayToBase64:o,convertByteArrayToBase64:o,convertBase64ToUTF8Array:s,convertBase64ToByteArray:s,convertUTF16ArrayToUTF8Array:a,convertUTF16ArrayToByteArray:a,convertUTF8ArrayToUTF16Array:l,convertByteArrayToUTF16Array:l,convertUTF8StringToBase64:u,convertBase64ToUTF8String:c,convertUTF8StringToUTF16Array:p,convertUTF8ArrayToUTF16String:d,convertByteArrayToUTF16String:d,convertUTF8StringToUTF16String:h,convertUTF16StringToUTF8Array:f,convertUTF16StringToByteArray:f,convertUTF16ArrayToUTF8String:m,convertUTF16StringToUTF8String:g,convertUTF16StringToBase64:w,convertBase64ToUTF16String:_,fromBase64:c,toBase64:u,atob:b,btoa:y,utob:g,btou:h,encode:w,encodeURI:function(e){return w(e).replace(/[+\/]/g,function(e){return"+"==e?"-":"_"}).replace(/=+$/,"")},decode:function(e){return _(e.replace(/[-_]/g,function(e){return"-"==e?"+":"/"}))}}}(this),function(e,t,n){function r(e){return e}function i(e){return decodeURIComponent(e.replace(o," "))}var o=/\+/g,s=e.cookie=function(o,a,l){if(a!==n){if(l=e.extend({},s.defaults,l),null===a&&(l.expires=-1),"number"==typeof l.expires){var u=l.expires,c=l.expires=new Date;c.setDate(c.getDate()+u)}return a=s.json?JSON.stringify(a):a+"",t.cookie=[encodeURIComponent(o),"=",s.raw?a:encodeURIComponent(a),l.expires?"; expires="+l.expires.toUTCString():"",l.path?"; path="+l.path:"",l.domain?"; domain="+l.domain:"",l.secure?"; secure":""].join("")}for(var p=s.raw?r:i,d=t.cookie.split("; "),h=0,f=d.length;f>h;h++){var m=d[h].split("=");if(p(m.shift())===o){var g=p(m.join("="));return s.json?JSON.parse(g):g}}return null};s.defaults={},e.removeCookie=function(t,n){return null!==e.cookie(t)?(e.cookie(t,null,n),!0):!1}}(jQuery,document),function(e){"use strict";function t(){if(e.fn.ajaxSubmit.debug){var t="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(t):window.opera&&window.opera.postError&&window.opera.postError(t)}}var n={};n.fileapi=void 0!==e("<input type='file'/>").get(0).files,n.formdata=void 0!==window.FormData,e.fn.ajaxSubmit=function(r){function i(t){var n,r,i=e.param(t).split("&"),o=i.length,s={};for(n=0;o>n;n++)i[n]=i[n].replace(/\+/g," "),r=i[n].split("="),s[decodeURIComponent(r[0])]=decodeURIComponent(r[1]);return s}function o(t){for(var n=new FormData,o=0;t.length>o;o++)n.append(t[o].name,t[o].value);if(r.extraData){var s=i(r.extraData);for(var l in s)s.hasOwnProperty(l)&&n.append(l,s[l])}r.data=null;var u=e.extend(!0,{},e.ajaxSettings,r,{contentType:!1,processData:!1,cache:!1,type:a||"POST"});r.uploadProgress&&(u.xhr=function(){var e=jQuery.ajaxSettings.xhr();return e.upload&&(e.upload.onprogress=function(e){var t=0,n=e.loaded||e.position,i=e.total;e.lengthComputable&&(t=Math.ceil(100*(n/i))),r.uploadProgress(e,n,i,t)}),e}),u.data=null;var c=u.beforeSend;return u.beforeSend=function(e,t){t.data=n,c&&c.call(this,e,t)},e.ajax(u)}function s(n){function i(e){var t=e.contentWindow?e.contentWindow.document:e.contentDocument?e.contentDocument:e.document;return t}function o(){function n(){try{var e=i(g).readyState;t("state = "+e),e&&"uninitialized"==e.toLowerCase()&&setTimeout(n,50)}catch(r){t("Server abort: ",r," (",r.name,")"),s(E),_&&clearTimeout(_),_=void 0}}var r=c.attr("target"),o=c.attr("action");k.setAttribute("target",h),a||k.setAttribute("method","POST"),o!=p.url&&k.setAttribute("action",p.url),p.skipEncodingOverride||a&&!/post/i.test(a)||c.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),p.timeout&&(_=setTimeout(function(){b=!0,s(C)},p.timeout));var l=[];try{if(p.extraData)for(var u in p.extraData)p.extraData.hasOwnProperty(u)&&(e.isPlainObject(p.extraData[u])&&p.extraData[u].hasOwnProperty("name")&&p.extraData[u].hasOwnProperty("value")?l.push(e('<input type="hidden" name="'+p.extraData[u].name+'">').val(p.extraData[u].value).appendTo(k)[0]):l.push(e('<input type="hidden" name="'+u+'">').val(p.extraData[u]).appendTo(k)[0]));p.iframeTarget||(m.appendTo("body"),g.attachEvent?g.attachEvent("onload",s):g.addEventListener("load",s,!1)),setTimeout(n,15),k.submit()}finally{k.setAttribute("action",o),r?k.setAttribute("target",r):c.removeAttr("target"),e(l).remove()}}function s(n){if(!v.aborted&&!D){try{P=i(g)}catch(r){t("cannot access response document: ",r),n=E}if(n===C&&v)return v.abort("timeout"),S.reject(v,"timeout"),void 0;if(n==E&&v)return v.abort("server abort"),S.reject(v,"error","server abort"),void 0;if(P&&P.location.href!=p.iframeSrc||b){g.detachEvent?g.detachEvent("onload",s):g.removeEventListener("load",s,!1);var o,a="success";try{if(b)throw"timeout";var l="xml"==p.dataType||P.XMLDocument||e.isXMLDoc(P);if(t("isXml="+l),!l&&window.opera&&(null===P.body||!P.body.innerHTML)&&--I)return t("requeing onLoad callback, DOM not available"),setTimeout(s,250),void 0;var u=P.body?P.body:P.documentElement;v.responseText=u?u.innerHTML:null,v.responseXML=P.XMLDocument?P.XMLDocument:P,l&&(p.dataType="xml"),v.getResponseHeader=function(e){var t={"content-type":p.dataType};return t[e]},u&&(v.status=Number(u.getAttribute("status"))||v.status,v.statusText=u.getAttribute("statusText")||v.statusText);var c=(p.dataType||"").toLowerCase(),h=/(json|script|text)/.test(c);if(h||p.textarea){var f=P.getElementsByTagName("textarea")[0];if(f)v.responseText=f.value,v.status=Number(f.getAttribute("status"))||v.status,v.statusText=f.getAttribute("statusText")||v.statusText;else if(h){var y=P.getElementsByTagName("pre")[0],w=P.getElementsByTagName("body")[0];y?v.responseText=y.textContent?y.textContent:y.innerText:w&&(v.responseText=w.textContent?w.textContent:w.innerText)}}else"xml"==c&&!v.responseXML&&v.responseText&&(v.responseXML=L(v.responseText));try{A=R(v,c,p)}catch(n){a="parsererror",v.error=o=n||a}}catch(n){t("error caught: ",n),a="error",v.error=o=n||a}v.aborted&&(t("upload aborted"),a=null),v.status&&(a=v.status>=200&&300>v.status||304===v.status?"success":"error"),"success"===a?(p.success&&p.success.call(p.context,A,"success",v),S.resolve(v.responseText,"success",v),d&&e.event.trigger("ajaxSuccess",[v,p])):a&&(void 0===o&&(o=v.statusText),p.error&&p.error.call(p.context,v,a,o),S.reject(v,"error",o),d&&e.event.trigger("ajaxError",[v,p,o])),d&&e.event.trigger("ajaxComplete",[v,p]),d&&!--e.active&&e.event.trigger("ajaxStop"),p.complete&&p.complete.call(p.context,v,a),D=!0,p.timeout&&clearTimeout(_),setTimeout(function(){p.iframeTarget||m.remove(),v.responseXML=null},100)}}}var l,u,p,d,h,m,g,v,y,w,b,_,k=c[0],x=!!e.fn.prop,S=e.Deferred();if(e("[name=submit],[id=submit]",k).length)return alert('Error: Form elements must not have name or id of "submit".'),S.reject(),S;if(n)for(u=0;f.length>u;u++)l=e(f[u]),x?l.prop("disabled",!1):l.removeAttr("disabled");if(p=e.extend(!0,{},e.ajaxSettings,r),p.context=p.context||p,h="jqFormIO"+(new Date).getTime(),p.iframeTarget?(m=e(p.iframeTarget),w=m.attr("name"),w?h=w:m.attr("name",h)):(m=e('<iframe name="'+h+'" src="'+p.iframeSrc+'" />'),m.css({position:"absolute",top:"-1000px",left:"-1000px"})),g=m[0],v={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(n){var r="timeout"===n?"timeout":"aborted";t("aborting upload... "+r),this.aborted=1;try{g.contentWindow.document.execCommand&&g.contentWindow.document.execCommand("Stop")}catch(i){}m.attr("src",p.iframeSrc),v.error=r,p.error&&p.error.call(p.context,v,r,n),d&&e.event.trigger("ajaxError",[v,p,r]),p.complete&&p.complete.call(p.context,v,r)}},d=p.global,d&&0===e.active++&&e.event.trigger("ajaxStart"),d&&e.event.trigger("ajaxSend",[v,p]),p.beforeSend&&p.beforeSend.call(p.context,v,p)===!1)return p.global&&e.active--,S.reject(),S;if(v.aborted)return S.reject(),S;y=k.clk,y&&(w=y.name,w&&!y.disabled&&(p.extraData=p.extraData||{},p.extraData[w]=y.value,"image"==y.type&&(p.extraData[w+".x"]=k.clk_x,p.extraData[w+".y"]=k.clk_y)));var C=1,E=2,T=e("meta[name=csrf-token]").attr("content"),$=e("meta[name=csrf-param]").attr("content");$&&T&&(p.extraData=p.extraData||{},p.extraData[$]=T),p.forceSync?o():setTimeout(o,10);var A,P,D,I=50,L=e.parseXML||function(e,t){return window.ActiveXObject?(t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(e)):t=(new DOMParser).parseFromString(e,"text/xml"),t&&t.documentElement&&"parsererror"!=t.documentElement.nodeName?t:null},O=e.parseJSON||function(e){return window.eval("("+e+")")},R=function(t,n,r){var i=t.getResponseHeader("content-type")||"",o="xml"===n||!n&&i.indexOf("xml")>=0,s=o?t.responseXML:t.responseText;return o&&"parsererror"===s.documentElement.nodeName&&e.error&&e.error("parsererror"),r&&r.dataFilter&&(s=r.dataFilter(s,n)),"string"==typeof s&&("json"===n||!n&&i.indexOf("json")>=0?s=O(s):("script"===n||!n&&i.indexOf("javascript")>=0)&&e.globalEval(s)),s};return S}if(!this.length)return t("ajaxSubmit: skipping submit process - no element selected"),this;var a,l,u,c=this;"function"==typeof r&&(r={success:r}),a=this.attr("method"),l=this.attr("action"),u="string"==typeof l?e.trim(l):"",u=u||window.location.href||"",u&&(u=(u.match(/^([^#]+)/)||[])[1]),r=e.extend(!0,{url:u,success:e.ajaxSettings.success,type:a||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},r);var p={};if(this.trigger("form-pre-serialize",[this,r,p]),p.veto)return t("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(r.beforeSerialize&&r.beforeSerialize(this,r)===!1)return t("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var d=r.traditional;void 0===d&&(d=e.ajaxSettings.traditional);var h,f=[],m=this.formToArray(r.semantic,f);if(r.data&&(r.extraData=r.data,h=e.param(r.data,d)),r.beforeSubmit&&r.beforeSubmit(m,this,r)===!1)return t("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[m,this,r,p]),p.veto)return t("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var g=e.param(m,d);h&&(g=g?g+"&"+h:h),"GET"==r.type.toUpperCase()?(r.url+=(r.url.indexOf("?")>=0?"&":"?")+g,r.data=null):r.data=g;var v=[];if(r.resetForm&&v.push(function(){c.resetForm()}),r.clearForm&&v.push(function(){c.clearForm(r.includeHidden)}),!r.dataType&&r.target){var y=r.success||function(){};v.push(function(t){var n=r.replaceTarget?"replaceWith":"html";e(r.target)[n](t).each(y,arguments)})}else r.success&&v.push(r.success);r.success=function(e,t,n){for(var i=r.context||this,o=0,s=v.length;s>o;o++)v[o].apply(i,[e,t,n||c,c])};var w=e('input[type=file]:enabled[value!=""]',this),b=w.length>0,_="multipart/form-data",k=c.attr("enctype")==_||c.attr("encoding")==_,x=n.fileapi&&n.formdata;t("fileAPI :"+x);var S,C=(b||k)&&!x;r.iframe!==!1&&(r.iframe||C)?r.closeKeepAlive?e.get(r.closeKeepAlive,function(){S=s(m)}):S=s(m):S=(b||k)&&x?o(m):e.ajax(r),c.removeData("jqxhr").data("jqxhr",S);for(var E=0;f.length>E;E++)f[E]=null;return this.trigger("form-submit-notify",[this,r]),this},e.fn.formToArray=function(t,r){var i=[];if(0===this.length)return i;var o=this[0],s=t?o.getElementsByTagName("*"):o.elements;if(!s)return i;var a,l,u,c,p,d,h;for(a=0,d=s.length;d>a;a++)if(p=s[a],u=p.name)if(t&&o.clk&&"image"==p.type)p.disabled||o.clk!=p||(i.push({name:u,value:e(p).val(),type:p.type}),i.push({name:u+".x",value:o.clk_x},{name:u+".y",value:o.clk_y}));else if(c=e.fieldValue(p,!0),c&&c.constructor==Array)for(r&&r.push(p),l=0,h=c.length;h>l;l++)i.push({name:u,value:c[l]});else if(n.fileapi&&"file"==p.type&&!p.disabled){r&&r.push(p);var f=p.files;if(f.length)for(l=0;f.length>l;l++)i.push({name:u,value:f[l],type:p.type});else i.push({name:u,value:"",type:p.type})}else null!==c&&c!==void 0&&(r&&r.push(p),i.push({name:u,value:c,type:p.type,required:p.required}));if(!t&&o.clk){var m=e(o.clk),g=m[0];u=g.name,u&&!g.disabled&&"image"==g.type&&(i.push({name:u,value:m.val()}),i.push({name:u+".x",value:o.clk_x},{name:u+".y",value:o.clk_y}))}return i},e.fn.formSerialize=function(t){return e.param(this.formToArray(t))},e.fn.fieldSerialize=function(t){var n=[];return this.each(function(){var r=this.name;if(r){var i=e.fieldValue(this,t);if(i&&i.constructor==Array)for(var o=0,s=i.length;s>o;o++)n.push({name:r,value:i[o]});else null!==i&&i!==void 0&&n.push({name:this.name,value:i})}}),e.param(n)},e.fn.fieldValue=function(t){for(var n=[],r=0,i=this.length;i>r;r++){var o=this[r],s=e.fieldValue(o,t);null===s||void 0===s||s.constructor==Array&&!s.length||(s.constructor==Array?e.merge(n,s):n.push(s))}return n},e.fieldValue=function(t,n){var r=t.name,i=t.type,o=t.tagName.toLowerCase();if(void 0===n&&(n=!0),n&&(!r||t.disabled||"reset"==i||"button"==i||("checkbox"==i||"radio"==i)&&!t.checked||("submit"==i||"image"==i)&&t.form&&t.form.clk!=t||"select"==o&&-1==t.selectedIndex))return null;if("select"==o){var s=t.selectedIndex;if(0>s)return null;for(var a=[],l=t.options,u="select-one"==i,c=u?s+1:l.length,p=u?s:0;c>p;p++){var d=l[p];if(d.selected){var h=d.value;if(h||(h=d.attributes&&d.attributes.value&&!d.attributes.value.specified?d.text:d.value),u)return h;a.push(h)}}return a}return e(t).val()},e.fn.clearForm=function(t){return this.each(function(){e("input,select,textarea",this).clearFields(t)})},e.fn.clearFields=e.fn.clearInputs=function(t){var n=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var r=this.type,i=this.tagName.toLowerCase();n.test(r)||"textarea"==i?this.value="":"checkbox"==r||"radio"==r?this.checked=!1:"select"==i?this.selectedIndex=-1:"file"==r?e.browser.msie?e(this).replaceWith(e(this).clone()):e(this).val(""):t&&(t===!0&&/hidden/.test(r)||"string"==typeof t&&e(this).is(t))&&(this.value="")})},e.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})},e.fn.enable=function(e){return void 0===e&&(e=!0),this.each(function(){this.disabled=!e})},e.fn.selected=function(t){return void 0===t&&(t=!0),this.each(function(){var n=this.type;if("checkbox"==n||"radio"==n)this.checked=t;else if("option"==this.tagName.toLowerCase()){var r=e(this).parent("select");t&&r[0]&&"select-one"==r[0].type&&r.find("option").selected(!1),this.selected=t
}})},e.fn.ajaxSubmit.debug=!1}(jQuery),function(e){var t=/[^\[\]]+/g,n=function(t){return e.isNumeric(t)?parseFloat(t):"true"===t?!0:"false"===t?!1:""===t?void 0:t},r=function(t,n,i,o,s,a,l){var u=o.shift();if(l=l?l+"."+u:u,o.length)i[u]||(i[u]={}),r(t,n,i[u],o,s,a,l);else{if(l in a&&"radio"!=n&&!e.isArray(i[u])?i[u]=u in i?[i[u]]:[]:a[l]=!0,("radio"==n||"checkbox"==n)&&!t.is(":checked"))return;i[u]?i[u].push(s):i[u]=s}};e.fn.extend({formParams:function(e){var t;return!!e===e&&(t=e,e=null),e?this.setParams(e):this.getParams(t)},setParams:function(t){this.find("[name]").each(function(){var n,r=t[e(this).attr("name")];void 0!==r&&(n=e(this),n.is(":radio")?n.val()==r&&n.attr("checked",!0):n.is(":checkbox")?(r=e.isArray(r)?r:[r],e.inArray(n.val(),r)>-1&&n.attr("checked",!0)):n.val(r))})},getParams:function(i){var o={},s={};return this.find("[name]:not(:disabled)").each(function(){var a,l=e(this),u=l.attr("type"),c=l.attr("name"),p=l.val();"submit"!=u&&c&&(a=c.match(t),a.length||(a=[c]),i&&(p=n(p)),r(l,u,o,a,p,s))}),o}})}(jQuery),function(e){var t={verticalOffset:10,horizontalOffset:10,title:!1,content:!1,url:!1,classes:"",position:"auto",fadeSpeed:160,trigger:"click",preventDefault:!0,stopChildrenPropagation:!0,hideOnHTMLClick:!0,animateChange:!0,autoReposition:!0,anchor:!1},n=[],r={calc_position:function(t,n){var r,i,o=t.popover("getData"),s=o.options,a=s.anchor?e(s.anchor):t,l=o.popover,u=a.offset();return"top"==n?(r=u.top-l.outerHeight(),i=u.left-l.outerWidth()/2+a.outerWidth()/2):"right"==n?(r=u.top+a.outerHeight()/2-l.outerHeight()/2,i=u.left+a.outerWidth()):"left"==n?(r=u.top+a.outerHeight()/2-l.outerHeight()/2,i=u.left-l.outerWidth()):(r=u.top+a.outerHeight(),i=u.left-l.outerWidth()/2+a.outerWidth()/2),x2=i+l.outerWidth(),y2=r+l.outerHeight(),ret={x1:i,x2:x2,y1:r,y2:y2}},pop_position_class:function(e,t){var n="popover-top popover-right popover-left",r="top-arrow",i="right-arrow bottom-arrow left-arrow";"top"==t?(n="popover-right popover-bottom popover-left",r="bottom-arrow",i="top-arrow right-arrow left-arrow"):"right"==t?(n="popover-yop popover-bottom popover-left",r="left-arrow",i="top-arrow right-arrow bottom-arrow"):"left"==t&&(n="popover-top popover-right popover-bottom",r="right-arrow",i="top-arrow bottom-arrow left-arrow"),e.removeClass(n).addClass("popover-"+t).find(".arrow").removeClass(i).addClass(r)}},i={init:function(r){return this.each(function(){var i=e.extend({},t,r),o=e(this),s=o.popover("getData");if(!s){var a=e('<div class="popover" />').addClass(i.classes).append('<div class="arrow" />').append('<div class="wrap"></div>').appendTo("body").hide();i.stopChildrenPropagation&&a.children().bind("click.popover",function(e){e.stopPropagation()}),o.bind("click.popover",function(e){i.preventDefault&&e.preventDefault(),e.stopPropagation()}),i.anchor&&!i.anchor instanceof jQuery&&(i.anchor=e(i.anchor));var s={target:o,popover:a,options:i};if(i.title&&e('<div class="title" />').html(i.title instanceof jQuery?i.title.html():i.title).appendTo(a.find(".wrap")),i.content&&e('<div class="content" />').html(i.content instanceof jQuery?i.content.html():i.content).appendTo(a.find(".wrap")),o.data("popover",s),n.push(o),i.url&&o.popover("ajax",i.url),o.popover("reposition"),o.popover("setTrigger",i.trigger),i.hideOnHTMLClick){var l="click.popover";"ontouchstart"in document.documentElement&&(l="touchstart.popover"),e("html").unbind(l).bind(l,function(){e("html").popover("fadeOutAll")})}if(i.autoReposition){var u=function(){o.popover("reposition")};e(window).unbind("resize.popover").bind("resize.popover",u).unbind("scroll.popover").bind("scroll.popover",u)}}})},reposition:function(){return this.each(function(){var t=e(this),n=t.popover("getData");if(n){var i=n.popover,o=n.options,s=o.anchor?e(o.anchor):t;s.offset();var a=o.position;"top"!=a&&"right"!=a&&"left"!=a&&"auto"!=a&&(a="bottom");var l;if("auto"==a){var u=["bottom","left","top","right"],c=e(window).scrollTop(),p=e(window).scrollLeft(),d=e(window).outerHeight(),h=e(window).outerWidth();if(e.each(u,function(e,n){l=r.calc_position(t,n);var i=l.x1-p,s=l.x2-p+o.horizontalOffset,u=l.y1-c,f=l.y2-c+o.verticalOffset;return 0>i||0>s||0>u||0>f?!0:f>d?!0:s>h?!0:(a=n,!1)}),"auto"==a)return}l=r.calc_position(t,a),l.top,l.left,r.pop_position_class(i,a);var f=0,m=0;"bottom"==a&&(f=o.verticalOffset),"top"==a&&(f=-o.verticalOffset),"right"==a&&(m=o.horizontalOffset),"left"==a&&(m=-o.horizontalOffset);var g={left:l.x1,top:l.y1,marginTop:f,marginLeft:m};n.initd&&o.animateChange?i.css(g):(n.initd=!0,i.css(g)),t.data("popover",n)}})},destroy:function(){return this.each(function(){var t=e(this),n=t.popover("getData");t.unbind(".popover"),e(window).unbind(".popover"),n.popover.remove(),t.removeData("popover")})},show:function(){return this.each(function(){var t=e(this),n=t.popover("getData");if(n){var r=n.popover;t.popover("reposition"),r.clearQueue().css({zIndex:950}).show(),t.trigger("show.popover",r)}})},hide:function(){return this.each(function(){var t=e(this),n=t.popover("getData");n&&n.popover.hide().css({zIndex:949})})},fadeOut:function(t){return this.each(function(){var n=e(this),r=n.popover("getData");if(r){var i=r.popover,o=r.options;i.delay(100).css({zIndex:949}).fadeOut(t?t:o.fadeSpeed)}})},hideAll:function(){return e.each(n,function(){var t=e(this),n=t.popover("getData");if(n){var r=n.popover;r.hide()}})},fadeOutAll:function(t){return e.each(n,function(){var n=e(this),r=n.popover("getData");if(r){var i=r.popover,o=r.options;i.css({zIndex:949}).fadeOut(t?t:o.fadeSpeed)}})},setTrigger:function(t){return this.each(function(){var n=e(this),r=n.popover("getData");if(r){var i=r.popover,o=r.options,s=o.anchor?e(o.anchor):n;"click"===t?(s.unbind("click").bind("click",function(e){e.preventDefault(),e.stopPropagation(),n.popover("show")}),i.unbind("click.popover").bind("click.popover",function(e){e.stopPropagation()})):(s.unbind("click"),i.unbind("click.popover")),"hover"===t?(s.add(i).bind("mousemove.popover",function(){n.popover("show")}),s.add(i).bind("mouseleave.popover",function(){n.popover("fadeOut")})):s.add(i).unbind("mousemove.popover").unbind("mouseleave.popover"),"focus"===t?(s.add(i).bind("focus.popover",function(){n.popover("show")}),s.add(i).bind("blur.popover",function(){n.popover("fadeOut")}),s.bind("click.popover",function(e){e.stopPropagation()})):s.add(i).unbind("focus.popover").unbind("blur.popover").unbind("click.popover")}})},title:function(t){return this.each(function(){var n=e(this),r=n.popover("getData");if(r){var i=r.popover.find(".title"),o=r.popover.find(".wrap");0===i.length&&(i=e('<div class="title" />').appendTo(o)),i.html(t)}})},content:function(t){return this.each(function(){var n=e(this),r=n.popover("getData");if(r){var i=r.popover.find(".content"),o=r.popover.find(".wrap");0===i.length&&(i=e('<div class="content" />').appendTo(o)),i.html(t)}})},ajax:function(t,n){return this.each(function(){var r=e(this),i=r.popover("getData");if(i){var o={url:t,success:function(t){var n=i.popover.find(".content"),r=i.popover.find(".wrap");0===n.length&&(n=e('<div class="content" />').appendTo(r)),n.html(t)}},s=e.extend({},o,n);e.ajax(s)}})},setOption:function(t,n){return this.each(function(){var r=e(this),i=r.popover("getData");i&&(i.options[t]=n,r.data("popover",i))})},getData:function(){var t=[];return this.each(function(){var n=e(this),r=n.data("popover");r&&t.push(r)}),0!=t.length?(1==t.length&&(t=t[0]),t):void 0}};e.fn.popover=function(t){return i[t]?i[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?(e.error("Method "+t+" does not exist on jQuery.popover"),void 0):i.init.apply(this,arguments)}}(jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){function t(){var t=n(this);return isNaN(t.datetime)||e(this).text(r(t.datetime)),this}function n(t){if(t=e(t),!t.data("timeago")){t.data("timeago",{datetime:o.datetime(t)});var n=e.trim(t.text());!(n.length>0)||o.isTime(t)&&t.attr("title")||t.attr("title",n)}return t.data("timeago")}function r(e){return o.inWords(i(e))}function i(e){return(new Date).getTime()-e.getTime()}e.timeago=function(t){return t instanceof Date?r(t):"string"==typeof t?r(e.timeago.parse(t)):"number"==typeof t?r(new Date(t)):r(e.timeago.datetime(t))};var o=e.timeago;e.extend(e.timeago,{settings:{refreshMillis:6e4,allowFuture:!1,strings:{prefixAgo:null,prefixFromNow:null,suffixAgo:"ago",suffixFromNow:"from now",seconds:"less than a minute",minute:"about a minute",minutes:"%d minutes",hour:"about an hour",hours:"about %d hours",day:"a day",days:"%d days",month:"about a month",months:"%d months",year:"about a year",years:"%d years",wordSeparator:" ",numbers:[]}},inWords:function(t){function n(n,i){var o=e.isFunction(n)?n(i,t):n,s=r.numbers&&r.numbers[i]||i;return o.replace(/%d/i,s)}var r=this.settings.strings,i=r.prefixAgo,o=r.suffixAgo;this.settings.allowFuture&&0>t&&(i=r.prefixFromNow,o=r.suffixFromNow);var s=Math.abs(t)/1e3,a=s/60,l=a/60,u=l/24,c=u/365,p=45>s&&n(r.seconds,Math.round(s))||90>s&&n(r.minute,1)||45>a&&n(r.minutes,Math.round(a))||90>a&&n(r.hour,1)||24>l&&n(r.hours,Math.round(l))||42>l&&n(r.day,1)||30>u&&n(r.days,Math.round(u))||45>u&&n(r.month,1)||365>u&&n(r.months,Math.round(u/30))||1.5>c&&n(r.year,1)||n(r.years,Math.round(c)),d=r.wordSeparator||"";return void 0===r.wordSeparator&&(d=" "),e.trim([i,p,o].join(d))},parse:function(t){var n=e.trim(t);return n=n.replace(/\.\d+/,""),n=n.replace(/-/,"/").replace(/-/,"/"),n=n.replace(/T/," ").replace(/Z/," UTC"),n=n.replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2"),new Date(n)},datetime:function(t){var n=o.isTime(t)?e(t).attr("datetime"):e(t).attr("title");return o.parse(n)},isTime:function(t){return"time"===e(t).get(0).tagName.toLowerCase()}}),e.fn.timeago=function(){var e=this;e.each(t);var n=o.settings;return n.refreshMillis>0&&setInterval(function(){e.each(t)},n.refreshMillis),e},document.createElement("abbr"),document.createElement("time")}),function(e){function t(e,t){for(var n=e.length;n--;)if(e[n]===t)return n;return-1}function n(e,n){var r,i,s,a,l;if(r=e.keyCode,(93==r||224==r)&&(r=91),r in h){h[r]=!0;for(s in m)m[s]==r&&(o[s]=!0)}else if(o.filter.call(this,e)&&r in d)for(a=0;d[r].length>a;a++)if(i=d[r][a],i.scope==n||"all"==i.scope){l=i.mods.length>0;for(s in h)(!h[s]&&t(i.mods,+s)>-1||h[s]&&-1==t(i.mods,+s))&&(l=!1);(0!=i.mods.length||h[16]||h[18]||h[17]||h[91])&&!l||i.method(e,i)===!1&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0))}}function r(e){var t,n=e.keyCode;if((93==n||224==n)&&(n=91),n in h){h[n]=!1;for(t in m)m[t]==n&&(o[t]=!1)}}function i(){for(p in h)h[p]=!1;for(p in m)o[p]=!1}function o(e,t,n){var r,i,o,s;for(void 0===n&&(n=t,t="all"),e=e.replace(/\s/g,""),r=e.split(","),""==r[r.length-1]&&(r[r.length-2]+=","),o=0;r.length>o;o++){if(i=[],e=r[o].split("+"),e.length>1){for(i=e.slice(0,e.length-1),s=0;i.length>s;s++)i[s]=m[i[s]];e=[e[e.length-1]]}e=e[0],e=g[e]||e.toUpperCase().charCodeAt(0),e in d||(d[e]=[]),d[e].push({shortcut:r[o],scope:t,method:n,key:r[o],mods:i})}}function s(e){var t=(e.target||e.srcElement).tagName;return!("INPUT"==t||"SELECT"==t||"TEXTAREA"==t)}function a(e){f=e||"all"}function l(){return f||"all"}function u(e){var t,n,r;for(t in d)for(n=d[t],r=0;n.length>r;)n[r].scope===e?n.splice(r,1):r++}function c(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,function(){n(window.event)})}var p,d={},h={16:!1,18:!1,17:!1,91:!1},f="all",m={"â‡§":16,shift:16,"âŒ¥":18,alt:18,option:18,"âŒƒ":17,ctrl:17,control:17,"âŒ˜":91,command:91},g={backspace:8,tab:9,clear:12,enter:13,"return":13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,"delete":46,home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220};for(p=1;20>p;p++)m["f"+p]=111+p;for(p in m)o[p]=!1;c(document,"keydown",function(e){n(e,f)}),c(document,"keyup",r),c(window,"focus",i),e.key=o,e.key.setScope=a,e.key.getScope=l,e.key.deleteScope=u,e.key.filter=s,"undefined"!=typeof module&&(module.exports=key)}(this),function(e){e.fn.scrollable=function(){e(this).bind("mousewheel DOMMouseScroll",function(t){var n=e(this),r=t.originalEvent.wheelDelta||-t.originalEvent.detail,i=n.get(0).scrollTop,o=n.get(0).scrollHeight,s=n.outerHeight();o!==s&&(0>=i?r>0&&t.preventDefault():s+1>=o-i&&0>r&&t.preventDefault())})}}(window.jQuery),function(e){e.fn.each2===void 0&&e.fn.extend({each2:function(t){for(var n=e([0]),r=-1,i=this.length;i>++r&&(n.context=n[0]=this[r])&&t.call(n[0],r,n)!==!1;);return this}})}(jQuery),function(e,t){"use strict";function n(e,n){var r,i=0,o=n.length;if(e===t)return-1;if(e.constructor===String){for(;o>i;i+=1)if(0===e.localeCompare(n[i]))return i}else for(;o>i;i+=1)if(r=n[i],r.constructor===String){if(0===r.localeCompare(e))return i}else if(r===e)return i;return-1}function r(e,n){return e===n?!0:e===t||n===t?!1:null===e||null===n?!1:e.constructor===String?0===e.localeCompare(n):n.constructor===String?0===n.localeCompare(e):!1}function i(t,n){var r,i,o;if(null===t||1>t.length)return[];for(r=t.split(n),i=0,o=r.length;o>i;i+=1)r[i]=e.trim(r[i]);return r}function o(e){return e.outerWidth()-e.width()}function s(n){var r="keyup-change-value";n.bind("keydown",function(){e.data(n,r)===t&&e.data(n,r,n.val())}),n.bind("keyup",function(){var i=e.data(n,r);i!==t&&n.val()!==i&&(e.removeData(n,r),n.trigger("keyup-change"))})}function a(n){n.bind("mousemove",function(n){var r=e.data(document,"select2-lastpos");(r===t||r.x!==n.pageX||r.y!==n.pageY)&&e(n.target).trigger("mousemove-filtered",n)})}function l(e,n,r){r=r||t;var i;return function(){var t=arguments;window.clearTimeout(i),i=window.setTimeout(function(){n.apply(r,t)},e)}}function u(e){var t,n=!1;return function(){return n===!1&&(t=e(),n=!0),t}}function c(e,t){var r=l(e,function(e){t.trigger("scroll-debounced",e)});t.bind("scroll",function(e){n(e.target,t.get())>=0&&r(e)})}function p(e){e.preventDefault(),e.stopPropagation()}function d(t){if(!T){var n=t[0].currentStyle||window.getComputedStyle(t[0],null);T=e("<div></div>").css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:n.fontSize,fontFamily:n.fontFamily,fontStyle:n.fontStyle,fontWeight:n.fontWeight,letterSpacing:n.letterSpacing,textTransform:n.textTransform,whiteSpace:"nowrap"}),e("body").append(T)}return T.text(t.val()),T.width()}function h(e,n,r){var i=e.toUpperCase().indexOf(n.toUpperCase()),o=n.length;return 0>i?(r.push(e),t):(r.push(e.substring(0,i)),r.push("<span class='select2-match'>"),r.push(e.substring(i,i+o)),r.push("</span>"),r.push(e.substring(i+o,e.length)),t)}function f(t){var n,r=0,i=null,o=t.quietMillis||100;return function(s){window.clearTimeout(n),n=window.setTimeout(function(){r+=1;var n=r,o=t.data,a=t.transport||e.ajax,l=t.traditional||!1,u=t.type||"GET";o=o.call(this,s.term,s.page,s.context),null!==i&&i.abort(),i=a.call(null,{url:t.url,dataType:t.dataType,data:o,type:u,traditional:l,success:function(e){if(!(r>n)){var i=t.results(e,s.page);s.callback(i)}}})},o)}}function m(n){var r,i=n,o=function(e){return""+e.text};return e.isArray(i)||(o=i.text,e.isFunction(o)||(r=i.text,o=function(e){return e[r]}),i=i.results),function(n){var r,s=n.term,a={results:[]};return""===s?(n.callback({results:i}),t):(r=function(t,i){var a,l;if(t=t[0],t.children){a={};for(l in t)t.hasOwnProperty(l)&&(a[l]=t[l]);a.children=[],e(t.children).each2(function(e,t){r(t,a.children)}),a.children.length&&i.push(a)}else n.matcher(s,o(t))&&i.push(t)},e(i).each2(function(e,t){r(t,a.results)}),n.callback(a),t)}}function g(n){return e.isFunction(n)?n:function(r){var i=r.term,o={results:[]};e(n).each(function(){var e=this.text!==t,n=e?this.text:this;(""===i||r.matcher(i,n))&&o.results.push(e?this:{id:this,text:this})}),r.callback(o)}}function v(t){if(e.isFunction(t))return!0;if(!t)return!1;throw Error("formatterName must be a function or a falsy value")}function y(t){return e.isFunction(t)?t():t}function w(t){var n=0;return e.each(t,function(e,t){t.children?n+=w(t.children):n++}),n}function b(e,n,i,o){var s,a,l,u,c,p=e,d=!1;if(!o.createSearchChoice||!o.tokenSeparators||1>o.tokenSeparators.length)return t;for(;;){for(a=-1,l=0,u=o.tokenSeparators.length;u>l&&(c=o.tokenSeparators[l],a=e.indexOf(c),!(a>=0));l++);if(0>a)break;if(s=e.substring(0,a),e=e.substring(a+c.length),s.length>0&&(s=o.createSearchChoice(s,n),s!==t&&null!==s&&o.id(s)!==t&&null!==o.id(s))){for(d=!1,l=0,u=n.length;u>l;l++)if(r(o.id(s),o.id(n[l]))){d=!0;break}d||i(s)}}return 0!=p.localeCompare(e)?e:t}function _(t,n){var r=function(){};return r.prototype=new t,r.prototype.constructor=r,r.prototype.parent=t.prototype,r.prototype=e.extend(r.prototype,n),r}if(window.Select2===t){var k,x,S,C,E,T;k={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(e){switch(e=e.which?e.which:e){case k.LEFT:case k.RIGHT:case k.UP:case k.DOWN:return!0}return!1},isControl:function(e){var t=e.which;switch(t){case k.SHIFT:case k.CTRL:case k.ALT:return!0}return e.metaKey?!0:!1},isFunctionKey:function(e){return e=e.which?e.which:e,e>=112&&123>=e}},E=function(){var e=1;return function(){return e++}}(),e(document).delegate("body","mousemove",function(t){e.data(document,"select2-lastpos",{x:t.pageX,y:t.pageY})}),e(document).ready(function(){e(document).delegate("body","mousedown touchend",function(n){var r,i=e(n.target).closest("div.select2-container").get(0);i?e(document).find("div.select2-container-active").each(function(){this!==i&&e(this).data("select2").blur()}):(i=e(n.target).closest("div.select2-drop").get(0),e(document).find("div.select2-drop-active").each(function(){this!==i&&e(this).data("select2").blur()})),i=e(n.target),r=i.attr("for"),"LABEL"===n.target.tagName&&r&&r.length>0&&(i=e("#"+r),i=i.data("select2"),i!==t&&(i.focus(),n.preventDefault()))})}),x=_(Object,{bind:function(e){var t=this;return function(){e.apply(t,arguments)}},init:function(n){var r,i,o=".select2-results";this.opts=n=this.prepareOpts(n),this.id=n.id,n.element.data("select2")!==t&&null!==n.element.data("select2")&&this.destroy(),this.enabled=!0,this.container=this.createContainer(),this.containerId="s2id_"+(n.element.attr("id")||"autogen"+E()),this.containerSelector="#"+this.containerId.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.body=u(function(){return n.element.closest("body")}),n.element.attr("class")!==t&&this.container.addClass(n.element.attr("class").replace(/validate\[[\S ]+] ?/,"")),this.container.css(y(n.containerCss)),this.container.addClass(y(n.containerCssClass)),this.opts.element.data("select2",this).hide().before(this.container),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),this.dropdown.addClass(y(n.dropdownCssClass)),this.dropdown.data("select2",this),this.results=r=this.container.find(o),this.search=i=this.container.find("input.select2-input"),i.attr("tabIndex",this.opts.element.attr("tabIndex")),this.resultsPage=0,this.context=null,this.initContainer(),this.initContainerWidth(),a(this.results),this.dropdown.delegate(o,"mousemove-filtered",this.bind(this.highlightUnderEvent)),c(80,this.results),this.dropdown.delegate(o,"scroll-debounced",this.bind(this.loadMoreIfNeeded)),e.fn.mousewheel&&r.mousewheel(function(e,t,n,i){var o=r.scrollTop();i>0&&0>=o-i?(r.scrollTop(0),p(e)):0>i&&r.get(0).scrollHeight-r.scrollTop()+i<=r.height()&&(r.scrollTop(r.get(0).scrollHeight-r.height()),p(e))}),s(i),i.bind("keyup-change",this.bind(this.updateResults)),i.bind("focus",function(){i.addClass("select2-focused")," "===i.val()&&i.val("")}),i.bind("blur",function(){i.removeClass("select2-focused")}),this.dropdown.delegate(o,"mouseup",this.bind(function(t){e(t.target).closest(".select2-result-selectable:not(.select2-disabled)").length>0?(this.highlightUnderEvent(t),this.selectHighlighted(t)):this.focusSearch(),p(t)})),this.dropdown.bind("click mouseup mousedown",function(e){e.stopPropagation()}),e.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),(n.element.is(":disabled")||n.element.is("[readonly='readonly']"))&&this.disable()},destroy:function(){var e=this.opts.element.data("select2");e!==t&&(e.container.remove(),e.dropdown.remove(),e.opts.element.removeData("select2").unbind(".select2").show())},prepareOpts:function(n){var o,s,a,l;if(o=n.element,"select"===o.get(0).tagName.toLowerCase()&&(this.select=s=n.element),s&&e.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in n)throw Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),n=e.extend({},{populateResults:function(r,i,o){var s,a=this.opts.id,l=this;s=function(r,i,u){var c,p,d,h,f,m,g,v,y;for(c=0,p=r.length;p>c;c+=1)d=r[c],h=a(d)!==t,f=d.children&&d.children.length>0,m=e("<li></li>"),m.addClass("select2-results-dept-"+u),m.addClass("select2-result"),m.addClass(h?"select2-result-selectable":"select2-result-unselectable"),f&&m.addClass("select2-result-with-children"),m.addClass(l.opts.formatResultCssClass(d)),g=e("<div></div>"),g.addClass("select2-result-label"),y=n.formatResult(d,g,o),y!==t&&g.html(l.opts.escapeMarkup(y)),m.append(g),f&&(v=e("<ul></ul>"),v.addClass("select2-result-sub"),s(d.children,v,u+1),m.append(v)),m.data("select2-data",d),i.append(m)},s(i,r,0)}},e.fn.select2.defaults,n),"function"!=typeof n.id&&(a=n.id,n.id=function(e){return e[a]}),s?(n.query=this.bind(function(n){var r,i,s,a={results:[],more:!1},l=n.term;s=function(e,t){var r;e.is("option")?n.matcher(l,e.text(),e)&&t.push({id:e.attr("value"),text:e.text(),element:e.get(),css:e.attr("class")}):e.is("optgroup")&&(r={text:e.attr("label"),children:[],element:e.get(),css:e.attr("class")},e.children().each2(function(e,t){s(t,r.children)}),r.children.length>0&&t.push(r))},r=o.children(),this.getPlaceholder()!==t&&r.length>0&&(i=r[0],""===e(i).text()&&(r=r.not(i))),r.each2(function(e,t){s(t,a.results)}),n.callback(a)}),n.id=function(e){return e.id},n.formatResultCssClass=function(e){return e.css}):"query"in n||("ajax"in n?(l=n.element.data("ajax-url"),l&&l.length>0&&(n.ajax.url=l),n.query=f(n.ajax)):"data"in n?n.query=m(n.data):"tags"in n&&(n.query=g(n.tags),n.createSearchChoice=function(e){return{id:e,text:e}},n.initSelection=function(o,s){var a=[];e(i(o.val(),n.separator)).each(function(){var i=this,o=this,s=n.tags;e.isFunction(s)&&(s=s()),e(s).each(function(){return r(this.id,i)?(o=this.text,!1):t}),a.push({id:i,text:o})}),s(a)})),"function"!=typeof n.query)throw"query function not defined for Select2 "+n.element.attr("id");return n},monitorSource:function(){this.opts.element.bind("change.select2",this.bind(function(){this.opts.element.data("select2-change-triggered")!==!0&&this.initSelection()}))},triggerChange:function(t){t=t||{},t=e.extend({},t,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(t),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},enable:function(){this.enabled||(this.enabled=!0,this.container.removeClass("select2-container-disabled"))},disable:function(){this.enabled&&(this.close(),this.enabled=!1,this.container.addClass("select2-container-disabled"))},opened:function(){return this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var t,n,r,i=this.container.offset(),o=this.container.outerHeight(),s=this.container.outerWidth(),a=this.dropdown.outerHeight(),l=e(window).scrollTop()+document.documentElement.clientHeight,u=i.top+o,c=i.left,p=l>=u+a,d=i.top-a>=this.body().scrollTop(),h=this.dropdown.hasClass("select2-drop-above");"static"!==this.body().css("position")&&(t=this.body().offset(),u-=t.top,c-=t.left),h?(n=!0,!d&&p&&(n=!1)):(n=!1,!p&&d&&(n=!0)),n?(u=i.top-a,this.container.addClass("select2-drop-above"),this.dropdown.addClass("select2-drop-above")):(this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")),r=e.extend({top:u,left:c,width:s},y(this.opts.dropdownCss)),this.dropdown.css(r)},shouldOpen:function(){var t;return this.opened()?!1:(t=e.Event("open"),this.opts.element.trigger(t),!t.isDefaultPrevented())},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return this.shouldOpen()?(window.setTimeout(this.bind(this.opening),1),!0):!1},opening:function(){var t=this.containerId,n=this.containerSelector,r="scroll."+t,i="resize."+t;this.container.parents().each(function(){e(this).bind(r,function(){var t=e(n);0==t.length&&e(this).unbind(r),t.select2("close")})}),e(window).bind(i,function(){var t=e(n);0==t.length&&e(window).unbind(i),t.select2("close")}),this.clearDropdownAlignmentPreference()," "===this.search.val()&&this.search.val(""),this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.updateResults(!0),this.dropdown[0]!==this.body().children().last()[0]&&this.dropdown.detach().appendTo(this.body()),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active"),this.ensureHighlightVisible(),this.focusSearch()},close:function(){if(this.opened()){var t=this;this.container.parents().each(function(){e(this).unbind("scroll."+t.containerId)}),e(window).unbind("resize."+this.containerId),this.clearDropdownAlignmentPreference(),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active"),this.results.empty(),this.clearSearch(),this.opts.element.trigger(e.Event("close"))}},clearSearch:function(){},ensureHighlightVisible:function(){var n,r,i,o,s,a,l,u=this.results;if(r=this.highlight(),!(0>r)){if(0==r)return u.scrollTop(0),t;n=u.find(".select2-result-selectable"),i=e(n[r]),o=i.offset().top+i.outerHeight(),r===n.length-1&&(l=u.find("li.select2-more-results"),l.length>0&&(o=l.offset().top+l.outerHeight())),s=u.offset().top+u.outerHeight(),o>s&&u.scrollTop(u.scrollTop()+(o-s)),a=i.offset().top-u.offset().top,0>a&&u.scrollTop(u.scrollTop()+a)}},moveHighlight:function(t){for(var n=this.results.find(".select2-result-selectable"),r=this.highlight();r>-1&&n.length>r;){r+=t;var i=e(n[r]);if(i.hasClass("select2-result-selectable")&&!i.hasClass("select2-disabled")){this.highlight(r);break}}},highlight:function(r){var i=this.results.find(".select2-result-selectable").not(".select2-disabled");return 0===arguments.length?n(i.filter(".select2-highlighted")[0],i.get()):(r>=i.length&&(r=i.length-1),0>r&&(r=0),i.removeClass("select2-highlighted"),e(i[r]).addClass("select2-highlighted"),this.ensureHighlightVisible(),t)},countSelectableResults:function(){return this.results.find(".select2-result-selectable").not(".select2-disabled").length},highlightUnderEvent:function(t){var n=e(t.target).closest(".select2-result-selectable");if(n.length>0&&!n.is(".select2-highlighted")){var r=this.results.find(".select2-result-selectable");this.highlight(r.index(n))}else 0==n.length&&this.results.find(".select2-highlighted").removeClass("select2-highlighted")},loadMoreIfNeeded:function(){var e,t=this.results,n=t.find("li.select2-more-results"),r=this.resultsPage+1,i=this,o=this.search.val(),s=this.context;0!==n.length&&(e=n.offset().top-t.offset().top-t.height(),0>=e&&(n.addClass("select2-active"),this.opts.query({term:o,page:r,context:s,matcher:this.opts.matcher,callback:this.bind(function(e){i.opened()&&(i.opts.populateResults.call(this,t,e.results,{term:o,page:r,context:s}),e.more===!0?(n.detach().appendTo(t).text(i.opts.formatLoadMore(r+1)),window.setTimeout(function(){i.loadMoreIfNeeded()},10)):n.remove(),i.positionDropdown(),i.resultsPage=r)})})))},tokenize:function(){},updateResults:function(n){function i(){u.scrollTop(0),l.removeClass("select2-active"),p.positionDropdown()}function o(e){u.html(p.opts.escapeMarkup(e)),i()}var s,a,l=this.search,u=this.results,c=this.opts,p=this;if(n===!0||this.showSearchInput!==!1&&this.opened()){if(l.addClass("select2-active"),c.maximumSelectionSize>=1&&(s=this.data(),e.isArray(s)&&s.length>=c.maximumSelectionSize&&v(c.formatSelectionTooBig,"formatSelectionTooBig")))return o("<li class='select2-selection-limit'>"+c.formatSelectionTooBig(c.maximumSelectionSize)+"</li>"),t;if(l.val().length<c.minimumInputLength&&v(c.formatInputTooShort,"formatInputTooShort"))return o("<li class='select2-no-results'>"+c.formatInputTooShort(l.val(),c.minimumInputLength)+"</li>"),t;o("<li class='select2-searching'>"+c.formatSearching()+"</li>"),a=this.tokenize(),a!=t&&null!=a&&l.val(a),this.resultsPage=1,c.query({term:l.val(),page:this.resultsPage,context:null,matcher:c.matcher,callback:this.bind(function(s){var a;if(this.opened()){if(this.context=s.context===t?null:s.context,this.opts.createSearchChoice&&""!==l.val()&&(a=this.opts.createSearchChoice.call(null,l.val(),s.results),a!==t&&null!==a&&p.id(a)!==t&&null!==p.id(a)&&0===e(s.results).filter(function(){return r(p.id(this),p.id(a))}).length&&s.results.unshift(a)),0===s.results.length&&v(c.formatNoMatches,"formatNoMatches"))return o("<li class='select2-no-results'>"+c.formatNoMatches(l.val())+"</li>"),t;u.empty(),p.opts.populateResults.call(this,u,s.results,{term:l.val(),page:this.resultsPage,context:null}),s.more===!0&&v(c.formatLoadMore,"formatLoadMore")&&(u.append("<li class='select2-more-results'>"+p.opts.escapeMarkup(c.formatLoadMore(this.resultsPage))+"</li>"),window.setTimeout(function(){p.loadMoreIfNeeded()},10)),this.postprocessResults(s,n),i()}})})}},cancel:function(){this.close()},blur:function(){this.close(),this.container.removeClass("select2-container-active"),this.dropdown.removeClass("select2-drop-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){this.search.show(),this.search.focus(),window.setTimeout(this.bind(function(){this.search.show(),this.search.focus(),this.search.val(this.search.val())}),10)},selectHighlighted:function(){var e=this.highlight(),t=this.results.find(".select2-highlighted").not(".select2-disabled"),n=t.closest(".select2-result-selectable").data("select2-data");n&&(t.addClass("select2-disabled"),this.highlight(e),this.onSelect(n))},getPlaceholder:function(){return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder},initContainerWidth:function(){function n(){var n,r,i,o,s;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth()?"auto":this.opts.element.outerWidth()+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if(n=this.opts.element.attr("style"),n!==t)for(r=n.split(";"),o=0,s=r.length;s>o;o+=1)if(i=r[o].replace(/\s/g,"").match(/width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/),null!==i&&i.length>=1)return i[1];return"resolve"===this.opts.width?(n=this.opts.element.css("width"),n.indexOf("%")>0?n:0===this.opts.element.outerWidth()?"auto":this.opts.element.outerWidth()+"px"):null}return e.isFunction(this.opts.width)?this.opts.width():this.opts.width}var r=n.call(this);null!==r&&this.container.attr("style","width: "+r)}}),S=_(x,{createContainer:function(){var t=e("<div></div>",{"class":"select2-container"}).html(["    <a href='#' onclick='return false;' class='select2-choice'>","   <span></span><abbr class='select2-search-choice-close' style='display:none;'></abbr>","   <div><b></b></div>","</a>","    <div class='select2-drop select2-offscreen'>","   <div class='select2-search'>","       <input type='text' autocomplete='off' class='select2-input'/>","   </div>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return t},opening:function(){this.search.show(),this.parent.opening.apply(this,arguments),this.dropdown.removeClass("select2-offscreen")
},close:function(){this.opened()&&(this.parent.close.apply(this,arguments),this.dropdown.removeAttr("style").addClass("select2-offscreen").insertAfter(this.selection).show())},focus:function(){this.close(),this.selection.focus()},isFocused:function(){return this.selection[0]===document.activeElement},cancel:function(){this.parent.cancel.apply(this,arguments),this.selection.focus()},initContainer:function(){var e,n=this.container,r=this.dropdown,i=!1;this.selection=e=n.find(".select2-choice"),this.search.bind("keydown",this.bind(function(e){if(this.enabled){if(e.which===k.PAGE_UP||e.which===k.PAGE_DOWN)return p(e),t;if(this.opened())switch(e.which){case k.UP:case k.DOWN:return this.moveHighlight(e.which===k.UP?-1:1),p(e),t;case k.TAB:case k.ENTER:return this.selectHighlighted(),p(e),t;case k.ESC:return this.cancel(e),p(e),t}else{if(e.which===k.TAB||k.isControl(e)||k.isFunctionKey(e)||e.which===k.ESC)return;if(this.opts.openOnEnter===!1&&e.which===k.ENTER)return;if(this.open(),e.which===k.ENTER)return}}})),this.search.bind("focus",this.bind(function(){this.selection.attr("tabIndex","-1")})),this.search.bind("blur",this.bind(function(){this.opened()||this.container.removeClass("select2-container-active"),window.setTimeout(this.bind(function(){this.selection.attr("tabIndex",this.opts.element.attr("tabIndex"))}),10)})),e.bind("mousedown",this.bind(function(){i=!0,this.opened()?(this.close(),this.selection.focus()):this.enabled&&this.open(),i=!1})),r.bind("mousedown",this.bind(function(){this.search.focus()})),e.bind("focus",this.bind(function(){this.container.addClass("select2-container-active"),this.search.attr("tabIndex","-1")})),e.bind("blur",this.bind(function(){this.opened()||this.container.removeClass("select2-container-active"),window.setTimeout(this.bind(function(){this.search.attr("tabIndex",this.opts.element.attr("tabIndex"))}),10)})),e.bind("keydown",this.bind(function(e){if(this.enabled){if(e.which===k.PAGE_UP||e.which===k.PAGE_DOWN)return p(e),t;if(!(e.which===k.TAB||k.isControl(e)||k.isFunctionKey(e)||e.which===k.ESC||this.opts.openOnEnter===!1&&e.which===k.ENTER)){if(e.which==k.DELETE)return this.opts.allowClear&&this.clear(),t;if(this.open(),e.which===k.ENTER)return p(e),t;if(48>e.which)return p(e),t;var n=String.fromCharCode(e.which).toLowerCase();e.shiftKey&&(n=n.toUpperCase()),this.search.focus(),this.search.val(n),p(e)}}})),e.delegate("abbr","mousedown",this.bind(function(e){this.enabled&&(this.clear(),p(e),this.close(),this.triggerChange(),this.selection.focus())})),this.setPlaceholder(),this.search.bind("focus",this.bind(function(){this.container.addClass("select2-container-active")}))},clear:function(){this.opts.element.val(""),this.selection.find("span").empty(),this.selection.removeData("select2-data"),this.setPlaceholder()},initSelection:function(){if(""===this.opts.element.val())this.close(),this.setPlaceholder();else{var e=this;this.opts.initSelection.call(null,this.opts.element,function(n){n!==t&&null!==n&&(e.updateSelection(n),e.close(),e.setPlaceholder())})}},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments);return"select"===t.element.get(0).tagName.toLowerCase()&&(t.initSelection=function(t,n){var r=t.find(":selected");e.isFunction(n)&&n({id:r.attr("value"),text:r.text()})}),t},setPlaceholder:function(){var e=this.getPlaceholder();if(""===this.opts.element.val()&&e!==t){if(this.select&&""!==this.select.find("option:first").text())return;this.selection.find("span").html(this.opts.escapeMarkup(e)),this.selection.addClass("select2-default"),this.selection.find("abbr").hide()}},postprocessResults:function(n,i){var o=0,s=this,a=!0;this.results.find(".select2-result-selectable").each2(function(e,n){return r(s.id(n.data("select2-data")),s.opts.element.val())?(o=e,!1):t}),this.highlight(o),i===!0&&(a=this.showSearchInput=w(n.results)>=this.opts.minimumResultsForSearch,this.dropdown.find(".select2-search")[a?"removeClass":"addClass"]("select2-search-hidden"),e(this.dropdown,this.container)[a?"addClass":"removeClass"]("select2-with-searchbox"))},onSelect:function(e){var t=this.opts.element.val();this.opts.element.val(this.id(e)),this.updateSelection(e),this.close(),this.selection.focus(),r(t,this.id(e))||this.triggerChange()},updateSelection:function(e){var n,r=this.selection.find("span");this.selection.data("select2-data",e),r.empty(),n=this.opts.formatSelection(e,r),n!==t&&r.append(this.opts.escapeMarkup(n)),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==t&&this.selection.find("abbr").show()},val:function(){var e,n=null,r=this;if(0===arguments.length)return this.opts.element.val();if(e=arguments[0],this.select)this.select.val(e).find(":selected").each2(function(e,t){return n={id:t.attr("value"),text:t.text()},!1}),this.updateSelection(n),this.setPlaceholder();else{if(this.opts.initSelection===t)throw Error("cannot call val() if initSelection() is not defined");if(!e)return this.clear(),t;this.opts.element.val(e),this.opts.initSelection(this.opts.element,function(e){r.opts.element.val(e?r.id(e):""),r.updateSelection(e),r.setPlaceholder()})}},clearSearch:function(){this.search.val("")},data:function(e){var n;return 0===arguments.length?(n=this.selection.data("select2-data"),n==t&&(n=null),n):(e&&""!==e?(this.opts.element.val(e?this.id(e):""),this.updateSelection(e)):this.clear(),t)}}),C=_(x,{createContainer:function(){var t=e("<div></div>",{"class":"select2-container select2-container-multi"}).html(["    <ul class='select2-choices'>","  <li class='select2-search-field'>","    <input type='text' autocomplete='off' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi' style='display:none;'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return t},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments);return"select"===t.element.get(0).tagName.toLowerCase()&&(t.initSelection=function(t,n){var r=[];t.find(":selected").each2(function(e,t){r.push({id:t.attr("value"),text:t.text()})}),e.isFunction(n)&&n(r)}),t},initContainer:function(){var n,r=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=n=this.container.find(r),this.search.bind("keydown",this.bind(function(e){if(this.enabled){if(e.which===k.BACKSPACE&&""===this.search.val()){this.close();var r,i=n.find(".select2-search-choice-focus");if(i.length>0)return this.unselect(i.first()),this.search.width(10),p(e),t;r=n.find(".select2-search-choice"),r.length>0&&r.last().addClass("select2-search-choice-focus")}else n.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus");if(this.opened())switch(e.which){case k.UP:case k.DOWN:return this.moveHighlight(e.which===k.UP?-1:1),p(e),t;case k.ENTER:case k.TAB:return this.selectHighlighted(),p(e),t;case k.ESC:return this.cancel(e),p(e),t}e.which===k.TAB||k.isControl(e)||k.isFunctionKey(e)||e.which===k.BACKSPACE||e.which===k.ESC||(this.opts.openOnEnter!==!1||e.which!==k.ENTER)&&(this.open(),(e.which===k.PAGE_UP||e.which===k.PAGE_DOWN)&&p(e))}})),this.search.bind("keyup",this.bind(this.resizeSearch)),this.search.bind("blur",this.bind(function(e){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.clearSearch(),e.stopImmediatePropagation()})),this.container.delegate(r,"mousedown",this.bind(function(t){this.enabled&&(e(t.target).closest(".select2-search-choice").length>0||(this.clearPlaceholder(),this.open(),this.focusSearch(),t.preventDefault()))})),this.container.delegate(r,"focus",this.bind(function(){this.enabled&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.clearSearch()},enable:function(){this.enabled||(this.parent.enable.apply(this,arguments),this.search.removeAttr("disabled"))},disable:function(){this.enabled&&(this.parent.disable.apply(this,arguments),this.search.attr("disabled",!0))},initSelection:function(){if(""===this.opts.element.val()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var e=this;this.opts.initSelection.call(null,this.opts.element,function(n){n!==t&&null!==n&&(e.updateSelection(n),e.close(),e.clearSearch())})}},clearSearch:function(){var e=this.getPlaceholder();e!==t&&0===this.getVal().length&&this.search.hasClass("select2-focused")===!1?(this.search.val(e).addClass("select2-default"),this.resizeSearch()):this.search.val(" ").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")?this.search.val("").removeClass("select2-default"):" "===this.search.val()&&this.search.val("")},opening:function(){this.parent.opening.apply(this,arguments),this.clearPlaceholder(),this.resizeSearch(),this.focusSearch()},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(t){var r=[],i=[],o=this;e(t).each(function(){0>n(o.id(this),r)&&(r.push(o.id(this)),i.push(this))}),t=i,this.selection.find(".select2-search-choice").remove(),e(t).each(function(){o.addSelectedChoice(this)}),o.postprocessResults()},tokenize:function(){var e=this.search.val();e=this.opts.tokenizer(e,this.data(),this.bind(this.onSelect),this.opts),null!=e&&e!=t&&(this.search.val(e),e.length>0&&this.open())},onSelect:function(e){this.addSelectedChoice(e),this.select&&this.postprocessResults(),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.positionDropdown()):this.close(),this.triggerChange({added:e}),this.focusSearch()},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(t){var n,r=e("<li class='select2-search-choice'>    <div></div>    <a href='#' onclick='return false;' class='select2-search-choice-close' tabindex='-1'></a></li>"),i=this.id(t),o=this.getVal();n=this.opts.formatSelection(t,r),r.find("div").replaceWith("<div>"+this.opts.escapeMarkup(n)+"</div>"),r.find(".select2-search-choice-close").bind("mousedown",p).bind("click dblclick",this.bind(function(t){this.enabled&&(e(t.target).closest(".select2-search-choice").fadeOut("fast",this.bind(function(){this.unselect(e(t.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),this.close(),this.focusSearch()})).dequeue(),p(t))})).bind("focus",this.bind(function(){this.enabled&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),r.data("select2-data",t),r.insertBefore(this.searchContainer),o.push(i),this.setVal(o)},unselect:function(e){var t,r,i=this.getVal();if(e=e.closest(".select2-search-choice"),0===e.length)throw"Invalid argument: "+e+". Must be .select2-search-choice";t=e.data("select2-data"),r=n(this.id(t),i),r>=0&&(i.splice(r,1),this.setVal(i),this.select&&this.postprocessResults()),e.remove(),this.triggerChange({removed:t})},postprocessResults:function(){var e=this.getVal(),r=this.results.find(".select2-result-selectable"),i=this.results.find(".select2-result-with-children"),o=this;r.each2(function(t,r){var i=o.id(r.data("select2-data"));n(i,e)>=0?r.addClass("select2-disabled").removeClass("select2-result-selectable"):r.removeClass("select2-disabled").addClass("select2-result-selectable")}),i.each2(function(e,t){0==t.find(".select2-result-selectable").length?t.addClass("select2-disabled"):t.removeClass("select2-disabled")}),r.each2(function(e,n){return!n.hasClass("select2-disabled")&&n.hasClass("select2-result-selectable")?(o.highlight(0),!1):t})},resizeSearch:function(){var e,t,n,r,i,s=o(this.search);e=d(this.search)+10,t=this.search.offset().left,n=this.selection.width(),r=this.selection.offset().left,i=n-(t-r)-s,e>i&&(i=n-s),40>i&&(i=n-s),this.search.width(i)},getVal:function(){var e;return this.select?(e=this.select.val(),null===e?[]:e):(e=this.opts.element.val(),i(e,this.opts.separator))},setVal:function(t){var r;this.select?this.select.val(t):(r=[],e(t).each(function(){0>n(this,r)&&r.push(this)}),this.opts.element.val(0===r.length?"":r.join(this.opts.separator)))},val:function(){var n,r=[],i=this;if(0===arguments.length)return this.getVal();if(n=arguments[0],!n)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),t;if(this.setVal(n),this.select)this.select.find(":selected").each(function(){r.push({id:e(this).attr("value"),text:e(this).text()})}),this.updateSelection(r);else{if(this.opts.initSelection===t)throw Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(t){var n=e(t).map(i.id);i.setVal(n),i.updateSelection(t),i.clearSearch()})}this.clearSearch()},onSortStart:function(){if(this.select)throw Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var t=[],n=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){t.push(n.opts.id(e(this).data("select2-data")))}),this.setVal(t),this.triggerChange()},data:function(n){var r,i=this;return 0===arguments.length?this.selection.find(".select2-search-choice").map(function(){return e(this).data("select2-data")}).get():(n||(n=[]),r=e.map(n,function(e){return i.opts.id(e)}),this.setVal(r),this.updateSelection(n),this.clearSearch(),t)}}),e.fn.select2=function(){var r,i,o,s,a=Array.prototype.slice.call(arguments,0),l=["val","destroy","opened","open","close","focus","isFocused","container","onSortStart","onSortEnd","enable","disable","positionDropdown","data"];return this.each(function(){if(0===a.length||"object"==typeof a[0])r=0===a.length?{}:e.extend({},a[0]),r.element=e(this),"select"===r.element.get(0).tagName.toLowerCase()?s=r.element.attr("multiple"):(s=r.multiple||!1,"tags"in r&&(r.multiple=s=!0)),i=s?new C:new S,i.init(r);else{if("string"!=typeof a[0])throw"Invalid arguments to select2 plugin: "+a;if(0>n(a[0],l))throw"Unknown method: "+a[0];if(o=t,i=e(this).data("select2"),i===t)return;if(o="container"===a[0]?i.container:i[a[0]].apply(i,a.slice(1)),o!==t)return!1}}),o===t?this:o},e.fn.select2.defaults={width:"copy",closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(e,t,n){var r=[];return h(e.text,n.term,r),r.join("")},formatSelection:function(e){return e?e.text:t},formatResultCssClass:function(){return t},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(e,t){return"Please enter "+(t-e.length)+" more characters"},formatSelectionTooBig:function(e){return"You can only select "+e+" item"+(1==e?"":"s")},formatLoadMore:function(){return"Loading more results..."},formatSearching:function(){return"Searching..."},minimumResultsForSearch:0,minimumInputLength:0,maximumSelectionSize:0,id:function(e){return e.id},matcher:function(e,t){return t.toUpperCase().indexOf(e.toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:b,escapeMarkup:function(e){return e&&"string"==typeof e?e.replace(/&/g,"&amp;"):e},blurOnChange:!1},window.Select2={query:{ajax:f,local:m,tags:g},util:{debounce:l,markMatch:h},"class":{"abstract":x,single:S,multi:C}}}}(jQuery),window.console&&console.log||function(){for(var e=function(){},t=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","markTimeline","table","time","timeEnd","timeStamp","trace","warn"],n=t.length,r=window.console={};n--;)r[t[n]]=e}(),"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),$.fn.outerHtml=function(){return $(this).get(0).outerHTML||(new XMLSerializer).serializeToString($(this).get(0))},window.location.origin===void 0&&(window.location.origin=window.location.protocol+"//"+window.location.host),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var t=this.length>>>0,n=Number(arguments[1])||0;for(n=0>n?Math.ceil(n):Math.floor(n),0>n&&(n+=t);t>n;n++)if(n in this&&this[n]===e)return n;return-1}),Date.prototype.toISOString||(Date.prototype.toISOString=function(){function e(e){return 10>e?"0"+e:e}return this.getUTCFullYear()+"-"+e(this.getUTCMonth()+1)+"-"+e(this.getUTCDate())+"T"+e(this.getUTCHours())+":"+e(this.getUTCMinutes())+":"+e(this.getUTCSeconds())+"Z"}),window.Socialite=function(e,t,n){"use strict";var r=0,i=[],o={},s={},a=/^($|loaded|complete)/,l=e.encodeURIComponent,u={settings:{},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},hasClass:function(e,t){return-1!==(" "+e.className+" ").indexOf(" "+t+" ")},addClass:function(e,t){u.hasClass(e,t)||(e.className=""===e.className?t:e.className+" "+t)},removeClass:function(e,t){e.className=u.trim(" "+e.className+" ".replace(" "+t+" "," "))},extendObject:function(e,t,r){for(var i in t){var o=e[i]!==n;o&&"object"==typeof t[i]?u.extendObject(e[i],t[i],r):(r||!o)&&(e[i]=t[i])}},getElements:function(e,t){for(var n=0,r=[],i=!!e.getElementsByClassName,o=i?e.getElementsByClassName(t):e.getElementsByTagName("*");o.length>n;n++)(i||u.hasClass(o[n],t))&&r.push(o[n]);return r},getDataAttributes:function(e,t,n){for(var r=0,i="",o={},s=e.attributes;s.length>r;r++){var a=s[r].name,u=s[r].value;u.length&&0===a.indexOf("data-")&&(t&&(a=a.substring(5)),n?o[a]=u:i+=l(a)+"="+l(u)+"&")}return n?o:i},copyDataAttributes:function(e,t,n,r){var i=u.getDataAttributes(e,n,!0);for(var o in i)t.setAttribute(r?o.replace(/-/g,"_"):o,i[o])},createIframe:function(e,n){var r=t.createElement("iframe");return r.style.cssText="overflow: hidden; border: none;",u.extendObject(r,{src:e,allowtransparency:"true",frameborder:"0",scrolling:"no"},!0),n&&(r.onload=r.onreadystatechange=function(){a.test(r.readyState||"")&&(r.onload=r.onreadystatechange=null,u.activateInstance(n))}),r},networkReady:function(e){return o[e]?o[e].loaded:n},appendNetwork:function(e){if(e&&!e.appended){if("function"==typeof e.append&&e.append(e)===!1)return e.appended=e.loaded=!0,u.activateAll(e),n;e.script&&(e.el=t.createElement("script"),u.extendObject(e.el,e.script,!0),e.el.async=!0,e.el.onload=e.el.onreadystatechange=function(){if(a.test(e.el.readyState||"")){if(e.el.onload=e.el.onreadystatechange=null,e.loaded=!0,"function"==typeof e.onload&&e.onload(e)===!1)return;u.activateAll(e)}},t.body.appendChild(e.el)),e.appended=!0}},removeNetwork:function(e){return u.networkReady(e.name)?(e.el.parentNode.removeChild(e.el),!(e.appended=e.loaded=!1)):!1},reloadNetwork:function(e){var t=o[e];t&&u.removeNetwork(t)&&u.appendNetwork(t)},createInstance:function(e,t){var o=!0,s={el:e,uid:r++,widget:t};return i.push(s),t.process!==n&&(o="function"==typeof t.process?t.process(s):!1),o&&u.processInstance(s),s.el.setAttribute("data-socialite",s.uid),s.el.className="socialite "+t.name+" socialite-instance",s},processInstance:function(e){var n=e.el;e.el=t.createElement("div"),e.el.className=n.className,u.copyDataAttributes(n,e.el),"a"!==n.nodeName.toLowerCase()||n.getAttribute("data-default-href")||e.el.setAttribute("data-default-href",n.getAttribute("href"));var r=n.parentNode;r.insertBefore(e.el,n),r.removeChild(n)},activateInstance:function(e){return e&&!e.loaded?(e.loaded=!0,"function"==typeof e.widget.activate&&e.widget.activate(e),u.addClass(e.el,"socialite-loaded"),e.onload?e.onload(e.el):null):n},activateAll:function(e){"string"==typeof e&&(e=o[e]);for(var t=0;i.length>t;t++){var n=i[t];n.init&&n.widget.network===e&&u.activateInstance(n)}},load:function(e,r,o,a,l){if(e=e&&"object"==typeof e&&1===e.nodeType?e:t,!r||"object"!=typeof r)return u.load(e,u.getElements(e,"socialite"),o,a,l),n;var c;if(/Array/.test(Object.prototype.toString.call(r)))for(c=0;r.length>c;c++)u.load(e,r[c],o,a,l);else if(1===r.nodeType){if(!o||!s[o]){o=null;var p=r.className.split(" ");for(c=0;p.length>c;c++)if(s[p[c]]){o=p[c];break}if(!o)return}var d,h=s[o],f=parseInt(r.getAttribute("data-socialite"),10);if(isNaN(f))d=u.createInstance(r,h);else for(c=0;i.length>c;c++)if(i[c].uid===f){d=i[c];break}!l&&d&&(d.init||(d.init=!0,d.onload="function"==typeof a?a:null,h.init(d)),h.network.appended?u.networkReady(h.network.name)&&u.activateInstance(d):u.appendNetwork(h.network))}},activate:function(t,n,r){e.Socialite.load(null,t,n,r)},process:function(t,n,r){e.Socialite.load(t,n,r,null,!0)},network:function(e,t){o[e]={name:e,el:null,appended:!1,loaded:!1,widgets:{}},t&&u.extendObject(o[e],t)},widget:function(e,t,n){n.name=e+"-"+t,o[e]&&!s[n.name]&&(n.network=o[e],o[e].widgets[t]=s[n.name]=n)},setup:function(e){u.extendObject(u.settings,e,!0)}};return u}(window,window.document),function(e,n,r){r.setup({facebook:{lang:"en_GB",appId:null},twitter:{lang:"en"},googleplus:{lang:"en-GB"}}),r.network("facebook",{script:{src:"//connect.facebook.net/{{language}}/all.js",id:"facebook-jssdk"},append:function(t){var i=n.createElement("div"),o=r.settings.facebook,s={onlike:"edge.create",onunlike:"edge.remove",onsend:"message.send"};i.id="fb-root",n.body.appendChild(i),t.script.src=t.script.src.replace("{{language}}",o.lang),e.fbAsyncInit=function(){e.FB.init({appId:o.appId,xfbml:!0});for(var t in s)"function"==typeof o[t]&&e.FB.Event.subscribe(s[t],o[t])}}}),r.widget("facebook","like",{init:function(t){var i=n.createElement("div");i.className="fb-like",r.copyDataAttributes(t.el,i),t.el.appendChild(i),e.FB&&e.FB.XFBML&&e.FB.XFBML.parse(t.el)}}),r.network("twitter",{script:{src:"//platform.twitter.com/widgets.js",id:"twitter-wjs",charset:"utf-8"},append:function(){var n="object"!=typeof e.twttr,i=r.settings.twitter,o=["click","tweet","retweet","favorite","follow"];return n&&(e.twttr=t={_e:[],ready:function(e){t._e.push(e)}}),e.twttr.ready(function(e){for(var t=0;o.length>t;t++){var n=o[t];"function"==typeof i["on"+n]&&e.events.bind(n,i["on"+n])}r.activateAll("twitter")}),n}});var i=function(e){var t=n.createElement("a");t.className=e.widget.name+"-button",r.copyDataAttributes(e.el,t),t.setAttribute("href",e.el.getAttribute("data-default-href")),t.setAttribute("data-lang",e.el.getAttribute("data-lang")||r.settings.twitter.lang),e.el.appendChild(t)},o=function(){e.twttr&&"object"==typeof e.twttr.widgets&&"function"==typeof e.twttr.widgets.load&&e.twttr.widgets.load()};r.widget("twitter","share",{init:i,activate:o}),r.widget("twitter","follow",{init:i,activate:o}),r.widget("twitter","hashtag",{init:i,activate:o}),r.widget("twitter","mention",{init:i,activate:o}),r.widget("twitter","embed",{process:function(e){e.innerEl=e.el,e.innerEl.getAttribute("data-lang")||e.innerEl.setAttribute("data-lang",r.settings.twitter.lang),e.el=n.createElement("div"),e.el.className=e.innerEl.className,e.innerEl.className="",e.innerEl.parentNode.insertBefore(e.el,e.innerEl),e.el.appendChild(e.innerEl)},init:function(e){e.innerEl.className="twitter-tweet"},activate:o}),r.network("googleplus",{script:{src:"//apis.google.com/js/plusone.js"},append:function(){return e.gapi?!1:(e.___gcfg={lang:r.settings.googleplus.lang,parsetags:"explicit"},undefined)}});var s=function(e){var t=n.createElement("div");t.className="g-"+e.widget.gtype,r.copyDataAttributes(e.el,t),e.el.appendChild(t),e.gplusEl=t},a=function(e,t){return"function"!=typeof t?null:function(n){t(e.el,n)}},l=function(t){var n=t.widget.gtype;if(e.gapi&&e.gapi[n]){for(var i=r.settings.googleplus,o=r.getDataAttributes(t.el,!0,!0),s=["onstartinteraction","onendinteraction","callback"],l=0;s.length>l;l++)o[s[l]]=a(t,i[s[l]]);e.gapi[n].render(t.gplusEl,o)}};r.widget("googleplus","one",{init:s,activate:l,gtype:"plusone"}),r.widget("googleplus","share",{init:s,activate:l,gtype:"plus"}),r.widget("googleplus","badge",{init:s,activate:l,gtype:"plus"}),r.network("linkedin",{script:{src:"//platform.linkedin.com/in.js"}});var u=function(t){var i=n.createElement("script");i.type="IN/"+t.widget.intype,r.copyDataAttributes(t.el,i),t.el.appendChild(i),"object"==typeof e.IN&&"function"==typeof e.IN.parse&&(e.IN.parse(t.el),r.activateInstance(t))};r.widget("linkedin","share",{init:u,intype:"Share"}),r.widget("linkedin","recommend",{init:u,intype:"RecommendProduct"})}(window,window.document,window.Socialite),function(){var e=window._socialite;if(/Array/.test(Object.prototype.toString.call(e)))for(var t=0,n=e.length;n>t;t++)"function"==typeof e[t]&&e[t]()}(),!function(e,t,n){function r(e,n){var r,i=t.createElement(e||"div");for(r in n)i[r]=n[r];return i}function i(e){for(var t=1,n=arguments.length;n>t;t++)e.appendChild(arguments[t]);return e}function o(e,t,n,r){var i=["opacity",t,~~(100*e),n,r].join("-"),o=.01+100*(n/r),s=Math.max(1-(1-e)/t*(100-o),e),a=c.substring(0,c.indexOf("Animation")).toLowerCase(),l=a&&"-"+a+"-"||"";return d[i]||(h.insertRule("@"+l+"keyframes "+i+"{"+"0%{opacity:"+s+"}"+o+"%{opacity:"+e+"}"+(o+.01)+"%{opacity:1}"+(o+t)%100+"%{opacity:"+e+"}"+"100%{opacity:"+s+"}"+"}",h.cssRules.length),d[i]=1),i}function s(e,t){var r,i,o=e.style;if(o[t]!==n)return t;for(t=t.charAt(0).toUpperCase()+t.slice(1),i=0;p.length>i;i++)if(r=p[i]+t,o[r]!==n)return r}function a(e,t){for(var n in t)e.style[s(e,n)||n]=t[n];return e}function l(e){for(var t=1;arguments.length>t;t++){var r=arguments[t];for(var i in r)e[i]===n&&(e[i]=r[i])}return e}function u(e){for(var t={x:e.offsetLeft,y:e.offsetTop};e=e.offsetParent;)t.x+=e.offsetLeft,t.y+=e.offsetTop;return t}var c,p=["webkit","Moz","ms","O"],d={},h=function(){var e=r("style",{type:"text/css"});return i(t.getElementsByTagName("head")[0],e),e.sheet||e.styleSheet}(),f={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"auto",left:"auto",position:"relative"},m=function m(e){return this.spin?(this.opts=l(e||{},m.defaults,f),n):new m(e)};m.defaults={},l(m.prototype,{spin:function(e){this.stop();var t,n,i=this,o=i.opts,s=i.el=a(r(0,{className:o.className}),{position:o.position,width:0,zIndex:o.zIndex}),l=o.radius+o.length+o.width;if(e&&(e.insertBefore(s,e.firstChild||null),n=u(e),t=u(s),a(s,{left:("auto"==o.left?n.x-t.x+(e.offsetWidth>>1):parseInt(o.left,10)+l)+"px",top:("auto"==o.top?n.y-t.y+(e.offsetHeight>>1):parseInt(o.top,10)+l)+"px"})),s.setAttribute("aria-role","progressbar"),i.lines(s,i.opts),!c){var p=0,d=o.fps,h=d/o.speed,f=(1-o.opacity)/(h*o.trail/100),m=h/o.lines;(function g(){p++;for(var e=o.lines;e;e--){var t=Math.max(1-(p+e*m)%h*f,o.opacity);i.opacity(s,o.lines-e,t,o)}i.timeout=i.el&&setTimeout(g,~~(1e3/d))})()}return i},stop:function(){var e=this.el;return e&&(clearTimeout(this.timeout),e.parentNode&&e.parentNode.removeChild(e),this.el=n),this},lines:function(e,t){function n(e,n){return a(r(),{position:"absolute",width:t.length+t.width+"px",height:t.width+"px",background:e,boxShadow:n,transformOrigin:"left",transform:"rotate("+~~(360/t.lines*l+t.rotate)+"deg) translate("+t.radius+"px"+",0)",borderRadius:(t.corners*t.width>>1)+"px"})}for(var s,l=0;t.lines>l;l++)s=a(r(),{position:"absolute",top:1+~(t.width/2)+"px",transform:t.hwaccel?"translate3d(0,0,0)":"",opacity:t.opacity,animation:c&&o(t.opacity,t.trail,l,t.lines)+" "+1/t.speed+"s linear infinite"}),t.shadow&&i(s,a(n("#000","0 0 4px #000"),{top:"2px"})),i(e,i(s,n(t.color,"0 0 1px rgba(0,0,0,.1)")));return e},opacity:function(e,t,n){e.childNodes.length>t&&(e.childNodes[t].style.opacity=n)}}),function(){function e(e,t){return r("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',t)}var t=a(r("group"),{behavior:"url(#default#VML)"});!s(t,"transform")&&t.adj?(h.addRule(".spin-vml","behavior:url(#default#VML)"),m.prototype.lines=function(t,n){function r(){return a(e("group",{coordsize:u+" "+u,coordorigin:-l+" "+-l}),{width:u,height:u})}function o(t,o,s){i(p,i(a(r(),{rotation:360/n.lines*t+"deg",left:~~o}),i(a(e("roundrect",{arcsize:n.corners}),{width:l,height:n.width,left:n.radius,top:-n.width>>1,filter:s}),e("fill",{color:n.color,opacity:n.opacity}),e("stroke",{opacity:0}))))}var s,l=n.length+n.width,u=2*l,c=2*-(n.width+n.length)+"px",p=a(r(),{position:"absolute",top:c,left:c});if(n.shadow)for(s=1;n.lines>=s;s++)o(s,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(s=1;n.lines>=s;s++)o(s);return i(t,p)},m.prototype.opacity=function(e,t,n,r){var i=e.firstChild;r=r.shadow&&r.lines||0,i&&i.childNodes.length>t+r&&(i=i.childNodes[t+r],i=i&&i.firstChild,i=i&&i.firstChild,i&&(i.opacity=n))}):c=s(t,"animation")}(),"function"==typeof define&&define.amd?define(function(){return m}):e.Spinner=m}(window,document),function(e){e.fn.spin=function(t,n){var r={tiny:{lines:8,length:2,width:2,radius:3},small:{lines:8,length:4,width:3,radius:5},large:{lines:10,length:8,width:4,radius:8}};if(Spinner)return this.each(function(){var i=e(this),o=i.data();o.spinner&&(o.spinner.stop(),delete o.spinner),t!==!1&&("string"==typeof t&&(t=t in r?r[t]:{},n&&(t.color=n)),o.spinner=new Spinner(e.extend({color:i.css("color")},t)).spin(this))});throw"Spinner class not available."}}(jQuery),function(){function e(){try{return l in s&&s[l]}catch(e){return!1}}function t(){try{return u in s&&s[u]&&s[u][s.location.hostname]}catch(e){return!1}}function n(e){return function(){var t=Array.prototype.slice.call(arguments,0);t.unshift(i),p.appendChild(i),i.addBehavior("#default#userData"),i.load(l);var n=e.apply(o,t);return p.removeChild(i),n}}function r(e){return e.replace(f,"___")}var i,o={},s=window,a=s.document,l="localStorage",u="globalStorage",c="__storejs__";if(o.disabled=!1,o.set=function(){},o.get=function(){},o.remove=function(){},o.clear=function(){},o.transact=function(e,t,n){var r=o.get(e);null==n&&(n=t,t=null),r===void 0&&(r=t||{}),n(r),o.set(e,r)},o.getAll=function(){},o.serialize=function(e){return JSON.stringify(e)},o.deserialize=function(e){if("string"!=typeof e)return void 0;try{return JSON.parse(e)}catch(t){return e||void 0}},e())i=s[l],o.set=function(e,t){return void 0===t?o.remove(e):(i.setItem(e,o.serialize(t)),t)},o.get=function(e){return o.deserialize(i.getItem(e))},o.remove=function(e){i.removeItem(e)},o.clear=function(){i.clear()},o.getAll=function(){for(var e={},t=0;i.length>t;++t){var n=i.key(t);e[n]=o.get(n)}return e};else if(t())i=s[u][s.location.hostname],o.set=function(e,t){return void 0===t?o.remove(e):(i[e]=o.serialize(t),t)},o.get=function(e){return o.deserialize(i[e]&&i[e].value)},o.remove=function(e){delete i[e]},o.clear=function(){for(var e in i)delete i[e]},o.getAll=function(){for(var e={},t=0;i.length>t;++t){var n=i.key(t);e[n]=o.get(n)}return e};else if(a.documentElement.addBehavior){var p,d;try{d=new ActiveXObject("htmlfile"),d.open(),d.write('<script>document.w=window</script><iframe src="/favicon.ico"></frame>'),d.close(),p=d.w.frames[0].document,i=p.createElement("div")}catch(h){i=a.createElement("div"),p=a.body}var f=RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g");o.set=n(function(e,t,n){return t=r(t),void 0===n?o.remove(t):(e.setAttribute(t,o.serialize(n)),e.save(l),n)}),o.get=n(function(e,t){return t=r(t),o.deserialize(e.getAttribute(t))}),o.remove=n(function(e,t){t=r(t),e.removeAttribute(t),e.save(l)}),o.clear=n(function(e){var t=e.XMLDocument.documentElement.attributes;e.load(l);for(var n,r=0;n=t[r];r++)e.removeAttribute(n.name);e.save(l)}),o.getAll=n(function(e){var t=e.XMLDocument.documentElement.attributes;e.load(l);for(var n,r={},i=0;n=t[i];++i)r[n]=o.get(n);return r})}try{o.set(c,c),o.get(c)!=c&&(o.disabled=!0),o.remove(c)}catch(h){o.disabled=!0}o.enabled=!o.disabled,"undefined"!=typeof module&&"function"!=typeof module?module.exports=o:"function"==typeof define&&define.amd?define(o):this.store=o}(),window.XDomainRequest&&jQuery.ajaxTransport(function(e){if(e.crossDomain&&e.async){e.timeout&&(e.xdrTimeout=e.timeout,delete e.timeout);var t;return{send:function(n,r){function i(e,n,i,o){t.onload=t.onerror=t.ontimeout=jQuery.noop,t=void 0,r(e,n,i,o)
}t=new XDomainRequest,t.onload=function(){0,0,i(200,"OK",{text:t.responseText},"Content-Type: "+t.contentType)},t.onerror=function(){i(404,"Not Found")},t.onprogress=jQuery.noop,t.ontimeout=function(){i(0,"timeout")},t.timeout=e.xdrTimeout||Number.MAX_VALUE,t.open(e.type,e.url),t.send(e.hasContent&&e.data||null)},abort:function(){t&&(t.onerror=jQuery.noop,t.abort())}}}});