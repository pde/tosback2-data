(function(){"use strict";var t="undefined"!=typeof window?window:global;if("function"!=typeof t.require){var e={},n={},r=function(t,e){return{}.hasOwnProperty.call(t,e)},i=function(t,e){var n,r,i=[];n=/^\.\.?(\/|$)/.test(e)?[t,e].join("/").split("/"):e.split("/");for(var o=0,s=n.length;s>o;o++)r=n[o],".."===r?i.pop():"."!==r&&""!==r&&i.push(r);return i.join("/")},o=function(t){return t.split("/").slice(0,-1).join("/")},s=function(e){return function(n){var r=o(e),s=i(r,n);return t.require(s)}},a=function(t,e){var r={id:t,exports:{}};e(r.exports,s(t),r);var i=n[t]=r.exports;return i},l=function(t){var o=i(t,".");if(r(n,o))return n[o];if(r(e,o))return a(o,e[o]);var s=i(o,"./index");if(r(n,s))return n[s];if(r(e,s))return a(s,e[s]);throw Error('Cannot find module "'+t+'"')},u=function(t){for(var n in t)r(t,n)&&(e[n]=t[n])};t.require=l,t.require.define=u}})(),function(){var t=this,e=t._,n={},r=Array.prototype,i=Object.prototype,o=Function.prototype,s=r.push,a=r.slice,l=r.concat,u=(r.unshift,i.toString),c=i.hasOwnProperty,p=r.forEach,d=r.map,h=r.reduce,f=r.reduceRight,m=r.filter,v=r.every,g=r.some,y=r.indexOf,w=r.lastIndexOf,b=Array.isArray,_=Object.keys,k=o.bind,x=function(t){return t instanceof x?t:this instanceof x?(this._wrapped=t,void 0):new x(t)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=x),exports._=x):t._=x,x.VERSION="1.4.2";var S=x.each=x.forEach=function(t,e,r){if(null!=t)if(p&&t.forEach===p)t.forEach(e,r);else if(t.length===+t.length){for(var i=0,o=t.length;o>i;i++)if(e.call(r,t[i],i,t)===n)return}else for(var s in t)if(x.has(t,s)&&e.call(r,t[s],s,t)===n)return};x.map=x.collect=function(t,e,n){var r=[];return null==t?r:d&&t.map===d?t.map(e,n):(S(t,function(t,i,o){r[r.length]=e.call(n,t,i,o)}),r)},x.reduce=x.foldl=x.inject=function(t,e,n,r){var i=arguments.length>2;if(null==t&&(t=[]),h&&t.reduce===h)return r&&(e=x.bind(e,r)),i?t.reduce(e,n):t.reduce(e);if(S(t,function(t,o,s){i?n=e.call(r,n,t,o,s):(n=t,i=!0)}),!i)throw new TypeError("Reduce of empty array with no initial value");return n},x.reduceRight=x.foldr=function(t,e,n,r){var i=arguments.length>2;if(null==t&&(t=[]),f&&t.reduceRight===f)return r&&(e=x.bind(e,r)),arguments.length>2?t.reduceRight(e,n):t.reduceRight(e);var o=t.length;if(o!==+o){var s=x.keys(t);o=s.length}if(S(t,function(a,l,u){l=s?s[--o]:--o,i?n=e.call(r,n,t[l],l,u):(n=t[l],i=!0)}),!i)throw new TypeError("Reduce of empty array with no initial value");return n},x.find=x.detect=function(t,e,n){var r;return C(t,function(t,i,o){return e.call(n,t,i,o)?(r=t,!0):void 0}),r},x.filter=x.select=function(t,e,n){var r=[];return null==t?r:m&&t.filter===m?t.filter(e,n):(S(t,function(t,i,o){e.call(n,t,i,o)&&(r[r.length]=t)}),r)},x.reject=function(t,e,n){var r=[];return null==t?r:(S(t,function(t,i,o){e.call(n,t,i,o)||(r[r.length]=t)}),r)},x.every=x.all=function(t,e,r){e||(e=x.identity);var i=!0;return null==t?i:v&&t.every===v?t.every(e,r):(S(t,function(t,o,s){return(i=i&&e.call(r,t,o,s))?void 0:n}),!!i)};var C=x.some=x.any=function(t,e,r){e||(e=x.identity);var i=!1;return null==t?i:g&&t.some===g?t.some(e,r):(S(t,function(t,o,s){return i||(i=e.call(r,t,o,s))?n:void 0}),!!i)};x.contains=x.include=function(t,e){var n=!1;return null==t?n:y&&t.indexOf===y?-1!=t.indexOf(e):n=C(t,function(t){return t===e})},x.invoke=function(t,e){var n=a.call(arguments,2);return x.map(t,function(t){return(x.isFunction(e)?e:t[e]).apply(t,n)})},x.pluck=function(t,e){return x.map(t,function(t){return t[e]})},x.where=function(t,e){return x.isEmpty(e)?[]:x.filter(t,function(t){for(var n in e)if(e[n]!==t[n])return!1;return!0})},x.max=function(t,e,n){if(!e&&x.isArray(t)&&t[0]===+t[0]&&65535>t.length)return Math.max.apply(Math,t);if(!e&&x.isEmpty(t))return-1/0;var r={computed:-1/0};return S(t,function(t,i,o){var s=e?e.call(n,t,i,o):t;s>=r.computed&&(r={value:t,computed:s})}),r.value},x.min=function(t,e,n){if(!e&&x.isArray(t)&&t[0]===+t[0]&&65535>t.length)return Math.min.apply(Math,t);if(!e&&x.isEmpty(t))return 1/0;var r={computed:1/0};return S(t,function(t,i,o){var s=e?e.call(n,t,i,o):t;r.computed>s&&(r={value:t,computed:s})}),r.value},x.shuffle=function(t){var e,n=0,r=[];return S(t,function(t){e=x.random(n++),r[n-1]=r[e],r[e]=t}),r};var E=function(t){return x.isFunction(t)?t:function(e){return e[t]}};x.sortBy=function(t,e,n){var r=E(e);return x.pluck(x.map(t,function(t,e,i){return{value:t,index:e,criteria:r.call(n,t,e,i)}}).sort(function(t,e){var n=t.criteria,r=e.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(r>n||void 0===r)return-1}return t.index<e.index?-1:1}),"value")};var T=function(t,e,n,r){var i={},o=E(e);return S(t,function(e,s){var a=o.call(n,e,s,t);r(i,a,e)}),i};x.groupBy=function(t,e,n){return T(t,e,n,function(t,e,n){(x.has(t,e)?t[e]:t[e]=[]).push(n)})},x.countBy=function(t,e,n){return T(t,e,n,function(t,e){x.has(t,e)||(t[e]=0),t[e]++})},x.sortedIndex=function(t,e,n,r){n=null==n?x.identity:E(n);for(var i=n.call(r,e),o=0,s=t.length;s>o;){var a=o+s>>>1;i>n.call(r,t[a])?o=a+1:s=a}return o},x.toArray=function(t){return t?t.length===+t.length?a.call(t):x.values(t):[]},x.size=function(t){return t.length===+t.length?t.length:x.keys(t).length},x.first=x.head=x.take=function(t,e,n){return null==e||n?t[0]:a.call(t,0,e)},x.initial=function(t,e,n){return a.call(t,0,t.length-(null==e||n?1:e))},x.last=function(t,e,n){return null==e||n?t[t.length-1]:a.call(t,Math.max(t.length-e,0))},x.rest=x.tail=x.drop=function(t,e,n){return a.call(t,null==e||n?1:e)},x.compact=function(t){return x.filter(t,function(t){return!!t})};var $=function(t,e,n){return S(t,function(t){x.isArray(t)?e?s.apply(n,t):$(t,e,n):n.push(t)}),n};x.flatten=function(t,e){return $(t,e,[])},x.without=function(t){return x.difference(t,a.call(arguments,1))},x.uniq=x.unique=function(t,e,n,r){var i=n?x.map(t,n,r):t,o=[],s=[];return S(i,function(n,r){(e?r&&s[s.length-1]===n:x.contains(s,n))||(s.push(n),o.push(t[r]))}),o},x.union=function(){return x.uniq(l.apply(r,arguments))},x.intersection=function(t){var e=a.call(arguments,1);return x.filter(x.uniq(t),function(t){return x.every(e,function(e){return x.indexOf(e,t)>=0})})},x.difference=function(t){var e=l.apply(r,a.call(arguments,1));return x.filter(t,function(t){return!x.contains(e,t)})},x.zip=function(){for(var t=a.call(arguments),e=x.max(x.pluck(t,"length")),n=Array(e),r=0;e>r;r++)n[r]=x.pluck(t,""+r);return n},x.object=function(t,e){for(var n={},r=0,i=t.length;i>r;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n},x.indexOf=function(t,e,n){if(null==t)return-1;var r=0,i=t.length;if(n){if("number"!=typeof n)return r=x.sortedIndex(t,e),t[r]===e?r:-1;r=0>n?Math.max(0,i+n):n}if(y&&t.indexOf===y)return t.indexOf(e,n);for(;i>r;r++)if(t[r]===e)return r;return-1},x.lastIndexOf=function(t,e,n){if(null==t)return-1;var r=null!=n;if(w&&t.lastIndexOf===w)return r?t.lastIndexOf(e,n):t.lastIndexOf(e);for(var i=r?n:t.length;i--;)if(t[i]===e)return i;return-1},x.range=function(t,e,n){1>=arguments.length&&(e=t||0,t=0),n=arguments[2]||1;for(var r=Math.max(Math.ceil((e-t)/n),0),i=0,o=Array(r);r>i;)o[i++]=t,t+=n;return o};var A=function(){};x.bind=function(t,e){var n,r;if(t.bind===k&&k)return k.apply(t,a.call(arguments,1));if(!x.isFunction(t))throw new TypeError;return r=a.call(arguments,2),n=function(){if(!(this instanceof n))return t.apply(e,r.concat(a.call(arguments)));A.prototype=t.prototype;var i=new A,o=t.apply(i,r.concat(a.call(arguments)));return Object(o)===o?o:i}},x.bindAll=function(t){var e=a.call(arguments,1);return 0==e.length&&(e=x.functions(t)),S(e,function(e){t[e]=x.bind(t[e],t)}),t},x.memoize=function(t,e){var n={};return e||(e=x.identity),function(){var r=e.apply(this,arguments);return x.has(n,r)?n[r]:n[r]=t.apply(this,arguments)}},x.delay=function(t,e){var n=a.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},x.defer=function(t){return x.delay.apply(x,[t,1].concat(a.call(arguments,1)))},x.throttle=function(t,e){var n,r,i,o,s,a,l=x.debounce(function(){s=o=!1},e);return function(){n=this,r=arguments;var u=function(){i=null,s&&(a=t.apply(n,r)),l()};return i||(i=setTimeout(u,e)),o?s=!0:(o=!0,a=t.apply(n,r)),l(),a}},x.debounce=function(t,e,n){var r,i;return function(){var o=this,s=arguments,a=function(){r=null,n||(i=t.apply(o,s))},l=n&&!r;return clearTimeout(r),r=setTimeout(a,e),l&&(i=t.apply(o,s)),i}},x.once=function(t){var e,n=!1;return function(){return n?e:(n=!0,e=t.apply(this,arguments),t=null,e)}},x.wrap=function(t,e){return function(){var n=[t];return s.apply(n,arguments),e.apply(this,n)}},x.compose=function(){var t=arguments;return function(){for(var e=arguments,n=t.length-1;n>=0;n--)e=[t[n].apply(this,e)];return e[0]}},x.after=function(t,e){return 0>=t?e():function(){return 1>--t?e.apply(this,arguments):void 0}},x.keys=_||function(t){if(t!==Object(t))throw new TypeError("Invalid object");var e=[];for(var n in t)x.has(t,n)&&(e[e.length]=n);return e},x.values=function(t){var e=[];for(var n in t)x.has(t,n)&&e.push(t[n]);return e},x.pairs=function(t){var e=[];for(var n in t)x.has(t,n)&&e.push([n,t[n]]);return e},x.invert=function(t){var e={};for(var n in t)x.has(t,n)&&(e[t[n]]=n);return e},x.functions=x.methods=function(t){var e=[];for(var n in t)x.isFunction(t[n])&&e.push(n);return e.sort()},x.extend=function(t){return S(a.call(arguments,1),function(e){for(var n in e)t[n]=e[n]}),t},x.pick=function(t){var e={},n=l.apply(r,a.call(arguments,1));return S(n,function(n){n in t&&(e[n]=t[n])}),e},x.omit=function(t){var e={},n=l.apply(r,a.call(arguments,1));for(var i in t)x.contains(n,i)||(e[i]=t[i]);return e},x.defaults=function(t){return S(a.call(arguments,1),function(e){for(var n in e)null==t[n]&&(t[n]=e[n])}),t},x.clone=function(t){return x.isObject(t)?x.isArray(t)?t.slice():x.extend({},t):t},x.tap=function(t,e){return e(t),t};var P=function(t,e,n,r){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof x&&(t=t._wrapped),e instanceof x&&(e=e._wrapped);var i=u.call(t);if(i!=u.call(e))return!1;switch(i){case"[object String]":return t==e+"";case"[object Number]":return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object RegExp]":return t.source==e.source&&t.global==e.global&&t.multiline==e.multiline&&t.ignoreCase==e.ignoreCase}if("object"!=typeof t||"object"!=typeof e)return!1;for(var o=n.length;o--;)if(n[o]==t)return r[o]==e;n.push(t),r.push(e);var s=0,a=!0;if("[object Array]"==i){if(s=t.length,a=s==e.length)for(;s--&&(a=P(t[s],e[s],n,r)););}else{var l=t.constructor,c=e.constructor;if(l!==c&&!(x.isFunction(l)&&l instanceof l&&x.isFunction(c)&&c instanceof c))return!1;for(var p in t)if(x.has(t,p)&&(s++,!(a=x.has(e,p)&&P(t[p],e[p],n,r))))break;if(a){for(p in e)if(x.has(e,p)&&!s--)break;a=!s}}return n.pop(),r.pop(),a};x.isEqual=function(t,e){return P(t,e,[],[])},x.isEmpty=function(t){if(null==t)return!0;if(x.isArray(t)||x.isString(t))return 0===t.length;for(var e in t)if(x.has(t,e))return!1;return!0},x.isElement=function(t){return!(!t||1!==t.nodeType)},x.isArray=b||function(t){return"[object Array]"==u.call(t)},x.isObject=function(t){return t===Object(t)},S(["Arguments","Function","String","Number","Date","RegExp"],function(t){x["is"+t]=function(e){return u.call(e)=="[object "+t+"]"}}),x.isArguments(arguments)||(x.isArguments=function(t){return!(!t||!x.has(t,"callee"))}),x.isFunction=function(t){return"function"==typeof t},x.isFinite=function(t){return x.isNumber(t)&&isFinite(t)},x.isNaN=function(t){return x.isNumber(t)&&t!=+t},x.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"==u.call(t)},x.isNull=function(t){return null===t},x.isUndefined=function(t){return void 0===t},x.has=function(t,e){return c.call(t,e)},x.noConflict=function(){return t._=e,this},x.identity=function(t){return t},x.times=function(t,e,n){for(var r=0;t>r;r++)e.call(n,r)},x.random=function(t,e){return null==e&&(e=t,t=0),t+(0|Math.random()*(e-t+1))};var D={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};D.unescape=x.invert(D.escape);var I={escape:RegExp("["+x.keys(D.escape).join("")+"]","g"),unescape:RegExp("("+x.keys(D.unescape).join("|")+")","g")};x.each(["escape","unescape"],function(t){x[t]=function(e){return null==e?"":(""+e).replace(I[t],function(e){return D[t][e]})}}),x.result=function(t,e){if(null==t)return null;var n=t[e];return x.isFunction(n)?n.call(t):n},x.mixin=function(t){S(x.functions(t),function(e){var n=x[e]=t[e];x.prototype[e]=function(){var t=[this._wrapped];return s.apply(t,arguments),F.call(this,n.apply(x,t))}})};var L=0;x.uniqueId=function(t){var e=L++;return t?t+e:e},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var O=/(.)^/,R={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},j=/\\|'|\r|\n|\t|\u2028|\u2029/g;x.template=function(t,e,n){n=x.defaults({},n,x.templateSettings);var r=RegExp([(n.escape||O).source,(n.interpolate||O).source,(n.evaluate||O).source].join("|")+"|$","g"),i=0,o="__p+='";t.replace(r,function(e,n,r,s,a){o+=t.slice(i,a).replace(j,function(t){return"\\"+R[t]}),o+=n?"'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?"'+\n((__t=("+r+"))==null?'':__t)+\n'":s?"';\n"+s+"\n__p+='":"",i=a+e.length}),o+="';\n",n.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var s=Function(n.variable||"obj","_",o)}catch(a){throw a.source=o,a}if(e)return s(e,x);var l=function(t){return s.call(this,t,x)};return l.source="function("+(n.variable||"obj")+"){\n"+o+"}",l},x.chain=function(t){return x(t).chain()};var F=function(t){return this._chain?x(t).chain():t};x.mixin(x),S(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=r[t];x.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!=t&&"splice"!=t||0!==n.length||delete n[0],F.call(this,n)}}),S(["concat","join","slice"],function(t){var e=r[t];x.prototype[t]=function(){return F.call(this,e.apply(this._wrapped,arguments))}}),x.extend(x.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),function(){var t,e=this,n=e.Backbone,r=Array.prototype.slice,i=Array.prototype.splice;t="undefined"!=typeof exports?exports:e.Backbone={},t.VERSION="0.9.2";var o=e._;o||"undefined"==typeof require||(o=require("underscore"));var s=e.jQuery||e.Zepto||e.ender;t.setDomLibrary=function(t){s=t},t.noConflict=function(){return e.Backbone=n,this},t.emulateHTTP=!1,t.emulateJSON=!1;var a=/\s+/,l=t.Events={on:function(t,e,n){var r,i,o,s,l;if(!e)return this;for(t=t.split(a),r=this._callbacks||(this._callbacks={});i=t.shift();)l=r[i],o=l?l.tail:{},o.next=s={},o.context=n,o.callback=e,r[i]={tail:s,next:l?l.next:o};return this},off:function(t,e,n){var r,i,s,l,u,c;if(i=this._callbacks){if(!(t||e||n))return delete this._callbacks,this;for(t=t?t.split(a):o.keys(i);r=t.shift();)if(s=i[r],delete i[r],s&&(e||n))for(l=s.tail;(s=s.next)!==l;)u=s.callback,c=s.context,(e&&u!==e||n&&c!==n)&&this.on(r,u,c);return this}},trigger:function(t){var e,n,i,o,s,l,u;if(!(i=this._callbacks))return this;for(l=i.all,t=t.split(a),u=r.call(arguments,1);e=t.shift();){if(n=i[e])for(o=n.tail;(n=n.next)!==o;)n.callback.apply(n.context||this,u);if(n=l)for(o=n.tail,s=[e].concat(u);(n=n.next)!==o;)n.callback.apply(n.context||this,s)}return this}};l.bind=l.on,l.unbind=l.off;var u=t.Model=function(t,e){var n;t||(t={}),e&&e.parse&&(t=this.parse(t)),(n=E(this,"defaults"))&&(t=o.extend({},n,t)),e&&e.collection&&(this.collection=e.collection),this.attributes={},this._escapedAttributes={},this.cid=o.uniqueId("c"),this.changed={},this._silent={},this._pending={},this.set(t,{silent:!0}),this.changed={},this._silent={},this._pending={},this._previousAttributes=o.clone(this.attributes),this.initialize.apply(this,arguments)};o.extend(u.prototype,l,{changed:null,_silent:null,_pending:null,idAttribute:"id",initialize:function(){},toJSON:function(){return o.clone(this.attributes)},get:function(t){return this.attributes[t]},escape:function(t){var e;if(e=this._escapedAttributes[t])return e;var n=this.get(t);return this._escapedAttributes[t]=o.escape(null==n?"":""+n)},has:function(t){return null!=this.get(t)},set:function(t,e,n){var r,i,s;if(o.isObject(t)||null==t?(r=t,n=e):(r={},r[t]=e),n||(n={}),!r)return this;if(r instanceof u&&(r=r.attributes),n.unset)for(i in r)r[i]=void 0;if(!this._validate(r,n))return!1;this.idAttribute in r&&(this.id=r[this.idAttribute]);var a=n.changes={},l=this.attributes,c=this._escapedAttributes,p=this._previousAttributes||{};for(i in r)s=r[i],(!o.isEqual(l[i],s)||n.unset&&o.has(l,i))&&(delete c[i],(n.silent?this._silent:a)[i]=!0),n.unset?delete l[i]:l[i]=s,o.isEqual(p[i],s)&&o.has(l,i)==o.has(p,i)?(delete this.changed[i],delete this._pending[i]):(this.changed[i]=s,n.silent||(this._pending[i]=!0));return n.silent||this.change(n),this},unset:function(t,e){return(e||(e={})).unset=!0,this.set(t,null,e)},clear:function(t){return(t||(t={})).unset=!0,this.set(o.clone(this.attributes),t)},fetch:function(e){e=e?o.clone(e):{};var n=this,r=e.success;return e.success=function(t,i,o){return n.set(n.parse(t,o),e)?(r&&r(n,t),void 0):!1},e.error=t.wrapError(e.error,n,e),(this.sync||t.sync).call(this,"read",this,e)},save:function(e,n,r){var i,s;if(o.isObject(e)||null==e?(i=e,r=n):(i={},i[e]=n),r=r?o.clone(r):{},r.wait){if(!this._validate(i,r))return!1;s=o.clone(this.attributes)}var a=o.extend({},r,{silent:!0});if(i&&!this.set(i,r.wait?a:r))return!1;var l=this,u=r.success;r.success=function(t,e,n){var s=l.parse(t,n);return r.wait&&(delete r.wait,s=o.extend(i||{},s)),l.set(s,r)?(u?u(l,t):l.trigger("sync",l,t,r),void 0):!1},r.error=t.wrapError(r.error,l,r);var c=this.isNew()?"create":"update",p=(this.sync||t.sync).call(this,c,this,r);return r.wait&&this.set(s,a),p},destroy:function(e){e=e?o.clone(e):{};var n=this,r=e.success,i=function(){n.trigger("destroy",n,n.collection,e)};if(this.isNew())return i(),!1;e.success=function(t){e.wait&&i(),r?r(n,t):n.trigger("sync",n,t,e)},e.error=t.wrapError(e.error,n,e);var s=(this.sync||t.sync).call(this,"delete",this,e);return e.wait||i(),s},url:function(){var t=E(this,"urlRoot")||E(this.collection,"url")||T();return this.isNew()?t:t+("/"==t.charAt(t.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(t){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},change:function(t){t||(t={});var e=this._changing;this._changing=!0;for(var n in this._silent)this._pending[n]=!0;var r=o.extend({},t.changes,this._silent);this._silent={};for(var n in r)this.trigger("change:"+n,this,this.get(n),t);if(e)return this;for(;!o.isEmpty(this._pending);){this._pending={},this.trigger("change",this,t);for(var n in this.changed)this._pending[n]||this._silent[n]||delete this.changed[n];this._previousAttributes=o.clone(this.attributes)}return this._changing=!1,this},hasChanged:function(t){return arguments.length?o.has(this.changed,t):!o.isEmpty(this.changed)},changedAttributes:function(t){if(!t)return this.hasChanged()?o.clone(this.changed):!1;var e,n=!1,r=this._previousAttributes;for(var i in t)o.isEqual(r[i],e=t[i])||((n||(n={}))[i]=e);return n},previous:function(t){return arguments.length&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return o.clone(this._previousAttributes)},isValid:function(){return!this.validate(this.attributes)},_validate:function(t,e){if(e.silent||!this.validate)return!0;t=o.extend({},this.attributes,t);var n=this.validate(t,e);return n?(e&&e.error?e.error(this,n,e):this.trigger("error",this,n,e),!1):!0}});var c=t.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,{silent:!0,parse:e.parse})};o.extend(c.prototype,l,{model:u,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},add:function(t,e){var n,r,s,a,l,u,c={},p={},d=[];for(e||(e={}),t=o.isArray(t)?t.slice():[t],n=0,s=t.length;s>n;n++){if(!(a=t[n]=this._prepareModel(t[n],e)))throw Error("Can't add an invalid model to a collection");l=a.cid,u=a.id,c[l]||this._byCid[l]||null!=u&&(p[u]||this._byId[u])?d.push(n):c[l]=p[u]=a}for(n=d.length;n--;)t.splice(d[n],1);for(n=0,s=t.length;s>n;n++)(a=t[n]).on("all",this._onModelEvent,this),this._byCid[a.cid]=a,null!=a.id&&(this._byId[a.id]=a);if(this.length+=s,r=null!=e.at?e.at:this.models.length,i.apply(this.models,[r,0].concat(t)),this.comparator&&this.sort({silent:!0}),e.silent)return this;for(n=0,s=this.models.length;s>n;n++)c[(a=this.models[n]).cid]&&(e.index=n,a.trigger("add",a,this,e));return this},remove:function(t,e){var n,r,i,s;for(e||(e={}),t=o.isArray(t)?t.slice():[t],n=0,r=t.length;r>n;n++)s=this.getByCid(t[n])||this.get(t[n]),s&&(delete this._byId[s.id],delete this._byCid[s.cid],i=this.indexOf(s),this.models.splice(i,1),this.length--,e.silent||(e.index=i,s.trigger("remove",s,this,e)),this._removeReference(s));return this},push:function(t,e){return t=this._prepareModel(t,e),this.add(t,e),t},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t),e},unshift:function(t,e){return t=this._prepareModel(t,e),this.add(t,o.extend({at:0},e)),t},shift:function(t){var e=this.at(0);return this.remove(e,t),e},get:function(t){return null==t?void 0:this._byId[null!=t.id?t.id:t]},getByCid:function(t){return t&&this._byCid[t.cid||t]},at:function(t){return this.models[t]},where:function(t){return o.isEmpty(t)?[]:this.filter(function(e){for(var n in t)if(t[n]!==e.get(n))return!1;return!0})},sort:function(t){if(t||(t={}),!this.comparator)throw Error("Cannot sort a set without a comparator");var e=o.bind(this.comparator,this);return 1==this.comparator.length?this.models=this.sortBy(e):this.models.sort(e),t.silent||this.trigger("reset",this,t),this},pluck:function(t){return o.map(this.models,function(e){return e.get(t)})},reset:function(t,e){t||(t=[]),e||(e={});for(var n=0,r=this.models.length;r>n;n++)this._removeReference(this.models[n]);return this._reset(),this.add(t,o.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),this},fetch:function(e){e=e?o.clone(e):{},void 0===e.parse&&(e.parse=!0);var n=this,r=e.success;return e.success=function(t,i,o){n[e.add?"add":"reset"](n.parse(t,o),e),r&&r(n,t)},e.error=t.wrapError(e.error,n,e),(this.sync||t.sync).call(this,"read",this,e)},create:function(t,e){var n=this;if(e=e?o.clone(e):{},t=this._prepareModel(t,e),!t)return!1;e.wait||n.add(t,e);var r=e.success;return e.success=function(i,o){e.wait&&n.add(i,e),r?r(i,o):i.trigger("sync",t,o,e)},t.save(null,e),t},parse:function(t){return t},chain:function(){return o(this.models).chain()},_reset:function(){this.length=0,this.models=[],this._byId={},this._byCid={}},_prepareModel:function(t,e){if(e||(e={}),t instanceof u)t.collection||(t.collection=this);else{var n=t;e.collection=this,t=new this.model(n,e),t._validate(t.attributes,e)||(t=!1)}return t},_removeReference:function(t){this==t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,n,r){("add"!=t&&"remove"!=t||n==this)&&("destroy"==t&&this.remove(e,r),e&&t==="change:"+e.idAttribute&&(delete this._byId[e.previous(e.idAttribute)],this._byId[e.id]=e),this.trigger.apply(this,arguments))}});var p=["forEach","each","map","reduce","reduceRight","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","sortBy","sortedIndex","toArray","size","first","initial","rest","last","without","indexOf","shuffle","lastIndexOf","isEmpty","groupBy"];o.each(p,function(t){c.prototype[t]=function(){return o[t].apply(o,[this.models].concat(o.toArray(arguments)))}});var d=t.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},h=/:\w+/g,f=/\*\w+/g,m=/[-[\]{}()+?.,\\^$|#\s]/g;o.extend(d.prototype,l,{initialize:function(){},route:function(e,n,r){return t.history||(t.history=new v),o.isRegExp(e)||(e=this._routeToRegExp(e)),r||(r=this[n]),t.history.route(e,o.bind(function(i){var o=this._extractParameters(e,i);r&&r.apply(this,o),this.trigger.apply(this,["route:"+n].concat(o)),t.history.trigger("route",this,n,o)},this)),this},navigate:function(e,n){t.history.navigate(e,n)},_bindRoutes:function(){if(this.routes){var t=[];for(var e in this.routes)t.unshift([e,this.routes[e]]);for(var n=0,r=t.length;r>n;n++)this.route(t[n][0],t[n][1],this[t[n][1]])}},_routeToRegExp:function(t){return t=t.replace(m,"\\$&").replace(h,"([^/]+)").replace(f,"(.*?)"),RegExp("^"+t+"$")},_extractParameters:function(t,e){return t.exec(e).slice(1)}});var v=t.History=function(){this.handlers=[],o.bindAll(this,"checkUrl")},g=/^[#\/]/,y=/msie [\w.]+/;v.started=!1,o.extend(v.prototype,l,{interval:50,getHash:function(t){var e=t?t.location:window.location,n=e.href.match(/#(.*)$/);return n?n[1]:""},getFragment:function(t,e){if(null==t)if(this._hasPushState||e){t=window.location.pathname;var n=window.location.search;n&&(t+=n)}else t=this.getHash();return t.indexOf(this.options.root)||(t=t.substr(this.options.root.length)),t.replace(g,"")},start:function(t){if(v.started)throw Error("Backbone.history has already been started");v.started=!0,this.options=o.extend({},{root:"/"},this.options,t),this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&window.history&&window.history.pushState);var e=this.getFragment(),n=document.documentMode,r=y.exec(navigator.userAgent.toLowerCase())&&(!n||7>=n);r&&(this.iframe=s('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(e)),this._hasPushState?s(window).bind("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!r?s(window).bind("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=e;var i=window.location,a=i.pathname==this.options.root;return this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!a?(this.fragment=this.getFragment(null,!0),window.location.replace(this.options.root+"#"+this.fragment),!0):(this._wantsPushState&&this._hasPushState&&a&&i.hash&&(this.fragment=this.getHash().replace(g,""),window.history.replaceState({},document.title,i.protocol+"//"+i.host+this.options.root+this.fragment)),this.options.silent?void 0:this.loadUrl())},stop:function(){s(window).unbind("popstate",this.checkUrl).unbind("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),v.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(){var t=this.getFragment();return t==this.fragment&&this.iframe&&(t=this.getFragment(this.getHash(this.iframe))),t==this.fragment?!1:(this.iframe&&this.navigate(t),this.loadUrl()||this.loadUrl(this.getHash()),void 0)},loadUrl:function(t){var e=this.fragment=this.getFragment(t),n=o.any(this.handlers,function(t){return t.route.test(e)?(t.callback(e),!0):void 0});return n},navigate:function(t,e){if(!v.started)return!1;e&&e!==!0||(e={trigger:e});var n=(t||"").replace(g,"");this.fragment!=n&&(this._hasPushState?(0!=n.indexOf(this.options.root)&&(n=this.options.root+n),this.fragment=n,window.history[e.replace?"replaceState":"pushState"]({},document.title,n)):this._wantsHashChange?(this.fragment=n,this._updateHash(window.location,n,e.replace),this.iframe&&n!=this.getFragment(this.getHash(this.iframe))&&(e.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,n,e.replace))):window.location.assign(this.options.root+t),e.trigger&&this.loadUrl(t))},_updateHash:function(t,e,n){n?t.replace((""+t).replace(/(javascript:|#).*$/,"")+"#"+e):t.hash=e}});var w=t.View=function(t){this.cid=o.uniqueId("view"),this._configure(t||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},b=/^(\S+)\s*(.*)$/,_=["model","collection","el","id","attributes","className","tagName"];o.extend(w.prototype,l,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this},make:function(t,e,n){var r=document.createElement(t);return e&&s(r).attr(e),n&&s(r).html(n),r},setElement:function(t,e){return this.$el&&this.undelegateEvents(),this.$el=t instanceof s?t:s(t),this.el=this.$el[0],e!==!1&&this.delegateEvents(),this},delegateEvents:function(t){if(t||(t=E(this,"events"))){this.undelegateEvents();for(var e in t){var n=t[e];if(o.isFunction(n)||(n=this[t[e]]),!n)throw Error('Method "'+t[e]+'" does not exist');var r=e.match(b),i=r[1],s=r[2];n=o.bind(n,this),i+=".delegateEvents"+this.cid,""===s?this.$el.bind(i,n):this.$el.delegate(s,i,n)}}},undelegateEvents:function(){this.$el.unbind(".delegateEvents"+this.cid)},_configure:function(t){this.options&&(t=o.extend({},this.options,t));for(var e=0,n=_.length;n>e;e++){var r=_[e];t[r]&&(this[r]=t[r])}this.options=t},_ensureElement:function(){if(this.el)this.setElement(this.el,!1);else{var t=E(this,"attributes")||{};this.id&&(t.id=this.id),this.className&&(t["class"]=this.className),this.setElement(this.make(this.tagName,t),!1)}}});var k=function(t,e){var n=C(this,t,e);return n.extend=this.extend,n};u.extend=c.extend=d.extend=w.extend=k;var x={create:"POST",update:"PUT","delete":"DELETE",read:"GET"};t.sync=function(e,n,r){var i=x[e];r||(r={});var a={type:i,dataType:"json"};return r.url||(a.url=E(n,"url")||T()),r.data||!n||"create"!=e&&"update"!=e||(a.contentType="application/json",a.data=JSON.stringify(n.toJSON())),t.emulateJSON&&(a.contentType="application/x-www-form-urlencoded",a.data=a.data?{model:a.data}:{}),t.emulateHTTP&&("PUT"===i||"DELETE"===i)&&(t.emulateJSON&&(a.data._method=i),a.type="POST",a.beforeSend=function(t){t.setRequestHeader("X-HTTP-Method-Override",i)}),"GET"===a.type||t.emulateJSON||(a.processData=!1),s.ajax(o.extend(a,r))},t.wrapError=function(t,e,n){return function(r,i){i=r===e?i:r,t?t(e,i,n):e.trigger("error",e,i,n)}};var S=function(){},C=function(t,e,n){var r;return r=e&&e.hasOwnProperty("constructor")?e.constructor:function(){t.apply(this,arguments)},o.extend(r,t),S.prototype=t.prototype,r.prototype=new S,e&&o.extend(r.prototype,e),n&&o.extend(r,n),r.prototype.constructor=r,r.__super__=t.prototype,r},E=function(t,e){return t&&t[e]?o.isFunction(t[e])?t[e]():t[e]:null},T=function(){throw Error('A "url" property or function must be specified')}}.call(this),function(){"use strict";var t={}.hasOwnProperty,e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e},n=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1},r=function(t,e){return function(){return t.apply(e,arguments)}},i=[].slice;require.define({jquery:function(t,e,n){return n.exports=$},underscore:function(t,e,n){return n.exports=_},backbone:function(t,e,n){return n.exports=Backbone}}),require.define({"chaplin/application":function(t,e,n){var r,i,o,s,a,l,u;return i=e("backbone"),u=e("chaplin/mediator"),o=e("chaplin/dispatcher"),a=e("chaplin/views/layout"),l=e("chaplin/lib/router"),s=e("chaplin/lib/event_broker"),n.exports=r=function(){function t(){}return t.extend=i.Model.extend,_(t.prototype).extend(s),t.prototype.title="",t.prototype.dispatcher=null,t.prototype.layout=null,t.prototype.router=null,t.prototype.initialize=function(){},t.prototype.initDispatcher=function(t){return this.dispatcher=new o(t)},t.prototype.initLayout=function(t){var e;return null==t&&(t={}),null==(e=t.title)&&(t.title=this.title),this.layout=new a(t)},t.prototype.initRouter=function(t,e){return this.router=new l(e),"function"==typeof t&&t(this.router.match),this.router.startHistory()},t.prototype.disposed=!1,t.prototype.dispose=function(){var t,e,n,r;if(!this.disposed){for(e=["dispatcher","layout","router"],n=0,r=e.length;r>n;n++)t=e[n],null!=this[t]&&(this[t].dispose(),delete this[t]);
return this.disposed=!0,"function"==typeof Object.freeze?Object.freeze(this):void 0}},t}()}}),require.define({"chaplin/mediator":function(t,e,n){var r,i,o,s,a;return a=e("underscore"),r=e("backbone"),o=e("chaplin/lib/support"),s=e("chaplin/lib/utils"),i={},i.subscribe=r.Events.on,i.unsubscribe=r.Events.off,i.publish=r.Events.trigger,i.on=i.subscribe,i._callbacks=null,s.readonly(i,"subscribe","unsubscribe","publish","on"),i.seal=function(){return o.propertyDescriptors&&Object.seal?Object.seal(i):void 0},s.readonly(i,"seal"),n.exports=i}}),require.define({"chaplin/dispatcher":function(t,e,n){var r,i,o,s,a;return a=e("underscore"),r=e("backbone"),s=e("chaplin/lib/utils"),o=e("chaplin/lib/event_broker"),n.exports=i=function(){function t(){this.initialize.apply(this,arguments)}return t.extend=r.Model.extend,a(t.prototype).extend(o),t.prototype.previousControllerName=null,t.prototype.currentControllerName=null,t.prototype.currentController=null,t.prototype.currentAction=null,t.prototype.currentParams=null,t.prototype.url=null,t.prototype.initialize=function(t){return null==t&&(t={}),this.settings=a(t).defaults({controllerPath:"controllers/",controllerSuffix:"_controller"}),this.subscribeEvent("matchRoute",this.matchRoute),this.subscribeEvent("!startupController",this.startupController)},t.prototype.matchRoute=function(t,e,n){return this.startupController(t.controller,t.action,e,n)},t.prototype.startupController=function(t,e,n,r){var i,o;return null==e&&(e="index"),null==n&&(n={}),null==r&&(r={}),r.changeURL!==!1&&(r.changeURL=!0),r.forceStartup!==!0&&(r.forceStartup=!1),(o=!r.forceStartup&&this.currentControllerName===t&&this.currentAction===e&&(!this.currentParams||a(n).isEqual(this.currentParams)))?void 0:(i=a(this.controllerLoaded).bind(this,t,e,n,r),this.loadController(t,i))},t.prototype.loadController=function(t,n){var r,i;return r=s.underscorize(t)+this.settings.controllerSuffix,i=this.settings.controllerPath+r,("undefined"!=typeof define&&null!==define?define.amd:void 0)?e([i],n):n(e(i))},t.prototype.controllerLoaded=function(t,e,n,r,i){var o,s,a;return a=this.currentControllerName||null,s=this.currentController||null,s&&(this.publishEvent("beforeControllerDispose",s),s.dispose(n,t)),o=new i(n,a),o[e](n,a),o.redirected?void 0:(this.previousControllerName=a,this.currentControllerName=t,this.currentController=o,this.currentAction=e,this.currentParams=n,this.adjustURL(o,n,r),this.publishEvent("startupController",{previousControllerName:this.previousControllerName,controller:this.currentController,controllerName:this.currentControllerName,params:this.currentParams}))},t.prototype.adjustURL=function(t,e,n){var r;if("string"==typeof n.path)r=n.path;else if("function"==typeof t.historyURL)r=t.historyURL(e);else{if("string"!=typeof t.historyURL)throw Error("Dispatcher#adjustURL: controller for "+(""+this.currentControllerName+" does not provide a historyURL"));r=t.historyURL}return n.changeURL&&this.publishEvent("!router:changeURL",r,n),this.url=r},t.prototype.disposed=!1,t.prototype.dispose=function(){return this.disposed?void 0:(this.unsubscribeAllEvents(),this.disposed=!0,"function"==typeof Object.freeze?Object.freeze(this):void 0)},t}()}}),require.define({"chaplin/controllers/controller":function(e,n,r){var i,o,s,a;return a=n("underscore"),i=n("backbone"),s=n("chaplin/lib/event_broker"),r.exports=o=function(){function e(){this.initialize.apply(this,arguments)}return e.extend=i.Model.extend,a(e.prototype).extend(s),e.prototype.view=null,e.prototype.currentId=null,e.prototype.redirected=!1,e.prototype.initialize=function(){},e.prototype.redirectTo=function(t,e,n,r){return this.redirected=!0,1===arguments.length?this.publishEvent("!router:route",t,{},function(t){if(!t)throw Error("Controller#redirectTo: no route matched")}):this.publishEvent("!startupController",t,e,n,r)},e.prototype.disposed=!1,e.prototype.dispose=function(){var e,n,r,i,o;if(!this.disposed){for(n in this)t.call(this,n)&&(e=this[n],e&&"function"==typeof e.dispose&&(e.dispose(),delete this[n]));for(this.unsubscribeAllEvents(),r=["currentId","redirected"],i=0,o=r.length;o>i;i++)n=r[i],delete this[n];return this.disposed=!0,"function"==typeof Object.freeze?Object.freeze(this):void 0}},e}()}}),require.define({"chaplin/models/collection":function(t,n,r){var i,o,s,a,l;return l=n("underscore"),i=n("backbone"),s=n("chaplin/lib/event_broker"),a=n("chaplin/models/model"),r.exports=o=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),l(n.prototype).extend(s),n.prototype.model=a,n.prototype.initDeferred=function(){return l(this).extend($.Deferred())},n.prototype.serialize=function(){var t,e,n,r,i;for(r=this.models,i=[],e=0,n=r.length;n>e;e++)t=r[e],t instanceof a?i.push(t.serialize()):i.push(t.toJSON());return i},n.prototype.addAtomic=function(t,e){var n,r;if(null==e&&(e={}),t.length){for(e.silent=!0,n="number"==typeof e.at?"pop":"shift";r=t[n]();)this.add(r,e);return this.trigger("reset")}},n.prototype.update=function(t,e){var n,r,i,o,s,a,u,c,p;if(null==e&&(e={}),n=this.pluck("id").join(),i=l(t).pluck("id"),s=i.join(),s!==n)for(c=l(i),r=this.models.length;r--;)o=this.models[r],c.include(o.id)||this.remove(o);if(s!==n||e.deep)for(r=u=0,p=t.length;p>u;r=++u)o=t[r],a=this.get(o.id),a?e.deep&&a.set(o):this.add(o,{at:r})},n.prototype.disposed=!1,n.prototype.dispose=function(){var t,e,n,r;if(!this.disposed){for(this.trigger("dispose",this),this.reset([],{silent:!0}),this.unsubscribeAllEvents(),this.off(),"function"==typeof this.reject&&this.reject(),e=["model","models","_byId","_byCid","_callbacks"],n=0,r=e.length;r>n;n++)t=e[n],delete this[t];return this.disposed=!0,"function"==typeof Object.freeze?Object.freeze(this):void 0}},n}(i.Collection)}}),require.define({"chaplin/models/model":function(t,r,i){var o,s,a,l,u;return u=r("underscore"),o=r("backbone"),l=r("chaplin/lib/utils"),s=r("chaplin/lib/event_broker"),i.exports=a=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}var i,a;return e(r,t),u(r.prototype).extend(s),r.prototype.initDeferred=function(){return u(this).extend($.Deferred())},r.prototype.getAttributes=function(){return this.attributes},i=function(t,e,n){var r,i,s,u,c,p,d,h;r=l.beget(e),n?n.push(t):n=[t];for(i in e)if(c=e[i],c instanceof o.Model)r[i]=a(c,t,n);else if(c instanceof o.Collection){for(u=[],h=c.models,p=0,d=h.length;d>p;p++)s=h[p],u.push(a(s,t,n));r[i]=u}return n.pop(),r},a=function(t,e,r){var o;return t===e||n.call(r,t)>=0?null:(o="function"==typeof t.getAttributes?t.getAttributes():t.attributes,i(t,o,r))},r.prototype.serialize=function(){return i(this,this.getAttributes())},r.prototype.disposed=!1,r.prototype.dispose=function(){var t,e,n,r;if(!this.disposed){for(this.trigger("dispose",this),this.unsubscribeAllEvents(),this.off(),"function"==typeof this.reject&&this.reject(),e=["collection","attributes","changed","_escapedAttributes","_previousAttributes","_silent","_pending","_callbacks"],n=0,r=e.length;r>n;n++)t=e[n],delete this[t];return this.disposed=!0,"function"==typeof Object.freeze?Object.freeze(this):void 0}},r}(o.Model)}}),require.define({"chaplin/views/layout":function(t,e,n){var i,o,s,a,l,u;return i=e("jquery"),u=e("underscore"),o=e("backbone"),l=e("chaplin/lib/utils"),s=e("chaplin/lib/event_broker"),n.exports=a=function(){function t(){this.openLink=r(this.openLink,this),this.initialize.apply(this,arguments)}return t.extend=o.Model.extend,u(t.prototype).extend(s),t.prototype.title="",t.prototype.events={},t.prototype.el=document,t.prototype.$el=i(document),t.prototype.cid="chaplin-layout",t.prototype.initialize=function(t){return null==t&&(t={}),this.title=t.title,this.settings=u(t).defaults({titleTemplate:u.template("<%= subtitle %> â€“ <%= title %>"),openExternalToBlank:!1,routeLinks:"a, .go-to",skipRouting:".noscript",scrollTo:[0,0]}),this.subscribeEvent("beforeControllerDispose",this.hideOldView),this.subscribeEvent("startupController",this.showNewView),this.subscribeEvent("startupController",this.adjustTitle),this.settings.routeLinks&&this.startLinkRouting(),this.delegateEvents()},t.prototype.delegateEvents=o.View.prototype.delegateEvents,t.prototype.undelegateEvents=o.View.prototype.undelegateEvents,t.prototype.hideOldView=function(t){var e,n;return e=this.settings.scrollTo,e&&window.scrollTo(e[0],e[1]),n=t.view,n?n.$el.css("display","none"):void 0},t.prototype.showNewView=function(t){var e;return e=t.controller.view,e?e.$el.css({display:"block",opacity:1,visibility:"visible"}):void 0},t.prototype.adjustTitle=function(t){var e,n;return n=this.title||"",e=t.controller.title||"",n=this.settings.titleTemplate({title:n,subtitle:e}),setTimeout(function(){return document.title=n},50)},t.prototype.startLinkRouting=function(){return this.settings.routeLinks?i(document).on("click",this.settings.routeLinks,this.openLink):void 0},t.prototype.stopLinkRouting=function(){return this.settings.routeLinks?i(document).off("click",this.settings.routeLinks):void 0},t.prototype.openLink=function(t){var e,n,r,o,s,a,u,c,p,d;if(!(l.modifierKeyPressed(t)||(n=t.currentTarget,e=i(n),s="A"===n.nodeName,r=e.attr("href")||e.data("href")||null,null===r||void 0===r||""===r||"#"===r.charAt(0)||s&&("_blank"===e.attr("target")||"external"===e.attr("rel")||"http:"!==(p=n.protocol)&&"https:"!==p&&"file:"!==p)||(u=this.settings.skipRouting,c=typeof u,"function"===c&&!u(r,n)||"string"===c&&e.is(u))))){if(o=!s||(d=n.hostname)===location.hostname||""===d,!o)return this.settings.openExternalToBlank&&(t.preventDefault(),window.open(n.href)),void 0;s?(a=n.pathname+n.search,"/"!==a.charAt(0)&&(a="/"+a)):a=r,this.publishEvent("!router:route",a,{},function(e){e?t.preventDefault():s||(location.href=a)})}},t.prototype.disposed=!1,t.prototype.dispose=function(){return this.disposed?void 0:(this.stopLinkRouting(),this.unsubscribeAllEvents(),this.undelegateEvents(),delete this.title,this.disposed=!0,"function"==typeof Object.freeze?Object.freeze(this):void 0)},t}()}}),require.define({"chaplin/views/view":function(t,n,r){var i,o,s,a,l,u,c,p;return i=n("jquery"),p=n("underscore"),o=n("backbone"),c=n("chaplin/lib/utils"),a=n("chaplin/lib/event_broker"),l=n("chaplin/models/model"),s=n("chaplin/models/collection"),r.exports=u=function(t){function n(t){this.initialize!==n.prototype.initialize&&c.wrapMethod(this,"initialize"),this.render!==n.prototype.render?c.wrapMethod(this,"render"):this.render=p(this.render).bind(this),t&&p(this).extend(p.pick(t,["autoRender","container","containerMethod"])),n.__super__.constructor.apply(this,arguments)}return e(n,t),p(n.prototype).extend(a),n.prototype.autoRender=!1,n.prototype.container=null,n.prototype.containerMethod="append",n.prototype.subviews=null,n.prototype.subviewsByName=null,n.prototype.initialize=function(){return this.subviews=[],this.subviewsByName={},(this.model||this.collection)&&this.modelBind("dispose",this.dispose),this.initializeIsWrapped?void 0:this.afterInitialize()},n.prototype.afterInitialize=function(){return this.autoRender?this.render():void 0},n.prototype.delegate=function(t,e,n){var r,i,o,s,a;if("string"!=typeof t)throw new TypeError("View#delegate: first argument must be a string");if(2===arguments.length)o=e;else{if(3!==arguments.length)throw new TypeError("View#delegate: only two or three arguments are allowed");if(a=e,"string"!=typeof a)throw new TypeError("View#delegate: second argument must be a string");o=n}if("function"!=typeof o)throw new TypeError("View#delegate: handler argument must be function");return s=function(){var e,n,i,o;for(i=t.split(" "),o=[],e=0,n=i.length;n>e;e++)r=i[e],o.push(""+r+".delegate"+this.cid);return o}.call(this),i=s.join(" "),o=p(o).bind(this),a?this.$el.on(i,a,o):this.$el.on(i,o),o},n.prototype.undelegate=function(){return this.$el.unbind(".delegate"+this.cid)},n.prototype.modelBind=function(t,e){var n;if("string"!=typeof t)throw new TypeError("View#modelBind: type must be a string");if("function"!=typeof e)throw new TypeError("View#modelBind: handler argument must be function");if(n=this.model||this.collection,!n)throw new TypeError("View#modelBind: no model or collection set");return n.off(t,e,this),n.on(t,e,this)},n.prototype.modelUnbind=function(t,e){var n;if("string"!=typeof t)throw new TypeError("View#modelUnbind: type argument must be a string");if("function"!=typeof e)throw new TypeError("View#modelUnbind: handler argument must be a function");return(n=this.model||this.collection)?n.off(t,e):void 0},n.prototype.modelUnbindAll=function(){var t;return(t=this.model||this.collection)?t.off(null,null,this):void 0},n.prototype.pass=function(t,e){var n=this;return this.modelBind("change:"+t,function(t,r){var i;return i=n.$(e),i.is("input, textarea, select, button")?i.val(r):i.text(r)})},n.prototype.subview=function(t,e){return t&&e?(this.removeSubview(t),this.subviews.push(e),this.subviewsByName[t]=e,e):t?this.subviewsByName[t]:void 0},n.prototype.removeSubview=function(t){var e,n,r,i,o,s;if(t){if("string"==typeof t)n=t,o=this.subviewsByName[n];else{o=t,s=this.subviewsByName;for(r in s)if(i=s[r],o===i){n=r;break}}if(n&&o&&o.dispose)return o.dispose(),e=p(this.subviews).indexOf(o),e>-1&&this.subviews.splice(e,1),delete this.subviewsByName[n]}},n.prototype.getTemplateData=function(){var t,e,n,r,i,o,a;if(this.model)r=this.model instanceof l?this.model.serialize():c.beget(this.model.attributes);else if(this.collection){if(this.collection instanceof s)t=this.collection.serialize();else for(t=[],a=this.collection.models,i=0,o=a.length;o>i;i++)e=a[i],t.push(c.beget(e.attributes));r={items:t}}else r={};return n=this.model||this.collection,n&&("function"!=typeof n.state||"resolved"in r||(r.resolved="resolved"===n.state()),"function"!=typeof n.isSynced||"synced"in r||(r.synced=n.isSynced())),r},n.prototype.getTemplateFunction=function(){throw Error("View#getTemplateFunction must be overridden")},n.prototype.render=function(){var t,e;return this.disposed?!1:(e=this.getTemplateFunction(),"function"==typeof e&&(t=e(this.getTemplateData()),this.$el.empty().append(t)),this.renderIsWrapped||this.afterRender(),this)},n.prototype.afterRender=function(){return this.container?(i(this.container)[this.containerMethod](this.el),this.trigger("addedToDOM")):void 0},n.prototype.disposed=!1,n.prototype.dispose=function(){var t,e,n,r,i,o,s,a;if(!this.disposed){if(null==this.subviews)throw Error("Your `initialize` method must include a super call to        Chaplin `initialize`");for(a=this.subviews,r=0,o=a.length;o>r;r++)n=a[r],n.dispose();for(this.unsubscribeAllEvents(),this.modelUnbindAll(),this.off(),this.$el.remove(),e=["el","$el","options","model","collection","subviews","subviewsByName","_callbacks"],i=0,s=e.length;s>i;i++)t=e[i],delete this[t];return this.disposed=!0,"function"==typeof Object.freeze?Object.freeze(this):void 0}},n}(o.View)}}),require.define({"chaplin/views/collection_view":function(n,i,o){var s,a,l,u;return s=i("jquery"),u=i("underscore"),l=i("chaplin/views/view"),o.exports=a=function(n){function i(t){this.renderAllItems=r(this.renderAllItems,this),this.showHideFallback=r(this.showHideFallback,this),this.itemsResetted=r(this.itemsResetted,this),this.itemRemoved=r(this.itemRemoved,this),this.itemAdded=r(this.itemAdded,this),t&&u(this).extend(u.pick(t,["renderItems","itemView"])),i.__super__.constructor.apply(this,arguments)}return e(i,n),i.prototype.itemView=null,i.prototype.autoRender=!0,i.prototype.renderItems=!0,i.prototype.animationDuration=500,i.prototype.useCssAnimation=!1,i.prototype.listSelector=null,i.prototype.$list=null,i.prototype.fallbackSelector=null,i.prototype.$fallback=null,i.prototype.loadingSelector=null,i.prototype.$loading=null,i.prototype.itemSelector=null,i.prototype.filterer=null,i.prototype.filterCallback=function(t,e){var n;return n=e?"":"none",t.$el.stop(!0,!0).css("display",n)},i.prototype.visibleItems=null,i.prototype.initialize=function(t){return null==t&&(t={}),i.__super__.initialize.apply(this,arguments),this.visibleItems=[],this.addCollectionListeners(),null!=t.filterer?this.filter(t.filterer):void 0},i.prototype.addCollectionListeners=function(){return this.modelBind("add",this.itemAdded),this.modelBind("remove",this.itemRemoved),this.modelBind("reset",this.itemsResetted)},i.prototype.getTemplateFunction=function(){},i.prototype.render=function(){return i.__super__.render.apply(this,arguments),this.$list=this.listSelector?this.$(this.listSelector):this.$el,this.initFallback(),this.initLoadingIndicator(),this.renderItems?this.renderAllItems():void 0},i.prototype.itemAdded=function(t,e,n){return null==n&&(n={}),this.renderAndInsertItem(t,n.index)},i.prototype.itemRemoved=function(t){return this.removeViewForItem(t)},i.prototype.itemsResetted=function(){return this.renderAllItems()},i.prototype.initFallback=function(){return this.fallbackSelector?(this.$fallback=this.$(this.fallbackSelector),this.on("visibilityChange",this.showHideFallback),this.modelBind("syncStateChange",this.showHideFallback),this.showHideFallback()):void 0},i.prototype.showHideFallback=function(){var t;return t=0===this.visibleItems.length&&("function"==typeof this.collection.isSynced?this.collection.isSynced():!0),this.$fallback.css("display",t?"block":"none")},i.prototype.initLoadingIndicator=function(){return this.loadingSelector&&"function"==typeof this.collection.isSyncing?(this.$loading=this.$(this.loadingSelector),this.modelBind("syncStateChange",this.showHideLoadingIndicator),this.showHideLoadingIndicator()):void 0},i.prototype.showHideLoadingIndicator=function(){var t;return t=0===this.collection.length&&this.collection.isSyncing(),this.$loading.css("display",t?"block":"none")},i.prototype.getItemViews=function(){var t,e,n,r;t={},r=this.subviewsByName;for(e in r)n=r[e],"itemView:"===e.slice(0,9)&&(t[e.slice(9)]=n);return t},i.prototype.filter=function(t,e){var n,r,i,o,s,a,l;if(this.filterer=t,e&&(this.filterCallback=e),null==e&&(e=this.filterCallback),!u(this.getItemViews()).isEmpty())for(l=this.collection.models,r=s=0,a=l.length;a>s;r=++s){if(i=l[r],n="function"==typeof t?t(i,r):!0,o=this.subview("itemView:"+i.cid),!o)throw Error("CollectionView#filter: "+("no view found for "+i.cid));this.filterCallback(o,n),this.updateVisibleItems(o.model,n,!1)}return this.trigger("visibilityChange",this.visibleItems)},i.prototype.renderAllItems=function(){var e,n,r,i,o,s,a,l,u,c,p;for(i=this.collection.models,this.visibleItems=[],o={},a=0,u=i.length;u>a;a++)r=i[a],s=this.subview("itemView:"+r.cid),s&&(o[r.cid]=s);p=this.getItemViews();for(e in p)t.call(p,e)&&(s=p[e],e in o||this.removeSubview("itemView:"+e));for(n=l=0,c=i.length;c>l;n=++l)r=i[n],s=this.subview("itemView:"+r.cid),s?this.insertView(r,s,n,!1):this.renderAndInsertItem(r,n);return i.length?void 0:this.trigger("visibilityChange",this.visibleItems)},i.prototype.renderAndInsertItem=function(t,e){var n;return n=this.renderItem(t),this.insertView(t,n,e)},i.prototype.renderItem=function(t){var e;return e=this.subview("itemView:"+t.cid),e||(e=this.getView(t),this.subview("itemView:"+t.cid,e)),e.render(),e},i.prototype.getView=function(t){if(this.itemView)return new this.itemView({model:t});throw Error("The CollectionView#itemView property must be defined or the getView() must be overridden.")},i.prototype.insertView=function(t,e,n,r){var i,o,s,a,l,u,c,p,d;null==n&&(n=null),null==r&&(r=!0),p="number"==typeof n?n:this.collection.indexOf(t),u="function"==typeof this.filterer?this.filterer(t,p):!0,d=e.el,a=e.$el,u?r&&(this.useCssAnimation?a.addClass("animated-item-view"):a.css("opacity",0)):this.filterCallback(e,u),i=this.$list,l=this.itemSelector?i.children(this.itemSelector):i.children(),l.get(p)!==d&&(c=l.length,0===c||p===c?i.append(d):0===p?(o=l.eq(p),o.before(d)):(s=l.eq(p-1),s.after(d))),e.trigger("addedToDOM"),this.updateVisibleItems(t,u),r&&u&&(this.useCssAnimation?setTimeout(function(){return a.addClass("animated-item-view-end")},0):a.animate({opacity:1},this.animationDuration))},i.prototype.removeViewForItem=function(t){return this.updateVisibleItems(t,!1),this.removeSubview("itemView:"+t.cid)},i.prototype.updateVisibleItems=function(t,e,n){var r,i,o;return null==n&&(n=!0),i=!1,o=u(this.visibleItems).indexOf(t),r=o>-1,e&&!r?(this.visibleItems.push(t),i=!0):!e&&r&&(this.visibleItems.splice(o,1),i=!0),i&&n&&this.trigger("visibilityChange",this.visibleItems),i},i.prototype.dispose=function(){var t,e,n,r;if(!this.disposed){for(e=["$list","$fallback","$loading","visibleItems"],n=0,r=e.length;r>n;n++)t=e[n],delete this[t];return i.__super__.dispose.apply(this,arguments)}},i}(l)}}),require.define({"chaplin/lib/route":function(e,n,i){var o,s,a,l,u;return u=n("underscore"),o=n("backbone"),a=n("chaplin/lib/event_broker"),s=n("chaplin/controllers/controller"),i.exports=l=function(){function e(t,e,n){var i;if(this.options=null!=n?n:{},this.handler=r(this.handler,this),this.addParamName=r(this.addParamName,this),this.pattern=t,null!=this.options.name&&(this.name=this.options.name),i=e.split("#"),this.controller=i[0],this.action=i[1],u(s.prototype).has(this.action))throw Error("Route: You should not use existing controller properties as action names");this.createRegExp()}var n,i,l,c;return e.extend=o.Model.extend,u(e.prototype).extend(a),c=["path","changeURL"],n=/[-[\]{}()+?.,\\^$|#\s]/g,i="&",l="=",e.prototype.reverse=function(t){var e,n,r;if(n=this.pattern,u.isRegExp(n))return!1;for(e in t)r=t[e],n=n.replace(RegExp(":"+e,"g"),r),n=n.replace(RegExp("\\*"+e,"g"),r);return this.test(n)?n:!1},e.prototype.createRegExp=function(){var t;return u.isRegExp(this.pattern)?(this.regExp=this.pattern,u.isArray(this.options.names)&&(this.paramNames=this.options.names),void 0):(t=this.pattern.replace(n,"\\$&").replace(/(?::|\*)(\w+)/g,this.addParamName),this.regExp=RegExp("^"+t+"(?=\\?|$)"))},e.prototype.addParamName=function(t,e){var n;if(null==(n=this.paramNames)&&(this.paramNames=[]),u(c).include(e))throw Error("Route#addParamName: parameter name "+e+" is reserved");return this.paramNames.push(e),":"===t.charAt(0)?"([^/?]+)":"(.*?)"},e.prototype.test=function(e){var n,r,i,o,s;if(i=this.regExp.test(e),!i)return!1;if(r=this.options.constraints){s=this.extractParams(e);for(o in r)if(t.call(r,o)&&(n=r[o],!n.test(s[o])))return!1}return!0},e.prototype.handler=function(t,e){var n;return null==e&&(e={}),n=this.buildParams(t),e.path=t,this.publishEvent("matchRoute",this,n,e)},e.prototype.buildParams=function(t){return u.extend({},this.extractQueryParams(t),this.extractParams(t),this.options.params)},e.prototype.extractParams=function(t){var e,n,r,i,o,s,a,l;for(o={},r=this.regExp.exec(t),l=r.slice(1),e=s=0,a=l.length;a>s;e=++s)n=l[e],i=this.paramNames?this.paramNames[e]:e,o[i]=n;return o},e.prototype.extractQueryParams=function(t){var e,n,r,o,s,a,u,c,p,d,h,f;if(a={},c=/\?(.+?)(?=#|$)/,r=c.exec(t),!r)return a;for(u=r[1],s=u.split(i),d=0,h=s.length;h>d;d++)o=s[d],o.length&&(f=o.split(l),n=f[0],p=f[1],n.length&&(n=decodeURIComponent(n),p=decodeURIComponent(p),e=a[n],e?e.push?e.push(p):a[n]=[e,p]:a[n]=p));return a},e}()}}),require.define({"chaplin/lib/router":function(t,e,n){var i,o,s,a,l,u;return u=e("underscore"),i=e("backbone"),l=e("chaplin/mediator"),o=e("chaplin/lib/event_broker"),s=e("chaplin/lib/route"),n.exports=a=function(){function t(t){this.options=null!=t?t:{},this.route=r(this.route,this),this.match=r(this.match,this),u(this.options).defaults({pushState:!0}),this.subscribeEvent("!router:route",this.routeHandler),this.subscribeEvent("!router:reverse",this.reverseHandler),this.subscribeEvent("!router:changeURL",this.changeURLHandler),this.createHistory()}return t.extend=i.Model.extend,u(t.prototype).extend(o),t.prototype.createHistory=function(){return i.history||(i.history=new i.History)},t.prototype.startHistory=function(){return i.history.start(this.options)},t.prototype.stopHistory=function(){return i.History.started?i.history.stop():void 0},t.prototype.match=function(t,e,n){var r;return null==n&&(n={}),r=new s(t,e,n),i.history.handlers.push({route:r,callback:r.handler}),r},t.prototype.route=function(t,e){var n,r,o,s;for(null==e&&(e={}),u(e).defaults({changeURL:!0}),t=t.replace(/^(\/#|\/)/,""),s=i.history.handlers,r=0,o=s.length;o>r;r++)if(n=s[r],n.route.test(t))return n.callback(t,e),!0;return!1},t.prototype.reverseHandler=function(t,e,n){return n(this.reverse(t,e))},t.prototype.reverse=function(t,e){var n,r,o,s,a;for(a=i.history.handlers,o=0,s=a.length;s>o;o++)if(n=a[o],n.route.name===t&&(r=n.route.reverse(e),r!==!1))return r;return!1},t.prototype.routeHandler=function(t,e,n){var r;return 2===arguments.length&&"function"==typeof e&&(n=e,e={}),r=this.route(t,e),"function"==typeof n?n(r):void 0},t.prototype.changeURL=function(t,e){var n;return null==e&&(e={}),n={trigger:e.trigger===!0,replace:e.replace===!0},i.history.navigate(t,n)},t.prototype.changeURLHandler=function(t,e){return this.changeURL(t,e)},t.prototype.disposed=!1,t.prototype.dispose=function(){return this.disposed?void 0:(this.stopHistory(),delete i.history,this.unsubscribeAllEvents(),this.disposed=!0,"function"==typeof Object.freeze?Object.freeze(this):void 0)},t}()}}),require.define({"chaplin/lib/delayer":function(t,e,n){var r;return r={setTimeout:function(t,e,n){var r,i,o,s=this;return null==(o=this.timeouts)&&(this.timeouts={}),this.clearTimeout(t),i=function(){return delete s.timeouts[t],n()},r=setTimeout(i,e),this.timeouts[t]=r,r},clearTimeout:function(t){this.timeouts&&null!=this.timeouts[t]&&(clearTimeout(this.timeouts[t]),delete this.timeouts[t])},clearAllTimeouts:function(){var t,e,n;if(this.timeouts){n=this.timeouts;for(e in n)t=n[e],this.clearTimeout(e)}},setInterval:function(t,e,n){var r,i;return this.clearInterval(t),null==(i=this.intervals)&&(this.intervals={}),r=setInterval(n,e),this.intervals[t]=r,r},clearInterval:function(t){this.intervals&&this.intervals[t]&&(clearInterval(this.intervals[t]),delete this.intervals[t])},clearAllIntervals:function(){var t,e,n;if(this.intervals){n=this.intervals;for(e in n)t=n[e],this.clearInterval(e)}},clearDelayed:function(){this.clearAllTimeouts(),this.clearAllIntervals()}},"function"==typeof Object.freeze&&Object.freeze(r),n.exports=r}}),require.define({"chaplin/lib/event_broker":function(t,e,n){var r,o;return o=e("chaplin/mediator"),r={subscribeEvent:function(t,e){if("string"!=typeof t)throw new TypeError("EventBroker#subscribeEvent: type argument must be a string");if("function"!=typeof e)throw new TypeError("EventBroker#subscribeEvent: handler argument must be a function");return o.unsubscribe(t,e,this),o.subscribe(t,e,this)},unsubscribeEvent:function(t,e){if("string"!=typeof t)throw new TypeError("EventBroker#unsubscribeEvent: type argument must be a string");if("function"!=typeof e)throw new TypeError("EventBroker#unsubscribeEvent: handler argument must be a function");return o.unsubscribe(t,e)},unsubscribeAllEvents:function(){return o.unsubscribe(null,null,this)},publishEvent:function(){var t,e;if(e=arguments[0],t=arguments.length>=2?i.call(arguments,1):[],"string"!=typeof e)throw new TypeError("EventBroker#publishEvent: type argument must be a string");return o.publish.apply(o,[e].concat(i.call(t)))}},"function"==typeof Object.freeze&&Object.freeze(r),n.exports=r}}),require.define({"chaplin/lib/support":function(t,e,n){var r;return r={propertyDescriptors:function(){var t;if("function"!=typeof Object.defineProperty||"function"!=typeof Object.defineProperties)return!1;try{return t={},Object.defineProperty(t,"foo",{value:"bar"}),"bar"===t.foo}catch(e){return!1}}()},n.exports=r}}),require.define({"chaplin/lib/sync_machine":function(t,e,n){var r,i,o,s,a,l,u,c,p,d;for(a="unsynced",o="syncing",i="synced",r="syncStateChange",s={_syncState:a,_previousSyncState:null,syncState:function(){return this._syncState},isUnsynced:function(){return this._syncState===a},isSynced:function(){return this._syncState===i},isSyncing:function(){return this._syncState===o},unsync:function(){var t;((t=this._syncState)===o||t===i)&&(this._previousSync=this._syncState,this._syncState=a,this.trigger(this._syncState,this,this._syncState),this.trigger(r,this,this._syncState))},beginSync:function(){var t;((t=this._syncState)===a||t===i)&&(this._previousSync=this._syncState,this._syncState=o,this.trigger(this._syncState,this,this._syncState),this.trigger(r,this,this._syncState))},finishSync:function(){this._syncState===o&&(this._previousSync=this._syncState,this._syncState=i,this.trigger(this._syncState,this,this._syncState),this.trigger(r,this,this._syncState))},abortSync:function(){this._syncState===o&&(this._syncState=this._previousSync,this._previousSync=this._syncState,this.trigger(this._syncState,this,this._syncState),this.trigger(r,this,this._syncState))}},d=[a,o,i,r],u=function(t){return s[t]=function(e,n){return null==n&&(n=this),this.on(t,e,n),this._syncState===t?e.call(n):void 0}},c=0,p=d.length;p>c;c++)l=d[c],u(l);return"function"==typeof Object.freeze&&Object.freeze(s),n.exports=s}}),require.define({"chaplin/lib/utils":function(t,e,n){var r,o;return r=e("chaplin/lib/support"),o={beget:function(){var t;return"function"==typeof Object.create?Object.create:(t=function(){},function(e){return t.prototype=e,new t})}(),readonly:function(){var t;return r.propertyDescriptors?(t={writable:!1,enumerable:!0,configurable:!1},function(){var e,n,r,o,s;for(e=arguments[0],r=arguments.length>=2?i.call(arguments,1):[],o=0,s=r.length;s>o;o++)n=r[o],t.value=e[n],Object.defineProperty(e,n,t);return!0}):function(){return!1}}(),wrapMethod:function(t,e){var n;return n=t[e],t[""+e+"IsWrapped"]=!0,t[e]=function(){return t.disposed?!1:(n.apply(t,arguments),t["after"+o.upcase(e)].apply(t,arguments),t)}},upcase:function(t){return t.charAt(0).toUpperCase()+t.substring(1)},underscorize:function(t){return t.replace(/[A-Z]/g,function(t,e){return(0!==e?"_":"")+t.toLowerCase()})},modifierKeyPressed:function(t){return t.shiftKey||t.altKey||t.ctrlKey||t.metaKey}},"function"==typeof Object.seal&&Object.seal(o),n.exports=o}}),require.define({chaplin:function(t,e,n){var r,i,o,s,a,l,u,c,p,d,h,f,m,v,g,y;return r=e("chaplin/application"),v=e("chaplin/mediator"),l=e("chaplin/dispatcher"),s=e("chaplin/controllers/controller"),i=e("chaplin/models/collection"),p=e("chaplin/models/model"),c=e("chaplin/views/layout"),m=e("chaplin/views/view"),o=e("chaplin/views/collection_view"),d=e("chaplin/lib/route"),h=e("chaplin/lib/router"),a=e("chaplin/lib/delayer"),u=e("chaplin/lib/event_broker"),g=e("chaplin/lib/support"),f=e("chaplin/lib/sync_machine"),y=e("chaplin/lib/utils"),n.exports={Application:r,mediator:v,Dispatcher:l,Controller:s,Collection:i,Model:p,Layout:c,View:m,CollectionView:o,Route:d,Router:h,Delayer:a,EventBroker:u,support:g,SyncMachine:f,utils:y}}})}.call(this);var Handlebars={};Handlebars.VERSION="1.0.beta.6",Handlebars.helpers={},Handlebars.partials={},Handlebars.registerHelper=function(t,e,n){n&&(e.not=n),this.helpers[t]=e},Handlebars.registerPartial=function(t,e){this.partials[t]=e},Handlebars.registerHelper("helperMissing",function(t){if(2===arguments.length)return void 0;throw Error("Could not find property '"+t+"'")});var toString=Object.prototype.toString,functionType="[object Function]";Handlebars.registerHelper("blockHelperMissing",function(t,e){var n=e.inverse||function(){},r=e.fn,i="",o=toString.call(t);if(o===functionType&&(t=t.call(this)),t===!0)return r(this);if(t===!1||null==t)return n(this);if("[object Array]"===o){if(t.length>0)for(var s=0,a=t.length;a>s;s++)i+=r(t[s]);else i=n(this);return i}return r(t)}),Handlebars.registerHelper("each",function(t,e){var n=e.fn,r=e.inverse,i="";if(t&&t.length>0)for(var o=0,s=t.length;s>o;o++)i+=n(t[o]);else i=r(this);return i}),Handlebars.registerHelper("if",function(t,e){var n=toString.call(t);return n===functionType&&(t=t.call(this)),!t||Handlebars.Utils.isEmpty(t)?e.inverse(this):e.fn(this)}),Handlebars.registerHelper("unless",function(t,e){var n=e.fn,r=e.inverse;return e.fn=r,e.inverse=n,Handlebars.helpers["if"].call(this,t,e)}),Handlebars.registerHelper("with",function(t,e){return e.fn(t)}),Handlebars.registerHelper("log",function(t){Handlebars.log(t)
}),Handlebars.Exception=function(){var t=Error.prototype.constructor.apply(this,arguments);for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);this.message=t.message},Handlebars.Exception.prototype=Error(),Handlebars.SafeString=function(t){this.string=t},Handlebars.SafeString.prototype.toString=function(){return""+this.string},Handlebars.SaferString=function(t){return-1!=t.indexOf("<script")||-1!=t.indexOf("script>")||-1!=t.indexOf("<iframe")||-1!=t.indexOf("iframe>")||-1!=t.indexOf("javascript:")?!1:void 0},function(){var t={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},e=/&(?!\w+;)|[<>"'`]/g,n=/[&<>"'`]/,r=function(e){return t[e]||"&amp;"};Handlebars.Utils={escapeExpression:function(t){return t instanceof Handlebars.SafeString?""+t:null==t||t===!1?"":n.test(t)?t.replace(e,r):t},isEmpty:function(t){return t===void 0?!0:null===t?!0:t===!1?!0:"[object Array]"===Object.prototype.toString.call(t)&&0===t.length?!0:!1}}}(),Handlebars.VM={template:function(t){var e={escapeExpression:Handlebars.Utils.escapeExpression,invokePartial:Handlebars.VM.invokePartial,programs:[],program:function(t,e,n){var r=this.programs[t];return n?Handlebars.VM.program(e,n):r?r:r=this.programs[t]=Handlebars.VM.program(e)},programWithDepth:Handlebars.VM.programWithDepth,noop:Handlebars.VM.noop};return function(n,r){return r=r||{},t.call(e,Handlebars,n,r.helpers,r.partials,r.data)}},programWithDepth:function(t,e){var n=Array.prototype.slice.call(arguments,2);return function(r,i){return i=i||{},t.apply(this,[r,i.data||e].concat(n))}},program:function(t,e){return function(n,r){return r=r||{},t(n,r.data||e)}},noop:function(){return""},invokePartial:function(t,e,n,r,i,o){if(options={helpers:r,partials:i,data:o},void 0===t)throw new Handlebars.Exception("The partial "+e+" could not be found");if(t instanceof Function)return t(n,options);if(Handlebars.compile)return i[e]=Handlebars.compile(t),i[e](n,options);throw new Handlebars.Exception("The partial "+e+" could not be compiled when running in runtime-only mode")}},Handlebars.template=Handlebars.VM.template,!function(t){t(function(){"use strict";t.support.transition=function(){var t=function(){var t,e=document.createElement("bootstrap"),n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(t in n)if(void 0!==e.style[t])return n[t]}();return t&&{end:t}}()})}(window.jQuery),!function(t){"use strict";var e='[data-dismiss="alert"]',n=function(n){t(n).on("click",e,this.close)};n.prototype.close=function(e){function n(){r.trigger("closed").remove()}var r,i=t(this),o=i.attr("data-target");o||(o=i.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,"")),r=t(o),e&&e.preventDefault(),r.length||(r=i.hasClass("alert")?i:i.parent()),r.trigger(e=t.Event("close")),e.isDefaultPrevented()||(r.removeClass("in"),t.support.transition&&r.hasClass("fade")?r.on(t.support.transition.end,n):n())},t.fn.alert=function(e){return this.each(function(){var r=t(this),i=r.data("alert");i||r.data("alert",i=new n(this)),"string"==typeof e&&i[e].call(r)})},t.fn.alert.Constructor=n,t(function(){t("body").on("click.alert.data-api",e,n.prototype.close)})}(window.jQuery),!function(t){"use strict";var e=function(e){this.element=t(e)};e.prototype={constructor:e,show:function(){var e,n,r,i=this.element,o=i.closest("ul:not(.dropdown-menu)"),s=i.attr("data-target");s||(s=i.attr("href"),s=s&&s.replace(/.*(?=#[^\s]*$)/,"")),i.parent("li").hasClass("active")||(e=o.find(".active a").last()[0],r=t.Event("show",{relatedTarget:e}),i.trigger(r),r.isDefaultPrevented()||(n=t(s),this.activate(i.parent("li"),o),this.activate(n,n.parent(),function(){i.trigger({type:"shown",relatedTarget:e})})))},activate:function(e,n,r){function i(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),e.addClass("active"),s?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active"),r&&r()}var o=n.find("> .active"),s=r&&t.support.transition&&o.hasClass("fade");s?o.one(t.support.transition.end,i):i(),o.removeClass("in")}},t.fn.tab=function(n){return this.each(function(){var r=t(this),i=r.data("tab");i||r.data("tab",i=new e(this)),"string"==typeof n&&i[n]()})},t.fn.tab.Constructor=e,t(function(){t("body").on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(e){e.preventDefault(),t(this).tab("show")})})}(window.jQuery),!function(t){"use strict";var e=function(e,n){this.$element=t(e),this.options=t.extend({},t.fn.button.defaults,n)};e.prototype.setState=function(t){var e="disabled",n=this.$element,r=n.data(),i=n.is("input")?"val":"html";t+="Text",r.resetText||n.data("resetText",n[i]()),n[i](r[t]||this.options[t]),setTimeout(function(){"loadingText"==t?n.addClass(e).attr(e,e):n.removeClass(e).removeAttr(e)},0)},e.prototype.toggle=function(){var t=this.$element.parent('[data-toggle="buttons-radio"]');t&&t.find(".active").removeClass("active"),this.$element.toggleClass("active")},t.fn.button=function(n){return this.each(function(){var r=t(this),i=r.data("button"),o="object"==typeof n&&n;i||r.data("button",i=new e(this,o)),"toggle"==n?i.toggle():n&&i.setState(n)})},t.fn.button.defaults={loadingText:"loading..."},t.fn.button.Constructor=e,t(function(){t("body").on("click.button.data-api","[data-toggle^=button]",function(e){var n=t(e.target);n.hasClass("btn")||(n=n.closest(".btn")),n.button("toggle")})})}(window.jQuery),!function(t){"use strict";function e(){t(r).each(function(){n(t(this)).removeClass("open")})}function n(e){var n,r=e.attr("data-target");return r||(r=e.attr("href"),r=r&&/#/.test(r)&&r.replace(/.*(?=#[^\s]*$)/,"")),n=r&&t(r),n&&n.length||(n=e.parent()),n}var r="[data-toggle=dropdown]",i=function(e){var n=t(e).on("click.dropdown.data-api",this.toggle);t("html").on("click.dropdown.data-api",function(){n.parent().removeClass("open")})};i.prototype={constructor:i,toggle:function(){var r,i,o=t(this);if(!o.is(".disabled, :disabled"))return r=n(o),i=r.hasClass("open"),e(),i||r.toggleClass("open"),o.focus(),!1},keydown:function(e){var i,o,s,a,l;if(/(38|40|27)/.test(e.keyCode)&&(i=t(this),e.preventDefault(),e.stopPropagation(),!i.is(".disabled, :disabled"))){if(s=n(i),a=s.hasClass("open"),!a||a&&27==e.keyCode)return 27==e.which&&s.find(r).focus(),i.click();o=t("[role=menu] li:not(.divider):visible a",s),o.length&&(l=o.index(o.filter(":focus")),38==e.keyCode&&l>0&&l--,40==e.keyCode&&o.length-1>l&&l++,~l||(l=0),o.eq(l).focus())}}};var o=t.fn.dropdown;t.fn.dropdown=function(e){return this.each(function(){var n=t(this),r=n.data("dropdown");r||n.data("dropdown",r=new i(this)),"string"==typeof e&&r[e].call(n)})},t.fn.dropdown.Constructor=i,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=o,this},t(document).on("click.dropdown.data-api",e).on("click.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.dropdown-menu",function(t){t.stopPropagation()}).on("click.dropdown.data-api",r,i.prototype.toggle).on("keydown.dropdown.data-api",r+", [role=menu]",i.prototype.keydown)}(window.jQuery),!function(t){"use strict";var e=function(e,n){this.options=n,this.$element=t(e).delegate('[data-dismiss="modal"]',"click.dismiss.modal",t.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};e.prototype={constructor:e,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var e=this,n=t.Event("show");this.$element.trigger(n),this.isShown||n.isDefaultPrevented()||(t("body").addClass("modal-open"),this.isShown=!0,this.escape(),this.backdrop(function(){var n=t.support.transition&&e.$element.hasClass("fade");e.$element.parent().length||e.$element.appendTo(document.body),e.$element.show(),n&&e.$element[0].offsetWidth,e.$element.addClass("in").attr("aria-hidden",!1).focus(),n?e.$element.one(t.support.transition.end,function(){e.$element.trigger("shown")}):e.$element.trigger("shown")}))},hide:function(e){e&&e.preventDefault(),e=t.Event("hide"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,t("body").removeClass("modal-open"),this.escape(),t(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),t.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal())},enforceFocus:function(){var e=this;t(document).on("focusin.modal",function(t){e.$element[0]===t.target||e.$element.has(t.target).length||e.$element.focus()})},escape:function(){var t=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(e){27==e.which&&t.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var e=this,n=setTimeout(function(){e.$element.off(t.support.transition.end),e.hideModal()},500);this.$element.one(t.support.transition.end,function(){clearTimeout(n),e.hideModal()})},hideModal:function(){this.$element.hide().trigger("hidden"),this.backdrop()},removeBackdrop:function(){this.$backdrop.remove(),this.$backdrop=null},backdrop:function(e){var n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var r=t.support.transition&&n;this.$backdrop=t('<div class="modal-backdrop '+n+'" />').appendTo(document.body),"static"!=this.options.backdrop&&this.$backdrop.click(t.proxy(this.hide,this)),r&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),r?this.$backdrop.one(t.support.transition.end,e):e()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(t.support.transition.end,t.proxy(this.removeBackdrop,this)):this.removeBackdrop()):e&&e()}},t.fn.modal=function(n){return this.each(function(){var r=t(this),i=r.data("modal"),o=t.extend({},t.fn.modal.defaults,r.data(),"object"==typeof n&&n);i||r.data("modal",i=new e(this,o)),"string"==typeof n?i[n]():o.show&&i.show()})},t.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},t.fn.modal.Constructor=e,t(function(){t("body").on("click.modal.data-api",'[data-toggle="modal"]',function(e){var n=t(this),r=n.attr("href"),i=t(n.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),o=i.data("modal")?"toggle":t.extend({remote:!/#/.test(r)&&r},i.data(),n.data());e.preventDefault(),i.modal(o).one("hide",function(){n.focus()})})})}(window.jQuery),function(){var t={}.hasOwnProperty,e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};RegExp.escape=function(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")},this.AutocompleteItem=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.key=function(){return"name"},n.prototype.matches=function(t){return t.test(this.completion())},n.prototype.completion=function(){var t;return t=this.get(this.key()),/\s/.test(t)&&(t='"'+t+'"'),this._prefixToken()+t+this._suffixToken()},n.prototype.groupBy=function(){return this.get("kind")||"results"},n.prototype._prefixToken=function(){var t;return(null!=(t=this.get("token"))?t.slice(0,1):void 0)||""},n.prototype._suffixToken=function(){var t;return(null!=(t=this.get("token"))?t.slice(1,2):void 0)||""},n}(Backbone.Model),this.AutocompleteItems=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.model=AutocompleteItem,n.prototype.comparator=function(t){return t.get(t.key()).toLowerCase()},n.prototype.matches=function(t){return this.filter(function(e){return e.matches(t)})},n}(Backbone.Collection),this.AutocompleteItemView=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.tagName="li",n.prototype.className="autocomplete-item",n.prototype.initialize=function(){return this.model.on("change",this.render)},n.prototype.template=function(t){return'<a href="#">'+t.markup+"</a>"},n.prototype.render=function(t){var e,n;return n=this.model.toJSON(),n.markup=t?n[this.model.key()].replace(t,"<em>$1</em>"):n[this.model.key()],this.$el.html(this.template(n)),e=encodeURIComponent(this.model.completion()),this.$el.attr("data-autocomplete-completion",e),this},n}(Backbone.View),this.AutocompleteItemsView=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.itemView=AutocompleteItemView,n.prototype.events={"submit form":"_handleSubmit","keyup input[type=text]":"_handleKeypress","focus input[type=text]":"showResults","blur input[type=text]":"hideResults","mouseenter [data-autocomplete-completion]":"_selectResult","mousedown [data-autocomplete-completion]":"submit"},n.prototype.initialize=function(){var t=this;return this.options.itemView&&(this.itemView=this.options.itemView),this._$field=this.$el.find("input[type=text]"),this._$form=this.$el.find("form"),this._$resultsList=this.$el.find(".autocomplete-results"),this.on("autocomplete:clear",function(){return t._$field.val("")}),this.on("autocomplete:replace",function(e){var n;return n=t._fragments(e),t._$field.val(n.join(" ").trim()+" ")}),this.on("autocomplete:append",function(e){var n;return n=t._fragments(t._$field.val()).concat(e),t._$field.val(t._fragments(n.join(" ")).join(" ").trim()+" ")})},n.prototype.render=function(){return this},n.prototype._handleSubmit=function(t,e){var n=this;return null==e&&(e=!1),e?!0:(_.delay(function(){return n._$form.trigger("submit",!0)},100),!1)},n.prototype.submit=function(){return this._finishAutocomplete(),this.hideResults(),this._$field.blur(),this._handleSubmit(!0)},n.prototype.showResults=function(){return this._showAutocompleteResults()},n.prototype.hideResults=function(){return this._$resultsList.hide().empty()},n.prototype.selectResult=function(t){return null==t&&(t=0),this._$resultsList.children().removeClass("selected").filter(":eq("+t+")").addClass("selected")},n.prototype._selectResult=function(t){var e;return e=$(t.target),e=e.is("li")?e:e.closest("li"),this.selectResult(this._$resultsList.children().index(e))},n.prototype._handleKeypress=function(t){var e=this;return this._debouncedHandleKeypress||(this._debouncedHandleKeypress=_.debounce(function(t){var n,r,i,o,s;switch(t.which){case 38:case 40:return i=e._$resultsList.children(),r=i.filter(":first-child"),o=i.filter(":last-child"),s=i.filter(".selected"),n=38===t.which?s.is(":first-child")?o:s.prevAll("[data-autocomplete-completion]").filter(":eq(0)"):s.is(":last-child")?r:s.nextAll("[data-autocomplete-completion]").filter(":eq(0)"),e.selectResult(i.index(n));case 27:return e.hideResults();case 13:return e.submit();default:return e._showAutocompleteResults()}})),this._debouncedHandleKeypress(t)},n.prototype._showAutocompleteResults=function(){var t,e,n,r=this;return this.hideResults(),(t=_.last(this._fragments(this._$field.val()))).length>0?(n=RegExp("("+RegExp.escape(t)+")","i"),this._$resultsList.append('<li class="autocomplete-item-all" data-autocomplete-completion="#"><a href="#">See all results</a></li>'),e=_.groupBy(this.collection.matches(n),function(t){return t.groupBy()}),_.each(e,function(t,e){return r._$resultsList.append('<li class="autocomplete-item-group"><h5>'+e+"</h5></li>"),_.each(t,function(t,e){var i,o;return o=new r.itemView({model:t}),i=o.render(n).$el.addClass("index-"+e),r._$resultsList.append(i)})}),this._$resultsList.show(),this.selectResult()):void 0},n.prototype._finishAutocomplete=function(){var t,e;return t=this._$resultsList.children(".selected").attr("data-autocomplete-completion"),t&&(t=decodeURIComponent(t)),_.isEmpty(t)||"#"===t?void 0:(e=this._fragments(this._$field.val()).slice(0,-1).concat(t),this._$field.val(this._fragments(e.join(" ")).join(" ").trim()+" "))},n.prototype._fragments=function(t){return _.uniq(t.trim().split(/\s+/))},n}(Backbone.View)}.call(this),function(t){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=function(){for(var t=[],e="A".charCodeAt(0),n="a".charCodeAt(0),r="0".charCodeAt(0),i=0;26>i;i++)t.push(e+i);for(var i=0;26>i;i++)t.push(n+i);for(var i=0;10>i;i++)t.push(r+i);return t.push("+".charCodeAt(0)),t.push("/".charCodeAt(0)),t}(),r=function(t){for(var e={},n=0,r=t.length;r>n;n++)e[t.charAt(n)]=n;return e}(e),i=function(t){for(var e=[],n=0,r=t.length;r>n;n++)e[n]=t.charCodeAt(n);return e},o=function(t){for(var e=0;t.length%3;)t.push(0),e++;for(var r=[],i=0,o=t.length;o>i;i+=3){var s=t[i],a=t[i+1],l=t[i+2];if(s>=256||a>=256||l>=256)throw"unsupported character found";var u=s<<16|a<<8|l;r.push(n[u>>>18],n[63&u>>>12],n[63&u>>>6],n[63&u])}for(;e--;)r[r.length-e-1]="=".charCodeAt(0);return g(r)},s=function(t){t=t.replace(/[^A-Za-z0-9+\/]+/g,"");for(var e=[],n=t.length%4,i=0,o=t.length;o>i;i+=4){var s=(r[t.charAt(i)]||0)<<18|(r[t.charAt(i+1)]||0)<<12|(r[t.charAt(i+2)]||0)<<6|(r[t.charAt(i+3)]||0);e.push(s>>16,255&s>>8,255&s)}return e.length-=[0,0,2,1][n],e},a=function(t){for(var e=[],n=0,r=t.length;r>n;n++){var i=t[n];128>i?e.push(i):2048>i?e.push(192|i>>>6,128|63&i):e.push(224|15&i>>>12,128|63&i>>>6,128|63&i)}return e},l=function(t){for(var e=[],n=0,r=t.length;r>n;n++){var i=t[n];if(128>i)e.push(i);else{var o=t[++n];if(224>i)e.push((31&i)<<6|63&o);else{var s=t[++n];e.push((15&i)<<12|(63&o)<<6|63&s)}}}return e},u=function(t){return o(i(t))},c=function(t){return g(s(t))},p=function(t){return l(i(t))},d=function(t){return g(l(t))},h=function(t){return g(l(i(t)))},f=function(t){return a(i(t))},m=function(t){return g(a(t))},v=function(t){return g(a(i(t)))},g=function(t){var e,n=[];for(e=0;t.length>e;e+=65536)n.push(String.fromCharCode.apply(String,t.slice(e,e+65536)));return n.join("")};if(t.btoa)var y=t.btoa,w=function(t){return y(v(t))};else var y=u,w=function(t){return o(f(t))};if(t.atob)var b=t.atob,_=function(t){return h(b(t))};else var b=c,_=function(t){return d(s(t))};t.Base64={convertUTF8ArrayToBase64:o,convertByteArrayToBase64:o,convertBase64ToUTF8Array:s,convertBase64ToByteArray:s,convertUTF16ArrayToUTF8Array:a,convertUTF16ArrayToByteArray:a,convertUTF8ArrayToUTF16Array:l,convertByteArrayToUTF16Array:l,convertUTF8StringToBase64:u,convertBase64ToUTF8String:c,convertUTF8StringToUTF16Array:p,convertUTF8ArrayToUTF16String:d,convertByteArrayToUTF16String:d,convertUTF8StringToUTF16String:h,convertUTF16StringToUTF8Array:f,convertUTF16StringToByteArray:f,convertUTF16ArrayToUTF8String:m,convertUTF16StringToUTF8String:v,convertUTF16StringToBase64:w,convertBase64ToUTF16String:_,fromBase64:c,toBase64:u,atob:b,btoa:y,utob:v,btou:h,encode:w,encodeURI:function(t){return w(t).replace(/[+\/]/g,function(t){return"+"==t?"-":"_"}).replace(/=+$/,"")},decode:function(t){return _(t.replace(/[-_]/g,function(t){return"-"==t?"+":"/"}))}}}(this),function(t,e,n){function r(t){return t}function i(t){return decodeURIComponent(t.replace(o," "))}var o=/\+/g,s=t.cookie=function(o,a,l){if(a!==n){if(l=t.extend({},s.defaults,l),null===a&&(l.expires=-1),"number"==typeof l.expires){var u=l.expires,c=l.expires=new Date;c.setDate(c.getDate()+u)}return a=s.json?JSON.stringify(a):a+"",e.cookie=[encodeURIComponent(o),"=",s.raw?a:encodeURIComponent(a),l.expires?"; expires="+l.expires.toUTCString():"",l.path?"; path="+l.path:"",l.domain?"; domain="+l.domain:"",l.secure?"; secure":""].join("")}for(var p=s.raw?r:i,d=e.cookie.split("; "),h=0,f=d.length;f>h;h++){var m=d[h].split("=");if(p(m.shift())===o){var v=p(m.join("="));return s.json?JSON.parse(v):v}}return null};s.defaults={},t.removeCookie=function(e,n){return null!==t.cookie(e)?(t.cookie(e,null,n),!0):!1}}(jQuery,document),function(t){"use strict";function e(){if(t.fn.ajaxSubmit.debug){var e="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(e):window.opera&&window.opera.postError&&window.opera.postError(e)}}var n={};n.fileapi=void 0!==t("<input type='file'/>").get(0).files,n.formdata=void 0!==window.FormData,t.fn.ajaxSubmit=function(r){function i(e){var n,r,i=t.param(e).split("&"),o=i.length,s={};for(n=0;o>n;n++)i[n]=i[n].replace(/\+/g," "),r=i[n].split("="),s[decodeURIComponent(r[0])]=decodeURIComponent(r[1]);return s}function o(e){for(var n=new FormData,o=0;e.length>o;o++)n.append(e[o].name,e[o].value);if(r.extraData){var s=i(r.extraData);for(var l in s)s.hasOwnProperty(l)&&n.append(l,s[l])}r.data=null;var u=t.extend(!0,{},t.ajaxSettings,r,{contentType:!1,processData:!1,cache:!1,type:a||"POST"});r.uploadProgress&&(u.xhr=function(){var t=jQuery.ajaxSettings.xhr();return t.upload&&(t.upload.onprogress=function(t){var e=0,n=t.loaded||t.position,i=t.total;t.lengthComputable&&(e=Math.ceil(100*(n/i))),r.uploadProgress(t,n,i,e)}),t}),u.data=null;var c=u.beforeSend;return u.beforeSend=function(t,e){e.data=n,c&&c.call(this,t,e)},t.ajax(u)}function s(n){function i(t){var e=t.contentWindow?t.contentWindow.document:t.contentDocument?t.contentDocument:t.document;return e}function o(){function n(){try{var t=i(v).readyState;e("state = "+t),t&&"uninitialized"==t.toLowerCase()&&setTimeout(n,50)}catch(r){e("Server abort: ",r," (",r.name,")"),s(E),_&&clearTimeout(_),_=void 0}}var r=c.attr("target"),o=c.attr("action");k.setAttribute("target",h),a||k.setAttribute("method","POST"),o!=p.url&&k.setAttribute("action",p.url),p.skipEncodingOverride||a&&!/post/i.test(a)||c.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),p.timeout&&(_=setTimeout(function(){b=!0,s(C)},p.timeout));var l=[];try{if(p.extraData)for(var u in p.extraData)p.extraData.hasOwnProperty(u)&&(t.isPlainObject(p.extraData[u])&&p.extraData[u].hasOwnProperty("name")&&p.extraData[u].hasOwnProperty("value")?l.push(t('<input type="hidden" name="'+p.extraData[u].name+'">').val(p.extraData[u].value).appendTo(k)[0]):l.push(t('<input type="hidden" name="'+u+'">').val(p.extraData[u]).appendTo(k)[0]));p.iframeTarget||(m.appendTo("body"),v.attachEvent?v.attachEvent("onload",s):v.addEventListener("load",s,!1)),setTimeout(n,15),k.submit()}finally{k.setAttribute("action",o),r?k.setAttribute("target",r):c.removeAttr("target"),t(l).remove()}}function s(n){if(!g.aborted&&!D){try{P=i(v)}catch(r){e("cannot access response document: ",r),n=E}if(n===C&&g)return g.abort("timeout"),S.reject(g,"timeout"),void 0;if(n==E&&g)return g.abort("server abort"),S.reject(g,"error","server abort"),void 0;if(P&&P.location.href!=p.iframeSrc||b){v.detachEvent?v.detachEvent("onload",s):v.removeEventListener("load",s,!1);var o,a="success";try{if(b)throw"timeout";var l="xml"==p.dataType||P.XMLDocument||t.isXMLDoc(P);if(e("isXml="+l),!l&&window.opera&&(null===P.body||!P.body.innerHTML)&&--I)return e("requeing onLoad callback, DOM not available"),setTimeout(s,250),void 0;var u=P.body?P.body:P.documentElement;g.responseText=u?u.innerHTML:null,g.responseXML=P.XMLDocument?P.XMLDocument:P,l&&(p.dataType="xml"),g.getResponseHeader=function(t){var e={"content-type":p.dataType};return e[t]},u&&(g.status=Number(u.getAttribute("status"))||g.status,g.statusText=u.getAttribute("statusText")||g.statusText);var c=(p.dataType||"").toLowerCase(),h=/(json|script|text)/.test(c);if(h||p.textarea){var f=P.getElementsByTagName("textarea")[0];if(f)g.responseText=f.value,g.status=Number(f.getAttribute("status"))||g.status,g.statusText=f.getAttribute("statusText")||g.statusText;else if(h){var y=P.getElementsByTagName("pre")[0],w=P.getElementsByTagName("body")[0];y?g.responseText=y.textContent?y.textContent:y.innerText:w&&(g.responseText=w.textContent?w.textContent:w.innerText)}}else"xml"==c&&!g.responseXML&&g.responseText&&(g.responseXML=L(g.responseText));try{A=R(g,c,p)}catch(n){a="parsererror",g.error=o=n||a}}catch(n){e("error caught: ",n),a="error",g.error=o=n||a}g.aborted&&(e("upload aborted"),a=null),g.status&&(a=g.status>=200&&300>g.status||304===g.status?"success":"error"),"success"===a?(p.success&&p.success.call(p.context,A,"success",g),S.resolve(g.responseText,"success",g),d&&t.event.trigger("ajaxSuccess",[g,p])):a&&(void 0===o&&(o=g.statusText),p.error&&p.error.call(p.context,g,a,o),S.reject(g,"error",o),d&&t.event.trigger("ajaxError",[g,p,o])),d&&t.event.trigger("ajaxComplete",[g,p]),d&&!--t.active&&t.event.trigger("ajaxStop"),p.complete&&p.complete.call(p.context,g,a),D=!0,p.timeout&&clearTimeout(_),setTimeout(function(){p.iframeTarget||m.remove(),g.responseXML=null},100)}}}var l,u,p,d,h,m,v,g,y,w,b,_,k=c[0],x=!!t.fn.prop,S=t.Deferred();if(t("[name=submit],[id=submit]",k).length)return alert('Error: Form elements must not have name or id of "submit".'),S.reject(),S;if(n)for(u=0;f.length>u;u++)l=t(f[u]),x?l.prop("disabled",!1):l.removeAttr("disabled");if(p=t.extend(!0,{},t.ajaxSettings,r),p.context=p.context||p,h="jqFormIO"+(new Date).getTime(),p.iframeTarget?(m=t(p.iframeTarget),w=m.attr("name"),w?h=w:m.attr("name",h)):(m=t('<iframe name="'+h+'" src="'+p.iframeSrc+'" />'),m.css({position:"absolute",top:"-1000px",left:"-1000px"})),v=m[0],g={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(n){var r="timeout"===n?"timeout":"aborted";e("aborting upload... "+r),this.aborted=1;try{v.contentWindow.document.execCommand&&v.contentWindow.document.execCommand("Stop")}catch(i){}m.attr("src",p.iframeSrc),g.error=r,p.error&&p.error.call(p.context,g,r,n),d&&t.event.trigger("ajaxError",[g,p,r]),p.complete&&p.complete.call(p.context,g,r)}},d=p.global,d&&0===t.active++&&t.event.trigger("ajaxStart"),d&&t.event.trigger("ajaxSend",[g,p]),p.beforeSend&&p.beforeSend.call(p.context,g,p)===!1)return p.global&&t.active--,S.reject(),S;if(g.aborted)return S.reject(),S;y=k.clk,y&&(w=y.name,w&&!y.disabled&&(p.extraData=p.extraData||{},p.extraData[w]=y.value,"image"==y.type&&(p.extraData[w+".x"]=k.clk_x,p.extraData[w+".y"]=k.clk_y)));var C=1,E=2,T=t("meta[name=csrf-token]").attr("content"),$=t("meta[name=csrf-param]").attr("content");$&&T&&(p.extraData=p.extraData||{},p.extraData[$]=T),p.forceSync?o():setTimeout(o,10);var A,P,D,I=50,L=t.parseXML||function(t,e){return window.ActiveXObject?(e=new ActiveXObject("Microsoft.XMLDOM"),e.async="false",e.loadXML(t)):e=(new DOMParser).parseFromString(t,"text/xml"),e&&e.documentElement&&"parsererror"!=e.documentElement.nodeName?e:null},O=t.parseJSON||function(t){return window.eval("("+t+")")},R=function(e,n,r){var i=e.getResponseHeader("content-type")||"",o="xml"===n||!n&&i.indexOf("xml")>=0,s=o?e.responseXML:e.responseText;return o&&"parsererror"===s.documentElement.nodeName&&t.error&&t.error("parsererror"),r&&r.dataFilter&&(s=r.dataFilter(s,n)),"string"==typeof s&&("json"===n||!n&&i.indexOf("json")>=0?s=O(s):("script"===n||!n&&i.indexOf("javascript")>=0)&&t.globalEval(s)),s};return S}if(!this.length)return e("ajaxSubmit: skipping submit process - no element selected"),this;var a,l,u,c=this;"function"==typeof r&&(r={success:r}),a=this.attr("method"),l=this.attr("action"),u="string"==typeof l?t.trim(l):"",u=u||window.location.href||"",u&&(u=(u.match(/^([^#]+)/)||[])[1]),r=t.extend(!0,{url:u,success:t.ajaxSettings.success,type:a||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},r);var p={};if(this.trigger("form-pre-serialize",[this,r,p]),p.veto)return e("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(r.beforeSerialize&&r.beforeSerialize(this,r)===!1)return e("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var d=r.traditional;void 0===d&&(d=t.ajaxSettings.traditional);var h,f=[],m=this.formToArray(r.semantic,f);if(r.data&&(r.extraData=r.data,h=t.param(r.data,d)),r.beforeSubmit&&r.beforeSubmit(m,this,r)===!1)return e("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[m,this,r,p]),p.veto)return e("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var v=t.param(m,d);h&&(v=v?v+"&"+h:h),"GET"==r.type.toUpperCase()?(r.url+=(r.url.indexOf("?")>=0?"&":"?")+v,r.data=null):r.data=v;var g=[];if(r.resetForm&&g.push(function(){c.resetForm()}),r.clearForm&&g.push(function(){c.clearForm(r.includeHidden)}),!r.dataType&&r.target){var y=r.success||function(){};g.push(function(e){var n=r.replaceTarget?"replaceWith":"html";t(r.target)[n](e).each(y,arguments)})}else r.success&&g.push(r.success);r.success=function(t,e,n){for(var i=r.context||this,o=0,s=g.length;s>o;o++)g[o].apply(i,[t,e,n||c,c])};var w=t('input[type=file]:enabled[value!=""]',this),b=w.length>0,_="multipart/form-data",k=c.attr("enctype")==_||c.attr("encoding")==_,x=n.fileapi&&n.formdata;e("fileAPI :"+x);var S,C=(b||k)&&!x;r.iframe!==!1&&(r.iframe||C)?r.closeKeepAlive?t.get(r.closeKeepAlive,function(){S=s(m)}):S=s(m):S=(b||k)&&x?o(m):t.ajax(r),c.removeData("jqxhr").data("jqxhr",S);for(var E=0;f.length>E;E++)f[E]=null;return this.trigger("form-submit-notify",[this,r]),this},t.fn.formToArray=function(e,r){var i=[];if(0===this.length)return i;var o=this[0],s=e?o.getElementsByTagName("*"):o.elements;if(!s)return i;var a,l,u,c,p,d,h;for(a=0,d=s.length;d>a;a++)if(p=s[a],u=p.name)if(e&&o.clk&&"image"==p.type)p.disabled||o.clk!=p||(i.push({name:u,value:t(p).val(),type:p.type}),i.push({name:u+".x",value:o.clk_x},{name:u+".y",value:o.clk_y}));else if(c=t.fieldValue(p,!0),c&&c.constructor==Array)for(r&&r.push(p),l=0,h=c.length;h>l;l++)i.push({name:u,value:c[l]});else if(n.fileapi&&"file"==p.type&&!p.disabled){r&&r.push(p);var f=p.files;if(f.length)for(l=0;f.length>l;l++)i.push({name:u,value:f[l],type:p.type});else i.push({name:u,value:"",type:p.type})}else null!==c&&c!==void 0&&(r&&r.push(p),i.push({name:u,value:c,type:p.type,required:p.required}));if(!e&&o.clk){var m=t(o.clk),v=m[0];u=v.name,u&&!v.disabled&&"image"==v.type&&(i.push({name:u,value:m.val()}),i.push({name:u+".x",value:o.clk_x},{name:u+".y",value:o.clk_y}))}return i},t.fn.formSerialize=function(e){return t.param(this.formToArray(e))},t.fn.fieldSerialize=function(e){var n=[];return this.each(function(){var r=this.name;if(r){var i=t.fieldValue(this,e);if(i&&i.constructor==Array)for(var o=0,s=i.length;s>o;o++)n.push({name:r,value:i[o]});else null!==i&&i!==void 0&&n.push({name:this.name,value:i})}}),t.param(n)},t.fn.fieldValue=function(e){for(var n=[],r=0,i=this.length;i>r;r++){var o=this[r],s=t.fieldValue(o,e);null===s||void 0===s||s.constructor==Array&&!s.length||(s.constructor==Array?t.merge(n,s):n.push(s))}return n},t.fieldValue=function(e,n){var r=e.name,i=e.type,o=e.tagName.toLowerCase();if(void 0===n&&(n=!0),n&&(!r||e.disabled||"reset"==i||"button"==i||("checkbox"==i||"radio"==i)&&!e.checked||("submit"==i||"image"==i)&&e.form&&e.form.clk!=e||"select"==o&&-1==e.selectedIndex))return null;if("select"==o){var s=e.selectedIndex;if(0>s)return null;for(var a=[],l=e.options,u="select-one"==i,c=u?s+1:l.length,p=u?s:0;c>p;p++){var d=l[p];if(d.selected){var h=d.value;if(h||(h=d.attributes&&d.attributes.value&&!d.attributes.value.specified?d.text:d.value),u)return h;a.push(h)}}return a}return t(e).val()},t.fn.clearForm=function(e){return this.each(function(){t("input,select,textarea",this).clearFields(e)})},t.fn.clearFields=t.fn.clearInputs=function(e){var n=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var r=this.type,i=this.tagName.toLowerCase();n.test(r)||"textarea"==i?this.value="":"checkbox"==r||"radio"==r?this.checked=!1:"select"==i?this.selectedIndex=-1:"file"==r?t.browser.msie?t(this).replaceWith(t(this).clone()):t(this).val(""):e&&(e===!0&&/hidden/.test(r)||"string"==typeof e&&t(this).is(e))&&(this.value="")})},t.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})},t.fn.enable=function(t){return void 0===t&&(t=!0),this.each(function(){this.disabled=!t})},t.fn.selected=function(e){return void 0===e&&(e=!0),this.each(function(){var n=this.type;if("checkbox"==n||"radio"==n)this.checked=e;else if("option"==this.tagName.toLowerCase()){var r=t(this).parent("select");e&&r[0]&&"select-one"==r[0].type&&r.find("option").selected(!1),this.selected=e
}})},t.fn.ajaxSubmit.debug=!1}(jQuery),function(t){var e=/[^\[\]]+/g,n=function(e){return t.isNumeric(e)?parseFloat(e):"true"===e?!0:"false"===e?!1:""===e?void 0:e},r=function(e,n,i,o,s,a,l){var u=o.shift();if(l=l?l+"."+u:u,o.length)i[u]||(i[u]={}),r(e,n,i[u],o,s,a,l);else{if(l in a&&"radio"!=n&&!t.isArray(i[u])?i[u]=u in i?[i[u]]:[]:a[l]=!0,("radio"==n||"checkbox"==n)&&!e.is(":checked"))return;i[u]?i[u].push(s):i[u]=s}};t.fn.extend({formParams:function(t){var e;return!!t===t&&(e=t,t=null),t?this.setParams(t):this.getParams(e)},setParams:function(e){this.find("[name]").each(function(){var n,r=e[t(this).attr("name")];void 0!==r&&(n=t(this),n.is(":radio")?n.val()==r&&n.attr("checked",!0):n.is(":checkbox")?(r=t.isArray(r)?r:[r],t.inArray(n.val(),r)>-1&&n.attr("checked",!0)):n.val(r))})},getParams:function(i){var o={},s={};return this.find("[name]:not(:disabled)").each(function(){var a,l=t(this),u=l.attr("type"),c=l.attr("name"),p=l.val();"submit"!=u&&c&&(a=c.match(e),a.length||(a=[c]),i&&(p=n(p)),r(l,u,o,a,p,s))}),o}})}(jQuery),function(t){var e={verticalOffset:10,horizontalOffset:10,title:!1,content:!1,url:!1,classes:"",position:"auto",fadeSpeed:160,trigger:"click",preventDefault:!0,stopChildrenPropagation:!0,hideOnHTMLClick:!0,animateChange:!0,autoReposition:!0,anchor:!1},n=[],r={calc_position:function(e,n){var r,i,o=e.popover("getData"),s=o.options,a=s.anchor?t(s.anchor):e,l=o.popover,u=a.offset();return"top"==n?(r=u.top-l.outerHeight(),i=u.left-l.outerWidth()/2+a.outerWidth()/2):"right"==n?(r=u.top+a.outerHeight()/2-l.outerHeight()/2,i=u.left+a.outerWidth()):"left"==n?(r=u.top+a.outerHeight()/2-l.outerHeight()/2,i=u.left-l.outerWidth()):(r=u.top+a.outerHeight(),i=u.left-l.outerWidth()/2+a.outerWidth()/2),x2=i+l.outerWidth(),y2=r+l.outerHeight(),ret={x1:i,x2:x2,y1:r,y2:y2}},pop_position_class:function(t,e){var n="popover-top popover-right popover-left",r="top-arrow",i="right-arrow bottom-arrow left-arrow";"top"==e?(n="popover-right popover-bottom popover-left",r="bottom-arrow",i="top-arrow right-arrow left-arrow"):"right"==e?(n="popover-yop popover-bottom popover-left",r="left-arrow",i="top-arrow right-arrow bottom-arrow"):"left"==e&&(n="popover-top popover-right popover-bottom",r="right-arrow",i="top-arrow bottom-arrow left-arrow"),t.removeClass(n).addClass("popover-"+e).find(".arrow").removeClass(i).addClass(r)}},i={init:function(r){return this.each(function(){var i=t.extend({},e,r),o=t(this),s=o.popover("getData");if(!s){var a=t('<div class="popover" />').addClass(i.classes).append('<div class="arrow" />').append('<div class="wrap"></div>').appendTo("body").hide();i.stopChildrenPropagation&&a.children().bind("click.popover",function(t){t.stopPropagation()}),o.bind("click.popover",function(t){i.preventDefault&&t.preventDefault(),t.stopPropagation()}),i.anchor&&!i.anchor instanceof jQuery&&(i.anchor=t(i.anchor));var s={target:o,popover:a,options:i};if(i.title&&t('<div class="title" />').html(i.title instanceof jQuery?i.title.html():i.title).appendTo(a.find(".wrap")),i.content&&t('<div class="content" />').html(i.content instanceof jQuery?i.content.html():i.content).appendTo(a.find(".wrap")),o.data("popover",s),n.push(o),i.url&&o.popover("ajax",i.url),o.popover("reposition"),o.popover("setTrigger",i.trigger),i.hideOnHTMLClick){var l="click.popover";"ontouchstart"in document.documentElement&&(l="touchstart.popover"),t("html").unbind(l).bind(l,function(){t("html").popover("fadeOutAll")})}if(i.autoReposition){var u=function(){o.popover("reposition")};t(window).unbind("resize.popover").bind("resize.popover",u).unbind("scroll.popover").bind("scroll.popover",u)}}})},reposition:function(){return this.each(function(){var e=t(this),n=e.popover("getData");if(n){var i=n.popover,o=n.options,s=o.anchor?t(o.anchor):e;s.offset();var a=o.position;"top"!=a&&"right"!=a&&"left"!=a&&"auto"!=a&&(a="bottom");var l;if("auto"==a){var u=["bottom","left","top","right"],c=t(window).scrollTop(),p=t(window).scrollLeft(),d=t(window).outerHeight(),h=t(window).outerWidth();if(t.each(u,function(t,n){l=r.calc_position(e,n);var i=l.x1-p,s=l.x2-p+o.horizontalOffset,u=l.y1-c,f=l.y2-c+o.verticalOffset;return 0>i||0>s||0>u||0>f?!0:f>d?!0:s>h?!0:(a=n,!1)}),"auto"==a)return}l=r.calc_position(e,a),l.top,l.left,r.pop_position_class(i,a);var f=0,m=0;"bottom"==a&&(f=o.verticalOffset),"top"==a&&(f=-o.verticalOffset),"right"==a&&(m=o.horizontalOffset),"left"==a&&(m=-o.horizontalOffset);var v={left:l.x1,top:l.y1,marginTop:f,marginLeft:m};n.initd&&o.animateChange?i.css(v):(n.initd=!0,i.css(v)),e.data("popover",n)}})},destroy:function(){return this.each(function(){var e=t(this),n=e.popover("getData");e.unbind(".popover"),t(window).unbind(".popover"),n.popover.remove(),e.removeData("popover")})},show:function(){return this.each(function(){var e=t(this),n=e.popover("getData");if(n){var r=n.popover;e.popover("reposition"),r.clearQueue().css({zIndex:950}).show(),e.trigger("show.popover",r)}})},hide:function(){return this.each(function(){var e=t(this),n=e.popover("getData");n&&n.popover.hide().css({zIndex:949})})},fadeOut:function(e){return this.each(function(){var n=t(this),r=n.popover("getData");if(r){var i=r.popover,o=r.options;i.delay(100).css({zIndex:949}).fadeOut(e?e:o.fadeSpeed)}})},hideAll:function(){return t.each(n,function(){var e=t(this),n=e.popover("getData");if(n){var r=n.popover;r.hide()}})},fadeOutAll:function(e){return t.each(n,function(){var n=t(this),r=n.popover("getData");if(r){var i=r.popover,o=r.options;i.css({zIndex:949}).fadeOut(e?e:o.fadeSpeed)}})},setTrigger:function(e){return this.each(function(){var n=t(this),r=n.popover("getData");if(r){var i=r.popover,o=r.options,s=o.anchor?t(o.anchor):n;"click"===e?(s.unbind("click").bind("click",function(t){t.preventDefault(),t.stopPropagation(),n.popover("show")}),i.unbind("click.popover").bind("click.popover",function(t){t.stopPropagation()})):(s.unbind("click"),i.unbind("click.popover")),"hover"===e?(s.add(i).bind("mousemove.popover",function(){n.popover("show")}),s.add(i).bind("mouseleave.popover",function(){n.popover("fadeOut")})):s.add(i).unbind("mousemove.popover").unbind("mouseleave.popover"),"focus"===e?(s.add(i).bind("focus.popover",function(){n.popover("show")}),s.add(i).bind("blur.popover",function(){n.popover("fadeOut")}),s.bind("click.popover",function(t){t.stopPropagation()})):s.add(i).unbind("focus.popover").unbind("blur.popover").unbind("click.popover")}})},title:function(e){return this.each(function(){var n=t(this),r=n.popover("getData");if(r){var i=r.popover.find(".title"),o=r.popover.find(".wrap");0===i.length&&(i=t('<div class="title" />').appendTo(o)),i.html(e)}})},content:function(e){return this.each(function(){var n=t(this),r=n.popover("getData");if(r){var i=r.popover.find(".content"),o=r.popover.find(".wrap");0===i.length&&(i=t('<div class="content" />').appendTo(o)),i.html(e)}})},ajax:function(e,n){return this.each(function(){var r=t(this),i=r.popover("getData");if(i){var o={url:e,success:function(e){var n=i.popover.find(".content"),r=i.popover.find(".wrap");0===n.length&&(n=t('<div class="content" />').appendTo(r)),n.html(e)}},s=t.extend({},o,n);t.ajax(s)}})},setOption:function(e,n){return this.each(function(){var r=t(this),i=r.popover("getData");i&&(i.options[e]=n,r.data("popover",i))})},getData:function(){var e=[];return this.each(function(){var n=t(this),r=n.data("popover");r&&e.push(r)}),0!=e.length?(1==e.length&&(e=e[0]),e):void 0}};t.fn.popover=function(e){return i[e]?i[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?(t.error("Method "+e+" does not exist on jQuery.popover"),void 0):i.init.apply(this,arguments)}}(jQuery),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){function e(){var e=n(this);return isNaN(e.datetime)||t(this).text(r(e.datetime)),this}function n(e){if(e=t(e),!e.data("timeago")){e.data("timeago",{datetime:o.datetime(e)});var n=t.trim(e.text());!(n.length>0)||o.isTime(e)&&e.attr("title")||e.attr("title",n)}return e.data("timeago")}function r(t){return o.inWords(i(t))}function i(t){return(new Date).getTime()-t.getTime()}t.timeago=function(e){return e instanceof Date?r(e):"string"==typeof e?r(t.timeago.parse(e)):"number"==typeof e?r(new Date(e)):r(t.timeago.datetime(e))};var o=t.timeago;t.extend(t.timeago,{settings:{refreshMillis:6e4,allowFuture:!1,strings:{prefixAgo:null,prefixFromNow:null,suffixAgo:"ago",suffixFromNow:"from now",seconds:"less than a minute",minute:"about a minute",minutes:"%d minutes",hour:"about an hour",hours:"about %d hours",day:"a day",days:"%d days",month:"about a month",months:"%d months",year:"about a year",years:"%d years",wordSeparator:" ",numbers:[]}},inWords:function(e){function n(n,i){var o=t.isFunction(n)?n(i,e):n,s=r.numbers&&r.numbers[i]||i;return o.replace(/%d/i,s)}var r=this.settings.strings,i=r.prefixAgo,o=r.suffixAgo;this.settings.allowFuture&&0>e&&(i=r.prefixFromNow,o=r.suffixFromNow);var s=Math.abs(e)/1e3,a=s/60,l=a/60,u=l/24,c=u/365,p=45>s&&n(r.seconds,Math.round(s))||90>s&&n(r.minute,1)||45>a&&n(r.minutes,Math.round(a))||90>a&&n(r.hour,1)||24>l&&n(r.hours,Math.round(l))||42>l&&n(r.day,1)||30>u&&n(r.days,Math.round(u))||45>u&&n(r.month,1)||365>u&&n(r.months,Math.round(u/30))||1.5>c&&n(r.year,1)||n(r.years,Math.round(c)),d=r.wordSeparator||"";return void 0===r.wordSeparator&&(d=" "),t.trim([i,p,o].join(d))},parse:function(e){var n=t.trim(e);return n=n.replace(/\.\d+/,""),n=n.replace(/-/,"/").replace(/-/,"/"),n=n.replace(/T/," ").replace(/Z/," UTC"),n=n.replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2"),new Date(n)},datetime:function(e){var n=o.isTime(e)?t(e).attr("datetime"):t(e).attr("title");return o.parse(n)},isTime:function(e){return"time"===t(e).get(0).tagName.toLowerCase()}}),t.fn.timeago=function(){var t=this;t.each(e);var n=o.settings;return n.refreshMillis>0&&setInterval(function(){t.each(e)},n.refreshMillis),t},document.createElement("abbr"),document.createElement("time")}),function(t){function e(t,e){for(var n=t.length;n--;)if(t[n]===e)return n;return-1}function n(t,n){var r,i,s,a,l;if(r=t.keyCode,(93==r||224==r)&&(r=91),r in h){h[r]=!0;for(s in m)m[s]==r&&(o[s]=!0)}else if(o.filter.call(this,t)&&r in d)for(a=0;d[r].length>a;a++)if(i=d[r][a],i.scope==n||"all"==i.scope){l=i.mods.length>0;for(s in h)(!h[s]&&e(i.mods,+s)>-1||h[s]&&-1==e(i.mods,+s))&&(l=!1);(0!=i.mods.length||h[16]||h[18]||h[17]||h[91])&&!l||i.method(t,i)===!1&&(t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation&&t.stopPropagation(),t.cancelBubble&&(t.cancelBubble=!0))}}function r(t){var e,n=t.keyCode;if((93==n||224==n)&&(n=91),n in h){h[n]=!1;for(e in m)m[e]==n&&(o[e]=!1)}}function i(){for(p in h)h[p]=!1;for(p in m)o[p]=!1}function o(t,e,n){var r,i,o,s;for(void 0===n&&(n=e,e="all"),t=t.replace(/\s/g,""),r=t.split(","),""==r[r.length-1]&&(r[r.length-2]+=","),o=0;r.length>o;o++){if(i=[],t=r[o].split("+"),t.length>1){for(i=t.slice(0,t.length-1),s=0;i.length>s;s++)i[s]=m[i[s]];t=[t[t.length-1]]}t=t[0],t=v[t]||t.toUpperCase().charCodeAt(0),t in d||(d[t]=[]),d[t].push({shortcut:r[o],scope:e,method:n,key:r[o],mods:i})}}function s(t){var e=(t.target||t.srcElement).tagName;return!("INPUT"==e||"SELECT"==e||"TEXTAREA"==e)}function a(t){f=t||"all"}function l(){return f||"all"}function u(t){var e,n,r;for(e in d)for(n=d[e],r=0;n.length>r;)n[r].scope===t?n.splice(r,1):r++}function c(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent&&t.attachEvent("on"+e,function(){n(window.event)})}var p,d={},h={16:!1,18:!1,17:!1,91:!1},f="all",m={"â‡§":16,shift:16,"âŒ¥":18,alt:18,option:18,"âŒƒ":17,ctrl:17,control:17,"âŒ˜":91,command:91},v={backspace:8,tab:9,clear:12,enter:13,"return":13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,"delete":46,home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220};for(p=1;20>p;p++)m["f"+p]=111+p;for(p in m)o[p]=!1;c(document,"keydown",function(t){n(t,f)}),c(document,"keyup",r),c(window,"focus",i),t.key=o,t.key.setScope=a,t.key.getScope=l,t.key.deleteScope=u,t.key.filter=s,"undefined"!=typeof module&&(module.exports=key)}(this),function(t){t.fn.scrollable=function(){t(this).bind("mousewheel DOMMouseScroll",function(e){var n=t(this),r=e.originalEvent.wheelDelta||-e.originalEvent.detail,i=n.get(0).scrollTop,o=n.get(0).scrollHeight,s=n.outerHeight();o!==s&&(0>=i?r>0&&e.preventDefault():s+1>=o-i&&0>r&&e.preventDefault())})}}(window.jQuery),function(t){t.fn.each2===void 0&&t.fn.extend({each2:function(e){for(var n=t([0]),r=-1,i=this.length;i>++r&&(n.context=n[0]=this[r])&&e.call(n[0],r,n)!==!1;);return this}})}(jQuery),function(t,e){"use strict";function n(t,n){var r,i=0,o=n.length;if(t===e)return-1;if(t.constructor===String){for(;o>i;i+=1)if(0===t.localeCompare(n[i]))return i}else for(;o>i;i+=1)if(r=n[i],r.constructor===String){if(0===r.localeCompare(t))return i}else if(r===t)return i;return-1}function r(t,n){return t===n?!0:t===e||n===e?!1:null===t||null===n?!1:t.constructor===String?0===t.localeCompare(n):n.constructor===String?0===n.localeCompare(t):!1}function i(e,n){var r,i,o;if(null===e||1>e.length)return[];for(r=e.split(n),i=0,o=r.length;o>i;i+=1)r[i]=t.trim(r[i]);return r}function o(t){return t.outerWidth()-t.width()}function s(n){var r="keyup-change-value";n.bind("keydown",function(){t.data(n,r)===e&&t.data(n,r,n.val())}),n.bind("keyup",function(){var i=t.data(n,r);i!==e&&n.val()!==i&&(t.removeData(n,r),n.trigger("keyup-change"))})}function a(n){n.bind("mousemove",function(n){var r=t.data(document,"select2-lastpos");(r===e||r.x!==n.pageX||r.y!==n.pageY)&&t(n.target).trigger("mousemove-filtered",n)})}function l(t,n,r){r=r||e;var i;return function(){var e=arguments;window.clearTimeout(i),i=window.setTimeout(function(){n.apply(r,e)},t)}}function u(t){var e,n=!1;return function(){return n===!1&&(e=t(),n=!0),e}}function c(t,e){var r=l(t,function(t){e.trigger("scroll-debounced",t)});e.bind("scroll",function(t){n(t.target,e.get())>=0&&r(t)})}function p(t){t.preventDefault(),t.stopPropagation()}function d(e){if(!T){var n=e[0].currentStyle||window.getComputedStyle(e[0],null);T=t("<div></div>").css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:n.fontSize,fontFamily:n.fontFamily,fontStyle:n.fontStyle,fontWeight:n.fontWeight,letterSpacing:n.letterSpacing,textTransform:n.textTransform,whiteSpace:"nowrap"}),t("body").append(T)}return T.text(e.val()),T.width()}function h(t,n,r){var i=t.toUpperCase().indexOf(n.toUpperCase()),o=n.length;return 0>i?(r.push(t),e):(r.push(t.substring(0,i)),r.push("<span class='select2-match'>"),r.push(t.substring(i,i+o)),r.push("</span>"),r.push(t.substring(i+o,t.length)),e)}function f(e){var n,r=0,i=null,o=e.quietMillis||100;return function(s){window.clearTimeout(n),n=window.setTimeout(function(){r+=1;var n=r,o=e.data,a=e.transport||t.ajax,l=e.traditional||!1,u=e.type||"GET";o=o.call(this,s.term,s.page,s.context),null!==i&&i.abort(),i=a.call(null,{url:e.url,dataType:e.dataType,data:o,type:u,traditional:l,success:function(t){if(!(r>n)){var i=e.results(t,s.page);s.callback(i)}}})},o)}}function m(n){var r,i=n,o=function(t){return""+t.text};return t.isArray(i)||(o=i.text,t.isFunction(o)||(r=i.text,o=function(t){return t[r]}),i=i.results),function(n){var r,s=n.term,a={results:[]};return""===s?(n.callback({results:i}),e):(r=function(e,i){var a,l;if(e=e[0],e.children){a={};for(l in e)e.hasOwnProperty(l)&&(a[l]=e[l]);a.children=[],t(e.children).each2(function(t,e){r(e,a.children)}),a.children.length&&i.push(a)}else n.matcher(s,o(e))&&i.push(e)},t(i).each2(function(t,e){r(e,a.results)}),n.callback(a),e)}}function v(n){return t.isFunction(n)?n:function(r){var i=r.term,o={results:[]};t(n).each(function(){var t=this.text!==e,n=t?this.text:this;(""===i||r.matcher(i,n))&&o.results.push(t?this:{id:this,text:this})}),r.callback(o)}}function g(e){if(t.isFunction(e))return!0;if(!e)return!1;throw Error("formatterName must be a function or a falsy value")}function y(e){return t.isFunction(e)?e():e}function w(e){var n=0;return t.each(e,function(t,e){e.children?n+=w(e.children):n++}),n}function b(t,n,i,o){var s,a,l,u,c,p=t,d=!1;if(!o.createSearchChoice||!o.tokenSeparators||1>o.tokenSeparators.length)return e;for(;;){for(a=-1,l=0,u=o.tokenSeparators.length;u>l&&(c=o.tokenSeparators[l],a=t.indexOf(c),!(a>=0));l++);if(0>a)break;if(s=t.substring(0,a),t=t.substring(a+c.length),s.length>0&&(s=o.createSearchChoice(s,n),s!==e&&null!==s&&o.id(s)!==e&&null!==o.id(s))){for(d=!1,l=0,u=n.length;u>l;l++)if(r(o.id(s),o.id(n[l]))){d=!0;break}d||i(s)}}return 0!=p.localeCompare(t)?t:e}function _(e,n){var r=function(){};return r.prototype=new e,r.prototype.constructor=r,r.prototype.parent=e.prototype,r.prototype=t.extend(r.prototype,n),r}if(window.Select2===e){var k,x,S,C,E,T;k={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(t){switch(t=t.which?t.which:t){case k.LEFT:case k.RIGHT:case k.UP:case k.DOWN:return!0}return!1},isControl:function(t){var e=t.which;switch(e){case k.SHIFT:case k.CTRL:case k.ALT:return!0}return t.metaKey?!0:!1},isFunctionKey:function(t){return t=t.which?t.which:t,t>=112&&123>=t}},E=function(){var t=1;return function(){return t++}}(),t(document).delegate("body","mousemove",function(e){t.data(document,"select2-lastpos",{x:e.pageX,y:e.pageY})}),t(document).ready(function(){t(document).delegate("body","mousedown touchend",function(n){var r,i=t(n.target).closest("div.select2-container").get(0);i?t(document).find("div.select2-container-active").each(function(){this!==i&&t(this).data("select2").blur()}):(i=t(n.target).closest("div.select2-drop").get(0),t(document).find("div.select2-drop-active").each(function(){this!==i&&t(this).data("select2").blur()})),i=t(n.target),r=i.attr("for"),"LABEL"===n.target.tagName&&r&&r.length>0&&(i=t("#"+r),i=i.data("select2"),i!==e&&(i.focus(),n.preventDefault()))})}),x=_(Object,{bind:function(t){var e=this;return function(){t.apply(e,arguments)}},init:function(n){var r,i,o=".select2-results";this.opts=n=this.prepareOpts(n),this.id=n.id,n.element.data("select2")!==e&&null!==n.element.data("select2")&&this.destroy(),this.enabled=!0,this.container=this.createContainer(),this.containerId="s2id_"+(n.element.attr("id")||"autogen"+E()),this.containerSelector="#"+this.containerId.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.body=u(function(){return n.element.closest("body")}),n.element.attr("class")!==e&&this.container.addClass(n.element.attr("class").replace(/validate\[[\S ]+] ?/,"")),this.container.css(y(n.containerCss)),this.container.addClass(y(n.containerCssClass)),this.opts.element.data("select2",this).hide().before(this.container),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),this.dropdown.addClass(y(n.dropdownCssClass)),this.dropdown.data("select2",this),this.results=r=this.container.find(o),this.search=i=this.container.find("input.select2-input"),i.attr("tabIndex",this.opts.element.attr("tabIndex")),this.resultsPage=0,this.context=null,this.initContainer(),this.initContainerWidth(),a(this.results),this.dropdown.delegate(o,"mousemove-filtered",this.bind(this.highlightUnderEvent)),c(80,this.results),this.dropdown.delegate(o,"scroll-debounced",this.bind(this.loadMoreIfNeeded)),t.fn.mousewheel&&r.mousewheel(function(t,e,n,i){var o=r.scrollTop();i>0&&0>=o-i?(r.scrollTop(0),p(t)):0>i&&r.get(0).scrollHeight-r.scrollTop()+i<=r.height()&&(r.scrollTop(r.get(0).scrollHeight-r.height()),p(t))}),s(i),i.bind("keyup-change",this.bind(this.updateResults)),i.bind("focus",function(){i.addClass("select2-focused")," "===i.val()&&i.val("")}),i.bind("blur",function(){i.removeClass("select2-focused")}),this.dropdown.delegate(o,"mouseup",this.bind(function(e){t(e.target).closest(".select2-result-selectable:not(.select2-disabled)").length>0?(this.highlightUnderEvent(e),this.selectHighlighted(e)):this.focusSearch(),p(e)})),this.dropdown.bind("click mouseup mousedown",function(t){t.stopPropagation()}),t.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),(n.element.is(":disabled")||n.element.is("[readonly='readonly']"))&&this.disable()},destroy:function(){var t=this.opts.element.data("select2");t!==e&&(t.container.remove(),t.dropdown.remove(),t.opts.element.removeData("select2").unbind(".select2").show())},prepareOpts:function(n){var o,s,a,l;if(o=n.element,"select"===o.get(0).tagName.toLowerCase()&&(this.select=s=n.element),s&&t.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in n)throw Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),n=t.extend({},{populateResults:function(r,i,o){var s,a=this.opts.id,l=this;s=function(r,i,u){var c,p,d,h,f,m,v,g,y;for(c=0,p=r.length;p>c;c+=1)d=r[c],h=a(d)!==e,f=d.children&&d.children.length>0,m=t("<li></li>"),m.addClass("select2-results-dept-"+u),m.addClass("select2-result"),m.addClass(h?"select2-result-selectable":"select2-result-unselectable"),f&&m.addClass("select2-result-with-children"),m.addClass(l.opts.formatResultCssClass(d)),v=t("<div></div>"),v.addClass("select2-result-label"),y=n.formatResult(d,v,o),y!==e&&v.html(l.opts.escapeMarkup(y)),m.append(v),f&&(g=t("<ul></ul>"),g.addClass("select2-result-sub"),s(d.children,g,u+1),m.append(g)),m.data("select2-data",d),i.append(m)},s(i,r,0)}},t.fn.select2.defaults,n),"function"!=typeof n.id&&(a=n.id,n.id=function(t){return t[a]}),s?(n.query=this.bind(function(n){var r,i,s,a={results:[],more:!1},l=n.term;s=function(t,e){var r;t.is("option")?n.matcher(l,t.text(),t)&&e.push({id:t.attr("value"),text:t.text(),element:t.get(),css:t.attr("class")}):t.is("optgroup")&&(r={text:t.attr("label"),children:[],element:t.get(),css:t.attr("class")},t.children().each2(function(t,e){s(e,r.children)}),r.children.length>0&&e.push(r))},r=o.children(),this.getPlaceholder()!==e&&r.length>0&&(i=r[0],""===t(i).text()&&(r=r.not(i))),r.each2(function(t,e){s(e,a.results)}),n.callback(a)}),n.id=function(t){return t.id},n.formatResultCssClass=function(t){return t.css}):"query"in n||("ajax"in n?(l=n.element.data("ajax-url"),l&&l.length>0&&(n.ajax.url=l),n.query=f(n.ajax)):"data"in n?n.query=m(n.data):"tags"in n&&(n.query=v(n.tags),n.createSearchChoice=function(t){return{id:t,text:t}},n.initSelection=function(o,s){var a=[];t(i(o.val(),n.separator)).each(function(){var i=this,o=this,s=n.tags;t.isFunction(s)&&(s=s()),t(s).each(function(){return r(this.id,i)?(o=this.text,!1):e}),a.push({id:i,text:o})}),s(a)})),"function"!=typeof n.query)throw"query function not defined for Select2 "+n.element.attr("id");return n},monitorSource:function(){this.opts.element.bind("change.select2",this.bind(function(){this.opts.element.data("select2-change-triggered")!==!0&&this.initSelection()}))},triggerChange:function(e){e=e||{},e=t.extend({},e,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(e),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},enable:function(){this.enabled||(this.enabled=!0,this.container.removeClass("select2-container-disabled"))},disable:function(){this.enabled&&(this.close(),this.enabled=!1,this.container.addClass("select2-container-disabled"))},opened:function(){return this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var e,n,r,i=this.container.offset(),o=this.container.outerHeight(),s=this.container.outerWidth(),a=this.dropdown.outerHeight(),l=t(window).scrollTop()+document.documentElement.clientHeight,u=i.top+o,c=i.left,p=l>=u+a,d=i.top-a>=this.body().scrollTop(),h=this.dropdown.hasClass("select2-drop-above");"static"!==this.body().css("position")&&(e=this.body().offset(),u-=e.top,c-=e.left),h?(n=!0,!d&&p&&(n=!1)):(n=!1,!p&&d&&(n=!0)),n?(u=i.top-a,this.container.addClass("select2-drop-above"),this.dropdown.addClass("select2-drop-above")):(this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")),r=t.extend({top:u,left:c,width:s},y(this.opts.dropdownCss)),this.dropdown.css(r)},shouldOpen:function(){var e;return this.opened()?!1:(e=t.Event("open"),this.opts.element.trigger(e),!e.isDefaultPrevented())},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return this.shouldOpen()?(window.setTimeout(this.bind(this.opening),1),!0):!1},opening:function(){var e=this.containerId,n=this.containerSelector,r="scroll."+e,i="resize."+e;this.container.parents().each(function(){t(this).bind(r,function(){var e=t(n);0==e.length&&t(this).unbind(r),e.select2("close")})}),t(window).bind(i,function(){var e=t(n);0==e.length&&t(window).unbind(i),e.select2("close")}),this.clearDropdownAlignmentPreference()," "===this.search.val()&&this.search.val(""),this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.updateResults(!0),this.dropdown[0]!==this.body().children().last()[0]&&this.dropdown.detach().appendTo(this.body()),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active"),this.ensureHighlightVisible(),this.focusSearch()},close:function(){if(this.opened()){var e=this;this.container.parents().each(function(){t(this).unbind("scroll."+e.containerId)}),t(window).unbind("resize."+this.containerId),this.clearDropdownAlignmentPreference(),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active"),this.results.empty(),this.clearSearch(),this.opts.element.trigger(t.Event("close"))}},clearSearch:function(){},ensureHighlightVisible:function(){var n,r,i,o,s,a,l,u=this.results;if(r=this.highlight(),!(0>r)){if(0==r)return u.scrollTop(0),e;n=u.find(".select2-result-selectable"),i=t(n[r]),o=i.offset().top+i.outerHeight(),r===n.length-1&&(l=u.find("li.select2-more-results"),l.length>0&&(o=l.offset().top+l.outerHeight())),s=u.offset().top+u.outerHeight(),o>s&&u.scrollTop(u.scrollTop()+(o-s)),a=i.offset().top-u.offset().top,0>a&&u.scrollTop(u.scrollTop()+a)}},moveHighlight:function(e){for(var n=this.results.find(".select2-result-selectable"),r=this.highlight();r>-1&&n.length>r;){r+=e;var i=t(n[r]);if(i.hasClass("select2-result-selectable")&&!i.hasClass("select2-disabled")){this.highlight(r);break}}},highlight:function(r){var i=this.results.find(".select2-result-selectable").not(".select2-disabled");return 0===arguments.length?n(i.filter(".select2-highlighted")[0],i.get()):(r>=i.length&&(r=i.length-1),0>r&&(r=0),i.removeClass("select2-highlighted"),t(i[r]).addClass("select2-highlighted"),this.ensureHighlightVisible(),e)},countSelectableResults:function(){return this.results.find(".select2-result-selectable").not(".select2-disabled").length},highlightUnderEvent:function(e){var n=t(e.target).closest(".select2-result-selectable");if(n.length>0&&!n.is(".select2-highlighted")){var r=this.results.find(".select2-result-selectable");this.highlight(r.index(n))}else 0==n.length&&this.results.find(".select2-highlighted").removeClass("select2-highlighted")},loadMoreIfNeeded:function(){var t,e=this.results,n=e.find("li.select2-more-results"),r=this.resultsPage+1,i=this,o=this.search.val(),s=this.context;0!==n.length&&(t=n.offset().top-e.offset().top-e.height(),0>=t&&(n.addClass("select2-active"),this.opts.query({term:o,page:r,context:s,matcher:this.opts.matcher,callback:this.bind(function(t){i.opened()&&(i.opts.populateResults.call(this,e,t.results,{term:o,page:r,context:s}),t.more===!0?(n.detach().appendTo(e).text(i.opts.formatLoadMore(r+1)),window.setTimeout(function(){i.loadMoreIfNeeded()},10)):n.remove(),i.positionDropdown(),i.resultsPage=r)})})))},tokenize:function(){},updateResults:function(n){function i(){u.scrollTop(0),l.removeClass("select2-active"),p.positionDropdown()}function o(t){u.html(p.opts.escapeMarkup(t)),i()}var s,a,l=this.search,u=this.results,c=this.opts,p=this;if(n===!0||this.showSearchInput!==!1&&this.opened()){if(l.addClass("select2-active"),c.maximumSelectionSize>=1&&(s=this.data(),t.isArray(s)&&s.length>=c.maximumSelectionSize&&g(c.formatSelectionTooBig,"formatSelectionTooBig")))return o("<li class='select2-selection-limit'>"+c.formatSelectionTooBig(c.maximumSelectionSize)+"</li>"),e;if(l.val().length<c.minimumInputLength&&g(c.formatInputTooShort,"formatInputTooShort"))return o("<li class='select2-no-results'>"+c.formatInputTooShort(l.val(),c.minimumInputLength)+"</li>"),e;o("<li class='select2-searching'>"+c.formatSearching()+"</li>"),a=this.tokenize(),a!=e&&null!=a&&l.val(a),this.resultsPage=1,c.query({term:l.val(),page:this.resultsPage,context:null,matcher:c.matcher,callback:this.bind(function(s){var a;if(this.opened()){if(this.context=s.context===e?null:s.context,this.opts.createSearchChoice&&""!==l.val()&&(a=this.opts.createSearchChoice.call(null,l.val(),s.results),a!==e&&null!==a&&p.id(a)!==e&&null!==p.id(a)&&0===t(s.results).filter(function(){return r(p.id(this),p.id(a))}).length&&s.results.unshift(a)),0===s.results.length&&g(c.formatNoMatches,"formatNoMatches"))return o("<li class='select2-no-results'>"+c.formatNoMatches(l.val())+"</li>"),e;u.empty(),p.opts.populateResults.call(this,u,s.results,{term:l.val(),page:this.resultsPage,context:null}),s.more===!0&&g(c.formatLoadMore,"formatLoadMore")&&(u.append("<li class='select2-more-results'>"+p.opts.escapeMarkup(c.formatLoadMore(this.resultsPage))+"</li>"),window.setTimeout(function(){p.loadMoreIfNeeded()},10)),this.postprocessResults(s,n),i()}})})}},cancel:function(){this.close()},blur:function(){this.close(),this.container.removeClass("select2-container-active"),this.dropdown.removeClass("select2-drop-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){this.search.show(),this.search.focus(),window.setTimeout(this.bind(function(){this.search.show(),this.search.focus(),this.search.val(this.search.val())}),10)},selectHighlighted:function(){var t=this.highlight(),e=this.results.find(".select2-highlighted").not(".select2-disabled"),n=e.closest(".select2-result-selectable").data("select2-data");n&&(e.addClass("select2-disabled"),this.highlight(t),this.onSelect(n))},getPlaceholder:function(){return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder},initContainerWidth:function(){function n(){var n,r,i,o,s;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth()?"auto":this.opts.element.outerWidth()+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if(n=this.opts.element.attr("style"),n!==e)for(r=n.split(";"),o=0,s=r.length;s>o;o+=1)if(i=r[o].replace(/\s/g,"").match(/width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/),null!==i&&i.length>=1)return i[1];return"resolve"===this.opts.width?(n=this.opts.element.css("width"),n.indexOf("%")>0?n:0===this.opts.element.outerWidth()?"auto":this.opts.element.outerWidth()+"px"):null}return t.isFunction(this.opts.width)?this.opts.width():this.opts.width}var r=n.call(this);null!==r&&this.container.attr("style","width: "+r)}}),S=_(x,{createContainer:function(){var e=t("<div></div>",{"class":"select2-container"}).html(["    <a href='#' onclick='return false;' class='select2-choice'>","   <span></span><abbr class='select2-search-choice-close' style='display:none;'></abbr>","   <div><b></b></div>","</a>","    <div class='select2-drop select2-offscreen'>","   <div class='select2-search'>","       <input type='text' autocomplete='off' class='select2-input'/>","   </div>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return e},opening:function(){this.search.show(),this.parent.opening.apply(this,arguments),this.dropdown.removeClass("select2-offscreen")
},close:function(){this.opened()&&(this.parent.close.apply(this,arguments),this.dropdown.removeAttr("style").addClass("select2-offscreen").insertAfter(this.selection).show())},focus:function(){this.close(),this.selection.focus()},isFocused:function(){return this.selection[0]===document.activeElement},cancel:function(){this.parent.cancel.apply(this,arguments),this.selection.focus()},initContainer:function(){var t,n=this.container,r=this.dropdown,i=!1;this.selection=t=n.find(".select2-choice"),this.search.bind("keydown",this.bind(function(t){if(this.enabled){if(t.which===k.PAGE_UP||t.which===k.PAGE_DOWN)return p(t),e;if(this.opened())switch(t.which){case k.UP:case k.DOWN:return this.moveHighlight(t.which===k.UP?-1:1),p(t),e;case k.TAB:case k.ENTER:return this.selectHighlighted(),p(t),e;case k.ESC:return this.cancel(t),p(t),e}else{if(t.which===k.TAB||k.isControl(t)||k.isFunctionKey(t)||t.which===k.ESC)return;if(this.opts.openOnEnter===!1&&t.which===k.ENTER)return;if(this.open(),t.which===k.ENTER)return}}})),this.search.bind("focus",this.bind(function(){this.selection.attr("tabIndex","-1")})),this.search.bind("blur",this.bind(function(){this.opened()||this.container.removeClass("select2-container-active"),window.setTimeout(this.bind(function(){this.selection.attr("tabIndex",this.opts.element.attr("tabIndex"))}),10)})),t.bind("mousedown",this.bind(function(){i=!0,this.opened()?(this.close(),this.selection.focus()):this.enabled&&this.open(),i=!1})),r.bind("mousedown",this.bind(function(){this.search.focus()})),t.bind("focus",this.bind(function(){this.container.addClass("select2-container-active"),this.search.attr("tabIndex","-1")})),t.bind("blur",this.bind(function(){this.opened()||this.container.removeClass("select2-container-active"),window.setTimeout(this.bind(function(){this.search.attr("tabIndex",this.opts.element.attr("tabIndex"))}),10)})),t.bind("keydown",this.bind(function(t){if(this.enabled){if(t.which===k.PAGE_UP||t.which===k.PAGE_DOWN)return p(t),e;if(!(t.which===k.TAB||k.isControl(t)||k.isFunctionKey(t)||t.which===k.ESC||this.opts.openOnEnter===!1&&t.which===k.ENTER)){if(t.which==k.DELETE)return this.opts.allowClear&&this.clear(),e;if(this.open(),t.which===k.ENTER)return p(t),e;if(48>t.which)return p(t),e;var n=String.fromCharCode(t.which).toLowerCase();t.shiftKey&&(n=n.toUpperCase()),this.search.focus(),this.search.val(n),p(t)}}})),t.delegate("abbr","mousedown",this.bind(function(t){this.enabled&&(this.clear(),p(t),this.close(),this.triggerChange(),this.selection.focus())})),this.setPlaceholder(),this.search.bind("focus",this.bind(function(){this.container.addClass("select2-container-active")}))},clear:function(){this.opts.element.val(""),this.selection.find("span").empty(),this.selection.removeData("select2-data"),this.setPlaceholder()},initSelection:function(){if(""===this.opts.element.val())this.close(),this.setPlaceholder();else{var t=this;this.opts.initSelection.call(null,this.opts.element,function(n){n!==e&&null!==n&&(t.updateSelection(n),t.close(),t.setPlaceholder())})}},prepareOpts:function(){var e=this.parent.prepareOpts.apply(this,arguments);return"select"===e.element.get(0).tagName.toLowerCase()&&(e.initSelection=function(e,n){var r=e.find(":selected");t.isFunction(n)&&n({id:r.attr("value"),text:r.text()})}),e},setPlaceholder:function(){var t=this.getPlaceholder();if(""===this.opts.element.val()&&t!==e){if(this.select&&""!==this.select.find("option:first").text())return;this.selection.find("span").html(this.opts.escapeMarkup(t)),this.selection.addClass("select2-default"),this.selection.find("abbr").hide()}},postprocessResults:function(n,i){var o=0,s=this,a=!0;this.results.find(".select2-result-selectable").each2(function(t,n){return r(s.id(n.data("select2-data")),s.opts.element.val())?(o=t,!1):e}),this.highlight(o),i===!0&&(a=this.showSearchInput=w(n.results)>=this.opts.minimumResultsForSearch,this.dropdown.find(".select2-search")[a?"removeClass":"addClass"]("select2-search-hidden"),t(this.dropdown,this.container)[a?"addClass":"removeClass"]("select2-with-searchbox"))},onSelect:function(t){var e=this.opts.element.val();this.opts.element.val(this.id(t)),this.updateSelection(t),this.close(),this.selection.focus(),r(e,this.id(t))||this.triggerChange()},updateSelection:function(t){var n,r=this.selection.find("span");this.selection.data("select2-data",t),r.empty(),n=this.opts.formatSelection(t,r),n!==e&&r.append(this.opts.escapeMarkup(n)),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==e&&this.selection.find("abbr").show()},val:function(){var t,n=null,r=this;if(0===arguments.length)return this.opts.element.val();if(t=arguments[0],this.select)this.select.val(t).find(":selected").each2(function(t,e){return n={id:e.attr("value"),text:e.text()},!1}),this.updateSelection(n),this.setPlaceholder();else{if(this.opts.initSelection===e)throw Error("cannot call val() if initSelection() is not defined");if(!t)return this.clear(),e;this.opts.element.val(t),this.opts.initSelection(this.opts.element,function(t){r.opts.element.val(t?r.id(t):""),r.updateSelection(t),r.setPlaceholder()})}},clearSearch:function(){this.search.val("")},data:function(t){var n;return 0===arguments.length?(n=this.selection.data("select2-data"),n==e&&(n=null),n):(t&&""!==t?(this.opts.element.val(t?this.id(t):""),this.updateSelection(t)):this.clear(),e)}}),C=_(x,{createContainer:function(){var e=t("<div></div>",{"class":"select2-container select2-container-multi"}).html(["    <ul class='select2-choices'>","  <li class='select2-search-field'>","    <input type='text' autocomplete='off' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi' style='display:none;'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return e},prepareOpts:function(){var e=this.parent.prepareOpts.apply(this,arguments);return"select"===e.element.get(0).tagName.toLowerCase()&&(e.initSelection=function(e,n){var r=[];e.find(":selected").each2(function(t,e){r.push({id:e.attr("value"),text:e.text()})}),t.isFunction(n)&&n(r)}),e},initContainer:function(){var n,r=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=n=this.container.find(r),this.search.bind("keydown",this.bind(function(t){if(this.enabled){if(t.which===k.BACKSPACE&&""===this.search.val()){this.close();var r,i=n.find(".select2-search-choice-focus");if(i.length>0)return this.unselect(i.first()),this.search.width(10),p(t),e;r=n.find(".select2-search-choice"),r.length>0&&r.last().addClass("select2-search-choice-focus")}else n.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus");if(this.opened())switch(t.which){case k.UP:case k.DOWN:return this.moveHighlight(t.which===k.UP?-1:1),p(t),e;case k.ENTER:case k.TAB:return this.selectHighlighted(),p(t),e;case k.ESC:return this.cancel(t),p(t),e}t.which===k.TAB||k.isControl(t)||k.isFunctionKey(t)||t.which===k.BACKSPACE||t.which===k.ESC||(this.opts.openOnEnter!==!1||t.which!==k.ENTER)&&(this.open(),(t.which===k.PAGE_UP||t.which===k.PAGE_DOWN)&&p(t))}})),this.search.bind("keyup",this.bind(this.resizeSearch)),this.search.bind("blur",this.bind(function(t){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.clearSearch(),t.stopImmediatePropagation()})),this.container.delegate(r,"mousedown",this.bind(function(e){this.enabled&&(t(e.target).closest(".select2-search-choice").length>0||(this.clearPlaceholder(),this.open(),this.focusSearch(),e.preventDefault()))})),this.container.delegate(r,"focus",this.bind(function(){this.enabled&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.clearSearch()},enable:function(){this.enabled||(this.parent.enable.apply(this,arguments),this.search.removeAttr("disabled"))},disable:function(){this.enabled&&(this.parent.disable.apply(this,arguments),this.search.attr("disabled",!0))},initSelection:function(){if(""===this.opts.element.val()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var t=this;this.opts.initSelection.call(null,this.opts.element,function(n){n!==e&&null!==n&&(t.updateSelection(n),t.close(),t.clearSearch())})}},clearSearch:function(){var t=this.getPlaceholder();t!==e&&0===this.getVal().length&&this.search.hasClass("select2-focused")===!1?(this.search.val(t).addClass("select2-default"),this.resizeSearch()):this.search.val(" ").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")?this.search.val("").removeClass("select2-default"):" "===this.search.val()&&this.search.val("")},opening:function(){this.parent.opening.apply(this,arguments),this.clearPlaceholder(),this.resizeSearch(),this.focusSearch()},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(e){var r=[],i=[],o=this;t(e).each(function(){0>n(o.id(this),r)&&(r.push(o.id(this)),i.push(this))}),e=i,this.selection.find(".select2-search-choice").remove(),t(e).each(function(){o.addSelectedChoice(this)}),o.postprocessResults()},tokenize:function(){var t=this.search.val();t=this.opts.tokenizer(t,this.data(),this.bind(this.onSelect),this.opts),null!=t&&t!=e&&(this.search.val(t),t.length>0&&this.open())},onSelect:function(t){this.addSelectedChoice(t),this.select&&this.postprocessResults(),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.positionDropdown()):this.close(),this.triggerChange({added:t}),this.focusSearch()},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(e){var n,r=t("<li class='select2-search-choice'>    <div></div>    <a href='#' onclick='return false;' class='select2-search-choice-close' tabindex='-1'></a></li>"),i=this.id(e),o=this.getVal();n=this.opts.formatSelection(e,r),r.find("div").replaceWith("<div>"+this.opts.escapeMarkup(n)+"</div>"),r.find(".select2-search-choice-close").bind("mousedown",p).bind("click dblclick",this.bind(function(e){this.enabled&&(t(e.target).closest(".select2-search-choice").fadeOut("fast",this.bind(function(){this.unselect(t(e.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),this.close(),this.focusSearch()})).dequeue(),p(e))})).bind("focus",this.bind(function(){this.enabled&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),r.data("select2-data",e),r.insertBefore(this.searchContainer),o.push(i),this.setVal(o)},unselect:function(t){var e,r,i=this.getVal();if(t=t.closest(".select2-search-choice"),0===t.length)throw"Invalid argument: "+t+". Must be .select2-search-choice";e=t.data("select2-data"),r=n(this.id(e),i),r>=0&&(i.splice(r,1),this.setVal(i),this.select&&this.postprocessResults()),t.remove(),this.triggerChange({removed:e})},postprocessResults:function(){var t=this.getVal(),r=this.results.find(".select2-result-selectable"),i=this.results.find(".select2-result-with-children"),o=this;r.each2(function(e,r){var i=o.id(r.data("select2-data"));n(i,t)>=0?r.addClass("select2-disabled").removeClass("select2-result-selectable"):r.removeClass("select2-disabled").addClass("select2-result-selectable")}),i.each2(function(t,e){0==e.find(".select2-result-selectable").length?e.addClass("select2-disabled"):e.removeClass("select2-disabled")}),r.each2(function(t,n){return!n.hasClass("select2-disabled")&&n.hasClass("select2-result-selectable")?(o.highlight(0),!1):e})},resizeSearch:function(){var t,e,n,r,i,s=o(this.search);t=d(this.search)+10,e=this.search.offset().left,n=this.selection.width(),r=this.selection.offset().left,i=n-(e-r)-s,t>i&&(i=n-s),40>i&&(i=n-s),this.search.width(i)},getVal:function(){var t;return this.select?(t=this.select.val(),null===t?[]:t):(t=this.opts.element.val(),i(t,this.opts.separator))},setVal:function(e){var r;this.select?this.select.val(e):(r=[],t(e).each(function(){0>n(this,r)&&r.push(this)}),this.opts.element.val(0===r.length?"":r.join(this.opts.separator)))},val:function(){var n,r=[],i=this;if(0===arguments.length)return this.getVal();if(n=arguments[0],!n)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),e;if(this.setVal(n),this.select)this.select.find(":selected").each(function(){r.push({id:t(this).attr("value"),text:t(this).text()})}),this.updateSelection(r);else{if(this.opts.initSelection===e)throw Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(e){var n=t(e).map(i.id);i.setVal(n),i.updateSelection(e),i.clearSearch()})}this.clearSearch()},onSortStart:function(){if(this.select)throw Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var e=[],n=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){e.push(n.opts.id(t(this).data("select2-data")))}),this.setVal(e),this.triggerChange()},data:function(n){var r,i=this;return 0===arguments.length?this.selection.find(".select2-search-choice").map(function(){return t(this).data("select2-data")}).get():(n||(n=[]),r=t.map(n,function(t){return i.opts.id(t)}),this.setVal(r),this.updateSelection(n),this.clearSearch(),e)}}),t.fn.select2=function(){var r,i,o,s,a=Array.prototype.slice.call(arguments,0),l=["val","destroy","opened","open","close","focus","isFocused","container","onSortStart","onSortEnd","enable","disable","positionDropdown","data"];return this.each(function(){if(0===a.length||"object"==typeof a[0])r=0===a.length?{}:t.extend({},a[0]),r.element=t(this),"select"===r.element.get(0).tagName.toLowerCase()?s=r.element.attr("multiple"):(s=r.multiple||!1,"tags"in r&&(r.multiple=s=!0)),i=s?new C:new S,i.init(r);else{if("string"!=typeof a[0])throw"Invalid arguments to select2 plugin: "+a;if(0>n(a[0],l))throw"Unknown method: "+a[0];if(o=e,i=t(this).data("select2"),i===e)return;if(o="container"===a[0]?i.container:i[a[0]].apply(i,a.slice(1)),o!==e)return!1}}),o===e?this:o},t.fn.select2.defaults={width:"copy",closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(t,e,n){var r=[];return h(t.text,n.term,r),r.join("")},formatSelection:function(t){return t?t.text:e},formatResultCssClass:function(){return e},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(t,e){return"Please enter "+(e-t.length)+" more characters"},formatSelectionTooBig:function(t){return"You can only select "+t+" item"+(1==t?"":"s")},formatLoadMore:function(){return"Loading more results..."},formatSearching:function(){return"Searching..."},minimumResultsForSearch:0,minimumInputLength:0,maximumSelectionSize:0,id:function(t){return t.id},matcher:function(t,e){return e.toUpperCase().indexOf(t.toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:b,escapeMarkup:function(t){return t&&"string"==typeof t?t.replace(/&/g,"&amp;"):t},blurOnChange:!1},window.Select2={query:{ajax:f,local:m,tags:v},util:{debounce:l,markMatch:h},"class":{"abstract":x,single:S,multi:C}}}}(jQuery),window.console&&console.log||function(){for(var t=function(){},e=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","markTimeline","table","time","timeEnd","timeStamp","trace","warn"],n=e.length,r=window.console={};n--;)r[e[n]]=t}(),"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),$.fn.outerHtml=function(){return $(this).get(0).outerHTML||(new XMLSerializer).serializeToString($(this).get(0))},window.location.origin===void 0&&(window.location.origin=window.location.protocol+"//"+window.location.host),Array.prototype.indexOf||(Array.prototype.indexOf=function(t){var e=this.length>>>0,n=Number(arguments[1])||0;for(n=0>n?Math.ceil(n):Math.floor(n),0>n&&(n+=e);e>n;n++)if(n in this&&this[n]===t)return n;return-1}),Date.prototype.toISOString||(Date.prototype.toISOString=function(){function t(t){return 10>t?"0"+t:t}return this.getUTCFullYear()+"-"+t(this.getUTCMonth()+1)+"-"+t(this.getUTCDate())+"T"+t(this.getUTCHours())+":"+t(this.getUTCMinutes())+":"+t(this.getUTCSeconds())+"Z"}),window.Socialite=function(t,e,n){"use strict";var r=0,i=[],o={},s={},a=/^($|loaded|complete)/,l=t.encodeURIComponent,u={settings:{},trim:function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},hasClass:function(t,e){return-1!==(" "+t.className+" ").indexOf(" "+e+" ")},addClass:function(t,e){u.hasClass(t,e)||(t.className=""===t.className?e:t.className+" "+e)},removeClass:function(t,e){t.className=u.trim(" "+t.className+" ".replace(" "+e+" "," "))},extendObject:function(t,e,r){for(var i in e){var o=t[i]!==n;o&&"object"==typeof e[i]?u.extendObject(t[i],e[i],r):(r||!o)&&(t[i]=e[i])}},getElements:function(t,e){for(var n=0,r=[],i=!!t.getElementsByClassName,o=i?t.getElementsByClassName(e):t.getElementsByTagName("*");o.length>n;n++)(i||u.hasClass(o[n],e))&&r.push(o[n]);return r},getDataAttributes:function(t,e,n){for(var r=0,i="",o={},s=t.attributes;s.length>r;r++){var a=s[r].name,u=s[r].value;u.length&&0===a.indexOf("data-")&&(e&&(a=a.substring(5)),n?o[a]=u:i+=l(a)+"="+l(u)+"&")}return n?o:i},copyDataAttributes:function(t,e,n,r){var i=u.getDataAttributes(t,n,!0);for(var o in i)e.setAttribute(r?o.replace(/-/g,"_"):o,i[o])},createIframe:function(t,n){var r=e.createElement("iframe");return r.style.cssText="overflow: hidden; border: none;",u.extendObject(r,{src:t,allowtransparency:"true",frameborder:"0",scrolling:"no"},!0),n&&(r.onload=r.onreadystatechange=function(){a.test(r.readyState||"")&&(r.onload=r.onreadystatechange=null,u.activateInstance(n))}),r},networkReady:function(t){return o[t]?o[t].loaded:n},appendNetwork:function(t){if(t&&!t.appended){if("function"==typeof t.append&&t.append(t)===!1)return t.appended=t.loaded=!0,u.activateAll(t),n;t.script&&(t.el=e.createElement("script"),u.extendObject(t.el,t.script,!0),t.el.async=!0,t.el.onload=t.el.onreadystatechange=function(){if(a.test(t.el.readyState||"")){if(t.el.onload=t.el.onreadystatechange=null,t.loaded=!0,"function"==typeof t.onload&&t.onload(t)===!1)return;u.activateAll(t)}},e.body.appendChild(t.el)),t.appended=!0}},removeNetwork:function(t){return u.networkReady(t.name)?(t.el.parentNode.removeChild(t.el),!(t.appended=t.loaded=!1)):!1},reloadNetwork:function(t){var e=o[t];e&&u.removeNetwork(e)&&u.appendNetwork(e)},createInstance:function(t,e){var o=!0,s={el:t,uid:r++,widget:e};return i.push(s),e.process!==n&&(o="function"==typeof e.process?e.process(s):!1),o&&u.processInstance(s),s.el.setAttribute("data-socialite",s.uid),s.el.className="socialite "+e.name+" socialite-instance",s},processInstance:function(t){var n=t.el;t.el=e.createElement("div"),t.el.className=n.className,u.copyDataAttributes(n,t.el),"a"!==n.nodeName.toLowerCase()||n.getAttribute("data-default-href")||t.el.setAttribute("data-default-href",n.getAttribute("href"));var r=n.parentNode;r.insertBefore(t.el,n),r.removeChild(n)},activateInstance:function(t){return t&&!t.loaded?(t.loaded=!0,"function"==typeof t.widget.activate&&t.widget.activate(t),u.addClass(t.el,"socialite-loaded"),t.onload?t.onload(t.el):null):n},activateAll:function(t){"string"==typeof t&&(t=o[t]);for(var e=0;i.length>e;e++){var n=i[e];n.init&&n.widget.network===t&&u.activateInstance(n)}},load:function(t,r,o,a,l){if(t=t&&"object"==typeof t&&1===t.nodeType?t:e,!r||"object"!=typeof r)return u.load(t,u.getElements(t,"socialite"),o,a,l),n;var c;if(/Array/.test(Object.prototype.toString.call(r)))for(c=0;r.length>c;c++)u.load(t,r[c],o,a,l);else if(1===r.nodeType){if(!o||!s[o]){o=null;var p=r.className.split(" ");for(c=0;p.length>c;c++)if(s[p[c]]){o=p[c];break}if(!o)return}var d,h=s[o],f=parseInt(r.getAttribute("data-socialite"),10);if(isNaN(f))d=u.createInstance(r,h);else for(c=0;i.length>c;c++)if(i[c].uid===f){d=i[c];break}!l&&d&&(d.init||(d.init=!0,d.onload="function"==typeof a?a:null,h.init(d)),h.network.appended?u.networkReady(h.network.name)&&u.activateInstance(d):u.appendNetwork(h.network))}},activate:function(e,n,r){t.Socialite.load(null,e,n,r)},process:function(e,n,r){t.Socialite.load(e,n,r,null,!0)},network:function(t,e){o[t]={name:t,el:null,appended:!1,loaded:!1,widgets:{}},e&&u.extendObject(o[t],e)},widget:function(t,e,n){n.name=t+"-"+e,o[t]&&!s[n.name]&&(n.network=o[t],o[t].widgets[e]=s[n.name]=n)},setup:function(t){u.extendObject(u.settings,t,!0)}};return u}(window,window.document),function(e,n,r){r.setup({facebook:{lang:"en_GB",appId:null},twitter:{lang:"en"},googleplus:{lang:"en-GB"}}),r.network("facebook",{script:{src:"//connect.facebook.net/{{language}}/all.js",id:"facebook-jssdk"},append:function(t){var i=n.createElement("div"),o=r.settings.facebook,s={onlike:"edge.create",onunlike:"edge.remove",onsend:"message.send"};i.id="fb-root",n.body.appendChild(i),t.script.src=t.script.src.replace("{{language}}",o.lang),e.fbAsyncInit=function(){e.FB.init({appId:o.appId,xfbml:!0});for(var t in s)"function"==typeof o[t]&&e.FB.Event.subscribe(s[t],o[t])}}}),r.widget("facebook","like",{init:function(t){var i=n.createElement("div");i.className="fb-like",r.copyDataAttributes(t.el,i),t.el.appendChild(i),e.FB&&e.FB.XFBML&&e.FB.XFBML.parse(t.el)}}),r.network("twitter",{script:{src:"//platform.twitter.com/widgets.js",id:"twitter-wjs",charset:"utf-8"},append:function(){var n="object"!=typeof e.twttr,i=r.settings.twitter,o=["click","tweet","retweet","favorite","follow"];return n&&(e.twttr=t={_e:[],ready:function(e){t._e.push(e)}}),e.twttr.ready(function(t){for(var e=0;o.length>e;e++){var n=o[e];"function"==typeof i["on"+n]&&t.events.bind(n,i["on"+n])}r.activateAll("twitter")}),n}});var i=function(t){var e=n.createElement("a");e.className=t.widget.name+"-button",r.copyDataAttributes(t.el,e),e.setAttribute("href",t.el.getAttribute("data-default-href")),e.setAttribute("data-lang",t.el.getAttribute("data-lang")||r.settings.twitter.lang),t.el.appendChild(e)},o=function(){e.twttr&&"object"==typeof e.twttr.widgets&&"function"==typeof e.twttr.widgets.load&&e.twttr.widgets.load()};r.widget("twitter","share",{init:i,activate:o}),r.widget("twitter","follow",{init:i,activate:o}),r.widget("twitter","hashtag",{init:i,activate:o}),r.widget("twitter","mention",{init:i,activate:o}),r.widget("twitter","embed",{process:function(t){t.innerEl=t.el,t.innerEl.getAttribute("data-lang")||t.innerEl.setAttribute("data-lang",r.settings.twitter.lang),t.el=n.createElement("div"),t.el.className=t.innerEl.className,t.innerEl.className="",t.innerEl.parentNode.insertBefore(t.el,t.innerEl),t.el.appendChild(t.innerEl)},init:function(t){t.innerEl.className="twitter-tweet"},activate:o}),r.network("googleplus",{script:{src:"//apis.google.com/js/plusone.js"},append:function(){return e.gapi?!1:(e.___gcfg={lang:r.settings.googleplus.lang,parsetags:"explicit"},undefined)}});var s=function(t){var e=n.createElement("div");e.className="g-"+t.widget.gtype,r.copyDataAttributes(t.el,e),t.el.appendChild(e),t.gplusEl=e},a=function(t,e){return"function"!=typeof e?null:function(n){e(t.el,n)}},l=function(t){var n=t.widget.gtype;if(e.gapi&&e.gapi[n]){for(var i=r.settings.googleplus,o=r.getDataAttributes(t.el,!0,!0),s=["onstartinteraction","onendinteraction","callback"],l=0;s.length>l;l++)o[s[l]]=a(t,i[s[l]]);e.gapi[n].render(t.gplusEl,o)}};r.widget("googleplus","one",{init:s,activate:l,gtype:"plusone"}),r.widget("googleplus","share",{init:s,activate:l,gtype:"plus"}),r.widget("googleplus","badge",{init:s,activate:l,gtype:"plus"}),r.network("linkedin",{script:{src:"//platform.linkedin.com/in.js"}});var u=function(t){var i=n.createElement("script");i.type="IN/"+t.widget.intype,r.copyDataAttributes(t.el,i),t.el.appendChild(i),"object"==typeof e.IN&&"function"==typeof e.IN.parse&&(e.IN.parse(t.el),r.activateInstance(t))};r.widget("linkedin","share",{init:u,intype:"Share"}),r.widget("linkedin","recommend",{init:u,intype:"RecommendProduct"})}(window,window.document,window.Socialite),function(){var t=window._socialite;if(/Array/.test(Object.prototype.toString.call(t)))for(var e=0,n=t.length;n>e;e++)"function"==typeof t[e]&&t[e]()}(),!function(t,e,n){function r(t,n){var r,i=e.createElement(t||"div");for(r in n)i[r]=n[r];return i}function i(t){for(var e=1,n=arguments.length;n>e;e++)t.appendChild(arguments[e]);return t}function o(t,e,n,r){var i=["opacity",e,~~(100*t),n,r].join("-"),o=.01+100*(n/r),s=Math.max(1-(1-t)/e*(100-o),t),a=c.substring(0,c.indexOf("Animation")).toLowerCase(),l=a&&"-"+a+"-"||"";return d[i]||(h.insertRule("@"+l+"keyframes "+i+"{"+"0%{opacity:"+s+"}"+o+"%{opacity:"+t+"}"+(o+.01)+"%{opacity:1}"+(o+e)%100+"%{opacity:"+t+"}"+"100%{opacity:"+s+"}"+"}",h.cssRules.length),d[i]=1),i}function s(t,e){var r,i,o=t.style;if(o[e]!==n)return e;for(e=e.charAt(0).toUpperCase()+e.slice(1),i=0;p.length>i;i++)if(r=p[i]+e,o[r]!==n)return r}function a(t,e){for(var n in e)t.style[s(t,n)||n]=e[n];return t}function l(t){for(var e=1;arguments.length>e;e++){var r=arguments[e];for(var i in r)t[i]===n&&(t[i]=r[i])}return t}function u(t){for(var e={x:t.offsetLeft,y:t.offsetTop};t=t.offsetParent;)e.x+=t.offsetLeft,e.y+=t.offsetTop;return e}var c,p=["webkit","Moz","ms","O"],d={},h=function(){var t=r("style",{type:"text/css"});return i(e.getElementsByTagName("head")[0],t),t.sheet||t.styleSheet}(),f={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"auto",left:"auto",position:"relative"},m=function m(t){return this.spin?(this.opts=l(t||{},m.defaults,f),n):new m(t)};m.defaults={},l(m.prototype,{spin:function(t){this.stop();var e,n,i=this,o=i.opts,s=i.el=a(r(0,{className:o.className}),{position:o.position,width:0,zIndex:o.zIndex}),l=o.radius+o.length+o.width;if(t&&(t.insertBefore(s,t.firstChild||null),n=u(t),e=u(s),a(s,{left:("auto"==o.left?n.x-e.x+(t.offsetWidth>>1):parseInt(o.left,10)+l)+"px",top:("auto"==o.top?n.y-e.y+(t.offsetHeight>>1):parseInt(o.top,10)+l)+"px"})),s.setAttribute("aria-role","progressbar"),i.lines(s,i.opts),!c){var p=0,d=o.fps,h=d/o.speed,f=(1-o.opacity)/(h*o.trail/100),m=h/o.lines;(function v(){p++;for(var t=o.lines;t;t--){var e=Math.max(1-(p+t*m)%h*f,o.opacity);i.opacity(s,o.lines-t,e,o)}i.timeout=i.el&&setTimeout(v,~~(1e3/d))})()}return i},stop:function(){var t=this.el;return t&&(clearTimeout(this.timeout),t.parentNode&&t.parentNode.removeChild(t),this.el=n),this},lines:function(t,e){function n(t,n){return a(r(),{position:"absolute",width:e.length+e.width+"px",height:e.width+"px",background:t,boxShadow:n,transformOrigin:"left",transform:"rotate("+~~(360/e.lines*l+e.rotate)+"deg) translate("+e.radius+"px"+",0)",borderRadius:(e.corners*e.width>>1)+"px"})}for(var s,l=0;e.lines>l;l++)s=a(r(),{position:"absolute",top:1+~(e.width/2)+"px",transform:e.hwaccel?"translate3d(0,0,0)":"",opacity:e.opacity,animation:c&&o(e.opacity,e.trail,l,e.lines)+" "+1/e.speed+"s linear infinite"}),e.shadow&&i(s,a(n("#000","0 0 4px #000"),{top:"2px"})),i(t,i(s,n(e.color,"0 0 1px rgba(0,0,0,.1)")));return t},opacity:function(t,e,n){t.childNodes.length>e&&(t.childNodes[e].style.opacity=n)}}),function(){function t(t,e){return r("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',e)}var e=a(r("group"),{behavior:"url(#default#VML)"});!s(e,"transform")&&e.adj?(h.addRule(".spin-vml","behavior:url(#default#VML)"),m.prototype.lines=function(e,n){function r(){return a(t("group",{coordsize:u+" "+u,coordorigin:-l+" "+-l}),{width:u,height:u})}function o(e,o,s){i(p,i(a(r(),{rotation:360/n.lines*e+"deg",left:~~o}),i(a(t("roundrect",{arcsize:n.corners}),{width:l,height:n.width,left:n.radius,top:-n.width>>1,filter:s}),t("fill",{color:n.color,opacity:n.opacity}),t("stroke",{opacity:0}))))}var s,l=n.length+n.width,u=2*l,c=2*-(n.width+n.length)+"px",p=a(r(),{position:"absolute",top:c,left:c});if(n.shadow)for(s=1;n.lines>=s;s++)o(s,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(s=1;n.lines>=s;s++)o(s);return i(e,p)},m.prototype.opacity=function(t,e,n,r){var i=t.firstChild;r=r.shadow&&r.lines||0,i&&i.childNodes.length>e+r&&(i=i.childNodes[e+r],i=i&&i.firstChild,i=i&&i.firstChild,i&&(i.opacity=n))}):c=s(e,"animation")}(),"function"==typeof define&&define.amd?define(function(){return m}):t.Spinner=m}(window,document),function(t){t.fn.spin=function(e,n){var r={tiny:{lines:8,length:2,width:2,radius:3},small:{lines:8,length:4,width:3,radius:5},large:{lines:10,length:8,width:4,radius:8}};if(Spinner)return this.each(function(){var i=t(this),o=i.data();o.spinner&&(o.spinner.stop(),delete o.spinner),e!==!1&&("string"==typeof e&&(e=e in r?r[e]:{},n&&(e.color=n)),o.spinner=new Spinner(t.extend({color:i.css("color")},e)).spin(this))});throw"Spinner class not available."}}(jQuery),function(){function t(){try{return l in s&&s[l]}catch(t){return!1}}function e(){try{return u in s&&s[u]&&s[u][s.location.hostname]}catch(t){return!1}}function n(t){return function(){var e=Array.prototype.slice.call(arguments,0);e.unshift(i),p.appendChild(i),i.addBehavior("#default#userData"),i.load(l);var n=t.apply(o,e);return p.removeChild(i),n}}function r(t){return t.replace(f,"___")}var i,o={},s=window,a=s.document,l="localStorage",u="globalStorage",c="__storejs__";if(o.disabled=!1,o.set=function(){},o.get=function(){},o.remove=function(){},o.clear=function(){},o.transact=function(t,e,n){var r=o.get(t);null==n&&(n=e,e=null),r===void 0&&(r=e||{}),n(r),o.set(t,r)},o.getAll=function(){},o.serialize=function(t){return JSON.stringify(t)},o.deserialize=function(t){if("string"!=typeof t)return void 0;try{return JSON.parse(t)}catch(e){return t||void 0}},t())i=s[l],o.set=function(t,e){return void 0===e?o.remove(t):(i.setItem(t,o.serialize(e)),e)},o.get=function(t){return o.deserialize(i.getItem(t))},o.remove=function(t){i.removeItem(t)},o.clear=function(){i.clear()},o.getAll=function(){for(var t={},e=0;i.length>e;++e){var n=i.key(e);t[n]=o.get(n)}return t};else if(e())i=s[u][s.location.hostname],o.set=function(t,e){return void 0===e?o.remove(t):(i[t]=o.serialize(e),e)},o.get=function(t){return o.deserialize(i[t]&&i[t].value)},o.remove=function(t){delete i[t]},o.clear=function(){for(var t in i)delete i[t]},o.getAll=function(){for(var t={},e=0;i.length>e;++e){var n=i.key(e);t[n]=o.get(n)}return t};else if(a.documentElement.addBehavior){var p,d;try{d=new ActiveXObject("htmlfile"),d.open(),d.write('<script>document.w=window</script><iframe src="/favicon.ico"></frame>'),d.close(),p=d.w.frames[0].document,i=p.createElement("div")}catch(h){i=a.createElement("div"),p=a.body}var f=RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g");o.set=n(function(t,e,n){return e=r(e),void 0===n?o.remove(e):(t.setAttribute(e,o.serialize(n)),t.save(l),n)}),o.get=n(function(t,e){return e=r(e),o.deserialize(t.getAttribute(e))}),o.remove=n(function(t,e){e=r(e),t.removeAttribute(e),t.save(l)}),o.clear=n(function(t){var e=t.XMLDocument.documentElement.attributes;t.load(l);for(var n,r=0;n=e[r];r++)t.removeAttribute(n.name);t.save(l)}),o.getAll=n(function(t){var e=t.XMLDocument.documentElement.attributes;t.load(l);for(var n,r={},i=0;n=e[i];++i)r[n]=o.get(n);return r})}try{o.set(c,c),o.get(c)!=c&&(o.disabled=!0),o.remove(c)}catch(h){o.disabled=!0}o.enabled=!o.disabled,"undefined"!=typeof module&&"function"!=typeof module?module.exports=o:"function"==typeof define&&define.amd?define(o):this.store=o}(),window.XDomainRequest&&jQuery.ajaxTransport(function(t){if(t.crossDomain&&t.async){t.timeout&&(t.xdrTimeout=t.timeout,delete t.timeout);var e;return{send:function(n,r){function i(t,n,i,o){e.onload=e.onerror=e.ontimeout=jQuery.noop,e=void 0,r(t,n,i,o)
}e=new XDomainRequest,e.onload=function(){i(200,"OK",{text:e.responseText},"Content-Type: "+e.contentType)},e.onerror=function(){i(404,"Not Found")},e.onprogress=jQuery.noop,e.ontimeout=function(){i(0,"timeout")},e.timeout=t.xdrTimeout||Number.MAX_VALUE,e.open(t.type,t.url),e.send(t.hasContent&&t.data||null)},abort:function(){e&&(e.onerror=jQuery.noop,e.abort())}}}});