window.require.define({application:function(e,t,n){(function(){var e,r,o,i,s,a,l,u,p,c,d=function(e,t){return function(){return e.apply(t,arguments)}},h={}.hasOwnProperty,f=function(e,t){function n(){this.constructor=e}for(var r in t)h.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};r=t("controllers/auth_controller"),l=t("lib/avos"),o=t("chaplin"),s=t("controllers/layout_controller"),a=t("controllers/links_controller"),u=t("lib/logger"),p=t("mediator"),i=t("chaplin").Dispatcher,c=t("routes"),n.exports=e=function(e){function n(){return this.initApp=d(this.initApp,this),n.__super__.constructor.apply(this,arguments)}return f(n,e),n.prototype.title="Delicious",n.prototype.initialize=function(){return n.__super__.initialize.apply(this,arguments),this.dispatcher=p.dispatcher=new i,this._csrf=$('meta[name="_csrf"]').attr("content"),p.app={bulkEditActive:!1},$.ajaxSetup(l.ajax.options),u.set(l.logging),this.initTemplateHelpers(),p.auth=new r,p.links=new a,this.initLayout(),p.user.get("password_hash")&&p.user.get("username")?p.user.loginSilent().always(this.initApp):this.initApp(),yepnope({test:window.JSON,nope:"js/json2.js"})},n.prototype.initApp=function(){return this.initRouter(c),new s,p.on("!router:route",this.trackPageView),"function"==typeof Object.freeze?Object.freeze(this):void 0},n.prototype.initLayout=function(e){var n,r;return null==e&&(e={}),n=t("views/layout"),null==(r=e.title)&&(e.title=this.title),e.skipRouting=".noscript, .question",this.layout=p.layout=new n(e)},n.prototype.initTemplateHelpers=function(){return t("templates/helpers/common"),t("templates/helpers/link_helpers"),t("templates/helpers/user_helpers")},n.prototype.trackPageView=function(e){return _gaq.push(["_trackPageview",e])},n}(o.Application)}).call(this)}}),window.require.define({initialize:function(e,t){(function(){var e;e=t("application"),$(function(){var t;return 0,t=new e,t.initialize()})}).call(this)}}),window.require.define({mediator:function(e,t,n){(function(){n.exports=t("chaplin").mediator}).call(this)}}),window.require.define({routes:function(e,t,n){(function(){n.exports=function(e){var t;return t={"":"home#index",join:"onboarding#join","join/:section":"onboarding#join",signin:"auth#signin",save:"bookmarklet#save",post:"bookmarklet#save","help/quicktour/chrome":"plain#chrome","settings/:subpage/:section":"users#settings","settings/:subpage":"users#settings",settings:"users#settings",discover:"search#discover",search:"search#consolidated","tag/:tags/search":"search#consolidated","tag/:tags":"search#consolidated","url/:md5":"search#link",network:"search#network","network/:username":"search#network","network/:username/search":"search#network","network/:username/:tags/search":"search#network","network/:username/tag/:tags":"search#network",about:"plain#about",tools:["html#page",{params:{page:"tools"}}],help:["html#page",{params:{page:"help"}}],"help/:questionid":["html#page",{params:{page:"help"}}],terms:["html#page",{params:{page:"terms"}}],"terms-update":["html#page",{params:{page:"terms-update"}}],privacy:["html#page",{params:{page:"privacy"}}],copyright:["html#page",{params:{page:"copyright"}}],developers:["html#page",{params:{page:"developers"}}],"developers/:questionid":["html#page",{params:{page:"developers"}}],upgradebrowser:["html#page",{params:{page:"upgradebrowser"}}],redirect_warn:"links#redirectWarn","validate/:token":"users#validateEmail",undefined:"oops#notfound",notfound:"oops#notfound",somethingwentwrong:"oops#somethingwentwrong",":username/search":"search#profile",":username/tag_bundle/:tagBundle":"search#profile",":username/:tags/search":"search#profile",":username/:tags":"search#profile",":username":"search#profile"},_.each(t,function(t,n){var r,o;return r=n.replace(/\/$/,""),o=[r],r.length>0&&o.unshift(r+"/"),_.each(o,function(n){return _.isArray(t)?e(n,_.first(t),_.rest(t)[0]):e(n,t)})})}}).call(this)}}),window.require.define({"controllers/auth_controller":function(e,t,n){(function(){var e,r,o,i,s,a,l=function(e,t){return function(){return e.apply(t,arguments)}},u={}.hasOwnProperty,p=function(e,t){function n(){this.constructor=e}for(var r in t)u.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};r=t("lib/controller"),s=t("lib/logger"),a=t("mediator"),i=t("models/user"),o=t("views/auth/login"),n.exports=e=function(e){function t(){return this.loginError=l(this.loginError,this),this.loginSuccess=l(this.loginSuccess,this),t.__super__.constructor.apply(this,arguments)}return p(t,e),t.prototype.redirectOnLogin=!0,t.prototype.events={"auth:login":"login"},t.prototype.initialize=function(){var e;return t.__super__.initialize.apply(this,arguments),e=store.get("user"),a.user=new i(e),a.user.set("isLoggedIn",!1)},t.prototype.signin=function(){return a.layout.toggleBanner(!1),this.view=new o({closeOnXClick:!1,closeOnBackgroundClick:!1})},t.prototype.promptLogin=function(e){var t,n;return null==e&&(e={}),null!=e.redirect&&(this.redirectOnLogin=e.redirect),t=new o(e),n=new $.Deferred,this.subscribeEvent("login:success",n.resolve),t.$el.on("hidden",n.reject),n},t.prototype.login=function(e){return s.log("Attempting to authenticate user with the following:",{params:e}),a.user.login(e).done(this.loginSuccess).fail(this.loginError)},t.prototype.loginSuccess=function(){return this.publishEvent("login:success"),this.redirectOnLogin&&this.redirectTo(a.user.get("username")),this.redirectOnLogin=!0},t.prototype.loginError=function(){return this.publishEvent("auth:bad_credentials")},t.prototype.logout=function(){return a.user.logout(),this.redirectTo("/discover")},t.prototype.dispose=function(){return a.user.logout(),t.__super__.dispose.apply(this,arguments)},t}(r)}).call(this)}}),window.require.define({"controllers/bookmarklet_controller":function(e,t,n){(function(){var e,r,o,i,s,a,l={}.hasOwnProperty,u=function(e,t){function n(){this.constructor=e}for(var r in t)l.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};r=t("lib/controller"),o=t("models/link"),i=t("views/links/edit"),s=t("lib/logger"),a=t("mediator"),n.exports=e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return u(t,e),t.prototype.save=function(e){var t,n;return n=e.v||"The buggy version",s.log("Opening the bookmarklet.",{version:n}),t=new o({title:e.title,url:e.url,note:e.note}),a.links.compose({model:t}).always(this.destroyBookmarklet)},t.prototype.destroyBookmarklet=function(){return s.log("Removing the bookmarklet"),window.parent.postMessage("destroy_bookmarklet","*")},t}(r)}).call(this)}}),window.require.define({"controllers/home_controller":function(e,t,n){(function(){var e,r,o,i,s,a={}.hasOwnProperty,l=function(e,t){function n(){this.constructor=e}for(var r in t)a.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};e=t("lib/controller"),o=t("views/home"),i=t("lib/logger"),s=t("mediator"),n.exports=r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return l(t,e),t.prototype.historyUrl="/",t.prototype.initialize=function(){return i.log("Initializing the Home Controller.")},t.prototype.index=function(){var e;return e=s.user.get("username"),e?this.redirectTo(e):(this.title="Capture the web youâ€™ve been missing",this.view=new o)},t}(e)}).call(this)}}),window.require.define({"controllers/html_controller":function(e,t,n){(function(){var e,r,o,i,s,a={}.hasOwnProperty,l=function(e,t){function n(){this.constructor=e}for(var r in t)a.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};e=t("lib/controller"),s=t("mediator"),o=t("views/base/section"),i=t("models/user"),n.exports=r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return l(t,e),t.prototype.pages=[{url:"tools",title:"Tools",id:"tools"},{url:"help",title:"Help",id:"help"},{url:"terms",title:"Terms",id:"terms"},{url:"privacy",title:"Privacy",id:"privacy"},{url:"copyright",title:"Copyright",id:"copyright"},{url:"developers",title:"Developers",id:"developers"},{url:"terms-update",title:"Terms update",id:"terms-update"}],t.prototype.page=function(e){var t,n;return"terms-update"===e.page&&store.set("hasReadNewTerms",!0),t=_(this.pages).where({url:e.page}),this.title=(null!=(n=t[0])?n.title:void 0)||"Discover Awesome",this.view=new o({pages:this.pages,currentId:e.page,params:e})},t}(e)}).call(this)}}),window.require.define({"controllers/layout_controller":function(e,t,n){(function(){var e,r,o,i=function(e,t){return function(){return e.apply(t,arguments)}},s={}.hasOwnProperty,a=function(e,t){function n(){this.constructor=e}for(var r in t)s.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};e=t("lib/controller"),o=t("mediator"),n.exports=r=function(e){function t(){return this.showRemember=i(this.showRemember,this),this.showNetwork=i(this.showNetwork,this),this.showDiscover=i(this.showDiscover,this),this.focusSearch=i(this.focusSearch,this),t.__super__.constructor.apply(this,arguments)}return a(t,e),t.prototype.initialize=function(){return t.__super__.initialize.apply(this,arguments),key("/",this.focusSearch),key("1",this.showDiscover),key("2",this.showNetwork),key("3",this.showRemember)},t.prototype.focusSearch=function(e){return e.preventDefault(),$("#search-field").focus()},t.prototype.showDiscover=function(){return this.redirectTo("/discover")},t.prototype.showNetwork=function(){return o.user.get("username")?this.redirectTo("network"):void 0},t.prototype.showRemember=function(){var e;return e=o.user.get("username"),e?this.redirectTo(e):void 0},t}(e)}).call(this)}}),window.require.define({"controllers/links_controller":function(e,t,n){(function(){var e,r,o,i,s,a,l,u=function(e,t){return function(){return e.apply(t,arguments)}},p={}.hasOwnProperty,c=function(e,t){function n(){this.constructor=e}for(var r in t)p.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};e=t("lib/controller"),r=t("models/link"),o=t("views/links/edit"),a=t("lib/logger"),s=t("views/links/warn"),l=t("mediator"),n.exports=i=function(e){function t(){return this.showNextDetailPane=u(this.showNextDetailPane,this),this.showPreviousDetailPane=u(this.showPreviousDetailPane,this),this.triggerAddEdit=u(this.triggerAddEdit,this),t.__super__.constructor.apply(this,arguments)}return c(t,e),t.prototype.historyURL="",t.prototype.events={"links:compose":"compose"},t.prototype.initialize=function(){return t.__super__.initialize.apply(this,arguments),key("k",this.showPreviousDetailPane),key("up",this.showPreviousDetailPane),key("j",this.showNextDetailPane),key("down",this.showNextDetailPane),key("enter",this.openCurrentLink),key("e",this.triggerAddEdit)},t.prototype.redirectWarn=function(e){return this.view=new s({model:new r({url:e.url})})},t.prototype.triggerAddEdit=function(e){var t;return e.preventDefault(),t=$(".link.expanded"),t.find(".link-badge a").click()},t.prototype.prevNext=function(e){var t,n;return t=$(".link.expanded"),n=t[e](".link").first(),1===n.length?(n.focus(),this.publishEvent("list:activateByMd5",n.data("md5"))):void 0},t.prototype.showPreviousDetailPane=function(e){return e.preventDefault(),this.prevNext("prevAll")},t.prototype.showNextDetailPane=function(e){return e.preventDefault(),this.prevNext("nextAll")},t.prototype.openCurrentLink=function(){return"/"!==window.location.pathname?$(".link.expanded .link-title a").click():void 0},t.prototype.compose=function(e){var t,n,r=this;if(null!=e.model)return n=e.response||new $.Deferred,l.user.get("isLoggedIn")?(a.log("Showing the link edit modal:",{model:e.model}),e.model.on("remove",function(){return r.prevNext("nextAll")}),e.model.on("save",n.resolve),t=new o(e),t.$el.on("hidden",function(){return n.reject()}),e.model.compose().done(t.render).fail(t.hide)):l.auth.promptLogin({title:"Sign in to save this link",redirect:!1}).done(function(){return e.response=n,n=r.compose(e)}).fail(function(){return n.reject()}),n},t}(e)}).call(this)}}),window.require.define({"controllers/onboarding_controller":function(e,t,n){(function(){var e,r,o,i,s,a={}.hasOwnProperty,l=function(e,t){function n(){this.constructor=e}for(var r in t)a.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};e=t("lib/controller"),r=t("views/auth/join"),s=t("mediator"),i=t("lib/logger"),n.exports=o=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return l(t,e),t.prototype.join=function(e){return i.log("Loading the join page"),this.title="Join",this.view=new r({model:s.user,section:e.section})},t}(e)}).call(this)}}),window.require.define({"controllers/oops_controller":function(e,t,n){(function(){var e,r,o,i,s,a={}.hasOwnProperty,l=function(e,t){function n(){this.constructor=e}for(var r in t)a.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};e=t("lib/controller"),s=t("lib/logger"),r=t("views/oops/notfound"),i=t("views/oops/somethingwentwrong"),n.exports=o=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return l(t,e),t.prototype.initialize=function(){return t.__super__.initialize.apply(this,arguments),s.log("Initializing the Oops Controller.")},t.prototype.index=function(e){return this.view=new SearchResultsView,this.publishEvent("search:fetch",this._extractKeywordsFromParams(e))},t.prototype.notfound=function(){return this.view=new r},t.prototype.somethingwentwrong=function(){return this.view=new i},t}(e)}).call(this)}}),window.require.define({"controllers/plain_controller":function(e,t,n){(function(){var e,r,o,i,s,a={}.hasOwnProperty,l=function(e,t){function n(){this.constructor=e}for(var r in t)a.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};e=t("views/about"),r=t("views/chrome"),o=t("lib/controller"),s=t("lib/logger"),n.exports=i=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return l(n,t),n.prototype.historyUrl="/",n.prototype.initialize=function(){return n.__super__.initialize.apply(this,arguments),s.log("Initializing the Plain page Controller.")},n.prototype.about=function(){return this.title="About us",this.view=new e},n.prototype.chrome=function(){return this.title="Chrome Quicktour",this.view=new r},n}(o)}).call(this)}}),window.require.define({"controllers/search_controller":function(e,t,n){(function(){var e,r,o,i,s,a,l,u,p,c,d,h,f,m,g,v,y,w={}.hasOwnProperty,b=function(e,t){function n(){this.constructor=e}for(var r in t)w.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};m=t("lib/avos"),e=t("lib/controller"),g=t("lib/encode"),r=t("models/links"),o=t("views/links/list"),v=t("lib/logger"),y=t("mediator"),i=t("views/oops/notfound"),s=t("views/user/profile"),a=t("views/tags/related_tag_list"),u=t("views/links/search_results"),h=t("models/tags"),p=t("models/tag_bundle"),c=t("views/tags/tag_bundle_list"),d=t("models/tag_bundles"),f=t("models/user"),n.exports=l=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return b(n,e),n.prototype.historyURL="",n.prototype.initialize=function(){var e;return n.__super__.initialize.apply(this,arguments),this.mixin("lib/search_params"),this.subscribeEvent("search:addYourTag",this._addYourTag),this.subscribeEvent("search:addTag",this._addTag),this.subscribeEvent("search:onlyTag",this._onlyTag),this.subscribeEvent("search:onlyTagBundle",this._onlyTagBundle),this.subscribeEvent("search:addUsername",this._addUsername),this.username=(null!=(e=y.user)?e.get("username"):void 0)||null},n.prototype.link=function(e){return this.consolidated(e),this.title="Delicious",this.view.$(".links-container").not(".everyone").addClass("hidden"),this.view.$(".tags-container").addClass("hidden")},n.prototype.consolidated=function(e){var t,n,i,s,l,p=this;return this._setTitle(e),i=_.extend(_.clone(e),{type:"everyone"}),t=[new r([],{urlParams:i})],y.user.get("isLoggedIn")&&(l=_.extend(_.clone(e),{type:"you"}),s=_.extend(_.clone(e),{type:"network"}),n=[new r([],{urlParams:l}),new r([],{urlParams:s})],t=n.concat(t)),_.each(t,function(e,t){return p["links"+t]=e,p._subscribeLinksToSearchFetchEvent(e)}),this.relatedTags=new h([],{urlParams:{type:"related"}}),this._subscribeTagsToSearchFetchEvent(this.relatedTags),this.view=new u({model:y.user}),this.view.$el.addClass("all"),_.each(t,function(t){var n,r,i,s;return s=t.urlParams.type,i=_.extend(p._searchParams(e),{network:"network"===s,username:"everyone"!==s&&p.username}),r=p.searchPathFromSearchParams(i),n="everyone"===s?"More links on Delicious":s.charAt(0).toUpperCase()+s.slice(1),p.view.subview("links-"+s,new o({collection:t,heading:n,container:p.view.$(".links-container."+s),seeAllPath:r}))}),this.view.subview("related-tags",new a({collection:this.relatedTags,el:".tags-container.related"})),this._triggerSearch(e)},n.prototype.network=function(e){var n,i,s,l=this;return this.username?(e.network=!0,e.username||(e.username=this._extractUsernameFromParams(e)||this.username),s=g(e.username),this._setTitle(e),this.title=s===this.username?"Your":""+s+"'s",this.title+=" Network",this.links=new r([],{urlParams:{type:"network",username:s}}),this.trendingTags=new h,this.relatedTags=new h,this.links.subscribeEvent("search:fetch",function(e){return l.links.urlParams=_.extend(_.clone(l.links.urlParams),e),l.links.reset([],{silent:!0}),l.links.fetch({success:function(){var e,t,n;return t=_.uniq(_.compact(_.flatten(l.links.pluck("tags")))),t=_.difference(t,l.links.urlParams.tags),n=_.map(t,function(e){return{name:e}}),e=l.links.urlParams.tags.length>0,e?l.relatedTags.reset(n):l.trendingTags.reset(n)}})}),this.view=new u({model:y.user}),this.view.$el.addClass("network"),this.view.subview("links",new o({collection:this.links,heading:this.title,container:this.view.$(".links-container.network")})),this.view.subview("trending-tags",new a({collection:this.trendingTags,el:".tags-container.recent"})),this.view.subview("related-tags",new a({collection:this.relatedTags,el:".tags-container.related"})),store.get("closedFeaturedFollowers")||(v.log("Showing featured followers panel"),i=t("models/users"),n=t("views/user/featured_followers_collection"),this.users=new i,this.users.url="/account/featuredusers",this.users.fetch().done(function(){return l.view.subview("featured-followers",new n({collection:l.users,model:y.user}))})),this._triggerSearch(e)):(this.redirectTo(m.defaultRoute),void 0)},n.prototype.profile=function(e){var t,n=this;return null==this.searchTokensFromSearchParams&&this.mixin("lib/search_params"),this._setTitle(e),t=this._extractUsernameFromParams(e),this.user=new f({username:g(t)}),y.user.on("change:isLoggedIn",function(){return t===y.user.get("username")?n.user.set(y.user.toJSON()):void 0}),this.links=new r([],{urlParams:{username:t,tagBundle:e.tagBundle}}),this.tagBundles=new d([],{urlParams:{username:t}}),this.tagsInBundle=new h,this.currentTagBundle=new p,this.currentTagBundle.on("change",function(){var e,t;return e=n.currentTagBundle.get("tags"),t=_.map(e,function(e){return{name:e}}),n.tagsInBundle.reset(t)}),this.relatedTags=new h,this.allTags=new h([],{urlParams:{username:t}}),this.allTags.fetch(),this.links.subscribeEvent("search:fetch",function(e){return n.links.urlParams=_.extend(_.clone(n.links.urlParams),e),n.links.reset([],{silent:!0}),n.links.fetch({success:function(){var r,o,i,s,a;return(r=e.tagBundle)&&n.currentTagBundle.fetchTags(t,r),o=n.links.urlParams.keywords.length>0,i=n.links.urlParams.tags.length>0,o||i?(s=_.uniq(_.compact(_.flatten(n.links.pluck("tags")))),s=_.difference(s,n.links.urlParams.tags),a=_.map(s,function(e){return{name:e}}),n.relatedTags.reset(a)):void 0}})}),this.subscribeEvent("tagBundle:save",function(e){return 0===n.tagBundles.where({name:e.get("name")}).length?n.tagBundles.add(e):void 0}),this.user.profile().fail(function(){return n.view=new i}).done(function(t){return null===t.pkg?n.view=new i:(n.view=new s({model:n.user,tagBundles:n.tagBundles}),n.tagBundles.fetch(),_.delay(function(){return"profile"===y.dispatcher.currentAction?n.view.subview("links",new o({collection:n.links,container:n.view.$(".links-container")})):void 0},100),n.view.subview("related-tags",new a({collection:n.relatedTags,el:n.view.$(".tags-container.related"),limit:1e4})),_.delay(function(){return"profile"===y.dispatcher.currentAction?n.view.subview("all-tags",new a({collection:n.allTags,el:n.view.$(".tags-container.all"),selected:store.get("orderBy")})):void 0},750),n.view.subview("tag_bundles",new c({collection:n.tagBundles})),n.view.subview("tags-in-bundle",new a({collection:n.tagsInBundle,el:n.view.$(".tags-container.in-bundle"),showingAllTags:!0}))),!n.user.isMe()||e.p||e.tags?void 0:(n.subscribeEvent("link:added",function(){return n._triggerSearch(e)}),n.subscribeEvent("tags:managed",function(){return n.allTags.reset([],{silent:!0}),n.allTags.fetch().done(function(){return y.user.set("tags",n.allTags.toJSON())})}))}),this._triggerSearch(e)},n.prototype.discover=function(e){return this.publishEvent("autocomplete:clear"),this.title="Discover",this.links=new r([],{urlParams:{type:"everyone"}}),this._subscribeLinksToSearchFetchEvent(this.links),this.trendingTags=new h([],{urlParams:{type:"trending"}}),this._subscribeTagsToSearchFetchEvent(this.trendingTags),this.view=new u,this.view.$el.addClass("discover"),this.view.subview("links",new o({collection:this.links,heading:"Discover Delicious",container:this.view.$(".links-container.everyone")})),this.view.subview("trending-tags",new a({collection:this.trendingTags,el:".tags-container.recent"})),this._triggerSearch(e)},n.prototype._addYourTag=function(e){var t,n,r,o,i;return t=$("#search-field"),o=t.val(),(n=t.data("excluded-fragment"))&&(o=o.replace(RegExp(""+n+"$"),""),t.data("excluded-fragment",null)),i=this.searchParamsFromSearchString(o),i.tags=_.uniq((i.tags||[]).concat(e)),i.tagBundle=null,i.username||(i.username=y.user.get("username")),r=this.searchPathFromSearchParams(i),this.publishEvent("!router:route",r)},n.prototype._addTag=function(e){var t,n,r,o,i;return t=$("#search-field"),o=t.val(),(n=t.data("excluded-fragment"))&&(o=o.replace(RegExp(""+n+"$"),""),t.data("excluded-fragment",null)),i=this.searchParamsFromSearchString(o),i.tags=_.uniq((i.tags||[]).concat(e)),i.tagBundle=null,r=this.searchPathFromSearchParams(i),this.publishEvent("!router:route",r)},n.prototype._onlyTag=function(e){var t,n,r,o,i,s;return t=$("#search-field"),o=t.val(),(n=t.data("excluded-fragment"))&&(o=o.replace(RegExp(""+n+"$"),""),t.data("excluded-fragment",null)),i=this.searchParamsFromSearchString(o),i.tags=[e],i.tagBundle=null,s=this.searchTokensFromSearchParams(i),this.publishEvent("autocomplete:replace",s.join(" ")),r=this.searchPathFromSearchParams(i),this.publishEvent("!router:route",r)},n.prototype._onlyTagBundle=function(e){var t,n,r,o,i,s;return t=$("#search-field"),o=t.val(),(n=t.data("excluded-fragment"))&&(n=n.replace(/(\[|\])/,"\\$1"),o=o.replace(RegExp(""+n+"$"),""),t.data("excluded-fragment",null)),i=this.searchParamsFromSearchString(o),i.tagBundle=e,i.username||(i.username=y.user.get("username")),s=this.searchTokensFromSearchParams(i),this.publishEvent("autocomplete:replace",s.join(" ")),r=this.searchPathFromSearchParams(i),this.publishEvent("!router:route",r)},n.prototype._addUsername=function(e){var t,n,r,o,i,s;return t=$("#search-field"),o=t.val(),(n=t.data("excluded-fragment"))&&(o=o.replace(RegExp(""+n+"$"),""),t.data("excluded-fragment",null)),i=this.searchParamsFromSearchString(o),i.username=e,s=this.searchTokensFromSearchParams(i),this.publishEvent("autocomplete:replace",s.join(" ")),r=this.searchPathFromSearchParams(i),this.publishEvent("!router:route",r)},n.prototype._triggerSearch=function(e){var t;return t=this._searchParams(e),this.publishEvent("search:fetch",t)},n.prototype._setTitle=function(e){var t;return t=this._searchParams(e),this.title=this.searchTokensFromSearchParams(t).join(" "),this.publishEvent("autocomplete:replace",this.title)},n.prototype._searchParams=function(e){var t,n;return{username:this._extractUsernameFromParams(e),tags:(null!=e?null!=(t=e.tags)?t.split("+"):void 0:void 0)||[],keywords:(null!=(n=e.p)?n.split(","):void 0)||[],network:e.network||!1,tagBundle:e.tagBundle||null}},n.prototype._subscribeLinksToSearchFetchEvent=function(e){return e.subscribeEvent("search:fetch",function(t){return e.urlParams=_.extend(_.clone(e.urlParams),t),e.reset([],{silent:!0}),e.fetch()})},n.prototype._subscribeTagsToSearchFetchEvent=function(e){return e.subscribeEvent("search:fetch",function(t){return e.urlParams.keywords=t.keywords,e.urlParams.tags=t.tags,e.reset([],{silent:!0}),e.fetch()})},n.prototype._extractUsernameFromParams=function(e){var t;return(null!=e?null!=(t=e.username)?t.trim():void 0:void 0)||null},n}(e)}).call(this)}}),window.require.define({"controllers/users_controller":function(e,t,n){(function(){var e,r,o,i,s,a,l,u,p={}.hasOwnProperty,c=function(e,t){function n(){this.constructor=e}for(var r in t)p.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};a=t("lib/avos"),e=t("lib/controller"),l=t("lib/logger"),u=t("mediator"),r=t("views/base/section"),s=t("views/user/validate_email"),o=t("models/user"),n.exports=i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return c(t,e),t.prototype.validateEmail=function(e){var t;return t=new o,t.validateEmail(e.token),this.view=new s({model:t})},t.prototype.settings=function(e){var t;return this.title="Settings",t=u.user,t.get("isLoggedIn")?(l.log("Loading the settings page",{user:t}),this.view=new r({pages:[{title:"Profile",view:"views/user/settings/settings",model:t,url:"settings",id:"profile"},{title:"Account",view:"views/user/settings/account",url:"settings/account",id:"account"},{title:"Find friends",view:"views/user/settings/friends",url:"settings/friends",id:"friends"},{title:"Import links",view:"views/user/settings/sources",url:"settings/sources",id:"sources",active:"sources"===e.subpage,subpages:[{title:"Facebook",view:"views/user/settings/service",url:"settings/sources/facebook",id:"facebook",active:"facebook"===e.section},{title:"Twitter",view:"views/user/settings/service",url:"settings/sources/twitter",id:"twitter",active:"twitter"===e.section}]}],currentId:e.subpage,currentSectionId:e.section})):(l.log("Redirecting to default route"),this.redirectTo(a.defaultRoute),void 0)},t}(e)}).call(this)}}),window.require.define({"lib/api":function(e,t,n){(function(){var e,r,o,i,s;r=t("lib/avos"),i=t("mediator"),o=t("lib/logger"),e=t("views/oops/somethingwentwrong"),i.loginFailCount=0,i.retryCounter={},s=function(){return new e},n.exports=function(e){var t,n,s,a,l,u;return s=_.extend({},r.ajax.options,e,{dataType:$("html").hasClass("lt-ie10")?"jsonp":"json",url:"//"+r.api_host()+r.api_path+e.url,success:null,error:null}),u=new Date,l=function(t,r,p){if(o.log("API: Response received",{time:new Date-u,server_time:t.delta_ms}),"expired_session"===(null!=t?t.status:void 0)){if(i.loginFailCount++,o.warn("API Session Expired",{url:s.url,params:s,user:i.user.clone(),failcount:i.loginFailCount}),2>i.loginFailCount&&i.user.get("password_hash")&&i.user.get("username"))return o.warn("Attempting to reAuth with silent login",this),a.notify("Attempting to reAuth with silent login"),i.user.loginSilent().fail(l).done(function(){return n(),i.loginFailCount=0});o.error("Silent auth was not successful"),i.user.logout(),i.loginFailCount=0}else if("success"===(null!=t?t.status:void 0))return o.log("API Success: "+e.url,{params:s,res:t}),$.isFunction(e.success)&&e.success.apply(e,arguments),a.resolve.apply(a,arguments),void 0;return o.warn("API Error",{res:t,status:r,xhr:p}),_.isFunction(e.error)&&e.error.apply(e,arguments),a.reject.apply(a,arguments)},t=function(t,n,r){return o.error("API Error: "+e.url,{headers:t.getAllResponseHeaders(),status:n,error:r}),_.isFunction(e.error)&&e.error.apply(e,arguments),a.reject.apply(a,arguments)},n=function(){return o.log("API: Requesting "+e.url,{params:s,options:e}),$.ajax(s).fail(t).done(l)},n(),a=new $.Deferred}}).call(this)}}),window.require.define({"lib/avos":function(e,t,n){(function(){var e;n.exports=e={api_hosts:["avosapi.delicious.com"],api_host:function(){return e.api_hosts[Math.floor(Math.random()*e.api_hosts.length)]},api_path:"/api/v1",default_avatar:"//delicious-icons.s3.amazonaws.com/default-avatar-2.jpg",defaultRoute:"/discover",logging:!0,ajax:{options:{cache:!1,dataType:"json",type:"GET",timeout:1e4,headers:{Accept:""},xhrFields:{withCredentials:!0}}},popup:{allowedOrigins:["http://avosapi.delicious.com","https://avosapi.delicious.com"],options:{menubar:"no",toolbar:"no",width:790,height:360}},spinner:{defaults:{lines:11,length:0,width:4,radius:8,corners:1,rotate:0,color:"#285da7",speed:1,trail:10,shadow:!1,hwaccel:!0,className:"spinner",zIndex:1,top:"auto",left:"auto"}}}}).call(this)}}),window.require.define({"lib/collection":function(e,t,n){(function(){var e,r,o,i,s={}.hasOwnProperty,a=function(e,t){function n(){this.constructor=e}for(var r in t)s.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};i=t("lib/avos"),o=t("lib/api"),e=t("chaplin"),n.exports=r=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return a(n,e),n.prototype.parse=function(e){return _.isEmpty(e)?[]:(null!=e?e.pkg:void 0)||[]},n.prototype.mixin=t("lib/mixin"),n.prototype.initialize=function(e,t){return null==e&&(e=[]),null==t&&(t={}),this.urlParams=t.urlParams,delete t.urlParams,n.__super__.initialize.apply(this,arguments)},n.prototype.fetch=function(e){return null==e&&(e={}),this.length>0&&(e.add=!0),n.__super__.fetch.apply(this,arguments)},n.prototype.sync=function(e,t,n){var r;return r={},r.url="function"==typeof this.url?this.url():null!=t.url?t.url:void 0,r=_.extend(r,n),o.call(this,r)},n.prototype._anchor=function(){var e,t;return 1>this.length?-1:(t=_.sortBy(this.pluck("time_created"),function(e){return e}),e=_.first(t),(e||0)-1)},n.prototype._index=function(){var e;return 1>this.length?0:(e=_.sortBy(this.pluck("index"),function(e){return e}),_.last(e)||0)},n}(e.Collection)}).call(this)}}),window.require.define({"lib/collection_view":function(e,t,n){(function(){var e,r,o,i={}.hasOwnProperty,s=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};e=t("chaplin"),o=t("lib/view"),n.exports=r=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return s(n,e),n.prototype.mixin=t("lib/mixin"),n.prototype.autoRender=!0,n.prototype.useCssAnimation=!0,n.prototype.getTemplateFunction=o.prototype.getTemplateFunction,n.prototype.showHeadingIfEmpty=!0,n.prototype.defaults={heading:!1,headingLevel:2,showHeadingIfEmpty:!0},n.prototype.initialize=function(e){return this.options=null!=e?e:{},_.defaults(this.options,this.defaults),n.__super__.initialize.apply(this,arguments),this.showHeadingIfEmpty||this.modelBind("reset",this.renderHeading),this.collection&&this.loadingIndicator?this.modelBind("reset",this.hideLoading):void 0},n.prototype.renderHeading=function(){var e;return e=this.$list||this.$el,this.options.heading&&(this.options.showHeadingIfEmpty||this.collection.length>0)?e.before("<h"+this.options.headingLevel+">"+this.options.heading+"</h"+this.options.headingLevel+">"):void 0},n.prototype.afterRender=function(){return n.__super__.afterRender.apply(this,arguments),this.renderHeading(),this.loadingIndicator&&this.collection.isEmpty()&&this.setLoading(),this},n.prototype.setLoading=o.prototype.setLoading,n.prototype.hideLoading=o.prototype.hideLoading,n}(e.CollectionView)}).call(this)}}),window.require.define({"lib/controller":function(e,t,n){(function(){var e,r,o,i,s={}.hasOwnProperty,a=function(e,t){function n(){this.constructor=e
}for(var r in t)s.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};e=t("chaplin"),o=t("lib/logger"),i=e.mediator,n.exports=r=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return a(n,e),n.prototype.mixin=t("lib/mixin"),n.prototype.initialize=function(){var e=this;return n.__super__.initialize.apply(this,arguments),this.events?_(this.events).each(function(t,n){return"function"==typeof e[t]?e.subscribeEvent(n,e[t]):(o.log("The listener for "+n+" (@"+t+") doesn't exist."),o.log("@["+t+"]",e[t]))}):void 0},n}(e.Controller)}).call(this)}}),window.require.define({"lib/delicious_autocomplete_item":function(e,t,n){(function(){var e,t={}.hasOwnProperty,r=function(e,n){function r(){this.constructor=e}for(var o in n)t.call(n,o)&&(e[o]=n[o]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};n.exports=e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return r(t,e),t.prototype.matches=function(e){return e.test(this.get("name"))||e.test(this.get("description"))||e.test(this.completion())},t}(AutocompleteItem)}).call(this)}}),window.require.define({"lib/delicious_autocomplete_items":function(e,t,n){(function(){var e,r,o={}.hasOwnProperty,i=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};e=t("lib/delicious_autocomplete_item"),n.exports=r=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return i(n,t),n.prototype.model=e,n}(AutocompleteItems)}).call(this)}}),window.require.define({"lib/encode":function(e,t,n){(function(){n.exports=function(e){return e=encodeURIComponent(e),e.replace(/\./g,"%2E")}}).call(this)}}),window.require.define({"lib/logger":function(e,t,n){(function(){var e,t,r,o,i,s=[].slice;t=15,i=(new Date).getTime(),o=!1,e=function(e){var n;return null==e&&(e=""),n=t-e.length+1,0>n&&(n=0),Array(n).join(" ")},n.exports=r={error:function(){var e,t;return t=arguments[0],e=arguments.length>=2?s.call(arguments,1):[],r.log.apply(r,[t,"error"].concat(s.call(e)))},log:function(){var t,n,r,a,l;return r=arguments[0],n=arguments[1],t=arguments.length>=3?s.call(arguments,2):[],null==n&&(n="log"),o?("log"!==n&&"warn"!==n&&"error"!==n&&(t.unshift(n),n="log"),"string"!=typeof r&&(t.unshift(r),r=""),a=(new Date).getTime(),l=a-i+"ms",0,_(t).each(function(t){return"object"==typeof t?_(t).each(function(t,r){return 0}):void 0})):void 0},set:function(e){return null==e&&(e=!1),e===!0?o=!0:void 0},warn:function(){var e,t;return t=arguments[0],e=arguments.length>=2?s.call(arguments,1):[],r.log.apply(r,[t,"warn"].concat(s.call(e)))}}}).call(this)}}),window.require.define({"lib/mixin":function(e,t,n){(function(){var e=[].slice,r={}.hasOwnProperty;n.exports=function(){var n,o,i,s,a,l,u,p;for(a=arguments.length>=1?e.call(arguments,0):[],u=0,p=a.length;p>u;u++){i=a[u],s=t(i);for(o in s)r.call(s,o)&&(l=s[o],this[o]=l);n=s.attached,n&&n.apply(this)}return this}}).call(this)}}),window.require.define({"lib/model":function(e,t,n){(function(){var e,r,o={}.hasOwnProperty,i=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};e=t("chaplin"),n.exports=r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,e),t}(e.Model)}).call(this)}}),window.require.define({"lib/obfuscate":function(e,t,n){(function(){n.exports=function(e){var t;return t=e.split("").reverse().join(""),Base64.toBase64(t)}}).call(this)}}),window.require.define({"lib/popup":function(e,t,n){(function(){var e,r=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};e=t("lib/avos"),n.exports=function(t){var n,o;return null==t&&(t={}),o=_.extend({},e.popup.options,t),delete o.url,delete o.success,delete o.popupWindowName,delete o.crossWindowMessageName,n=function(o){var i;return o=o.originalEvent,i=o.origin,0>r.call(e.popup.allowedOrigins,i)||o.data.name!==t.crossWindowMessageName?void 0:(t.success(o.data.body),$(window).off("message",n))},$(window).on("message",n),window.open("//"+e.api_host()+e.api_path+t.url,t.popupWindowName,$.param(o).replace(/&/g,","))}}).call(this)}}),window.require.define({"lib/search_params":function(e,t,n){(function(){var e,r,o;e=t("lib/encode"),r=t("lib/logger"),o=t("mediator"),n.exports={tokenizeSearchString:function(e){var t,n;return n=_.uniq(e.match(/@\S+|#"[^"]+"|#'[^']+'|#\S+|\[[^\]]+\]|[0-9a-f]{32}|\S+/g)||[]),t=/^#*$/,n=_.reject(n,function(e){return t.test(e)}),t=/^#'[^'\s]+'$|^#"[^"\s]+"$/,n=_.map(n,function(e){return t.test(e)?e.replace(/'|"/,""):e})},searchParamsFromSearchString:function(e){var t;return t={username:null,tags:[],keywords:[]},e=e.trim(),_.isEmpty(e)?t:(_.each(this.tokenizeSearchString(e),function(e){var n,r,i,s;return(r=e.match(/#(.+)/))?(i=_.last(r).trim(),i=i.replace(/^'|^"/,"").replace(/'$|"$/,""),t.tags.push(i)):(r=e.match(/^@([^\/]+)/))?t.username||(t.username=_.last(r).trim(),t.network=/(?:\S{1,}\/|^@)network$/.test(e),"me"!==t.username&&"network"!==t.username)?void 0:t.username=null!=(s=o.user)?s.get("username"):void 0:(r=e.match(/^\[([^\[\]]+)\]/))?t.tagBundle=_.last(r).trim():(r=e.match(/([0-9a-f]{32})/))?t.md5=_.last(r).trim():(n=e.trim(),t.keywords.push(n))}),t)},searchTokensFromSearchParams:function(e){var t,n,r,i,s,a;return r=[],(i=(null!=(s=e.username)?s.trim():void 0)||null)&&(e.network&&(i===(null!=(a=o.user)?a.get("username"):void 0)?i="network":i+="/network"),r.push("@"+i)),n=e.tags||[],r=r.concat(_.map(n,function(e){var t;return e=e.replace(/[%+*:&-]/g,""),t=decodeURIComponent(e).trim(),/\s/.test(t)?'#"'+t+'"':"#"+t})),t=e.keywords||[],r=r.concat(t),e.tagBundle&&(r=r.concat("["+decodeURIComponent(e.tagBundle)+"]")),r=_.compact(_.uniq(_.map(r,function(e){return e.trim()})))},searchPathFromSearchParams:function(t){var n,r,o,i,s,a,l;return l=t.username,n=t.keywords,a=t.tags,o=t.network,s=t.tagBundle,r=t.md5,(null!=a?a.length:void 0)>0&&(a=_.map(a,function(t){return e(t)})),i="",r?"/url/"+r:(l?o?(i="/network/"+l,a&&a.length>0&&(i+=n&&n.length>0?"/"+a.join("+"):"/tag/"+a.join("+"))):(i="/"+l,s?i+="/tag_bundle/"+e(s):a&&a.length>0&&(i+="/"+a.join("+"))):a&&a.length>0&&(i="/tag/"+a.join("+")),n&&n.length>0&&(i=i+"/search?"+$.param({p:n.join(",")})),i)}}}).call(this)}}),window.require.define({"lib/view":function(e,t,n){(function(){var e,r,o,i={}.hasOwnProperty,s=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},a=[].slice;e=t("chaplin"),o=t("lib/avos"),n.exports=r=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return s(n,e),n.prototype.mixin=t("lib/mixin"),n.prototype.autoRender=!0,n.prototype.subviews=[],n.prototype.defaults={},n.prototype.isMobile=function(){return Modernizr.mq("(max-width: 760px)")},n.prototype.isDesktop=function(){return Modernizr.mq("(min-width: 760px)")},n.prototype.isTouch=function(){return Modernizr.touch},n.prototype.getTemplateFunction=function(){return this.template?this._cachedTemplateFunction||(this._cachedTemplateFunction=t("templates/"+this.template)):void 0},n.prototype.initialize=function(e){var t;return this.options=null!=e?e:{},null==(t=this.template)&&(this.template=this.options.template),_.defaults(this.options,this.defaults),this.collection&&this.loadingIndicator&&this.modelBind("reset",this.hideLoading),n.__super__.initialize.apply(this,arguments)},n.prototype.render=function(){return n.__super__.render.apply(this,arguments),this.loadingIndicator&&this.setLoading(),this},n.prototype.setLoading=function(e){var t;return null==e&&(e={}),null!=(t=this.$fallback)&&t.hide(),_.defaults(e,o.spinner.defaults),this.$(".loading").show().spin(e)},n.prototype.hideLoading=function(){var e,t;return e=this.$(".loading"),(null!=(t=e.data())?t.spinner:void 0)&&e.spin(),this.$el?e.hide():void 0},n.prototype.getFormData=function(){var e,t;return t=arguments.length>=1?a.call(arguments,0):[],e=this.$("form").formParams(),t.length?_.pick.apply(_,[e].concat(a.call(t))):e},n}(e.View)}).call(this)}}),window.require.define({"models/connect":function(e,t,n){(function(){var e,r,o,i,s,a={}.hasOwnProperty,l=function(e,t){function n(){this.constructor=e}for(var r in t)a.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};o=t("lib/api"),s=t("lib/popup"),i=t("mediator"),r=t("lib/model"),n.exports=e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return l(t,e),t.prototype.defaults={privacy_options:[{value:"ALL_PUBLIC",text:"Make links public"},{value:"ALL_PRIVATE",text:"Make links private"},{value:"AUTOMATIC",text:"Keep the same privacy"}]},t.prototype.initialize=function(){return t.__super__.initialize.apply(this,arguments),this.set("sharingMessage","facebook"===this.get("providerId")?"Links you share on Facebook or post on your own wall will be imported to Delicious.":"Links you share on Twitter will be imported to Delicious.")},t.prototype.connect=function(e,t){var n;return n={url:"/connect/to/"+this.get("providerId")+"?active="+e,crossWindowMessageName:"connect_to_delicious",popupWindowName:"Connect_To_"+this.get("providerId")+"_From_Delicious",success:function(e){return _.isFunction(t)?t(e):void 0}},"facebook"===this.get("providerId")&&(n=_.extend(n,{width:1e3,height:610})),s(n)},t.prototype.disconnect=function(){var e=this;return o({url:"/connect/delete/"+this.get("providerId"),success:function(){var t;return null!=(t=e.collection)&&t.remove(e),e.dispose()}})},t.prototype.update=function(e,t){var n=this;return o({url:"/connect/update/"+this.get("providerId")+"/"+this.get("providerUserId"),data:e,success:function(){return _.isFunction(t)?t(n):void 0}})},t}(r)}).call(this)}}),window.require.define({"models/connects":function(e,t,n){(function(){var e,r,o,i={}.hasOwnProperty,s=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};e=t("lib/collection"),r=t("models/connect"),n.exports=o=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.model=r,t.prototype.url=function(){return"/connect"},t.prototype.parse=function(){var e;return e=t.__super__.parse.apply(this,arguments),_.flatten(_.values(e))},t.prototype.filterForLinkImporting=function(){return this.filter(function(e){return e.get("active")===!0})},t.prototype.findByProvider=function(e){return this.find(function(t){return t.get("providerId")===e})},t}(e)}).call(this)}}),window.require.define({"models/follow":function(e,t,n){(function(){var e,r,o,i,s,a,l={}.hasOwnProperty,u=function(e,t){function n(){this.constructor=e}for(var r in t)l.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};o=t("lib/api"),i=t("lib/encode"),s=t("lib/logger"),a=t("mediator"),r=t("lib/model"),n.exports=e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return u(t,e),t.prototype.followUser=function(e,t){var n,r;return r=e.get("username"),n={url:"/account/follow/"+r,success:function(n){return"success"!==n.status?s.log("Failed to follow user",{user:e,status:n.status}):(e.set({am_following_them:!0}),"function"==typeof t?t():void 0)}},o.call(this,n)},t.prototype.unfollowUser=function(e,t){var n,r;return r=e.get("username"),n={url:"/account/unfollow/"+r,success:function(n){return"success"!==n.status?s.log("Failed to follow user",{user:e,status:n.status}):(e.set({am_following_them:!1}),"function"==typeof t?t():void 0)}},o.call(this,n)},t.prototype.getUserFollowersUrl=function(e){var t;return t=i(e.get("username")),"/account/public/followers/"+t},t.prototype.getUserFollowingUrl=function(e){var t;return t=i(e.get("username")),"/account/public/follows/"+t},t}(r)}).call(this)}}),window.require.define({"models/link":function(e,t,n){(function(){var e,r,o,i,s,a,l,u,p=function(e,t){return function(){return e.apply(t,arguments)}},c={}.hasOwnProperty,d=function(e,t){function n(){this.constructor=e}for(var r in t)c.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};a=t("lib/api"),l=t("lib/logger"),u=t("mediator"),r=t("lib/model"),o=t("models/notes"),i=t("models/tag"),s=t("models/tags"),n.exports=e=function(e){function t(){return this.compose=p(this.compose,this),t.__super__.constructor.apply(this,arguments)}return d(t,e),t.prototype.addOrEdit=function(e){var t=this;return a({data:e,url:"/posts/addoredit",success:function(){var n,r;return l.log("Successfully saved link"),r=t.get("savers")||[],n=u.user.toJSON(),t.set("savers",[n].concat(r)),t.set(_.extend(e,{"private":e["private"],title:e.description,tags:e.tags.split(",")})),store.set("newLinkPrivate","on"===e["private"]),store.set("insertRecommendedTags","on"===e.showTags),t.publishEvent("link:"+(e.replace?"edited":"added"),t),t.trigger("save")}})},t.prototype.bulkEdit=function(e){return a({data:e,url:"/tag/edit/all"})},t.prototype.compose=function(){var e=this;return a({data:{url:this.get("url")},url:"/posts/compose",success:function(t){return null!=t.pkg&&(e.set({recommended:t.pkg}),t.pkg.previously_saved===!0)?(e.set("title",t.pkg.suggested_title),e.set("tags",t.pkg.suggested_tags),e.set("note",t.pkg.note)):void 0}})},t.prototype.deleteAll=function(e){return a({data:{md5s:e},url:"/links/delete"})},t.prototype.markAs=function(e,t){return a({data:{md5s:t},type:"GET",url:"/links/make/"+e})},t.prototype.notes=function(){return new o([],{urlParams:{md5:this.get("md5")}})},t.prototype.tags=function(){return _.uniq(_.map(this.get("tags"),function(e){return i.normalize(e)}))},t.prototype.relatedTags=function(e){return new s([],{urlParams:{type:"related",tags:e}})},t.prototype.remove=function(){return a({data:{url:encodeURIComponent(this.get("url"))},type:"GET",url:"/posts/delete",success:_.bind(this.destroy,this)})},t}(r)}).call(this)}}),window.require.define({"models/links":function(e,t,n){(function(){var e,r,o,i,s,a={}.hasOwnProperty,l=function(e,t){function n(){this.constructor=e}for(var r in t)a.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};e=t("lib/collection"),i=t("lib/encode"),r=t("models/link"),s=t("mediator"),n.exports=o=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return l(t,e),t.prototype.model=r,t.prototype.parse=function(e){var n,r,o,i;return o=t.__super__.parse.call(this,e),i=_.compact(_.uniq(_.pluck(o,"md5"))),n=this.pluck("md5"),r=_.difference(i,n),o=_.filter(o,function(e){return _.contains(r,e.md5)}),_.each(o,function(e){var t,n;return 300>(null!=(t=e.chosen_image)?t.width:void 0)||200>(null!=(n=e.chosen_image)?n.height:void 0)?e.chosen_image=null:void 0}),o},t.prototype.url=function(){var e,t,n,r,o,a,l,u,p,c,d,h,f,m,g;return this.urlParamDefaults||(this.urlParamDefaults={type:"popular",tags:[],keywords:[],limit:20,username:null,tagBundle:null,md5:null}),d=_.extend(this.urlParamDefaults,this.urlParams),p=d.type,u=d.tags,n=d.limit,t=d.keywords,c=d.username,l=d.tagBundle,r=d.md5,_.isArray(u)&&u.length>0&&(u=_.map(u,function(e){return/%/.test(e)?decodeURIComponent(e):e})),c&&("network"===p?c===(null!=(h=s.user)?h.get("username"):void 0)||"me"===c?p="network":(c=i(c),p="publicnetwork/"+c):c===(null!=(f=s.user)?f.get("username"):void 0)||"me"===c?p="you":(c=i(c),p="public/"+c)),a="/posts/"+p+"/time",o={tags:_.isArray(u)?u.join(","):u,tagsor:!1,keywords:_.isArray(t)?t.join(","):t,limit:n,anchor:this._anchor(),index:this._index(),inclpriv:1,bundle_name:decodeURIComponent(l)},c&&l&&(a="/tags/bundle/links",c!==(null!=(m=s.user)?m.get("username"):void 0)&&(o.username=c)),r&&(a="/posts/everyone/time",o={md5:r}),e=u.length||t.length||c||l||r,(null!=(g=s.user)?g.get("isLoggedIn"):void 0)&&"everyone"===p&&!e&&(p="recommend",1>this.length?delete o.anchor:o.anchor=this.last().get("md5"),a="/recommend/links"),a+"?"+$.param(o)},t}(e)}).call(this)}}),window.require.define({"models/note":function(e,t,n){(function(){var e,r,o={}.hasOwnProperty,i=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};e=t("lib/model"),n.exports=r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,e),t}(e)}).call(this)}}),window.require.define({"models/notes":function(e,t,n){(function(){var e,r,o,i={}.hasOwnProperty,s=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};e=t("lib/collection"),r=t("lib/model"),n.exports=o=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.model=r,t.prototype.url=function(){var e,t,n,r,o;return this.urlParamDefaults={limit:1},n=_.extend(this.urlParamDefaults,this.urlParams),e=n.limit,t=n.md5,o="/posts/comments/time/"+t,r={limit:e,anchor:this._anchor(),exclude_yours:!0},o+"?"+$.param(r)},t}(e)}).call(this)}}),window.require.define({"models/tag":function(e,t,n){(function(){var e,r,o,i,s,a={}.hasOwnProperty,l=function(e,t){function n(){this.constructor=e}for(var r in t)a.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};o=t("lib/api"),i=t("lib/logger"),s=t("mediator"),e=t("lib/model"),n.exports=r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return l(t,e),t.prototype.idAttribute="name",t.normalize=function(e){return"string"==typeof e?null!=e?e.trim():void 0:void 0},t.prototype.remove=function(){return o({data:{tag:this.get("name")},url:"/tags/delete",success:function(e){return i.log("Tag was removed: ",e.pkg),s.publish("tags:managed")}})},t.prototype.rename=function(e){return o({data:{old_tag:this.get("name"),new_tag:e},url:"/tags/rename",success:function(e){return i.log("Tag was renamed: ",e.pkg),s.publish("tags:managed")}})},t}(e)}).call(this)}}),window.require.define({"models/tag_bundle":function(e,t,n){(function(){var e,r,o,i,s=function(e,t){return function(){return e.apply(t,arguments)}},a={}.hasOwnProperty,l=function(e,t){function n(){this.constructor=e}for(var r in t)a.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};o=t("lib/api"),i=t("mediator"),e=t("lib/model"),n.exports=r=function(e){function t(){return this.saveResponse=s(this.saveResponse,this),t.__super__.constructor.apply(this,arguments)}return l(t,e),t.prototype["delete"]=function(){var e,t=this;return e={url:"/tags/bundle/delete",data:{bundle_name:this.get("name")},success:function(e){var n;return"success"===(null!=e?e.status:void 0)?(t.publishEvent("tagBundle:delete"),null!=(n=t.collection)?n.remove(t):void 0):t.publishEvent("tagBundle:delete:error")}},o.call(this,e)},t.prototype.fetchTags=function(e,t){var n,r=this;return n={data:{bundle_owner:e,bundle_name:decodeURIComponent(t)},url:"/tags/bundle/tags",success:function(e){return r.set({tags:_.map(e.pkg.tags,function(e){return e.tag_name})})}},o.call(this,n)},t.prototype.save=function(e){var t;return this.newdata={name:e.name,tags:e.tags},null!=e.previous?(t={url:"/tags/bundle/edit",data:{new_bundle_name:e.name,old_bundle_name:e.previous.get("name"),new_bundle_tags:e.tags,old_bundle_tags:e.previous.get("tags").join(","),bundle_owner:i.user.get("username")},success:this.saveResponse},o.call(this,t)):(t={url:"/tags/bundle/create",data:{bundle_name:e.name,tags:e.tags},success:this.saveResponse},o.call(this,t))},t.prototype.saveResponse=function(e){return"success"===e.status?(this.set(this.newdata),this.publishEvent("tagBundle:save",this)):this.publishEvent("tagBundle:save:error",this)},t}(e)}).call(this)}}),window.require.define({"models/tag_bundles":function(e,t,n){(function(){var e,r,o,i={}.hasOwnProperty,s=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};e=t("lib/collection"),r=t("models/tag_bundle"),n.exports=o=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.model=r,t.prototype.url=function(){var e;return this.urlParamDefaults||(this.urlParamDefaults={username:null}),e=_.extend(this.urlParamDefaults,this.urlParams).username,e?"/tags/bundles/"+e:void 0},t.prototype.parse=function(e){var n,r,o;return t.__super__.parse.apply(this,arguments),n=null!=(r=e.pkg)?null!=(o=r[0])?o.bundle_names:void 0:void 0,n?_.map(n,function(e){return{name:e}}):[]},t.prototype.comparator=function(e){var t;return null!=(t=e.get("name"))?t.toLowerCase():void 0},t}(e)}).call(this)}}),window.require.define({"models/tags":function(e,t,n){(function(){var e,r,o,i,s,a={}.hasOwnProperty,l=function(e,t){function n(){this.constructor=e}for(var r in t)a.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};e=t("lib/collection"),i=t("lib/encode"),s=t("mediator"),r=t("models/tag"),n.exports=o=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return l(t,e),t.prototype.model=r,t.prototype.comparator=function(e){return-1*(e.get("num_saves")||0)},t.prototype.url=function(){var e,t,n,r,o,a,l,u,p;return this.urlParamDefaults||(this.urlParamDefaults={type:"public",tags:[],keywords:[],limit:20}),n=_.extend(this.urlParamDefaults,this.urlParams),a=n.tags,e=n.keywords,l=n.type,t=n.limit,u=n.username,_.isArray(a)&&a.length>0&&(a=_.map(a,function(e){return/%/.test(e)?decodeURIComponent(e):e})),r={tags:_.isArray(a)?a.join(","):a,keywords:_.isArray(e)?e.join(","):e,limit:t,anchor:this._anchor(),index:this._index()},u&&(u===(null!=(p=s.user)?p.get("username"):void 0)?l="you":(u=i(u),l="public/"+u)),o=function(){switch(l){case"trending":return"/tags/trending";default:return"/posts/"+l+"/tags"}}(),o+"?"+$.param(r)},t.prototype.parse=function(e){var n,o,i,s,a,l,u,p,c=this;return(s=t.__super__.parse.call(this,e))?(o=s.tags?(l=_.keys(s.tags),a=_.map(l,function(e){return s.tags[e]}),i=function(e,t,n){var o;return o=r.normalize(t),_.isEmpty(o)?e:(e[o]||(e[o]=0),e[o]+=a[n],e)},u=_.reduce(l,i,{}),n=u.length,delete u.length,u=_.map(u,function(e,t){return{name:t,num_saves:e}}),n?u.push({name:"length",num_saves:n}):void 0,u):s.best_tags?_.map(s.best_tags,function(e){return{name:r.normalize(e)}}):_.isArray(s)?_.map(s,function(e){return{name:e}}):[],(null!=(p=this.urlParams)?p.tags:void 0)?_.reject(o,function(e){return _.include(c.urlParams.tags,e.name)}):o):[]},t}(e)}).call(this)}}),window.require.define({"models/user":function(e,t,n){(function(){var e,r,o,i,s,a,l,u,p,c,d,h=function(e,t){return function(){return e.apply(t,arguments)}},f={}.hasOwnProperty,m=function(e,t){function n(){this.constructor=e}for(var r in t)f.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};s=t("lib/api"),d=t("lib/popup"),a=t("lib/avos"),l=t("lib/encode"),c=t("lib/obfuscate"),p=t("mediator"),r=t("lib/model"),o=t("models/tags"),u=t("lib/logger"),e=t("lib/delicious_autocomplete_items"),n.exports=i=function(t){function n(){return this.loginSuccess=h(this.loginSuccess,this),n.__super__.constructor.apply(this,arguments)}return m(n,t),n.prototype.defaults={isLoggedIn:!1},n.prototype.profile=function(e){var t,n=this;return null==e&&(e={}),t=this.get("username"),t?s({url:"/account/public/profile/"+l(t)}).done(function(e){return null!==e.pkg?n.set(n._userDataFromPackage(e.pkg)):void 0}):this},n.prototype.set=function(){return n.__super__.set.apply(this,arguments),this.isMe()&&this.get("isLoggedIn")?(store.set("user",this),p.user=this):void 0},n.prototype.login=function(e){var t,n,r;return r=e.username,n=e.password,t={success:this.loginSuccess},$("html").hasClass("lt-ie10")?(r=l(r),n=encodeURIComponent(encodeURIComponent(n)).replace(".","%252E"),t.url="/account/webloginpwd/"+r+"/"+n):_.extend(t,{url:"/account/login",type:"POST",contentType:"application/x-www-form-urlencoded; charset=UTF-8",data:{username:r,password:c(n)}}),s(t)},n.prototype.loginSilent=function(){return s({url:"/account/webloginhash/"+l(this.get("username"))+"/"+this.get("password_hash"),success:this.loginSuccess})},n.prototype.loginSuccess=function(e){var t;return t=this._userDataFromPackage(e.pkg),t.isLoggedIn=!0,this.set(t)},n.prototype.loginWithThirdParties=function(e){var t,n=this;return u.log("connect to "+e),t={url:"/auth/signin/"+e,crossWindowMessageName:"connect_to_delicious",popupWindowName:"SigninWith"+e,success:function(e){return e?(u.log("msg",{messageBody:e}),!e.newUser&&e.username&&e.password?n.publishEvent("join:signinWithService",e):e.newUser&&e.displayName?n.publishEvent("join:signupWithService",e):void 0):u.log("Error found")}},"facebook"===e&&(t=_.extend(t,{width:1e3,height:610})),d(t)},n.prototype.logout=function(){return store.remove("user"),$.cookie("avid")&&$.removeCookie("avid",{domain:".delicious.com"}),this.clear(),this.set("isLoggedIn",!1,{silent:!0})},n.prototype.isMe=function(){var e;return(null!=(e=p.user)?e.get("username"):void 0)===this.get("username")},n.prototype.existsUser=function(e){var t=this;return s({url:"/account/public/profile/"+e,success:function(n){return t.publishEvent("join:checkedUserExists",{available:null===n.pkg,username:e})}})},n.prototype.register=function(){var e=this;return s({url:"/account/registerw",data:this.toJSON(),success:function(t){return u.log("Created new user with pkg",t.pkg),e.set(t.pkg),e.publishEvent("join:userJoined",{success:!0})},error:function(t){return e.publishEvent("join:userJoined",{success:!1,status:t.status,error:t.error})}})},n.prototype.update=function(e){var t=this;return s({url:"/account/profile/edit",data:e,success:function(e){return u.log("Successfully updated user's profile",e.pkg),t.set(e.pkg)}})},n.prototype.changePassword=function(e){var t=this;return e.user_id=this.get("id"),s({url:"/account/webchangepassword",data:e,success:function(e){return u.log("Account password updated",e.pkg),t.set(e.pkg)}})},n.prototype.updateAvatar=function(e,t){var n,r=this;return n={dataType:"json",type:"GET",success:function(e){return _.delay(function(){return u.log("Successfully uploaded profile avatar",{user:e.pkg}),e.pkg.avatar_url=e.pkg.avatar_url+"?"+(new Date).getTime(),r.set(e.pkg),_.isFunction(t)?t(e.status,e.error):void 0},2500)}},e.attr("action","//"+(a.api_host()+a.api_path)+"/account/profile/edit_image"),e.ajaxSubmit(n)},n.prototype.validateEmail=function(e){var t=this;return s({url:"/account/validate_email/"+e,success:function(){return u.log("Email validated"),t.set("info","Thank you, your email has been validated.")},error:function(){return t.set("info",data.error)}})},n.prototype.autocompleteItems=function(){var t;return this._autocompleteItems?this._autocompleteItems:(t=[],_.each(this.get("follows"),function(e){return e.description=e.full_name,e.kind="People You Follow",e.token="@",t.push(e)}),_.each(this.get("tags"),function(e){return e.kind="Your Tags",e.token="#",t.push(e)}),_.each(this.get("tag_bundles"),function(e){return e.kind="Your Tag Bundles",e.token="[]",t.push(e)}),this._autocompleteItems=new e(t))},n.prototype._userDataFromPackage=function(e){var t,n,r,i,s;return t=e.account,s=_.extend({},t||e),null!=e.follows&&(n=_.sortBy(e.follows,function(e){return e.username.toLowerCase()}),s.follows=_.map(n,function(e){return{name:e.username,username:e.username,full_name:e.full_name}})),null!=e.user_tags&&(r=new o,i=r.parse({pkg:e.user_tags}),s.tags=r=r.reset(i).toJSON()),null!=e.bundle_names&&(s.tag_bundles=_.map(e.bundle_names,function(e){return{name:e}})),s},n.prototype.followUser=function(e){return s({url:"/account/follow/"+e.get("username"),success:function(){return e.set({am_following_them:!0})}})},n.prototype.unfollowUser=function(e){return s({url:"/account/unfollow/"+e.get("username"),success:function(){return e.set({am_following_them:!1})}})},n.prototype.getFollowersUrl=function(){return"/account/public/followers/"+l(this.get("username"))},n.prototype.getFollowingUrl=function(){return"/account/public/follows/"+l(this.get("username"))},n}(r)}).call(this)}}),window.require.define({"models/users":function(e,t,n){(function(){var e,r,o,i={}.hasOwnProperty,s=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};e=t("lib/collection"),r=t("models/user"),n.exports=o=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.model=r,t.prototype.comparator=function(e){return e.get("username").toLowerCase()},t.prototype.filterBySocial=function(e){return this.filter(function(t){return _.contains(t.get("social_types"),e[0].toUpperCase()+e.slice(1))})},t}(e)}).call(this)}}),window.require.define({"templates/about":function(e,t,n){n.exports=Handlebars.template(function(e,t,n,r,o){this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers,r=r||e.partials,o=o||{};var i,s="",a=this;return s+='<div id="top-banner">\n  <div class="container">\n    <h1>Over <b>a billion links</b> served daily to more than <b>200 countries</b> worldwide.</h1>\n    <img src="../img/worldmap.svg" type="image/svg+xml" id="world-map" class="svg transition"/>\n  </div>\n</div>\n\n<div class="container" id="about-content">\n\n  <div class="box" id="stats-bar">\n    <h1>Discover, collect, and showcase your passions on Delicious.</h1>\n  </div>\n\n  <div class="about-text-wrapper">\n\n    <h2>What is Delicious?</h2>\n\n    <div class="span3 about-text first-para">\n      <p><a href="http://en.wikipedia.org/wiki/Delicious_(website)" target="_blank">Delicious</a> is a free service designed to be the best place to save what you love on the web, whether it\'s a video, picture, product, blog post, article or music. We then help you remember and find it later.</p>\n    </div>\n\n    <div class="span3 about-text">\n      <p>Itâ€™s a great place to develop a rich network of people who share your interests. You\'ll be amazed at what you discover browsing through the awesome content curated by our community, and your friends.</p>\n    </div>\n\n    <div class="span3 about-text">\n      <p>Founded in 2003, Delicious was acquired from Yahoo! and rebuilt by <a href="http://avos.com" target="_blank">AVOS.</a> Helmed by YouTube founders Chad Hurley &amp; Steve Chen, the site was relaunched in 2011 with a new focus on curation and discovery.</p>\n    </div>\n\n  </div>\n\n  <div class="about-text-wrapper">\n\n    <h2>Find us elsewhere</h2>\n\n    <div class="span3 about-text first-para">\n        <p>Check out our official <a href="http://blog.delicious.com/">Delicious blog</a> for news on the latest site developments, and be sure to follow us on <a href="http://twitter.com/delicious">Twitter</a>, <a href="http://www.facebook.com/delicious">Facebook</a>, and <a href="https://plus.google.com/107396958691803506761/">Google Plus</a>!</p>\n    </div>\n\n  </div>\n\n  <div class="about-text-wrapper">\n\n      <h2>The Team</h2>\n\n      <div class="span4 about-text first-para">\n          <p>We\'re a small team of designers and developers based in San Mateo, California, and Dunedin, New Zealand. If you\'re interested in working with us to make Delicious better, check out the <a href="http://avos.com/#careers">careers section of avos.com.</a></p>\n      </div>\n\n  </div>\n\n  <div class="about-text-wrapper">\n\n    <h2>Get in touch</h2>\n\n    <div class="span5 about-text first-para">\n      <p>For any additional questions or issues, feel free to email us at <a href="mailto:feedback@delicious.com">feedback@delicious.com</a> and weâ€™ll be happy to help!</p> \n\n      <p>For issues related to abuse, inappropriate content, or SPAM, please email: <a href="mailto:violations@delicious.com">violations@delicious.com</a>.</p> \n\n      <p>If you are a journalist or analyst seeking information, please email: <a href="mailto:press@delicious.com">press@delicious.com</a>.</p>\n    </div>\n\n  </div>\n\n</div> <!-- End of #about-content -->\n\n<div class="container">\n  ',i=a.invokePartial(r.footer,"footer",t,n,r,o),(i||0===i)&&(s+=i),s+="\n</div>\n"
})}}),window.require.define({"templates/chrome":function(e,t,n){n.exports=Handlebars.template(function(e,t,n,r,o){return this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers,o=o||{},"<h1>Thanks for installing the Delicious Chrome extension!</h1>"})}}),window.require.define({"templates/helpers/common":function(e,t){(function(){Handlebars.registerHelper("formatDate",function(e){return $.timeago(1e3*e)}),Handlebars.registerHelper("formatMachineDate",function(e){return new Date(1e3*e).toISOString()}),Handlebars.registerHelper("commafy",function(e){return(null!=e?(""+e).replace(/\B(?=(\d{3})+(?!\d))/g,","):void 0)||0}),Handlebars.registerHelper("capitalize",function(e){return null==e&&(e=""),e.charAt(0).toUpperCase()+e.slice(1)}),Handlebars.registerHelper("decode",function(e){return null!=e?(""+e).replace(/%2E/g,"."):void 0}),Handlebars.registerHelper("ifProfile",function(e){var t;return t=window.location.pathname.split("/")[1],"network"===t||"discover"===t?e.inverse(this):e.fn(this)}),Handlebars.registerPartial("footer",t("templates/layout/footer")),Handlebars.registerPartial("share",t("templates/links/share"))}).call(this)}}),window.require.define({"templates/helpers/link_helpers":function(e,t){(function(){var e,n,r;n=t("mediator"),e=t("lib/avos"),Handlebars.registerHelper("currentUrl",function(){return window.location.href}),Handlebars.registerHelper("date",function(e){return moment.unix(e).fromNow()}),Handlebars.registerHelper("encodedUrl",function(){return encodeURIComponent(this.url)}),Handlebars.registerHelper("linkPreview",function(){var t,n,r,o,i,s;return r=null!=(o=this.url)?null!=(i=o.match(/https?:\/\/www\.youtube\.com\/watch\?v\=([^\&]*)/i))?i[1]:void 0:void 0,n=null!=(s=this.chosen_image)?s.image_url.split("/").pop():void 0,t=n?'<div class="loading"></div>\n<a data-track-outbound="'+this.url+'" href="//'+e.api_host()+e.api_path+"/posts/redirect?url="+encodeURIComponent(this.url)+'" target="_blank" rel="nofollow">\n  <div class="link-preview" style="background-image: url(//delicious.imgix.net/'+n+'?w=700&h=400&fit=crop&fm=jpg&q=50&crop=faces)"></div>\n</a>':r?'<iframe width="350" height="240" src=\'http://www.youtube.com/embed/'+r+"?html5=1' frameborder='0' allowfullscreen></iframe>":'<div class="no-image">'+(this.title||this.url)+"</div>",new Handlebars.SafeString(t)}),Handlebars.registerHelper("linkTags",function(e,t){var n,r,o;return r=t.hash.limit||100,n="",e=_.uniq(_.map(_.compact(e),function(e){return e.trim()})),_.each(e.slice(0,r),function(t,r){return t=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),n+='<a href="#" class="tag-small" data-tag="'+t.replace(/"|'/g,"")+'">'+t+"</a>",e.length-1>r?n+="<span>, </span>":void 0}),e.length>r&&(o=e.slice(r).join(", "),n+=" <strong>+ "+(e.length-r)+" more</strong>"),new Handlebars.SafeString(n)}),Handlebars.registerHelper("saversAndNoteOrDesc",function(){var e,t,n;return e=[],(null!=(n=this.savers)?n.length:void 0)>0&&(t=_.first(this.savers),e.push('<a href="/'+t.username+'">'+(t.full_name||t.display_name||t.username)+"</a>"),this.savers.length>1&&e.push(" and "+(this.savers.length-1)+" other"),this.savers.length>2&&e.push("s"),e.push(" added this. ")),(this.note||this.description)&&e.push(r(this.note||this.description)),e.length?new Handlebars.SafeString('<div class="link-note link-savers"><p>'+e.join("")+"</div>"):void 0}),Handlebars.registerHelper("isMyLink",function(e){var t,r;return n.user.get("isLoggedIn")&&(null!=(t=this.savers)?t[0].username:void 0)===n.user.get("username")||(null!=(r=this.recommended)?r.previously_saved:void 0)===!0?e.fn(this):e.inverse(this)}),Handlebars.registerHelper("insertRecommendedTags",function(e){return store.get("insertRecommendedTags")?e.fn(this):e.inverse(this)}),Handlebars.registerHelper("hasRecommendedTags",function(e){var t,n;return(null!=(t=this.recommended)?null!=(n=t.suggested_tags)?n.length:void 0:void 0)?e.fn(this):e.inverse(this)}),Handlebars.registerHelper("recommendedTags",function(){var e;return null!=(e=this.recommended)?e.suggested_tags:void 0}),Handlebars.registerHelper("titleOrURL",function(){return this.title||this.url}),r=function(e){return e.replace(/[&lt;]+[3]/gi,"<tt class='heart'>&#x2665;</tt>").replace(/((ftp|http|https):\/\/(\w+:{0,1}\w*@)?([\w#!:\.?+=&%@!\-\/}]+)(:[0-9]+)?(\/|\/([\w#!:\.?+=&%@!\-\/}]))?)/gi,'<a href="$1" target="_blank">$4</a>')},Handlebars.registerHelper("noteAsHTML",function(){return this.note?new Handlebars.SafeString('<div class="link-note"><p>'+r(this.note)+"</p></div>"):void 0}),Handlebars.registerHelper("noteAsHTMLWithLineBreaks",function(){var e;return this.note?(e=r(this.note),e.replace(/\n/g,"<br>")):void 0}),Handlebars.registerHelper("editPreview",function(){var e,t,n,r;return this.chosen_image?(e=this.chosen_image.image_url||this.chosen_image.imageUrl,'<div class="swipe-wrap"><div style="background-image: url('+e+');" class="edit-preview-image-tile"></div></div>'):(null!=(n=this.recommended)?null!=(r=n.suggested_images)?r.length:void 0:void 0)?(t=this.recommended.suggested_images[0],e=t.image_url||t.imageUrl,'<div class="swipe-wrap"><div style="background-image: url('+t.image_url+');" class="edit-preview-image-tile"></div></div>'):'<div class="no-image">No image<br>:(</div>'}),Handlebars.registerHelper("faviconUrl",function(){var e,t;return e=[".com",".co.uk",".com.au"],t=_.first(_.shuffle(e)),new Handlebars.SafeString("//www.google"+t+"/s2/favicons?domain="+this.domain)}),Handlebars.registerHelper("randomApiHost",function(){return e.api_host()}),Handlebars.registerHelper("linkPrivacyChecked",function(){var e,t;return this["private"]||store.get("newLinkPrivate")&&(null!=(e=this.savers)?null!=(t=e[0])?t.username:void 0:void 0)!==n.user.get("username")?" checked":void 0})}).call(this)}}),window.require.define({"templates/helpers/user_helpers":function(e,t){(function(){var e,n;n=t("mediator"),e=t("lib/avos"),Handlebars.registerHelper("ifMe",function(e){return n.user.get("username")===this.username?e.fn(this):e.inverse(this)}),Handlebars.registerHelper("ifHasLinks",function(e){return n.user.get("bookmark_count")>0||n.user.get("public_bookmark_count")>0?e.fn(this):e.inverse(this)}),Handlebars.registerHelper("displayName",function(){return this.full_name||this.display_name||this.username}),Handlebars.registerHelper("followButton",function(e){var t,r;return t=(null!=(r=e.hash)?r.className:void 0)||"",this.username!==n.user.get("username")&&n.user.get("isLoggedIn")?this.am_following_them||_.where(n.user.get("follows"),{username:this.username}).length>0?'<a href="#unfollow" data-user-id="'+this.id+'" class="btn '+t+'">Following</a>':'<a href="#follow" data-user-id="'+this.id+'" class="btn '+t+' btn-primary">Follow</a>':""}),Handlebars.registerHelper("privacyOptionCheck",function(e){return e===this.value?"selected":void 0}),Handlebars.registerHelper("ifUploadedPhotoOrNotMe",function(t){return n.user.get("username")===this.username&&n.user.get("avatar_url")!==e.default_avatar?t.fn(this):n.user.get("username")!==this.username?t.fn(this):t.inverse(this)}),Handlebars.registerPartial("bookmarklet-box",t("templates/tools/bookmarklet"))}).call(this)}}),window.require.define({"templates/home":function(e,t,n){n.exports=Handlebars.template(function(e,t,n,r,o){this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers,r=r||e.partials,o=o||{};var i,s="",a=this;return s+='<div class="container">\n  <div class="span6" id="home-left">\n    <h1>Discover, remember, and showcase your passions from around the web.</h1>\n\n    <br>\n\n    <div style="display:block;">\n      <a class="btn btn-primary" id="join-button" href="/join" tabindex="4">Join Delicious<span id="inset-arrow" class="d-icon-arrow"></span></a>\n    </div>\n\n    <a href="/discover" id="browse-no-account">Or browse without an account.</a>\n\n    <br>\n\n    <div class="span5 home-icons">\n      <ul>\n        <li id="home-first">\n          <h2><span class="d-icon-plus home-icon" id="plus"></span>Add links to Delicious and never lose what you find and share on the web.</h2>\n        </li>\n        <li id="home-second">\n          <h2><span class="d-icon-tag home-icon" id="tag"></span>Organize your collection of links and share it with like&mdash;minded people.</h2>\n        </li>\n        <li id="home-third">\n          <h2><span class="d-icon-search home-icon" id="search"></span>Browse links curated by the Delicious community to discover content you care about.</h2>\n        </li>\n      </ul>\n    </div>\n\n    <div class="span4 home-footer">\n      ',i=a.invokePartial(r.footer,"footer",t,n,r,o),(i||0===i)&&(s+=i),s+='\n    </div>\n\n  </div>\n\n  <div id="home-right" class="span4">\n    <div id="home-screenshot-wrapper" class="pull-right">\n      <div class="relative">\n        <div class="circle-wrapper circle-wrapper-search fade">\n          <div class="circle"></div>\n          <div class="hint hint-search fade">Easily search your links and the Delicious community.</div>\n        </div>\n        <div class="circle-wrapper circle-wrapper-follow fade">\n          <div class="circle"></div>\n          <div class="hint hint-follow fade">Follow your friends, family, &amp; people who share your interests.</div>\n        </div>\n        <div class="circle-wrapper circle-wrapper-link fade">\n          <div class="circle"></div>\n          <div class="hint hint-link fade">Add cool links you discover on the web and find them later.</div>\n        </div>\n      </div>\n      <div id="home-screenshot" class="fade"></div>\n    </div>\n  </div>\n</div>\n'})}}),window.require.define({"templates/layout/autocomplete":function(e,t,n){n.exports=Handlebars.template(function(e,t,n,r,o){function i(e,t){var r,o="";return o+='\n  <section class="tag-bundles">\n    <h5>Your Tag Bundles</h5>\n    ',r=n.each.call(e,e.tagBundles,{hash:{},inverse:g.noop,fn:g.program(2,s,t),data:t}),(r||0===r)&&(o+=r),o+="\n  </section>\n"}function s(e,t){var r,o="";return o+='\n      <a href="#" class="item tag-bundle" data-tag-bundle="',(r=n.name)?r=r.call(e,{hash:{},data:t}):(r=e.name,r=typeof r===f?r.apply(e):r),o+=m(r)+'">',(r=n.name_markup)?r=r.call(e,{hash:{},data:t}):(r=e.name_markup,r=typeof r===f?r.apply(e):r),(r||0===r)&&(o+=r),o+="</a>\n    "}function a(e,t){var r,o="";return o+='\n  <section class="tags">\n    <h5>Your Tags</h5>\n    ',r=n.each.call(e,e.tags,{hash:{},inverse:g.noop,fn:g.program(5,l,t),data:t}),(r||0===r)&&(o+=r),o+="\n  </section>\n"}function l(e,t){var r,o="";return o+='\n      <a href="#" class="item tag" data-tag="',(r=n.name)?r=r.call(e,{hash:{},data:t}):(r=e.name,r=typeof r===f?r.apply(e):r),o+=m(r)+'">',(r=n.name_markup)?r=r.call(e,{hash:{},data:t}):(r=e.name_markup,r=typeof r===f?r.apply(e):r),(r||0===r)&&(o+=r),o+="</a>\n    "}function u(e,t){var r,o="";return o+='\n  <section class="users">\n    <h5>People You Follow</h5>\n    ',r=n.each.call(e,e.users,{hash:{},inverse:g.noop,fn:g.program(8,p,t),data:t}),(r||0===r)&&(o+=r),o+="\n  </section>\n"}function p(e,t){var r,o,i="";return i+='\n      <a href="#" class="item user" data-user="',(r=n.username)?r=r.call(e,{hash:{},data:t}):(r=e.username,r=typeof r===f?r.apply(e):r),i+=m(r)+'">\n        @',(r=n.username_markup)?r=r.call(e,{hash:{},data:t}):(r=e.username_markup,r=typeof r===f?r.apply(e):r),(r||0===r)&&(i+=r),i+="\n        ",o={hash:{},inverse:g.noop,fn:g.program(9,c,t),data:t},(r=n.ifMe)?r=r.call(e,o):(r=e.ifMe,r=typeof r===f?r.apply(e):r),n.ifMe||(r=v.call(e,r,o)),(r||0===r)&&(i+=r),i+='\n        <span class="full-name">',(r=n.full_name_markup)?r=r.call(e,{hash:{},data:t}):(r=e.full_name_markup,r=typeof r===f?r.apply(e):r),(r||0===r)&&(i+=r),i+="</span>\n      </a>\n    "}function c(){return'<span class="you">(you)</span>'}this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers,o=o||{};var d,h="",f="function",m=this.escapeExpression,g=this,v=n.blockHelperMissing;return h+='<section>\n  <a href="#" class="item selected search-submit">See all results</a>\n</section>\n\n',d=n["if"].call(t,t.tagBundles,{hash:{},inverse:g.noop,fn:g.program(1,i,o),data:o}),(d||0===d)&&(h+=d),h+="\n\n",d=n["if"].call(t,t.tags,{hash:{},inverse:g.noop,fn:g.program(4,a,o),data:o}),(d||0===d)&&(h+=d),h+="\n\n",d=n["if"].call(t,t.users,{hash:{},inverse:g.noop,fn:g.program(7,u,o),data:o}),(d||0===d)&&(h+=d),h+="\n"})}}),window.require.define({"templates/layout/banner":function(e,t,n){n.exports=Handlebars.template(function(e,t,n,r,o){function i(){return"/discover"}function s(){return"/"}function a(e,t){var r,o="";return o+='\n      <a href="/network" class="nav-link nav-network" data-track-group="header links">Network</a>\n      <a href="/',(r=n.username)?r=r.call(e,{hash:{},data:t}):(r=e.username,r=typeof r===h?r.apply(e):r),o+=f(r)+'" class="nav-link nav-remember" data-track-group="header links">Remember</a>\n    '}function l(){return'\n      <a href="/join" class="nav-link" data-track-group="header links" id="nav-join-link">Join</a>\n      <a href="#login" data-track-group="header links" class="nav-link" id="nav-sign-in">Sign in</a>\n    '}function u(e,t){var r,o="";return o+='\n        <a href="/settings/friends" class="nav-link find-friends hidden-tablet" data-track-group="header links">Find friends</a>\n        <a href="#add-link" class="nav-link add-link hidden-tablet" data-track-group="header links">Add link</a>\n\n        <div class="banner-dropdown">\n          <a href="/',(r=n.username)?r=r.call(e,{hash:{},data:t}):(r=e.username,r=typeof r===h?r.apply(e):r),o+=f(r)+'" data-toggle="dropdown" data-track-group="header links" data-track-name="Name and avatar area" class="nav-link dropdown">\n            <span class="banner-name hidden-tablet">',(r=n.full_name)?r=r.call(e,{hash:{},data:t}):(r=e.full_name,r=typeof r===h?r.apply(e):r),o+=f(r)+'</span>\n            <span class="avatar-container">\n              <span class="dropdown-carrot left"></span>\n              <img class="avatar" src="',(r=n.avatar_url)?r=r.call(e,{hash:{},data:t}):(r=e.avatar_url,r=typeof r===h?r.apply(e):r),o+=f(r)+'">\n            </span>\n          </a>\n\n          <ul class="dropdown-menu" role="menu">\n            <li><a href="#add-link" data-track-group="header dropdown" class="hidden-desktop visible-tablet">Add link</a></li>\n            <li><a href="/settings" data-track-group="header dropdown">Settings</a></li>\n            <li><a href="/tools" data-track-group="header dropdown">Tools</a></li>\n            <li><a href="/help" data-track-group="header dropdown">Help</a></li>\n            <li><a href="#sign-out" data-track-group="header dropdown">Sign out</a></li>\n          </ul>\n        </div>\n\n    '}function p(){return'\n      <a href="#add-link" class="nav-link add-link" data-track-group="header links">Add link</a>\n      <a href="/join" class="nav-link" data-track-group="header links" id="join-link">Join Delicious</a>\n      <a href="#login" class="nav-link" data-track-group="header links" id="sign-in-link">Sign in</a>\n    '}this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers,o=o||{};var c,d="",h="function",f=this.escapeExpression,m=this;return d+='<div class="page-header-inner container">\n  <div class="page-header-inner-left clearfix" class="pull-left">\n\n    <a class="logo" href="',c=n["if"].call(t,t.isLoggedIn,{hash:{},inverse:m.program(3,s,o),fn:m.program(1,i,o),data:o}),(c||0===c)&&(d+=c),d+='" title="Delicious" data-track-group="logo"></a>\n    <div class="global-search-container autocomplete">\n      <form class="global-search" action="/search" method="get">\n        <a href="#" class="d-icon-search btn btn-link search-submit" data-track-group="search" data-track-name="Search submit icon"></a>\n        <input autocomplete="off" type="text" placeholder="Search Delicious" id="search-field" name="p" tabindex="1">\n        <ul class="autocomplete-results" style="display: none"></ul>\n      </form>\n      <a class="help-prompt" data-track-group="header links" data-track-name="Wee question mark">?</a>\n\n    </div>\n  </div>\n\n  <div class="banner-nav">\n    <a href="/discover" class="nav-link nav-discover" data-track-group="header links">Discover</a>\n\n    ',c=n["if"].call(t,t.username,{hash:{},inverse:m.program(7,l,o),fn:m.program(5,a,o),data:o}),(c||0===c)&&(d+=c),d+='\n  </div>\n\n  <div class="user-controls">\n    ',c=n["if"].call(t,t.username,{hash:{},inverse:m.program(11,p,o),fn:m.program(9,u,o),data:o}),(c||0===c)&&(d+=c),d+="\n  </div>\n</div>\n"})}}),window.require.define({"templates/layout/footer":function(e,t,n){n.exports=Handlebars.template(function(e,t,n,r,o){return this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers,o=o||{},'<footer class="delicious-footer">\n  <nav>\n    <ul>\n      <li><a href="/help">Help</a></li>\n      <li><a href="/tools">Tools</a></li>\n      <li><a href="http://blog.delicious.com/">Blog</a></li>\n      <li><a href="/about">About</a></li>\n      <li><a href="/terms">Legal</a></li>\n      <li><a href="/terms-update" id="terms-update-alert">Update</a></li>\n      <li class="copyright"><a href="http://avos.com">&copy; AVOS 2013</a></li>\n    </ul>\n  </nav>\n</footer>'})}}),window.require.define({"templates/layout/help":function(e,t,n){n.exports=Handlebars.template(function(e,t,n,r,o){return this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers,o=o||{},'<div class="help-wrapper">\n  <ul class="help-container">\n    <h4>Keyboard shortcuts</h4>\n\n    <li>\n      <div class="key">/</div>\n      <span class="key-label">Focus search field</span>\n    </li>\n\n    <li>\n      <div class="key">&darr;</div>\n      <span class="key-label">Show next link</span>\n    </li>\n\n    <li>\n      <div class="key">&uarr;</div>\n      <span class="key-label">Show previous link</span>\n    </li>\n\n    <li>\n      <div class="key">Enter</div>\n      <span class="key-label">Open current link</span>\n    </li>\n\n    <li>\n      <div class="key">a</div>\n      <span class="key-label">Add a new link</span>\n    </li>\n\n    <li>\n      <div class="key">e</div>\n      <span class="key-label">Add or edit selected link</span>\n    </li>\n\n    <li>\n      <div class="key">1</div>\n      <span class="key-label">Discover</span>\n    </li>\n\n    <li>\n      <div class="key">2</div>\n      <span class="key-label">Network</span>\n    </li>\n\n    <li>\n      <div class="key">3</div>\n      <span class="key-label">Remember</span>\n    </li>\n\n    <li>\n      <div class="key">?</div>\n      <span class="key-label">Show this help dialog</span>\n    </li>\n\n  </ul>\n\n  <ul class="help-container">\n    <h4>Advanced search</h4>\n    <p>Search your own links with @me</p>\n    <p>Search your network with @network</p>\n    <p>Search for tags using a #</p>\n    <p>Search someoneâ€™s links with @username</p>\n    <br>\n    <p>You can chain search queries together:</p>\n    <p><b>@humphreybc design #css</b></p>\n    <p><b>@network lasagne</b></p>\n    <p><b>@me #"web design"</b></p>\n    <p><b>@me #android #mobile #design</b></p> \n    <br>\n    <p>Or just search everything:</p>\n    <p><b>Lasagne</b></p>\n    <p><b>#design</b></p>\n  </ul>\n</div>\n\n<div class="help-wrapper">\n  <p>For general help using Delicious, visit <a href="/help">delicious.com/help</a>\n</div>\n'})}}),window.require.define({"templates/layout/login_modal":function(e,t,n){n.exports=Handlebars.template(function(e,t,n,r,o){return this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers,o=o||{},'<form data-action="login" method="POST" class="login-form" action="/login">\n  <div class="modal-body">\n    <label for="input-username">Username</label>\n    <input id="input-username" name="username" type="text" tabindex="1">\n\n    <label for="input-password">Password</label>\n    <input id="input-password" name="password" type="password" tabindex="2">\n  </div>\n  <div class="modal-footer">\n    <button type="submit" class="btn btn-primary" tabindex="3" data-loading-text="Signing in&hellip;">Sign in</button>\n    <a class="btn-link btn-mini pull-left" href="https://settings.delicious.com/forgot_pw" target="_blank">Forgot password</a><a class="btn-link btn-mini pull-left" href="/join">Create an account</a>\n  </div>\n</form>'})}}),window.require.define({"templates/layout/logo_dialog":function(e,t,n){n.exports=Handlebars.template(function(e,t,n,r,o){return this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers,o=o||{},'<div class="modal-body">\n  <p>Donâ€™t use a pixelated asset! Download our logo and branding pack with vectors and high resolution PNGs.</p> \n  <p>It includes a vector PSD file with the logo, and PNGs in 8 sizes from 16px all the way to 1024px.</p>\n  <br>\n</div>\n<div class="modal-footer">\n  <a href="https://s3.amazonaws.com/avos-site-images/delicious-logo-rev1.zip" class="btn btn-primary">Download vector logo pack</a>\n</div>\n'})}}),window.require.define({"templates/layout/page":function(e,t,n){n.exports=Handlebars.template(function(e,t,n,r,o){function i(e,t){var r,o="";return o+='\n    <ul class="section_nav">\n      ',r=n.each.call(e,e.nav,{hash:{},inverse:m.noop,fn:m.program(2,s,t),data:t}),(r||0===r)&&(o+=r),o+="\n    </ul>\n    "}function s(e,t){var r,o="";return o+='\n          <li>\n            <a data-page-id="',(r=n.id)?r=r.call(e,{hash:{},data:t}):(r=e.id,r=typeof r===h?r.apply(e):r),o+=f(r)+'" href="',r=n.unless.call(e,e.external,{hash:{},inverse:m.noop,fn:m.program(3,a,t),data:t}),(r||0===r)&&(o+=r),(r=n.url)?r=r.call(e,{hash:{},data:t}):(r=e.url,r=typeof r===h?r.apply(e):r),o+=f(r)+'">',(r=n.title)?r=r.call(e,{hash:{},data:t}):(r=e.title,r=typeof r===h?r.apply(e):r),o+=f(r)+"</a>\n\n            ",r=n["if"].call(e,e.active,{hash:{},inverse:m.noop,fn:m.program(5,l,t),data:t}),(r||0===r)&&(o+=r),o+="\n          </li>\n      "}function a(){return"/"}function l(e,t){var r,o="";return o+='\n              <ul class="section_subnav">\n              ',r=n.each.call(e,e.subpages,{hash:{},inverse:m.noop,fn:m.program(6,u,t),data:t}),(r||0===r)&&(o+=r),o+="\n              </ul>\n            "}function u(e,t){var r,o="";return o+='\n                <li><a data-page-id="',(r=n.id)?r=r.call(e,{hash:{},data:t}):(r=e.id,r=typeof r===h?r.apply(e):r),o+=f(r)+'" href="',r=n.unless.call(e,e.external,{hash:{},inverse:m.noop,fn:m.program(3,a,t),data:t}),(r||0===r)&&(o+=r),(r=n.url)?r=r.call(e,{hash:{},data:t}):(r=e.url,r=typeof r===h?r.apply(e):r),o+=f(r)+'" class="subnav\n            ',r=n["if"].call(e,e.active,{hash:{},inverse:m.noop,fn:m.program(7,p,t),data:t}),(r||0===r)&&(o+=r),o+='">',(r=n.title)?r=r.call(e,{hash:{},data:t}):(r=e.title,r=typeof r===h?r.apply(e):r),o+=f(r)+"</a></li>\n              "}function p(){return" active"}this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers,r=r||e.partials,o=o||{};var c,d="",h="function",f=this.escapeExpression,m=this;return d+='<div class="row">\n  <div class="span2 sidebar flexible">\n    ',c=n["if"].call(t,t.nav,{hash:{},inverse:m.noop,fn:m.program(1,i,o),data:o}),(c||0===c)&&(d+=c),d+="\n    ",c=m.invokePartial(r.footer,"footer",t,n,r,o),(c||0===c)&&(d+=c),d+='\n  </div>\n  <div class="span10">\n    <div class="content"></div>\n  </div>\n  <div class="span2 flexible sidebar_bg"></div>\n</div>'})}}),window.require.define({"templates/links/add_from_url":function(e,t,n){n.exports=Handlebars.template(function(e,t,n,r,o){return this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers,o=o||{},'<form data-action="addFromUrl">\n  <div class="modal-body">\n    <label>URL</label>\n    <input type="text" name="new-url" value="" placeholder="http://">\n  </div>\n\n  <div class="modal-footer">\n    <div class="pull-left">\n      <p style="margin-top:10px;">Have you tried <a href="/tools">our bookmarklet or iOS app?</a>\n    </div>\n\n    <button type="submit" class="btn btn-primary">Add link</button>\n  </div>\n</form>'})}}),window.require.define({"templates/links/bulk":function(e,t,n){n.exports=Handlebars.template(function(e,t,n,r,o){function i(e,t){var r;return(r=n.tags)?r=r.call(e,{hash:{},data:t}):(r=e.tags,r=typeof r===u?r.apply(e):r),p(r)}this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers,o=o||{};var s,a,l="",u="function",p=this.escapeExpression,c=this,d=n.blockHelperMissing;return l+='<form>\n  <div class="modal-body">\n    <h3>Replace tags in all selected links with the following:</h3>\n    <label>Enter tags separated by commas</label>\n\n    <input name="tags" type="text" value="',a={hash:{},inverse:c.noop,fn:c.program(1,i,o),data:o},(s=n.isMyLink)?s=s.call(t,a):(s=t.isMyLink,s=typeof s===u?s.apply(t):s),n.isMyLink||(s=d.call(t,s,a)),(s||0===s)&&(l+=s),l+='" placeholder="" id="input-tags-bulk" style="width: 100%">\n    \n  </div>\n\n  <div class="modal-options">\n    <button type="submit" class="btn btn-primary" data-loading-text="Saving...">Replace Tags</button>\n  </div>\n</form>'})}}),window.require.define({"templates/links/detail":function(e,t,n){n.exports=Handlebars.template(function(e,t,n,r,o){function i(e,t){var r,o="";return o+="\n      <p>",(r=n.description)?r=r.call(e,{hash:{},data:t}):(r=e.description,r=typeof r===d?r.apply(e):r),o+=h(r)+"</p>\n    "}function s(e,t){var r,o,i="";return i+='\n  <div class="comments">\n    <div class="comment">\n      ',o={hash:{},inverse:f.noop,fn:f.program(4,a,t),data:t},(r=n.isMyLink)?r=r.call(e,o):(r=e.isMyLink,r=typeof r===d?r.apply(e):r),n.isMyLink||(r=m.call(e,r,o)),(r||0===r)&&(i+=r),i+="\n    </div>\n  </div>\n  "}function a(e,t){var r,o="";return o+='\n      <h4>\n        <span class="your-note">Your Comment</span>\n      </h4>\n      <p>',(r=n.noteAsHTMLWithLineBreaks)?r=r.call(e,{hash:{},data:t}):(r=e.noteAsHTMLWithLineBreaks,r=typeof r===d?r.apply(e):r),(r||0===r)&&(o+=r),o+="</p>\n      "}this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers,r=r||e.partials,o=o||{};var l,u,p,c="",d="function",h=this.escapeExpression,f=this,m=n.blockHelperMissing,g=n.helperMissing;return c+='<div class="link-details-content scrollable">\n  ',(l=n.linkPreview)?l=l.call(t,{hash:{},data:o}):(l=t.linkPreview,l=typeof l===d?l.apply(t):l),c+=h(l)+'\n\n  <nav>\n    <div class="btn link-details-count disabled">\n      ',p={hash:{},data:o},c+=h((l=n.commafy,l?l.call(t,t.num_saves,p):g.call(t,"commafy",t.num_saves,p)))+'\n    </div>\n\n    <div id="details-share-button-wrapper">\n      <a href="#" class="d-icon-share btn" id="details-share-button" data-track-group="details pane" title="Share this link"></a>\n      ',u=f.invokePartial(r.share,"share",t,n,r,o),(u||0===u)&&(c+=u),c+='\n    </div>\n  </nav>\n\n  <h2>\n    <a href="//previous.delicious.com/redirect?url=',(u=n.encodedUrl)?u=u.call(t,{hash:{},data:o}):(u=t.encodedUrl,u=typeof u===d?u.apply(t):u),c+=h(u)+'" data-track-outbound="',(u=n.url)?u=u.call(t,{hash:{},data:o}):(u=t.url,u=typeof u===d?u.apply(t):u),c+=h(u)+'" title="',(u=n.title)?u=u.call(t,{hash:{},data:o}):(u=t.title,u=typeof u===d?u.apply(t):u),c+=h(u)+'" rel="nofollow" target="_blank" data-track-group="link brick" data-track-name="link title">',(u=n.titleOrURL)?u=u.call(t,{hash:{},data:o}):(u=t.titleOrURL,u=typeof u===d?u.apply(t):u),(u||0===u)&&(c+=u),c+='</a>\n  </h2>\n\n  <div class="description">\n    ',u=n["if"].call(t,t.description,{hash:{},inverse:f.noop,fn:f.program(1,i,o),data:o}),(u||0===u)&&(c+=u),c+="\n  </div>\n\n  ",u=n["if"].call(t,t.note,{hash:{},inverse:f.noop,fn:f.program(3,s,o),data:o}),(u||0===u)&&(c+=u),c+='\n\n  <div class="others comments">\n    Loadingâ€¦\n  </div>\n</div>\n'})}}),window.require.define({"templates/links/edit":function(e,t,n){n.exports=Handlebars.template(function(e,t,n,r,o){function i(){return' value="true"'}function s(e,t){var r;return(r=n.tags)?r=r.call(e,{hash:{},data:t}):(r=e.tags,r=typeof r===_?r.apply(e):r),r||0===r?r:""}function a(e,t){var r,o;return o={hash:{},inverse:k.noop,fn:k.program(6,l,t),data:t},(r=n.insertRecommendedTags)?r=r.call(e,o):(r=e.insertRecommendedTags,r=typeof r===_?r.apply(e):r),n.insertRecommendedTags||(r=x.call(e,r,o)),r||0===r?r:""}function l(e,t){var r;return(r=n.recommendedTags)?r=r.call(e,{hash:{},data:t}):(r=e.recommendedTags,r=typeof r===_?r.apply(e):r),b(r)}function u(e,t){var r,o,i="";return i+='\n        <input name="showTags" id="input-set-tags" type="checkbox"',o={hash:{},inverse:k.program(11,c,t),fn:k.program(9,p,t),data:t},(r=n.isMyLink)?r=r.call(e,o):(r=e.isMyLink,r=typeof r===_?r.apply(e):r),n.isMyLink||(r=x.call(e,r,o)),(r||0===r)&&(i+=r),i+='>\n        <label for="input-set-tags">Insert recommended tags</label>\n      '}function p(){var e="";return e}function c(e,t){var r,o;return o={hash:{},inverse:k.noop,fn:k.program(12,d,t),data:t},(r=n.insertRecommendedTags)?r=r.call(e,o):(r=e.insertRecommendedTags,r=typeof r===_?r.apply(e):r),n.insertRecommendedTags||(r=x.call(e,r,o)),r||0===r?r:""}function d(){return" checked"}function h(){return'\n        <label class="no-tags">No recommended tags</label>\n      '}function f(){return'\n        <a href="#remove" class="btn btn-danger btn-link">Remove link</a>\n    '}function m(){return"Save changes"}function g(){return"Add link"}this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers,o=o||{};var v,y,w="",_="function",b=this.escapeExpression,k=this,x=n.blockHelperMissing;return w+='<div class="edit-preview-image">\n  <div class="swipe">\n    ',(v=n.editPreview)?v=v.call(t,{hash:{},data:o}):(v=t.editPreview,v=typeof v===_?v.apply(t):v),(v||0===v)&&(w+=v),w+='\n  </div>\n</div>\n\n<form>\n  <div class="modal-body">\n    <input type="hidden" name="chosen_image_md5">\n\n    <label for="input-title">Link title</label>\n    <input id="input-title" name="description" type="text" value="',(v=n.title)?v=v.call(t,{hash:{},data:o}):(v=t.title,v=typeof v===_?v.apply(t):v),w+=b(v)+'" placeholder="',(v=n.url)?v=v.call(t,{hash:{},data:o}):(v=t.url,v=typeof v===_?v.apply(t):v),w+=b(v)+'" class="input-block">\n\n    <div class="link-meta">\n      <input type="hidden" name="url" value="',(v=n.url)?v=v.call(t,{hash:{},data:o}):(v=t.url,v=typeof v===_?v.apply(t):v),w+=b(v)+'">\n    </div>\n    <input type="hidden" name="replace"',y={hash:{},inverse:k.noop,fn:k.program(1,i,o),data:o},(v=n.isMyLink)?v=v.call(t,y):(v=t.isMyLink,v=typeof v===_?v.apply(t):v),n.isMyLink||(v=x.call(t,v,y)),(v||0===v)&&(w+=v),w+='>\n\n    <label for="input-note">Your comment</label>\n    <textarea name="note" rows="3" placeholder="What do you think of this link?" id="input-note">',(v=n.note)?v=v.call(t,{hash:{},data:o}):(v=t.note,v=typeof v===_?v.apply(t):v),w+=b(v)+'</textarea>\n\n    <p class="char-count">1000 characters left.</p>\n\n    <label for="input-tags">Tags</label>\n    <input name="tags" type="text" value="',y={hash:{},inverse:k.program(5,a,o),fn:k.program(3,s,o),data:o},(v=n.isMyLink)?v=v.call(t,y):(v=t.isMyLink,v=typeof v===_?v.apply(t):v),n.isMyLink||(v=x.call(t,v,y)),(v||0===v)&&(w+=v),w+='" placeholder="Enter tags separated by commas" id="input-tags" style="width: 100%">\n\n    <div class="error"></div>\n\n    <div class="half">\n      <input name="private" id="input-private" type="checkbox"',(v=n.linkPrivacyChecked)?v=v.call(t,{hash:{},data:o}):(v=t.linkPrivacyChecked,v=typeof v===_?v.apply(t):v),w+=b(v)+'>\n      <label for="input-private">Private</label>\n    </div>\n\n    <div class="half pull-right">\n      ',y={hash:{},inverse:k.program(14,h,o),fn:k.program(8,u,o),data:o},(v=n.hasRecommendedTags)?v=v.call(t,y):(v=t.hasRecommendedTags,v=typeof v===_?v.apply(t):v),n.hasRecommendedTags||(v=x.call(t,v,y)),(v||0===v)&&(w+=v),w+='\n    </div>\n\n  </div>\n\n  <div class="modal-options">\n    ',y={hash:{},inverse:k.noop,fn:k.program(16,f,o),data:o},(v=n.isMyLink)?v=v.call(t,y):(v=t.isMyLink,v=typeof v===_?v.apply(t):v),n.isMyLink||(v=x.call(t,v,y)),(v||0===v)&&(w+=v),w+='\n    <a class="btn btn-link" data-dismiss="modal">Cancel</a>\n    <button type="submit" class="btn btn-primary" data-loading-text="Saving...">',y={hash:{},inverse:k.program(20,g,o),fn:k.program(18,m,o),data:o},(v=n.isMyLink)?v=v.call(t,y):(v=t.isMyLink,v=typeof v===_?v.apply(t):v),n.isMyLink||(v=x.call(t,v,y)),(v||0===v)&&(w+=v),w+="</button>\n  </div>\n</form>\n"})}}),window.require.define({"templates/links/link":function(e,t,n){n.exports=Handlebars.template(function(e,t,n,r,o){function i(){var e="";
return e}function s(e,t){var r,o,i="";return i+='\n    <small class="date-added"><time datetime="',o={hash:{},data:t},i+=_((r=n.formatMachineDate,r?r.call(e,e.time_created,o):w.call(e,"formatMachineDate",e.time_created,o)))+'">Added ',o={hash:{},data:t},i+=_((r=n.formatDate,r?r.call(e,e.time_created,o):w.call(e,"formatDate",e.time_created,o)))+"</time></small>\n  "}function a(e,t){var r,o="";return o+='\n        <span class="recommended">',(r=n.rcmd_by)?r=r.call(e,{hash:{},data:t}):(r=e.rcmd_by,r=typeof r===b?r.apply(e):r),o+=_(r)+"</span>\n      "}function l(e,t){var r,o,i="";return i+="\n        ",r=n["if"].call(e,e.tags,{hash:{},inverse:k.noop,fn:k.program(8,u,t),data:t}),(r||0===r)&&(i+=r),i+="\n        ",o={hash:{limit:100},data:t},i+=_((r=n.linkTags,r?r.call(e,e.tags,o):w.call(e,"linkTags",e.tags,o)))+"\n      "}function u(){return'<span class="d-icon-tag"></span>'}function p(){return"link-badge-tall"}function c(){return'\n    <a class="btn" title="Edit this link" href="#edit" data-track-group="link brick"><span class="d-icon-pencil" id="edit-icon"></span></a>\n\n    <a class="btn" href="#bulk-edit"><span class="d-icon-checkmark"></span></a>\n  '}function d(){return'\n\n    <a class="btn" title="Add this link" href="#edit" data-track-group="link brick"><span class="d-icon-plus" id="add-icon"></span></a>\n  '}function h(){return'<div class="d-icon-lock">private</div>'}function f(e,t){var r,o="";return o+="\n  ",(r=n.noteAsHTML)?r=r.call(e,{hash:{},data:t}):(r=e.noteAsHTML,r=typeof r===b?r.apply(e):r),o+=_(r)+"\n"}function m(e,t){var r,o="";return o+="\n  ",(r=n.saversAndNoteOrDesc)?r=r.call(e,{hash:{},data:t}):(r=e.saversAndNoteOrDesc,r=typeof r===b?r.apply(e):r),o+=_(r)+"\n"}this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers,o=o||{};var g,v,y="",w=n.helperMissing,_=this.escapeExpression,b="function",k=this,x=n.blockHelperMissing;return y+='<h3 class="link-title">\n  <a href="//previous.delicious.com/redirect?url=',(g=n.encodedUrl)?g=g.call(t,{hash:{},data:o}):(g=t.encodedUrl,g=typeof g===b?g.apply(t):g),y+=_(g)+'" title="',(g=n.title)?g=g.call(t,{hash:{},data:o}):(g=t.title,g=typeof g===b?g.apply(t):g),y+=_(g)+'" rel="nofollow" target="_blank" data-track-group="link brick" data-track-name="link title" data-track-outbound="',(g=n.url)?g=g.call(t,{hash:{},data:o}):(g=t.url,g=typeof g===b?g.apply(t):g),y+=_(g)+'">',(g=n.titleOrURL)?g=g.call(t,{hash:{},data:o}):(g=t.titleOrURL,g=typeof g===b?g.apply(t):g),y+=_(g)+'</a>\n</h3>\n\n<div class="link-meta">\n  ',v={hash:{},inverse:k.program(3,s,o),fn:k.program(1,i,o),data:o},(g=n.isDiscover)?g=g.call(t,v):(g=t.isDiscover,g=typeof g===b?g.apply(t):g),n.isDiscover||(g=x.call(t,g,v)),(g||0===g)&&(y+=g),y+='\n\n  <span class="link-url" title="',(g=n.url)?g=g.call(t,{hash:{},data:o}):(g=t.url,g=typeof g===b?g.apply(t):g),y+=_(g)+'">\n    <div class="link-favicon" style="background-image: url(//www.google.com/s2/favicons?domain=',(g=n.domain)?g=g.call(t,{hash:{},data:o}):(g=t.domain,g=typeof g===b?g.apply(t):g),y+=_(g)+')"></div>\n    ',(g=n.domain)?g=g.call(t,{hash:{},data:o}):(g=t.domain,g=typeof g===b?g.apply(t):g),y+=_(g)+'\n  </span>\n\n  <nav class="link-tags">\n      ',g=n["if"].call(t,t.rcmd_by,{hash:{},inverse:k.program(7,l,o),fn:k.program(5,a,o),data:o}),(g||0===g)&&(y+=g),y+='\n  </nav>\n</div>\n\n<div class="link-badge ',v={hash:{},inverse:k.noop,fn:k.program(10,p,o),data:o},(g=n.isMyLink)?g=g.call(t,v):(g=t.isMyLink,g=typeof g===b?g.apply(t):g),n.isMyLink||(g=x.call(t,g,v)),(g||0===g)&&(y+=g),y+='">\n  ',v={hash:{},inverse:k.program(14,d,o),fn:k.program(12,c,o),data:o},(g=n.isMyLink)?g=g.call(t,v):(g=t.isMyLink,g=typeof g===b?g.apply(t):g),n.isMyLink||(g=x.call(t,g,v)),(g||0===g)&&(y+=g),y+="\n  ",g=n["if"].call(t,t["private"],{hash:{},inverse:k.noop,fn:k.program(16,h,o),data:o}),(g||0===g)&&(y+=g),y+="\n</div>\n\n",v={hash:{},inverse:k.program(20,m,o),fn:k.program(18,f,o),data:o},(g=n.ifProfile)?g=g.call(t,v):(g=t.ifProfile,g=typeof g===b?g.apply(t):g),n.ifProfile||(g=x.call(t,g,v)),(g||0===g)&&(y+=g),y})}}),window.require.define({"templates/links/list":function(e,t,n){n.exports=Handlebars.template(function(e,t,n,r,o){return this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers,o=o||{},'<div class="link-list"> \n  <div class="loading"></div>\n</div>\n\n<div class="alert alert-info no-results">No results found.</div>\n'})}}),window.require.define({"templates/links/share":function(e,t,n){n.exports=Handlebars.template(function(e,t,n,r,o){this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers,o=o||{};var i,s="",a="function",l=this.escapeExpression;return s+='<div class="link-share">\n  <a href="https://twitter.com/share?text=',(i=n.title)?i=i.call(t,{hash:{},data:o}):(i=t.title,i=typeof i===a?i.apply(t):i),s+=l(i)+"&url=",(i=n.url)?i=i.call(t,{hash:{},data:o}):(i=t.url,i=typeof i===a?i.apply(t):i),s+=l(i)+'&via=delicious" class="btn btn-primary d-icon-twitter share-popup" id="share-twitter"></a>\n\n  <a href="http://www.facebook.com/share.php?u=',(i=n.url)?i=i.call(t,{hash:{},data:o}):(i=t.url,i=typeof i===a?i.apply(t):i),s+=l(i)+'" class="btn btn-primary d-icon-facebook share-popup" id="share-facebook"></a>\n\n  <a href="https://plus.google.com/share?url=',(i=n.url)?i=i.call(t,{hash:{},data:o}):(i=t.url,i=typeof i===a?i.apply(t):i),s+=l(i)+'" class="btn btn-primary d-icon-googleplus share-popup" id="share-googleplus"></a>\n\n  <a href="mailto:?subject=',(i=n.title)?i=i.call(t,{hash:{},data:o}):(i=t.title,i=typeof i===a?i.apply(t):i),s+=l(i)+"&amp;body=",(i=n.url)?i=i.call(t,{hash:{},data:o}):(i=t.url,i=typeof i===a?i.apply(t):i),s+=l(i)+'" class="btn d-icon-mail share-popup" id="share-mail"></a>\n</div>'})}}),window.require.define({"templates/links/warn":function(e,t,n){n.exports=Handlebars.template(function(e,t,n,r,o){this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers,o=o||{};var i,s="",a="function",l=this.escapeExpression;return s+='<h1>The page you are being redirected to is untrusted.</h1>\n<h3 class="link-title">\n  Click to continue on to <a href="',(i=n.url)?i=i.call(t,{hash:{},data:o}):(i=t.url,i=typeof i===a?i.apply(t):i),s+=l(i)+'" title="',(i=n.url)?i=i.call(t,{hash:{},data:o}):(i=t.url,i=typeof i===a?i.apply(t):i),s+=l(i)+'" rel="nofollow" data-track-group="link brick" data-track-name="link title">',(i=n.url)?i=i.call(t,{hash:{},data:o}):(i=t.url,i=typeof i===a?i.apply(t):i),(i||0===i)&&(s+=i),s+="</a>\n</h3>"})}}),window.require.define({"templates/notes/note":function(e,t,n){n.exports=Handlebars.template(function(e,t,n,r,o){this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers,o=o||{};var i,s="",a="function",l=this.escapeExpression;return s+='<div class="avatar" style="background-image: url(',(i=n.avatar_url)?i=i.call(t,{hash:{},data:o}):(i=t.avatar_url,i=typeof i===a?i.apply(t):i),s+=l(i)+');"></div>\n\n<h5><a href="/',(i=n.username)?i=i.call(t,{hash:{},data:o}):(i=t.username,i=typeof i===a?i.apply(t):i),s+=l(i)+'" data-user="',(i=n.username)?i=i.call(t,{hash:{},data:o}):(i=t.username,i=typeof i===a?i.apply(t):i),s+=l(i)+'" data-track-group="notes" data-track-name="a username">',(i=n.displayName)?i=i.call(t,{hash:{},data:o}):(i=t.displayName,i=typeof i===a?i.apply(t):i),s+=l(i)+"</a></h5>\n\n<article><p>",(i=n.noteAsHTMLWithLineBreaks)?i=i.call(t,{hash:{},data:o}):(i=t.noteAsHTMLWithLineBreaks,i=typeof i===a?i.apply(t):i),(i||0===i)&&(s+=i),s+="</p></article>\n"})}}),window.require.define({"templates/old-home":function(e,t,n){n.exports=Handlebars.template(function(e,t,n,r,o){return this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers,o=o||{},'<header class="home-header">\n    <div class="page-header-inner container">\n        <h1>Over 1 billion links served daily.</h1>\n        <div class="page-header-input">\n            <a class="logo"></a>\n            <form action="/search" method="get" class="home-search">\n                <a href="#" class="d-icon-search btn btn-link" onclick="_gaq.push([\'_trackEvent\', \'homepage\', \'click\', \'Search submit icon\']);"></a>\n                <input id="search-field" autocomplete="off" type="text" placeholder="Search Deliciousâ€¦" name="p">\n            </form>\n        </div>\n        <div class="signin-signup-container">\n            <div id="home-options">\n                <a class="btn btn-primary" id="signin-link" href="#login" onclick="_gaq.push([\'_trackEvent\', \'homepage\', \'click\', \'Sign in\']);">Sign in</a>\n                <a class="btn btn-primary" id="join-link" href="join" onclick="_gaq.push([\'_trackEvent\', \'homepage\', \'click\', \'Join Delicious\']);">Join Delicious</a>\n            </div>\n        </div>\n    </div>\n</header>\n<div class="container">\n    <section class="features row">\n        <div class="span4">\n            <h3 class="d-icon-plus">Save</h3>\n            <p>Donâ€™t lose the interesting stuff you discover or share on the web.</p>\n        </div>\n        <div class="span4">\n            <h3 class="d-icon-tag">Sort</h3>\n            <p>Tag and group your links to easily find them later.</p>\n        </div>\n        <div class="span4">\n            <h3 class="d-icon-search">Search</h3>\n            <p>Search links added by the community and discover awesome.</p>\n        </div>\n    </section>\n</div>\n'})}}),window.require.define({"templates/onboarding/join":function(e,t,n){n.exports=Handlebars.template(function(e,t,n,r,o){return this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers,o=o||{},'<div class="slide slide1 active">\n	<div class="join-surround start">\n		<h1>Join Delicious</h1>\n		<div class="box">\n			<button id="connect-facebook" class="btn btn-block btn-primary">Sign in with Facebook</button>\n			<button id="connect-twitter" class="btn btn-block btn-primary">Sign in with Twitter</button>\n			<hr>\n			<p id="no-social">Donâ€™t have a Facebook or Twitter account?</p>\n			<br>\n			<button id="create-account" class="btn btn-block">Create an account</button>\n		</div>\n	</div>\n</div>\n\n<div class="slide slide2">\n	<div class="join-surround">\n		<h1>Create an account</h1>\n		<div class="box">\n			<form>\n				<label for="user-full-name">Display name</label>\n				<input name="name" type="text" id="user-full-name" class="input-block" placeholder="eg. Your name or company." >\n				<label for="user-email">Your email address</label>\n				<input type="text" name="email" id="user-email" class="input-block">\n				<label for="user-username">Choose a username</label>\n				<input type="text" name="username" id="user-username" class="input-block">\n				<label for="user-password">Type a password (minimum 8 characters, no spaces)</label>\n				<input type="password" name="password" id="user-password" class="input-block" placeholder="Try using a sentence for a strong password.">\n\n				<label for="check-password" class="checkbox "><input type="checkbox" id="check-password" class="checkbox inline">Show password</label>\n\n				<div id="join-captcha">\n					<div id="recaptcha_widget">\n\n					  <div id="recaptcha_image" style="width:320px"></div>\n\n					  <input type="text" id="recaptcha_response_field" name="recaptcha_response_field" placeholder="Please enter the two words you see above">\n\n					  <div id="recaptcha_help">\n						  <div><a href="javascript:Recaptcha.reload()">Having difficulty? Click to refresh the Captcha.</a></div>\n						  <div class="recaptcha_only_if_image"><a href="javascript:Recaptcha.switch_type(\'audio\')">Switch to audio.</a></div>\n						  <div class="recaptcha_only_if_audio"><a href="javascript:Recaptcha.switch_type(\'image\')">Switch to image.</a></div>\n						</div>\n\n					</div>\n\n				</div>\n				<div class="error_info"></div>\n\n				<div class="box-inset">\n					<input type="submit" class="btn btn-primary pull-right" value="Join Delicious">\n				</div>\n			</form>\n		</div>\n		<p id="terms-agree">By clicking Join Delicious you agree to the <a href="/terms" target="_blank">Terms &amp; Conditions.</a></p>\n	</div>\n</div>'})}}),window.require.define({"templates/onboarding/splash":function(e,t,n){n.exports=Handlebars.template(function(e,t,n,r,o){return this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers,o=o||{},'<div class="splash-masthead">\n  <div class="container">\n    <div class="pull-left">\n      <div class="logo"></div>\n      <h1>Save this link on Delicious</h1>\n    </div>\n    \n    <div class="pull-right">\n      <p>Already registered? <a href="#login" data-src="splash">Sign in</a></p>\n    </div>\n  </div>\n</div>\n\n<div class="splash-body">\n  <div class="container">\n    <h2>Create a free account with Delicious to save, discover, and share the best of the web!</h2>\n\n    <ul>\n      <li><strong>Save</strong> this link for later</li>\n      <li><strong>Discover</strong> people who share your interests</li>\n      <li><strong>Keep</strong> the links you share on Facebook and Twitter in one place</li>\n      <li>Create <strong>your own way</strong> to organise links</li>\n    </ul>\n\n    <div class="btn-container">\n      <div class="pull-left">\n        <a href="#" id="connect-facebook" class="btn btn-huge btn-primary">Sign up with Facebook</a>\n        <a href="#" id="connect-twitter" class="btn btn-huge btn-primary">Sign up with Twitter</a>\n      </div>\n      <div class="pull-left">\n        <p>or <a href="/join/create">sign up with your email address</a></p>\n      </div>\n    </div>\n\n  </div>\n</div>\n'})}}),window.require.define({"templates/oops/notfound":function(e,t,n){n.exports=Handlebars.template(function(e,t,n,r,o){return this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers,o=o||{},'<h1>404 â€” page doesnâ€™t exist!</h1>\n\n<p>You may have followed a broken link or mistyped the web \naddress. If you think this is a mistake on our part, please \n<a href="mailto:support@delicious.com">send us some feedback.</a></p>'})}}),window.require.define({"templates/oops/somethingwentwrong":function(e,t,n){n.exports=Handlebars.template(function(e,t,n,r,o){this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers,r=r||e.partials,o=o||{};var i,s="",a=this;return s+='<div class="logo"></div>\n\n<h1>Weâ€™re sorry! Something has gone wrong.</h1>\n\n<p>Try refreshing the page you were on. If that doesnâ€™t work, itâ€™s our fault and weâ€™re most likely fixing the problem right now! If you continue experiencing issues feel free to <a href="mailto:support@delicious.com">email us.</a></p>\n\n',i=a.invokePartial(r.footer,"footer",t,n,r,o),(i||0===i)&&(s+=i),s})}}),window.require.define({"templates/search/autocomplete_result":function(e,t,n){n.exports=Handlebars.template(function(e,t,n,r,o){function i(e,t){var r,o="";return o+='<span class="description">',(r=n.descriptionAsHTML)?r=r.call(e,{hash:{},data:t}):(r=e.descriptionAsHTML,r=typeof r===l?r.apply(e):r),(r||0===r)&&(o+=r),o+="</span>"}this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers,o=o||{};var s,a="",l="function",u=this;return a+='<a href="#">\n  ',(s=n.nameAsHTML)?s=s.call(t,{hash:{},data:o}):(s=t.nameAsHTML,s=typeof s===l?s.apply(t):s),(s||0===s)&&(a+=s),a+="\n  ",s=n["if"].call(t,t.description,{hash:{},inverse:u.noop,fn:u.program(1,i,o),data:o}),(s||0===s)&&(a+=s),a+="\n</a>\n"})}}),window.require.define({"templates/search/results":function(e,t,n){n.exports=Handlebars.template(function(e,t,n,r,o){function i(){return'\n      <div class="links-container you">\n      </div>\n      <div class="links-container network">\n      </div>\n    '}this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers,r=r||e.partials,o=o||{};var s,a="",l=this;return a+='<div class="row">\n  <section class="sidebar span2">\n\n    \n    <div class="tags-container recent">\n      <h4>Recent Tags</h4>\n      <div class="tag-list"></div>\n      <h5 class="no-results meta">No recent tags</h5>\n    </div>\n\n    \n    <div class="tags-container related">\n      <h4>Related Tags</h4>\n      <div class="tag-list"></div>\n      <h5 class="no-results meta">No related tags</h5>\n    </div>\n    ',s=l.invokePartial(r.footer,"footer",t,n,r,o),(s||0===s)&&(a+=s),a+='\n  </section>\n\n  <section id="links-results" class="span6">\n    ',s=n["if"].call(t,t.isLoggedIn,{hash:{},inverse:l.noop,fn:l.program(1,i,o),data:o}),(s||0===s)&&(a+=s),a+='\n    <div class="links-container everyone">\n    </div>\n  </section>\n</div>\n'})}}),window.require.define({"templates/tags/edit_bundle_modal":function(e,t,n){n.exports=Handlebars.template(function(e,t,n,r,o){function i(){return'<a href="#remove" class="btn btn-danger btn-link">Remove bundle</a>'}this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers,o=o||{};var s,a="",l="function",u=this.escapeExpression,p=this;return a+='<form>\n  <div class="modal-body">\n    <label for="input-name">Bundle Name</label>\n    <input id="input-name" name="name" type="text" value="',(s=n.name)?s=s.call(t,{hash:{},data:o}):(s=t.name,s=typeof s===l?s.apply(t):s),a+=u(s)+'" placeholder="',(s=n.url)?s=s.call(t,{hash:{},data:o}):(s=t.url,s=typeof s===l?s.apply(t):s),a+=u(s)+'" class="input-block">\n\n    <label for="input-tags">Tags</label>\n    <input name="tags" type="text" value="',(s=n.tags)?s=s.call(t,{hash:{},data:o}):(s=t.tags,s=typeof s===l?s.apply(t):s),(s||0===s)&&(a+=s),a+='" placeholder="Enter tags separated by commas" id="input-tags" style="width: 100%">\n  </div>\n\n  <div class="modal-options">\n    \n    ',s=n["if"].call(t,t.name,{hash:{},inverse:p.noop,fn:p.program(1,i,o),data:o}),(s||0===s)&&(a+=s),a+='\n    \n    <button type="submit" class="btn btn-primary" data-loading-text="Saving...">Save bundle</button>\n  </div>\n</form>'})}}),window.require.define({"templates/tags/manage":function(e,t,n){n.exports=Handlebars.template(function(e,t,n,r,o){return this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers,o=o||{},'<form>\n  <div class="modal-body">\n\n    <div id="rename-tag">\n      <label for="to-tagname">Rename Tag</label>\n      <input type="text" id="from-tagname" name="from_tag" placeholder="Select a tag to rename" class="input-tag">\n      <input type="text" id="to-tagname" name="to_tag" placeholder="Enter new tag name" class="input-tag">\n    </div>\n\n    <div id="delete-tag">\n      <label for="delete-tagname">Delete Tag</label>\n      <input type="text" id="delete-tagname" name="delete_tag" placeholder="Select a tag to delete" class="input-tag">\n    </div>\n\n  </div>\n\n  <div class="modal-options">\n    <button type="submit" class="btn btn-primary" data-loading-text="Saving...">Save changes</button>\n  </div>\n</form>\n'})}}),window.require.define({"templates/tags/tag_bundle_row":function(e,t,n){n.exports=Handlebars.template(function(e,t,n,r,o){this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers,o=o||{};var i,s="",a="function",l=this.escapeExpression;return s+='<div class="pull-right">\n  <a href="#edit-bundle" class="btn">Edit</a>\n</div>\n<h3>',(i=n.name)?i=i.call(t,{hash:{},data:o}):(i=t.name,i=typeof i===a?i.apply(t):i),s+=l(i)+"</h3>"})}}),window.require.define({"templates/tools/bookmarklet":function(e,t,n){n.exports=Handlebars.template(function(e,t,n,r,o){return this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers,o=o||{},'<div class="box box-square span3" id="bookmarklet-box">\n\n  <span class="huge-icon d-icon-bookmark"></span>\n\n  <span id="bookmarklet-wrapper-thing">\n\n    <div id="bookmarklet-hint">\n      <span class="dropdown-carrot"></span>\n      <p>Make sure your bookmarks toolbar (or â€œfavoritesâ€ bar for Internet Explorer) is visible, then drag this button there. Click â€˜Add to Deliciousâ€™ any time you want to add a page.</p>\n    </div>\n\n    <a class="bookmarklet btn btn-primary" id="bookmarklet-install-button" title="Add to Delicious" href=\'javascript:(function(e,t){var n=e.document;setTimeout(function(){function a(e){if(e.data==="destroy_bookmarklet"){var r=n.getElementById(t);if(r){n.body.removeChild(r);r=null}}}var t="DELI_bookmarklet_iframe",r=n.getElementById(t);if(r){return}var i="https://delicious.com/save?",s=n.createElement("iframe");s.id=t;s.src=i+"url="+encodeURIComponent(e.location.href)+"&title="+encodeURIComponent(n.title)+"&note="+encodeURIComponent(""+(e.getSelection?e.getSelection():n.getSelection?n.getSelection():n.selection.createRange().text))+"&v=1.1";s.style.position="fixed";s.style.top="0";s.style.left="0";s.style.height="100%25";s.style.width="100%25";s.style.zIndex="16777270";s.style.border="none";s.style.visibility="hidden";s.onload=function(){this.style.visibility="visible"};n.body.appendChild(s);var o=e.addEventListener?"addEventListener":"attachEvent";var u=o=="attachEvent"?"onmessage":"message";e[o](u,a,false)},1)})(window)\'>Add to Delicious</a>\n    \n  </span>\n  \n  <div class="box-inset"><h1>Bookmarklet</h1></div>\n\n</div>\n'})}}),window.require.define({"templates/user/coachmarks":function(e,t,n){n.exports=Handlebars.template(function(e,t,n,r,o){return this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers,o=o||{},'<div class="container">\n\n  <div class="top-left">\n    <div class="wee-arrow"></div>\n    <p id="cm-search">Search your links or anything else on Delicious up here. Use @ or # to search people or tags, respectively.</p>\n  </div>\n\n  <div class="top-right">\n    <div class="wee-arrow"></div>\n    <p id="cm-user">Click your name to see your links. Hover to change your settings or add a new link.</p>\n  </div>\n\n  <!-- <div class="bottom-right">\n    <div class="wee-arrow"></div>\n    <p id="cm-feedback">Tell us what you think &mdash; or report a bug &mdash; using this handy feedback tab.</p>\n  </div> -->\n\n  <div id="cm-welcome-wrapper">\n    <p id="cm-welcome">Click to close</p>\n  </div>\n\n</div>\n'})}}),window.require.define({"templates/user/featured_followers_collectionview":function(e,t,n){n.exports=Handlebars.template(function(e,t,n,r,o){return this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers,o=o||{},'<div id="featured-followers-refresh" class="d-icon-refresh"></div>\n<h2><a href="/settings/friends">Recommended People</a><a id="feat-foll-hide" href="#">Hide</a></h2>\n<ul id="featured-followers-container"></ul>\n'})}}),window.require.define({"templates/user/friends_collectionview":function(e,t,n){n.exports=Handlebars.template(function(e,t,n,r,o){return this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers,o=o||{},'<ul id="friends-container"></ul>\n'})}}),window.require.define({"templates/user/profile":function(e,t,n){n.exports=Handlebars.template(function(e,t,n,r,o){function i(e,t){var r,o,i="";return i+='\n          <div class="tweet-profile">\n            <a href="//twitter.com/share" class="socialite twitter-share" data-count="none" data-text="Check out ',o={hash:{},inverse:z.program(4,a,t),fn:z.program(2,s,t),data:t},(r=n.ifMe)?r=r.call(e,o):(r=e.ifMe,r=typeof r===F?r.apply(e):r),n.ifMe||(r=M.call(e,r,o)),(r||0===r)&&(i+=r),i+='links on @Delicious!" data-url="https://delicious.com/',(r=n.username)?r=r.call(e,{hash:{},data:t}):(r=e.username,r=typeof r===F?r.apply(e):r),i+=q(r)+'" data-count="horizontal" rel="nofollow" target="_blank"></a>\n          </div>\n        '}function s(){return"my "}function a(e,t){var r,o="";return(r=n.displayName)?r=r.call(e,{hash:{},data:t}):(r=e.displayName,r=typeof r===F?r.apply(e):r),o+=q(r)+"â€™s "}function l(){return'\n          <div class="upload-photo">\n            <a href="settings">Upload photo</a>\n          </div>\n        '}function u(e,t){var r,o;return o={hash:{},data:t},q((r=n.commafy,r?r.call(e,e.bookmark_count,o):H.call(e,"commafy",e.bookmark_count,o)))}function p(e,t){var r,o;return o={hash:{},data:t},q((r=n.commafy,r?r.call(e,e.public_bookmark_count,o):H.call(e,"commafy",e.public_bookmark_count,o)))}function c(e,t){var r,o;return o={hash:{},data:t},q((r=n.commafy,r?r.call(e,e.follower_count,o):H.call(e,"commafy",e.follower_count,o)))}function d(){return"0"}function h(e,t){var r,o,i="";return i+='\n        <div class="tags-container all exclusive-tag-search">\n          <h4>\n            ',o={hash:{},inverse:z.program(19,m,t),fn:z.program(17,f,t),data:t},(r=n.ifMe)?r=r.call(e,o):(r=e.ifMe,r=typeof r===F?r.apply(e):r),n.ifMe||(r=M.call(e,r,o)),(r||0===r)&&(i+=r),i+='\n            <div class="dropdown sort-tags-dropdown pull-right">\n              <span class="sort-by dropdown-toggle" data-toggle="dropdown">Sort<span class="dropdown-carrot"></span></span>\n              <ul class="dropdown-menu sort-by-menu" role="menu" aria-labelledby="dropdownMenu">\n                <li><a id="sort-by-count" href="#">Count</a></li>\n                <li><a id="sort-by-abc" href="#">ABC</a></li>\n              </ul>\n            </div>\n          </h4>\n          <div class="tag-list"></div>\n          <div clas="show-all">\n            <a class="tags-see-all" href="#more">Show more</a>\n          </div>\n        </div>\n      '}function f(){return'\n              <a id="your-tags-modal" href="#">Tags</a>\n            '}function m(){return"\n              Tags\n            "}function g(){return'\n            <a href="#bundles-manage">Tag Bundles</a>\n          '}function v(){return"\n            Tag Bundles\n          "}function y(e,t){var r,o="";return o+='\n      <div class="alert alert-warning"><a href="#login">Sign in</a> to follow @',(r=n.display_name)?r=r.call(e,{hash:{},data:t}):(r=e.display_name,r=typeof r===F?r.apply(e):r),o+=q(r)+"</div>\n    "}function w(e,t){var r,o="";return o+="\n          ",(r=n.profile_bio)?r=r.call(e,{hash:{},data:t}):(r=e.profile_bio,r=typeof r===F?r.apply(e):r),o+=q(r)+"\n        "}function _(e,t){var r,o,i="";return i+="\n          ",o={hash:{},inverse:z.noop,fn:z.program(30,b,t),data:t},(r=n.ifMe)?r=r.call(e,o):(r=e.ifMe,r=typeof r===F?r.apply(e):r),n.ifMe||(r=M.call(e,r,o)),(r||0===r)&&(i+=r),i+="\n        "}function b(){var e="";return e+='\n            Tell the Delicious community about yourself on your <a href="/settings">profile settings page.</a>\n          \n            \n          '}function k(e,t){var r,o="";return o+='\n          <br><a href="',(r=n.profile_url)?r=r.call(e,{hash:{},data:t}):(r=e.profile_url,r=typeof r===F?r.apply(e):r),o+=q(r)+'" target="_blank">',(r=n.profile_url)?r=r.call(e,{hash:{},data:t}):(r=e.profile_url,r=typeof r===F?r.apply(e):r),o+=q(r)+"</a>\n        "}function x(e,t){var r,o,i="";return i+="\n\n      ",o={hash:{},inverse:z.program(37,P,t),fn:z.program(35,$,t),data:t},(r=n.ifHasLinks)?r=r.call(e,o):(r=e.ifHasLinks,r=typeof r===F?r.apply(e):r),n.ifHasLinks||(r=M.call(e,r,o)),(r||0===r)&&(i+=r),i+="\n\n    "}function $(){return'\n        <div id="bulk-edit-actions" class="hidden-tablet">\n          <div id="bulk-edit-on">\n            <div id="bulk-edit-dd" class="btn-group btn-container">\n              <a id="bulk-edit-dd-button" class="btn btn-dropdown disabled" data-toggle="dropdown" href="#">\n                <span id="bulk-edit-count">0</span> selected<span class="dropdown-carrot"></span></a>\n              <ul class="select-menu dropdown-menu">\n                <li><a id="bulk-edit-make-public" href="#public">Make public</a></li>\n                <li><a id="bulk-edit-make-private" href="#private">Make private</a></li>\n                <li><a id="delete-links" href="#delete-links">Remove links</a></li>\n                <li><a id="bulk-edit-select-all" href="#">Select all</a></li>\n                <li><a id="bulk-edit-clear-selection" href="#">Clear Selection</a></li>\n              </ul>\n            </div>\n          </div>\n          <a id="bulk-edit-btn" class="btn">Edit links</a>\n          </div>\n          <div class="links-container"></div>\n      '}function P(e,t){var o,i="";return i+="\n        ",o=n["if"].call(e,e.following_count,{hash:{},inverse:z.noop,fn:z.program(38,E,t),data:t}),(o||0===o)&&(i+=o),i+='\n        <div id="profile-bookmarklet-install">\n          ',o=z.invokePartial(r["bookmarklet-box"],"bookmarklet-box",e,n,r,t),(o||0===o)&&(i+=o),i+='\n\n          <h2>Welcome to Delicious!</h2>\n          <p>Add links from anywhere on the web by installing our bookmarklet. Just drag the blue â€œAdd to Deliciousâ€ button on the left to your bookmarks bar (or "favorites" bar for Internet Explorer).</p>\n          <br>\n          <p>Connect your <a href="/settings/sources">Facebook or Twitter account</a> to import everything youâ€™ve shared there.</p>\n          <br>\n          <p>If you find something you love on the <a href="/discover">Discover page,</a> add it to your profile by using the + button next to each link.</p>\n        </div>\n      '}function E(e,t){var r,o="";return o+='\n          <div id="following-friends">\n          <p>You are now following ',(r=n.following_count)?r=r.call(e,{hash:{},data:t}):(r=e.following_count,r=typeof r===F?r.apply(e):r),o+=q(r)+' of your friends on Delicious. <a href="#following">Click here to change.</a></p></div>\n        '}function S(e,t){var r,o="";return o+="\n      ",r=n["if"].call(e,e.public_bookmark_count,{hash:{},inverse:z.program(43,C,t),fn:z.program(41,T,t),data:t}),(r||0===r)&&(o+=r),o+="\n      \n    "}function T(){return'\n        <div class="links-container"></div>\n      '}function C(){return"\n        <p>This person doesnâ€™t have any links yet.</p>\n      "}this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers,r=r||e.partials,o=o||{};var D,I,L,A="",F="function",q=this.escapeExpression,z=this,M=n.blockHelperMissing,H=n.helperMissing;return A+='<div class="row">\n  <section class="span2 profile-sidebar">\n\n    <div class="profile-avatar" style="background-image:url(',(D=n.avatar_url)?D=D.call(t,{hash:{},data:o}):(D=t.avatar_url,D=typeof D===F?D.apply(t):D),A+=q(D)+')">\n      <div class="avatar-overlay">\n        ',L={hash:{},inverse:z.program(6,l,o),fn:z.program(1,i,o),data:o},(D=n.ifUploadedPhotoOrNotMe)?D=D.call(t,L):(D=t.ifUploadedPhotoOrNotMe,D=typeof D===F?D.apply(t):D),n.ifUploadedPhotoOrNotMe||(D=M.call(t,D,L)),(D||0===D)&&(A+=D),A+="\n      </div>\n    </div>\n    \n    ",L={hash:{className:"btn-block"},data:o},D=n.followButton,I=D?D.call(t,L):H.call(t,"followButton",L),(I||0===I)&&(A+=I),A+='\n    \n    <nav class="user-stats">\n      <span class="link-count">Links <small>',L={hash:{},inverse:z.program(10,p,o),fn:z.program(8,u,o),data:o},(I=n.ifMe)?I=I.call(t,L):(I=t.ifMe,I=typeof I===F?I.apply(t):I),n.ifMe||(I=M.call(t,I,L)),(I||0===I)&&(A+=I),A+='</small></span>\n      <br>\n      <a href="#followers" data-track-group="profile page" data-track-name="Followers">Followers <small>',I=n["if"].call(t,t.follower_count,{hash:{},inverse:z.program(14,d,o),fn:z.program(12,c,o),data:o}),(I||0===I)&&(A+=I),A+='</small></a>\n      <br>\n      <a href="#following" data-track-group="profile page" data-track-name="Following">Following <small>',L={hash:{},data:o},A+=q((D=n.commafy,D?D.call(t,t.following_count,L):H.call(t,"commafy",t.following_count,L)))+'</small></a>\n    </nav>\n\n    <span class="sidebar-meta">\n\n      '+'\n      <div class="tags-container related">\n        <h4>Related Tags</h4>\n        <div class="tag-list"></div>\n      </div>\n\n      '+"\n      ",I=n["if"].call(t,t.tag_count,{hash:{},inverse:z.noop,fn:z.program(16,h,o),data:o}),(I||0===I)&&(A+=I),A+='\n\n      \n      <div class="tags-container in-bundle exclusive-tag-search">\n        <h4>Tags in Bundle</h4>\n        <div class="tag-list"></div>\n      </div>\n\n      \n      <div class="tag-bundles-container">\n        <h4>\n          ',L={hash:{},inverse:z.program(23,v,o),fn:z.program(21,g,o),data:o},(I=n.ifMe)?I=I.call(t,L):(I=t.ifMe,I=typeof I===F?I.apply(t):I),n.ifMe||(I=M.call(t,I,L)),(I||0===I)&&(A+=I),A+='\n        </h4>\n        <div class="sidebar-list"></div>\n      </div>\n\n    </span>\n    ',I=z.invokePartial(r.footer,"footer",t,n,r,o),(I||0===I)&&(A+=I),A+='\n\n  </section>\n  <section class="span6">\n    ',I=n.unless.call(t,t.username,{hash:{},inverse:z.noop,fn:z.program(25,y,o),data:o}),(I||0===I)&&(A+=I),A+='\n\n    <div class="profile-header">\n      <h1>',(I=n.full_name)?I=I.call(t,{hash:{},data:o}):(I=t.full_name,I=typeof I===F?I.apply(t):I),A+=q(I)+' <small><a href="/',(I=n.username)?I=I.call(t,{hash:{},data:o}):(I=t.username,I=typeof I===F?I.apply(t):I),A+=q(I)+'">@',L={hash:{},data:o},A+=q((D=n.decode,D?D.call(t,t.display_name,L):H.call(t,"decode",t.display_name,L)))+'</a></small></h1>\n      <p class="profile-bio">\n\n        ',I=n["if"].call(t,t.profile_bio,{hash:{},inverse:z.program(29,_,o),fn:z.program(27,w,o),data:o}),(I||0===I)&&(A+=I),A+="\n\n        ",I=n["if"].call(t,t.profile_url,{hash:{},inverse:z.noop,fn:z.program(32,k,o),data:o}),(I||0===I)&&(A+=I),A+="\n      </p>\n\n    </div>\n\n    ",L={hash:{},inverse:z.program(40,S,o),fn:z.program(34,x,o),data:o},(I=n.ifMe)?I=I.call(t,L):(I=t.ifMe,I=typeof I===F?I.apply(t):I),n.ifMe||(I=M.call(t,I,L)),(I||0===I)&&(A+=I),A+="\n\n  </section>\n</div>\n"
})}}),window.require.define({"templates/user/settings/account":function(e,t,n){n.exports=Handlebars.template(function(e,t,n,r,o){function i(e,t){var r;return(r=n.profile_email)?r=r.call(e,{hash:{},data:t}):(r=e.profile_email,r=typeof r===u?r.apply(e):r),p(r)}function s(e,t){var r;return(r=n.email)?r=r.call(e,{hash:{},data:t}):(r=e.email,r=typeof r===u?r.apply(e):r),p(r)}this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers,o=o||{};var a,l="",u="function",p=this.escapeExpression,c=this;return l+='<form enctype="multipart/form-data" id="settings-form">\n  <div class="row settings">\n\n    <div class="span7">\n      <h1>Account settings <span class="subtitle">Change your email address and password.</span></h1>\n\n      <fieldset>\n        <label for="user-email">Email Address</label>\n        <input name="profile_email" type="text" id="user-email" class="input-xlarge" placeholder="example@gmail.com" value="',a=n["if"].call(t,t.profile_email,{hash:{},inverse:c.program(3,s,o),fn:c.program(1,i,o),data:o}),(a||0===a)&&(l+=a),l+='"></input>\n      </fieldset>\n\n      <h3>Change your password</h3>\n\n      <fieldset>\n        <label for="user-old-password">Current Password</label>\n        <input name="old_password" type="password" id="user-old-password" class="input-xlarge"></input>\n\n        <label for="user-new-password">New Password</label>\n        <input name="new_password" type="password" id="user-new-password" class="input-xlarge"></input>\n      </fieldset>\n\n      <p id="error" class="error"></p>\n\n      <div class="form-buttons">\n        <input type="submit" data-loading-text="Updatingâ€¦" class="btn btn-primary" value="Save changes">\n      </div>\n\n      <p>Note: If you are using private RSS feeds, you will need to update these after you change your password.</p>\n      <br>\n\n      <a href="https://settings.delicious.com/settings/deactivate" target="_blank" class="preview-note">Deactivate my account</a>\n    </div>\n\n  </div>\n</form>\n'})}}),window.require.define({"templates/user/settings/facebook":function(e,t,n){n.exports=Handlebars.template(function(e,t,n,r,o){function i(e,t){var r,o="";return o+='\n            <option value="',(r=n.value)?r=r.call(e,{hash:{},data:t}):(r=e.value,r=typeof r===u?r.apply(e):r),o+=p(r)+'" ',r=n["if"].call(e,e.selected,{hash:{},inverse:c.noop,fn:c.program(2,s,t),data:t}),(r||0===r)&&(o+=r),o+=">",(r=n.text)?r=r.call(e,{hash:{},data:t}):(r=e.text,r=typeof r===u?r.apply(e):r),o+=p(r)+"</option>\n          "}function s(){return'selected="selected"'}this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers,o=o||{};var a,l="",u="function",p=this.escapeExpression,c=this;return l+='<form enctype="multipart/form-data" id="settings-form">\n  <div class="row settings">\n    <div class="span10">\n      <h1>Importing links from Facebook</h1>\n      <br>\n    </div>\n    <div class="span10">\n\n      <fieldset>\n        <label for="privacy">When importing links...</label>\n        <select name="privacy" class="input-xlarge" disabled="disabled">\n          ',a=n.each.call(t,t.options,{hash:{},inverse:c.noop,fn:c.program(1,i,o),data:o}),(a||0===a)&&(l+=a),l+='\n        </select>\n      </fieldset>\n\n      <fieldset>\n        <label for="tags">Add these tags to imported links</label>\n        <input name="tags" type="text" id="user-full-name" class="input-xlarge" placeholder="from facebook" value="',(a=n.tags)?a=a.call(t,{hash:{},data:o}):(a=t.tags,a=typeof a===u?a.apply(t):a),l+=p(a)+'" disabled="disabled"></input>\n      </fieldset>\n      \n      <div class="form-buttons">\n        <input type="submit" class="btn btn-primary" value="Save changes" disabled="disabled">\n      </div>\n\n    </div>\n\n    <div class="span5 description">\n      <br>\n      <p>Links you share on Facebook or post on your own wall will be imported to Delicious.</p>\n      <p>Links are not imported in real time. Depending on circumstances, it can be as little as five minutes or as long as 24 hours before they appear on Delicious.</p>\n      <a class="disconnect" href="#">Disconnect from Facebook as ',(a=n.providerDisplayname)?a=a.call(t,{hash:{},data:o}):(a=t.providerDisplayname,a=typeof a===u?a.apply(t):a),l+=p(a)+"</a>\n    </div>\n\n  </div>\n</form>\n"})}}),window.require.define({"templates/user/settings/friends":function(e,t,n){n.exports=Handlebars.template(function(e,t,n,r,o){return this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers,o=o||{},'<div class="row settings">\n  <div class="span7">\n    <h1>Find your friends</h1>\n    <p>\n      Delicious is better with other people! Along with your friends from Facebook or Twitter, weâ€™ve also compiled a list of awesome, featured Delicious users. Click Follow to add them to your network and see what links they save.\n    </p>\n    <br>\n  </div>\n\n  <div class="span10">\n    <ul class="nav nav-tabs">\n      <li class="active"><a href="#featured" data-toggle="tab">Featured users</a></li>\n      <li><a href="#facebook" data-toggle="tab">Facebook friends</a></li>\n      <li><a href="#twitter" data-toggle="tab">Twitter friends</a></li>\n    </ul>\n    <div class="tab-content">\n      <div class="tab-pane active" id="featured"></div>\n      <div class="tab-pane" id="facebook">We could not find any of your connections on Delicious. Check out some of our featured users!</div>\n      <div class="tab-pane" id="twitter">We could not find any of your connections on Delicious. Check out some of our featured users!</div>\n    </div>\n  </div>\n</div>\n'})}}),window.require.define({"templates/user/settings/service":function(e,t,n){n.exports=Handlebars.template(function(e,t,n,r,o){function i(){return' disabled="disabled"'}function s(e,t,r){var o,i,s,a="";return a+='\n            <option value="',(o=n.value)?o=o.call(e,{hash:{},data:t}):(o=e.value,o=typeof o===d?o.apply(e):o),a+=h(o)+'" ',s={hash:{},data:t},a+=h((o=n.privacyOptionCheck,o?o.call(e,r.privateAttri,s):f.call(e,"privacyOptionCheck",r.privateAttri,s)))+">",(i=n.text)?i=i.call(e,{hash:{},data:t}):(i=e.text,i=typeof i===d?i.apply(e):i),a+=h(i)+"</option>\n          "}function a(e,t){var r,o,i,s="";return s+='\n        <a class="disconnect" href="#">Disconnect from ',i={hash:{},data:t},s+=h((r=n.capitalize,r?r.call(e,e.providerId,i):f.call(e,"capitalize",e.providerId,i)))+" as ",(o=n.providerDisplayname)?o=o.call(e,{hash:{},data:t}):(o=e.providerDisplayname,o=typeof o===d?o.apply(e):o),s+=h(o)+"</a>\n      "}this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers,o=o||{};var l,u,p,c="",d="function",h=this.escapeExpression,f=n.helperMissing,m=this;return c+='<form id="settings-form">\n  <div class="row settings">\n    <div class="span10">\n      <h1>Importing links from ',p={hash:{},data:o},c+=h((l=n.capitalize,l?l.call(t,t.providerId,p):f.call(t,"capitalize",t.providerId,p)))+'</h1>\n      <br>\n    </div>\n    <div class="span10">\n      <fieldset>\n        <label for="privacy">When importing links...</label>\n        <select name="privacy" class="input-xlarge"',u=n.unless.call(t,t.providerDisplayname,{hash:{},inverse:m.noop,fn:m.program(1,i,o),data:o}),(u||0===u)&&(c+=u),c+=">\n          \n          ",u=n.each.call(t,t.privacy_options,{hash:{},inverse:m.noop,fn:m.programWithDepth(s,o,t),data:o}),(u||0===u)&&(c+=u),c+='\n        </select>\n      </fieldset>\n\n      <fieldset>\n        <label for="tags">Add these tags to imported links</label>\n        <input name="tags" type="text" class="input-xlarge" placeholder="from ',(u=n.providerId)?u=u.call(t,{hash:{},data:o}):(u=t.providerId,u=typeof u===d?u.apply(t):u),c+=h(u)+'" value="',(u=n.tags)?u=u.call(t,{hash:{},data:o}):(u=t.tags,u=typeof u===d?u.apply(t):u),c+=h(u)+'"',u=n.unless.call(t,t.providerDisplayname,{hash:{},inverse:m.noop,fn:m.program(1,i,o),data:o}),(u||0===u)&&(c+=u),c+='>\n      </fieldset>\n      \n      <div class="form-buttons">\n        <input type="submit" class="btn btn-primary" value="Save changes"',u=n.unless.call(t,t.providerDisplayname,{hash:{},inverse:m.noop,fn:m.program(1,i,o),data:o}),(u||0===u)&&(c+=u),c+='>\n      </div>\n    </div>\n\n    <div class="span5 description">\n      <br>\n      <p>',(u=n.sharingMessage)?u=u.call(t,{hash:{},data:o}):(u=t.sharingMessage,u=typeof u===d?u.apply(t):u),c+=h(u)+"</p>\n      <p>Links are not imported in real time. Depending on circumstances, it can be as little as five minutes or as long as 24 hours before they appear on Delicious.</p>\n      ",u=n.unless.call(t,t.providerDisplayname,{hash:{},inverse:m.noop,fn:m.program(5,a,o),data:o}),(u||0===u)&&(c+=u),c+="\n    </div>\n  </div>\n</form>"})}}),window.require.define({"templates/user/settings/settings":function(e,t,n){n.exports=Handlebars.template(function(e,t,n,r,o){this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers,o=o||{};var i,s="",a="function",l=this.escapeExpression;return s+='<div class="row settings">\n  <div class="span7">\n    <h1>Your Profile<span class="subtitle">Visible to the public.</span></h1>\n    <br>\n  </div>\n  <div class="span4">\n    <form id="settings-form">\n      <fieldset>\n        <label for="user-full-name">Your name</label>\n        <input name="full_name" type="text" id="user-full-name" class="span4" placeholder="Example: Lauren Ipsum" value="',(i=n.full_name)?i=i.call(t,{hash:{},data:o}):(i=t.full_name,i=typeof i===a?i.apply(t):i),s+=l(i)+'"></input>\n      </fieldset>\n\n      <fieldset>\n        <label for="user-bio">Tell the world about yourself</label>\n        <textarea name="profile_bio" type="text" cols="10" rows="6" id="user-bio" class="span4" maxlength="140">',(i=n.profile_bio)?i=i.call(t,{hash:{},data:o}):(i=t.profile_bio,i=typeof i===a?i.apply(t):i),s+=l(i)+'</textarea>\n        <div id="bio-count">140 characters left.</div>\n      </fieldset>\n      <fieldset>\n        <label for="user-website">Your website</label>\n          <input name="profile_url" type="text" id="user-website" class="span4" value="',(i=n.profile_url)?i=i.call(t,{hash:{},data:o}):(i=t.profile_url,i=typeof i===a?i.apply(t):i),s+=l(i)+'" placeholder="http://"></input>\n      </fieldset>\n      <div class="form-buttons">\n        <input type="submit" class="btn btn-primary" value="Save profile">\n      </div>\n    </form>\n      \n  </div>\n\n  <div class="span3 photo-upload">\n    <label for="user-avatar-input">Your picture <span class="muted">(max size 2MB)</span></label>\n    <div class="user-avatar">\n      <img class="fade" src="',(i=n.avatar_url)?i=i.call(t,{hash:{},data:o}):(i=t.avatar_url,i=typeof i===a?i.apply(t):i),s+=l(i)+'">\n    </div>\n      <span class="muted upload-info">For best results, choose a square image.</span>\n\n      <iframe id="upload-frame" name="upload-frame" height="0" width="0" frameborder="0" scrolling="no"></iframe>\n\n      <form id="photo-form" target="upload-frame" enctype="multipart/form-data" method="post">\n\n        <fieldset>\n          <div>\n            <p id="photo-upload-error" class="error"></p>\n          </div>\n          <div class="relative">\n            <input name="photo" type="file" id="user-photo-input">\n            <div id="user-photo-button" class="clearfix">\n              <button type="button" class="btn">Choose image</button>\n              <span id="user-photo-text" class="flash red">No image selected</span>\n            </div>\n          </div>\n        </fieldset>\n\n        <fieldset class="relative">\n          <input type="submit" value="Upload" class="btn">\n          <div class="loading-container">\n            <span class="loading"></span>\n          </div>\n        </fieldset>\n      </form>\n  </div>\n</div>'})}}),window.require.define({"templates/user/settings/sources":function(e,t,n){n.exports=Handlebars.template(function(e,t,n,r,o){return this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers,o=o||{},'<div class="row settings">\n  <div class="span10">\n    <h1>Import links to your Delicious account</h1>\n    <p>Delicious can automatically import links you share (and have shared) on the social services listed below.</p>\n    <br>\n  </div>\n  <div class="span10">\n\n      <fieldset>\n        <div data-service="facebook" class="social-connector facebook">\n          <div class="icon-block d-icon-facebook">\n          </div>\n          <button class="btn connect">Import from Facebook</button>\n          <a class="disconnect" href="#">Disconnect from Facebook</a>\n        </div>\n      </fieldset>\n\n      <fieldset>\n        <div data-service="twitter" class="social-connector twitter">\n          <div class="icon-block d-icon-twitter">\n          </div>\n          <button class="btn connect">Import from Twitter</button>\n          <a class="disconnect" href="#">Disconnect from Twitter</a>\n        </div>\n      </fieldset>\n\n      <br>\n\n      <h3>Import or export your bookmarks from a file</h3>\n\n      <br>\n\n      <a href="http://export.delicious.com/settings/bookmarks/import" target="_blank" class="preview-note">Import bookmarks</a>\n      <br>\n      <a href="http://export.delicious.com/settings/bookmarks/export" target="_blank" class="preview-note">Export bookmarks</a>\n      \n  </div>\n</div>'})}}),window.require.define({"templates/user/settings/twitter":function(e,t,n){n.exports=Handlebars.template(function(e,t,n,r,o){function i(e,t){var r,o="";return o+='\n            <option value="',(r=n.value)?r=r.call(e,{hash:{},data:t}):(r=e.value,r=typeof r===u?r.apply(e):r),o+=p(r)+'" ',r=n["if"].call(e,e.selected,{hash:{},inverse:c.noop,fn:c.program(2,s,t),data:t}),(r||0===r)&&(o+=r),o+=">",(r=n.text)?r=r.call(e,{hash:{},data:t}):(r=e.text,r=typeof r===u?r.apply(e):r),o+=p(r)+"</option>\n          "}function s(){return'selected="selected"'}this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers,o=o||{};var a,l="",u="function",p=this.escapeExpression,c=this;return l+='<form enctype="multipart/form-data" id="settings-form">\n  <div class="row settings">\n    <div class="span10">\n      <h1>Importing links from Twitter</h1>\n      <br>\n    </div>\n    <div class="span10">\n\n      <fieldset>\n        <label for="privacy">When importing links...</label>\n        <select name="privacy" class="input-xlarge" disabled="disabled">\n          ',a=n.each.call(t,t.options,{hash:{},inverse:c.noop,fn:c.program(1,i,o),data:o}),(a||0===a)&&(l+=a),l+='\n        </select>\n      </fieldset>\n\n      <fieldset>\n        <label for="tags">Add these tags to imported links</label>\n        <input name="tags" type="text" id="user-full-name" class="input-xlarge" placeholder="from twitter" value="',(a=n.tags)?a=a.call(t,{hash:{},data:o}):(a=t.tags,a=typeof a===u?a.apply(t):a),l+=p(a)+'" disabled="disabled">\n      </fieldset>\n      \n      <div class="form-buttons">\n        <input type="submit" class="btn btn-primary" value="Save changes" disabled="disabled">\n      </div>\n\n    </div>\n\n    <div class="span5 description">\n      <br>\n      <p>Links you share on Twitter will be imported to Delicious.</p>\n      <p>Links are not imported in real time. Depending on circumstances, it can be as little as five minutes or as long as 24 hours before they appear on Delicious.</p>\n      <a class="disconnect" href="#">Disconnect from Twitter as ',(a=n.providerDisplayname)?a=a.call(t,{hash:{},data:o}):(a=t.providerDisplayname,a=typeof a===u?a.apply(t):a),l+=p(a)+"</a>\n    </div>\n\n  </div>\n</form>\n"})}}),window.require.define({"templates/user/user_card":function(e,t,n){n.exports=Handlebars.template(function(e,t,n,r,o){this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers,o=o||{};var i,s="",a="function",l=this.escapeExpression;return s+='<a href="/',(i=n.username)?i=i.call(t,{hash:{},data:o}):(i=t.username,i=typeof i===a?i.apply(t):i),s+=l(i)+'">\n  <img class="avatar" src="',(i=n.avatar_url)?i=i.call(t,{hash:{},data:o}):(i=t.avatar_url,i=typeof i===a?i.apply(t):i),s+=l(i)+'">\n  <h5>',(i=n.displayName)?i=i.call(t,{hash:{},data:o}):(i=t.displayName,i=typeof i===a?i.apply(t):i),s+=l(i)+"</h5>\n</a>\n\n",(i=n.followButton)?i=i.call(t,{hash:{},data:o}):(i=t.followButton,i=typeof i===a?i.apply(t):i),(i||0===i)&&(s+=i),s+="\n"})}}),window.require.define({"templates/user/validate_email":function(e,t,n){n.exports=Handlebars.template(function(e,t,n,r,o){this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers,o=o||{};var i,s="",a="function",l=this.escapeExpression;return s+="<h1>",(i=n.info)?i=i.call(t,{hash:{},data:o}):(i=t.info,i=typeof i===a?i.apply(t):i),s+=l(i)+"</h1>\n"})}}),window.require.define({"views/about":function(e,t,n){(function(){var e,r,o,i,s,a={}.hasOwnProperty,l=function(e,t){function n(){this.constructor=e}for(var r in t)a.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};i=t("lib/logger"),s=t("mediator"),r=t("views/base/html"),o=t("views/base/page"),n.exports=e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return l(t,e),t.prototype.containedLayout=!1,t.prototype.events={mousemove:"updateMapPosition"},t.prototype.initialize=function(){return t.__super__.initialize.apply(this,arguments),this.$body=$("body").addClass("about"),this.subview("about-html",new r({url:"about",id:"about",container:"#delicious"})),i.log("Initializing the About View")},t.prototype.updateMapPosition=function(e){var t,n;return n=-e.pageX/50,t=$("#world-map"),t.css("left",n),setTimeout(function(){return t.removeClass("transition")},500)},t.prototype.dispose=function(){return t.__super__.dispose.apply(this,arguments),this.$body.removeClass("about")},t}(o)}).call(this)}}),window.require.define({"views/auth/join":function(e,t,n){(function(){var e,r,o,i,s=function(e,t){return function(){return e.apply(t,arguments)}},a={}.hasOwnProperty,l=function(e,t){function n(){this.constructor=e}for(var r in t)a.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};r=t("lib/view"),i=t("mediator"),o=t("lib/logger"),n.exports=e=function(e){function t(){return this.doTwitterLogin=s(this.doTwitterLogin,this),this.doRegister=s(this.doRegister,this),this.authenticateProviderUser=s(this.authenticateProviderUser,this),this.signupWithService=s(this.signupWithService,this),this.authenticateNewUser=s(this.authenticateNewUser,this),this.showUsernameExistsError=s(this.showUsernameExistsError,this),this.checkUsernameExists=s(this.checkUsernameExists,this),this.toProfile=s(this.toProfile,this),t.__super__.constructor.apply(this,arguments)}return l(t,e),t.prototype.template="onboarding/join",t.prototype.container="#fre",t.prototype.className="join",t.prototype.showBanner=!1,t.prototype.autoRender=!0,t.prototype.section=!1,t.prototype.transitionSpeed=300,t.prototype.events={"keyup #user-username":"checkUsernameDebounced","blur #user-email":"checkValidEmail","click #connect-facebook":"doFacebookLogin","click #connect-twitter":"doTwitterLogin","click #create-account":"toCreateAccount","submit form":"doRegister","change #check-password":"toggleInputType"},t.prototype.initialize=function(e){var n=this;return t.__super__.initialize.apply(this,arguments),$(this.container).empty().fadeIn(this.transitionSpeed),$("#delicious").hide(),this.subscribeEvent("join:checkedUserExists",this.showUsernameExistsError),this.subscribeEvent("join:userJoined",this.authenticateNewUser),this.subscribeEvent("join:signinWithService",this.authenticateProviderUser),this.subscribeEvent("join:signupWithService",this.signupWithService),this.section=e.section,history.pushState&&(window.onpopstate=function(e){return e.state?n.toJoinHome():void 0}),this.checkUsernameDebounced=_.debounce(this.checkUsernameExists,100)},t.prototype.afterRender=function(){return t.__super__.afterRender.apply(this,arguments),$.getScript("https://www.google.com/recaptcha/api/js/recaptcha_ajax.js",function(e,t){return t||o.log("Failed to load the Goolge ReCaptcha script"),Recaptcha.create("6Lf2VNkSAAAAAHpjH1J1nqEZxV4UEBWNAHrc8QLF","join-captcha",{theme:"custom"})}),"create"===this.section?this.toCreateAccount():void 0},t.prototype.toggleInputType=function(){return $("#user-password").get(0).type="checked"===this.$("#check-password").attr("checked")?"text":"password"},t.prototype.showErrorInfo=function(e){var t;return t=null!=e?"<p>"+e+"</p>":"",$(".error_info").html(t)},t.prototype.toJoinHome=function(){return this.$(".slide2").removeClass("active"),this.$(".slide1").addClass("active").removeClass("done")},t.prototype.toCreateAccount=function(e){return null!=e&&history.pushState&&history.pushState({section:"create"},"Hello","join/create"),this.$(".slide1").removeClass("active").addClass("done"),this.$(".slide2").addClass("active")},t.prototype.toProfile=function(){var e;e=this.model.get("username"),window.location.href="/"+e},t.prototype.checkValidEmail=function(){var e,t;return e=this.$("#user-email").val(),t=/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/,this.showErrorInfo(t.test(e)||0===e.length?null:"Please enter a valid email address")},t.prototype.checkUsernameExists=function(){var e;return e=$("#user-username").val(),e.length>0?i.user.existsUser(e):e.length>1?this.showErrorInfo(null):void 0},t.prototype.showUsernameExistsError=function(e){return e.available?this.showErrorInfo(null):this.showErrorInfo("Sorry, the username '"+e.username+"', has already been taken. Please choose another username.")},t.prototype.authenticateNewUser=function(e){return e.success?this.model.loginSilent().done(this.toProfile):(Recaptcha.reload(),"invalid_captcha"===e.status?this.showErrorInfo("Sorry, you typed the words incorrectly. Please try again - we need to make sure youâ€™re human!"):this.showErrorInfo(e.error.charAt(0).toUpperCase()+e.error.slice(1)))},t.prototype.signupWithService=function(e){var t,n;return n=t="@"===e.displayName[0]?e.displayName.slice(1):e.displayName,$("#user-username").val(n),$("#user-full-name").val(t),this.toCreateAccount()},t.prototype.authenticateProviderUser=function(e){return this.model.set({username:e.username,password_hash:e.password}),this.model.loginSilent().done(this.toProfile)},t.prototype.doRegister=function(e){var t;return e.preventDefault(),t=this.getFormData(),t.username&&t.email&&t.name&&t.password?(this.model.set({full_name:t.name,display_name:t.username,email:t.email,username:t.username,password:t.password,recaptcha_challenge_field:Recaptcha.get_challenge(),recaptcha_response_field:Recaptcha.get_response()}),this.model.register()):(this.showErrorInfo("Please complete all the fields to continue."),void 0)},t.prototype.doTwitterLogin=function(e){return e.preventDefault(),this.model.loginWithThirdParties("twitter")},t.prototype.doFacebookLogin=function(e){return e.preventDefault(),this.model.loginWithThirdParties("facebook")},t.prototype.dispose=function(){return t.__super__.dispose.apply(this,arguments),$("#delicious").show(),$("#fre").hide()},t}(r)}).call(this)}}),window.require.define({"views/auth/login":function(e,t,n){(function(){var e,r,o,i,s={}.hasOwnProperty,a=function(e,t){function n(){this.constructor=e}for(var r in t)s.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};o=t("lib/logger"),i=t("mediator"),r=t("views/base/modal"),n.exports=e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return a(t,e),t.prototype.template="layout/login_modal",t.prototype.events={"submit form":"toggleSubmitButton"},t.prototype.initialize=function(e){return this.options=null!=e?e:{},this.options=_.extend(this.defaults,{title:"Sign in to Delicious",size:"slim"}),t.__super__.initialize.apply(this,arguments),o.log("Initializing the LoginModal"),this.subscribeEvent("login:success",this.hide),this.subscribeEvent("auth:bad_credentials",this.error)},t.prototype.afterRender=function(){return t.__super__.afterRender.apply(this,arguments),this.options.redirect===!1?this.$(".modal-footer a").attr("target","_blank"):void 0},t.prototype.error=function(){return this.$(".modal-body").prepend('<div class="alert alert-error">Incorrect username or password.</div>'),this.$('button[type="submit"]').button("reset")},t.prototype.toggleSubmitButton=function(){return this.$el.find(".alert").remove(),this.$('button[type="submit"]').button("loading")},t}(r)}).call(this)}}),window.require.define({"views/auth/login_modal":function(e,t,n){(function(){var e,r,o,i={}.hasOwnProperty,s=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};o=t("lib/logger").log,r=t("views/base/modal"),n.exports=e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.template="layout/login_modal",t.prototype.events={"submit form":"toggleSubmitButton"},t.prototype.initialize=function(e){var n=this;return this.options=null!=e?e:{},this.defaults={title:"Sign in to Delicious",size:"slim",callback:!1,isModal:!0},t.__super__.initialize.apply(this,arguments),o("Initializing the Login View (Modal)"),this.subscribeEvent("login:success",function(){return n.hide,n.options.callback?n.options.callback():void 0}),this.subscribeEvent("auth:failure",this.error)},t.prototype.error=function(){return this.$(".modal-body").prepend('<div class="alert alert-error">Incorrect username or password.</div>'),this.$('button[type="submit"]').button("reset")},t.prototype.hide=function(){return o("Hiding the Login Modal"),this.$el.modal("hide")},t.prototype.toggleSubmitButton=function(){return this.$el.find(".alert").remove(),this.$('button[type="submit"]').button("loading")},t}(r)}).call(this)}}),window.require.define({"views/auth/splash":function(e,t,n){(function(){var e,r,o,i,s=function(e,t){return function(){return e.apply(t,arguments)}},a={}.hasOwnProperty,l=function(e,t){function n(){this.constructor=e}for(var r in t)a.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};o=t("lib/logger"),i=t("mediator"),e=t("views/base/page"),n.exports=r=function(e){function t(){return this.doFacebookSignup=s(this.doFacebookSignup,this),this.doTwitterSignup=s(this.doTwitterSignup,this),t.__super__.constructor.apply(this,arguments)}return l(t,e),t.prototype.template="onboarding/splash",t.prototype.className="splash",t.prototype.containedLayout=!1,t.prototype.autoRender=!0,t.prototype.showBanner=!1,t.prototype.events={"click #connect-twitter":"doTwitterSignup","click #connect-facebook":"doFacebookSignup"},t.prototype.initialize=function(){return t.__super__.initialize.apply(this,arguments),$("body").addClass("splash-container")},t.prototype.doTwitterSignup=function(e){return e.preventDefault(),i.auth.promptServiceLogin("twitter",{redirect:!1})},t.prototype.doFacebookSignup=function(e){return e.preventDefault(),i.auth.promptServiceLogin("facebook",{redirect:!1})},t.prototype.dispose=function(){return $("body").removeClass("splash-container"),t.__super__.dispose.apply(this,arguments)},t}(e)}).call(this)}}),window.require.define({"views/base/autocomplete":function(e,t,n){(function(){var e,r,o={}.hasOwnProperty,i=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};r=t("lib/view"),n.exports=e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,e),t.prototype.autoRender=!0,t.prototype.containerMethod="html",t.prototype.container="#global-search-autocomplete-container",t.prototype.template="layout/autocomplete",t.prototype.className="autocomplete",t.prototype.events={"click a.item":"hide"},t.prototype.initialize=function(){var e=this;return t.__super__.initialize.apply(this,arguments),this.subscribeEvent("search:showAutocomplete",function(t){return e.autocompleteParams=t,e.show()}),this.subscribeEvent("search:hideAutocomplete",this.hide),this.subscribeEvent("search:moveAutocompleteItem",this.handleUpDownArrow)},t.prototype.show=function(){var e,t,n;return this.render(),(e=null!=(n=this.autocompleteParams)?n.fragment:void 0)&&(/@/.test(e)?this.$el.parent().addClass("autocomplete-users"):/\[/.test(e)?this.$el.parent().addClass("autocomplete-tag-bundles"):this.$el.parent().removeClass("autocomplete-users").removeClass("autocomplete-tag-bundles")),this.$el.parent().addClass("active"),t=this.$("a.item"),t.removeClass("selected"),t.filter(":visible:first").addClass("selected"),!1},t.prototype.hide=function(){return this.$el.parent().removeClass("active"),!1},t.prototype.handleUpDownArrow=function(e){var t,n,r;switch(n=this.$("a.item:visible"),t=n.index(this.$("a.item:visible.selected")),r=_.max([n.length-1,0]),e.which){case 38:t-=1,0>t&&(t=r);break;case 40:t+=1,t>r&&(t=0)}return this.$("a.item").removeClass("selected"),$(n.get(t)).addClass("selected")},t.prototype.getTemplateData=function(){var e,t,n,r,o,i;return i=this.autocompleteParams||{},t=i.regexp,e=i.fragment,r=i.tags,o=i.users,n=i.tagBundles,e&&/^@/.test(e)?(e=e.replace("@",""),_.each(o||[],function(n){return t&&e?(n.username_markup=n.username.replace(t,"<em>$1</em>"),n.full_name_markup=n.full_name.replace(t,"<em>$1</em>")):(n.username_markup=n.username,n.full_name_markup=n.full_name)}),{users:o}):e&&/^\[/.test(e)?(e=e.replace(/\[|\]/g,""),_.each(n||[],function(n){return n.name_markup=t&&e?n.name.replace(t,"<em>$1</em>"):n.name}),{tagBundles:n}):(_.each(r||[],function(n){return n.name_markup=t&&e?n.name.replace(t,"<em>$1</em>"):n.name}),{tags:r})},t}(r)}).call(this)}}),window.require.define({"views/base/banner":function(e,t,n){(function(){var e,r,o,i,s,a,l,u,p,c=function(e,t){return function(){return e.apply(t,arguments)}},d={}.hasOwnProperty,h=function(e,t){function n(){this.constructor=e}for(var r in t)d.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};l=t("lib/avos"),u=t("lib/logger"),p=t("mediator"),s=t("models/tags"),a=t("lib/view"),i=t("views/base/modal"),r=t("lib/delicious_autocomplete_items"),o=t("views/base/delicious_autocomplete_items_view"),n.exports=e=function(e){function n(){return this.updateActiveLink=c(this.updateActiveLink,this),n.__super__.constructor.apply(this,arguments)}return h(n,e),n.prototype.container="#delicious",n.prototype.containerMethod="prepend",n.prototype.template="layout/banner",n.prototype.tagName="header",n.prototype.className="page-header",n.prototype.events={"submit form.global-search":"performSearch","mousedown form.global-search .search-submit":"performSearch","click .dropdown":"clickDropdown",'click a[href="#sign-out"]':"clickSignOut",'click a[href="#add-link"]':"clickAddLink"},n.prototype.initialize=function(){var e,t=this;return n.__super__.initialize.apply(this,arguments),this.mixin("lib/search_params"),null!=(e=this.model)&&e.on("change",function(){return u.log("Model changed, re-rendering the banner view."),t.render()}),this.subscribeEvent("!router:changeURL",this.updateActiveLink),this.subscribeEvent("search:changeURL",function(e){return t.publishEvent("!router:changeURL",t.searchPathFromSearchParams(e))})},n.prototype.afterRender=function(){var e,i;return n.__super__.afterRender.apply(this,arguments),e=(null!=(i=p.user)?i.get("isLoggedIn"):void 0)?p.user.autocompleteItems():new r,this.autocomplete=new o({el:this.$el.find(".autocomplete"),collection:e,itemView:t("views/base/delicious_autocomplete_item_view")})},n.prototype.clickDropdown=function(e){var t,n=this;if(!this.isTouch()){if(_.defer(function(){return n.$(".dropdown").removeClass("open")}),t=$(e.target).closest("a.nav-link"),!t[0])return;return p.publish("!router:route",t.attr("href"))}},n.prototype.clickSignOut=function(e){return e.preventDefault(),u.log("User logout clicked - logging out user:",p.user),p.user.logout(),window.location.href=l.defaultRoute},n.prototype.clickAddLink=function(e){return e.preventDefault(),$("#add-link.modal").length?void 0:p.user.get("isLoggedIn")?(u.log("Initialize the add link modal"),new i({title:"Add a new link to Delicious",template:"links/add_from_url",id:"add-link",size:"normal"})):p.auth.promptLogin({title:"Sign in to save a link",redirect:!1}).done(_.bind(this.clickAddLink,this,e))
},n.prototype.updateActiveLink=function(e){var t;return e=e.split("/")[0],t="discover"===e?"discover":"network"===e?"network":e===this.model.get("username")?"remember":void 0,t?this.$(".nav-"+t).addClass("active-nav").siblings().removeClass("active-nav"):this.$(".active-nav").removeClass("active-nav")},n.prototype.performSearch=function(e){var t,n;return e.preventDefault(),n=this.searchParamsFromSearchString($(".autocomplete input").val()),t=this.searchPathFromSearchParams(n),this.publishEvent("!router:route",t),!1},n}(a)}).call(this)}}),window.require.define({"views/base/delicious_autocomplete_item_view":function(e,t,n){(function(){var e,r,o,i={}.hasOwnProperty,s=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};o=t("mediator"),r=encodeURIComponent,n.exports=e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return s(n,e),n.prototype.initialize=function(){return n.__super__.initialize.apply(this,arguments),this.username=o.user.get("username")},n.prototype.template=function(e){return this._template||(this._template=t("templates/search/autocomplete_result")),this._template(e)},n.prototype.render=function(e){var t,n;return t=this.model.toJSON(),_.each([this.model.key(),"description"],function(n){return t.hasOwnProperty(n)?t[""+n+"AsHTML"]=t[n].replace(e,"<em>$1</em>"):void 0}),this.$el.html(this.template(t)),"@"!==this.model.get("token")?(n=_.map(["@"+this.username,this.model.completion()],r).join(" "),this.$el.attr("data-autocomplete-completion",n)):this.$el.attr("data-autocomplete-completion",r(this.model.completion())),this},n}(AutocompleteItemView)}).call(this)}}),window.require.define({"views/base/delicious_autocomplete_items_view":function(e,t,n){(function(){var e,r,o={}.hasOwnProperty,i=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};r=t("mediator"),n.exports=e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,e),t.prototype.initialize=function(){var e=this;return t.__super__.initialize.apply(this,arguments),r.subscribe("autocomplete:clear",function(){return e.trigger("autocomplete:clear")}),r.subscribe("autocomplete:replace",function(t){return e.trigger("autocomplete:replace",t)}),r.subscribe("autocomplete:append",function(t){return e.trigger("autocomplete:append",t)})},t}(AutocompleteItemsView)}).call(this)}}),window.require.define({"views/base/flash":function(e,t,n){(function(){var e,r,o={}.hasOwnProperty,i=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};r=t("lib/view"),n.exports=e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,e),t.prototype.containerMethod="prepend",t.prototype.className="alert fade in",t.prototype.container="#delicious",t.prototype.initialize=function(){return _.defaults(this.options,{type:"info",autoDestroy:2500,closeOnXClick:!0}),t.__super__.initialize.apply(this,arguments)},t.prototype.render=function(){var e,n=this;return t.__super__.render.apply(this,arguments),this.options.flash?(this.$el.addClass("alert-"+this.options.type),e=this.options.flash,this.options.closeOnXClick&&(e+='<a href="#" class="close" data-dismiss="alert">Ã—</a>'),this.$el.html(e).bind("closed",_.bind(this.dispose,this)),this.options.autoDestroy?_.delay(function(){var e;return null!=(e=n.$el)?e.alert("close"):void 0},this.options.autoDestroy):void 0):void 0},t}(r)}).call(this)}}),window.require.define({"views/base/html":function(e,t,n){(function(){var e,r,o,i={}.hasOwnProperty,s=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};o=t("mediator"),r=t("lib/view"),n.exports=e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.autoRender=!0,t.prototype.containedLayout=!0,t.prototype.showBanner=!0,t.prototype.defaults={includeFooter:!0},t.prototype.render=function(){var e;return t.__super__.render.apply(this,arguments),this.options.url&&this.$el.load("/html/"+this.options.url+".html",_.bind(this.trigger,this,"htmlLoaded")),this.options.includeFooter?(e=Handlebars.partials.footer(),this.$el.append('<div class="container">'+e+"</div>")):void 0},t}(r)}).call(this)}}),window.require.define({"views/base/modal":function(e,t,n){(function(){var e,r,o,i={}.hasOwnProperty,s=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};r=t("lib/view"),o=t("lib/avos"),n.exports=e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.container="body",t.prototype.className="modal hide fade",t.prototype.attributes={role:"dialog","aria-hidden":!0,tabindex:"-1"},t.prototype.spinner=!1,t.prototype.defaults={title:!1,closeOnXClick:!0,closeOnBackgroundClick:!0,size:"normal"},t.prototype.initialize=function(){var e=this;return this.subscribeEvent("!router:route",function(){var t;return null!=(t=e.$el)?t.modal("hide"):void 0}),this.$el.on("hidden",_.bind(this.dispose,this)),this.spinner&&this.showSpinner(),t.__super__.initialize.apply(this,arguments)},t.prototype.getTitle=function(){return this.options.title?_.isFunction(this.options.title)?this.options.title.apply(this):this.options.title:void 0},t.prototype.addTitle=function(){return this.titleAdded?void 0:(this.getTitle()&&this.$el.prepend('<div class="modal-header"><h3>'+this.getTitle()+"</h3></div>"),this.options.closeOnXClick&&this.$(".modal-header, .modal-body").first().prepend('<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>'),this.titleAdded=!0)},t.prototype.afterRender=function(){var e=this;return t.__super__.afterRender.apply(this,arguments),this.$el.addClass("size-"+this.options.size),this.options.closeOnBackgroundClick||this.$el.attr("data-backdrop","static"),this.collection&&0===this.collection.length||this.addTitle(),this.options.html&&(this.modalBody='<div class="modal-body">'+this.options.html+"</div>",this.$el.append(this.modalBody)),_.delay(function(){var t;return null!=(t=e.$el)?t.find('input:not([type="hidden"]), select, textarea, btn.primary').first().focus():void 0},300),this.$el.modal("show"),this.hideSpinner()},t.prototype.showSpinner=function(){return this.$el.addClass("modal-loading").modal("show"),this.autoRender=!1,this.$spinner=$('<div class="loading"></div>').appendTo(this.$el).spin(_.extend(o.spinner.defaults,{color:"white"}))},t.prototype.hideSpinner=function(){var e;if(this.spinner)return this.$el.removeClass("modal-loading"),null!=(e=this.$spinner)&&e.remove(),this.spinner=!1},t.prototype.hide=function(){var e;return null!=(e=this.$el)?e.modal("hide"):void 0},t.prototype.dispose=function(){return this.spinner&&this.$spinner.remove(),t.__super__.dispose.apply(this,arguments)},t}(r)}).call(this)}}),window.require.define({"views/base/modal_collection":function(e,t,n){(function(){var e,r,o={}.hasOwnProperty,i=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};r=t("views/base/modal"),n.exports=e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,e),t.prototype.listSelector=".modal-body",t.prototype.id="modal-collection",t.prototype.loadingIndicator=!0,t.prototype.defaults={title:!1,size:"slim",closeOnXClick:!0},t.prototype.initialize=function(){return t.__super__.initialize.apply(this,arguments),this.modelBind("reset",this.renderCollection),this.$el.html('<div class="modal-body">\n  <div class="loading"></div>\n</div>')},t.prototype.render=function(){return 0!==this.collection.length&&this.renderCollection(),t.__super__.render.apply(this,arguments)},t.prototype.renderCollection=function(){var e,t=this;return this.addTitle(),this.$(this.fallbackSelector).hide(),e=[],this.collection.each(function(n,r){var o;return t.itemView?(o=new t.itemView({model:t.collection.at(r)}),e.push(o.$el.outerHtml())):void 0}),this.$(this.listSelector).html(e.join(""))},t}(r)}).call(this)}}),window.require.define({"views/base/page":function(e,t,n){(function(){var e,r,o,i={}.hasOwnProperty,s=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};o=t("mediator"),r=t("lib/view"),n.exports=e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.container="#delicious",t.prototype.autoRender=!1,t.prototype.containedLayout=!0,t.prototype.className="pageview",t.prototype.showBanner=!0,t.prototype.initialize=function(){var e,n,r=this;return t.__super__.initialize.apply(this,arguments),(this.model||this.collection)&&(e=!1,this.modelBind("change",function(){return e||r.render(),e=!0})),$("#delicious").toggleClass("container",this.containedLayout===!0),null!=(n=o.layout)?n.toggleBanner(this.showBanner):void 0},t.prototype.afterRender=function(){return t.__super__.afterRender.apply(this,arguments),store.get("hasReadNewTerms")||this.$("#terms-update-alert").show(),this.isMobile()?this.$(".delicious-footer").appendTo(this.$el):void 0},t}(r)}).call(this)}}),window.require.define({"views/base/popover":function(e,t,n){(function(){var e,r,o,i={}.hasOwnProperty,s=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};o=t("mediator"),r=t("lib/view"),n.exports=e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.autoRender=!1,t.prototype.container="body",t.prototype.initialize=function(e){var n;return this.options=null!=e?e:{},t.__super__.initialize.apply(this,arguments),this.$el?(this.mixin("views/user/mixins/follow_button"),e=_.defaults(this.options,{content:this.getRenderedContent(),stopChildrenPropagation:!1}),this.$el.popover(e),n=this.$el.popover("getData"),null!=n&&(n.popover.on("click",'[href="#follow"]',$.proxy(this.clickFollow,this)),n.popover.on("click",'[href="#unfollow"]',$.proxy(this.clickUnfollow,this)),this.$el.hover(function(){return Socialite.load(n.popover)})),this.model?this.modelBind("change",this.renderContent,this):void 0):void 0},t.prototype.render=function(){return this},t.prototype.getRenderedContent=function(){return this.getTemplateFunction()(this.getTemplateData())},t.prototype.renderContent=function(){var e,t;return e=null!=(t=this.$el)?t.popover("getData"):void 0,null!=e?e.popover.find(".content").html(this.getRenderedContent()):void 0},t.prototype.dispose=function(){var e;return(null!=(e=this.$el)?e.popover("getData"):void 0)&&this.$el.popover("destroy"),t.__super__.dispose.apply(this,arguments)},t}(r)}).call(this)}}),window.require.define({"views/base/section":function(e,t,n){(function(){var e,r,o,i,s={}.hasOwnProperty,a=function(e,t){function n(){this.constructor=e}for(var r in t)s.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};r=t("lib/model"),o=t("views/base/page"),e=t("views/base/html"),n.exports=i=function(n){function o(){return o.__super__.constructor.apply(this,arguments)}return a(o,n),o.prototype.autoRender=!0,o.prototype.id="section",o.prototype.template="layout/page",o.prototype.events={"click .question":"clickQuestion","click #help-expand-all":"clickHelpExpandAll"},o.prototype.initialize=function(e){var t,n,i,s;return this.options=e,n=_.where(this.options.pages,{id:e.currentId}),t=n.length?n[0]:this.options.pages[0],s=_.where(t.subpages,{id:this.options.currentSectionId}),i=s.length?s[0]:!1,this.model=new r({url:this.options.page,nav:this.options.pages,page:t,section:i}),o.__super__.initialize.apply(this,arguments)},o.prototype.render=function(){var n,r,i,s=this;return o.__super__.render.apply(this,arguments),r=this.model.get("page"),this.$('".section_nav a[data-page-id="'+r.id+'"]').addClass("active"),i=this.model.get("section"),i?(n=t(i.view),this.subview("page",new n({model:i.model,container:this.$(".content"),template:i.template,service:i.id}))):r.view?(n=t(r.view),this.subview("page",new n({model:r.model,container:this.$(".content")}))):r.url?(this.subview("page",new e({url:r.url,container:this.$(".content"),includeFooter:!1})),this.subview("page").on("htmlLoaded",function(){return s.$(".answer").addClass("collapse"),s.options.params.questionid?s.$('[href$="/'+s.options.params.questionid+'"]').trigger("click"):void 0})):void 0},o.prototype.clickQuestion=function(e){var t;return e.preventDefault(),t=$(e.target),this.publishEvent("!router:changeURL",t.attr("href")),$(window).scrollTop(t.next(".answer").toggleClass("collapse").offset().top-100)},o.prototype.clickHelpExpandAll=function(e){var t;return e.preventDefault(),t=$(e.target),"Collapse all answers"===t.text()?($(".answer").addClass("collapse"),t.text("Expand all answers")):($(".answer").removeClass("collapse"),t.text("Collapse all answers"))},o.prototype.afterRender=function(){var e,t;return o.__super__.afterRender.apply(this,arguments),e=this.model.get("section"),t=this.$(".section_subnav"),e?t.show():t.slideDown(150)},o}(o)}).call(this)}}),window.require.define({"views/chrome":function(e,t,n){(function(){var e,r,o,i={}.hasOwnProperty,s=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};o=t("lib/logger"),r=t("views/base/page"),n.exports=e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.autoRender=!0,t.prototype.className="pageview big-text",t.prototype.initialize=function(){return t.__super__.initialize.apply(this,arguments),o.log("Initializing the Chrome Quicktour View")},t.prototype.render=function(){return this.$el.append("<h1>Thanks for installing the Delicious Chrome extension!</h1>"),this},t}(r)}).call(this)}}),window.require.define({"views/home":function(e,t,n){(function(){var e,r,o,i={}.hasOwnProperty,s=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};o=t("lib/logger"),r=t("views/base/page"),n.exports=e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.template="home",t.prototype.id="home",t.prototype.autoRender=!0,t.prototype.showBanner=!0,t.prototype.containedLayout=!1,t.prototype.initialize=function(){return t.__super__.initialize.apply(this,arguments),o.log("Initializing the Home View"),this.$body=$("body").addClass("home")},t.prototype.afterRender=function(){return t.__super__.afterRender.apply(this,arguments),setTimeout(function(){return $("#home-first").css("left","0")},100),setTimeout(function(){return $("#home-second").css("left","0")},250),setTimeout(function(){return $("#home-third").css("left","0")},500),setTimeout(function(){return $(".circle-wrapper").addClass("in"),$("#home-screenshot").addClass("in")},1e3),$(".circle").on("mouseover",this.showHint),$(".circle").on("mouseout",this.hideHint)},t.prototype.showHint=function(e){var t;return t=$(e.target).siblings(".hint"),t.addClass("in")},t.prototype.hideHint=function(e){var t;return t=$(e.target).siblings(".hint"),t.removeClass("in")},t.prototype.dispose=function(){return t.__super__.dispose.apply(this,arguments),this.$body.removeClass("home"),$(".circle").off("mouseover",this.showHint),$(".circle").off("mouseout",this.hideHint)},t}(r)}).call(this)}}),window.require.define({"views/layout":function(e,t,n){(function(){var e,r,o,i,s,a,l,u,p,c=function(e,t){return function(){return e.apply(t,arguments)}},d={}.hasOwnProperty,h=function(e,t){function n(){this.constructor=e}for(var r in t)d.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};l=t("lib/api"),r=t("chaplin"),s=t("models/link"),u=t("lib/logger"),p=r.mediator,a=t("views/base/modal"),e=t("views/base/banner"),o=t("views/base/flash"),n.exports=i=function(t){function n(){return this.updateTagsContainers=c(this.updateTagsContainers,this),n.__super__.constructor.apply(this,arguments)}return h(n,t),n.prototype.events={"contextmenu .page-header .logo":"showLogoDialog",'submit form[data-action="login"]':"submitLoginForm",'submit form[data-action="addFromUrl"]':"submitAddLink",'click a[href="#login"]':"showLogin",scroll:"triggerLoadMoreEvent",'click a[href="#more"]':"clickLoadMoreButton","hover [data-tag]":"hoverTag","mouseout [data-tag]":"unhoverTag","click [data-tag]":"clickTag","click [data-tag-bundle]":"clickTagBundle","click [data-user]":"clickUser",'hover [href="#unfollow"]':"hoverUnfollow","click .help-prompt":"showHelp","click [data-track-group]":"trackClick","click [data-track-outbound]":"trackOutboundLink"},n.prototype.initialize=function(){var t=this;return n.__super__.initialize.apply(this,arguments),this.subscribeEvent("search:searching",function(){return t.loadMoreIsRunning=!0}),this.subscribeEvent("search:finish",function(){return t.loadMoreIsRunning=!1}),this.subscribeEvent("search:fetch",this.updateTagsContainers),this.$page=$("#delicious"),key("shift+/",this.showHelp),"/save"!==window.location.pathname&&"/post"!==window.location.pathname&&(this.banner=new e({model:p.user}),"/"!==window.location.pathname)?this.checkForMeiWeiPromo():void 0},n.prototype.showLogoDialog=function(e){return e.preventDefault(),this.logoDialog=new a({template:"layout/logo_dialog",id:"logo-modal",title:"Download our logo",size:"slim"})},n.prototype.showHelp=function(e){return null!=e&&e.preventDefault(),$(".modal").length?void 0:(u.log("Initializing the help dialog"),this.help=new a({template:"layout/help",id:"help-modal",size:"normal",title:"Delicious tips and tricks"}))},n.prototype.submitLoginForm=function(e){var t,n,r,o;return e.preventDefault(),t=$(e.target),o=t.formParams(),r=o.username,n=o.password,r&&n?(u.log("Login form submitted with the following params:",{username:r,password:n}),p.publish("auth:login",{username:r,password:n})):(t.find('button[type="submit"]').button("reset"),void 0)},n.prototype.showLogin=function(e){return e.preventDefault(),p.auth.promptLogin()},n.prototype.submitAddLink=function(e){var t,n;return e.preventDefault(),t=$(e.target).formParams(),u.log("Submitting the add link modal",{url:t["new-url"]}),""!==t["new-url"]?(n=new s({url:t["new-url"]}),p.links.compose({model:n,redirect:!1}),$("#add-link.modal").modal("hide")):void 0},n.prototype.triggerLoadMoreEvent=function(e){var t=this;return this._throttledTriggerLoadMoreEvent||(this._throttledTriggerLoadMoreEvent=_.throttle(function(e){var n,r,o,i,s;if(!t.loadMoreIsRunning)return i=$(window).scrollTop(),o=i+$(window).height(),n=$(".links-container:last").parent(),s=n.height(),r=o/s>=.55,r?t.clickLoadMoreButton(e):void 0},250)),this._throttledTriggerLoadMoreEvent(e)},n.prototype.clickLoadMoreButton=function(e){return null!=e&&e.preventDefault(),p.publish("search:loadMore"),!1},n.prototype.hoverTag=function(e){var t,n,r;return t=$(e.target),r=encodeURIComponent(t.attr("data-tag")),n=$("[data-tag]").removeClass("hovering"),r?n.filter('[data-tag="'+r+'"]').not(t).addClass("associated"):void 0},n.prototype.unhoverTag=function(){return $("[data-tag]").removeClass("associated")},n.prototype.clickTag=function(e){var t,n;return e.preventDefault(),t=$(e.target),n=t.attr("data-tag"),t.closest(".tags-container").is(".exclusive-tag-search")?this.publishEvent("search:onlyTag",n):this.publishEvent("search:addTag",n),!1},n.prototype.clickTagBundle=function(e){var t,n;return e.preventDefault(),t=$(e.target),n=t.attr("data-tag-bundle"),this.publishEvent("search:onlyTagBundle",n),this.publishEvent("search:hideAutocomplete")},n.prototype.clickUser=function(e){var t,n;return e.preventDefault(),t=$(e.target),n=t.attr("data-user"),this.publishEvent("search:addUsername",n)},n.prototype.hoverUnfollow=function(e){return $(e.target).text("mouseenter"===e.type?"Unfollow":"Following")},n.prototype.checkForMeiWeiPromo=function(){var e=this;return l({url:"/public/headers",success:function(t){var n,r;return n=t.pkg["Accept-Language"],-1===n.search(/zh/)||store.get("closedNotification-info-xPromoForMeiweisq")?void 0:(r=new o({type:"notification",autoDestroy:3e5,notiId:"xPromoForMeiweisq",flash:'æ‚¨æ˜¯ä¸­æ–‡ç”¨æˆ·å—ï¼Ÿå¿«æ¥ä½“éªŒæˆ‘ä»¬çš„ä¸­æ–‡äº§å“å§ï¼<a target="_blank" href="http://meiweisq.com/delicious"><img data-track-group="promo" data-track-name="meiweisq" src="//meiweisq.com/static/meiweisq-logo.png"></a>'}),r.$el.bind("closed",function(){return store.set("closedNotification-info-xPromoForMeiweisq",!0)}),e.banner.subview("meiwei-promo",r))}})},n.prototype.toggleBanner=function(e){var t,n;return null!=(t=this.banner)?null!=(n=t.$el)?n.toggle(e):void 0:void 0},n.prototype.updateTagsContainers=function(e){var t,n;return(null!=(t=e.tags)?t.length:void 0)>0||(null!=(n=e.keywords)?n.length:void 0)>0?this.$page.addClass("filtering-tags").removeClass("filtering-tag-bundle"):e.tagBundle?this.$page.addClass("filtering-tag-bundle").removeClass("filtering-tags"):this.$page.removeClass("filtering-tags").removeClass("filtering-tag-bundle")},n.prototype.trackClick=function(e){var t,n,r;return t=$(e.target),r=t.attr("data-track-group"),n=t.attr("data-track-name")||t.attr("title")||t.text(),n?_gaq.push(["_trackEvent",r,"click",n]):void 0},n.prototype.trackOutboundLink=function(e){var t;return e.preventDefault(),t=$(e.target).attr("data-track-outbound"),_gaq.push(["_trackEvent","Outbound Link",t]),_.delay(function(){return window.open(t,"_blank")},100)},n}(r.Layout)}).call(this)}}),window.require.define({"views/links/bulk":function(e,t,n){(function(){var e,r,o,i,s,a=function(e,t){return function(){return e.apply(t,arguments)}},l={}.hasOwnProperty,u=function(e,t){function n(){this.constructor=e}for(var r in t)l.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};o=t("lib/encode"),i=t("lib/logger"),s=t("mediator"),r=t("views/base/modal"),n.exports=e=function(e){function t(){return this.setupTagAutoComplete=a(this.setupTagAutoComplete,this),t.__super__.constructor.apply(this,arguments)}return u(t,e),t.prototype.template="links/bulk",t.prototype.id="edit-bulk",t.prototype.events={"submit form":"submitEditBulk",'click [href="#remove"]':"clickDelete"},t.prototype.initialize=function(){return t.__super__.initialize.apply(this,arguments)},t.prototype.afterRender=function(){return t.__super__.afterRender.apply(this,arguments),_.delay(this.setupTagAutoComplete,400)},t.prototype.setupTagAutoComplete=function(){var e=this;return this.$("#input-tags-bulk").select2({openOnEnter:!1,tags:function(){return e.model.relatedTags(e.$("#input-tags-bulk").val())||[]},tokenSeparators:[","],formatNoMatches:function(){return""}})},t.prototype.submitEditBulk=function(e){var t,n,r,i=this;return e.preventDefault(),n=$("#input-tags-bulk").val().split(","),n.length>0?(r=[],_.each($(".link.selected").find(".link-url"),function(e){return r.push($(e).attr("title"))}),t={tags:o(n),urls:o(r)},this.model.bulkEdit(t).always(function(){var e;return e='<span class="d-icon-tag"></span>',_.each(n,function(t,n){return t=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),n>0&&(e+=", "),e+='<a class="tag-small" data-tag="'+t+'" href="#">'+t+"</a>"}),_.each($(".link.selected"),function(t){var n;return n=$(t).find(".link-tags"),n.html(""),n.append(e)}),i.hide()})):void 0},t.prototype.clickDelete=function(e){return e.preventDefault()},t.prototype.dispose=function(){return this.$("#input-tags").select2("destroy"),t.__super__.dispose.apply(this,arguments)},t}(r)}).call(this)}}),window.require.define({"views/links/detail":function(e,t,n){(function(){var e,r,o,i=function(e,t){return function(){return e.apply(t,arguments)}},s={}.hasOwnProperty,a=function(e,t){function n(){this.constructor=e}for(var r in t)s.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};r=t("views/notes/notes_collection"),o=t("lib/view"),n.exports=e=function(e){function t(){return this.closeShare=i(this.closeShare,this),t.__super__.constructor.apply(this,arguments)}return a(t,e),t.prototype.autoRender=!0,t.prototype.className="link-details closed span4",t.prototype.container="#delicious .pageview .row",t.prototype.template="links/detail",t.prototype.events={"click [data-tag]":"clickTag","click #details-share-button":"clickShare","click .share-popup":"sharePopup"},t.prototype.initialize=function(){return t.__super__.initialize.apply(this,arguments),this.mixin("lib/search_params"),this.modelBind("change",this.render)},t.prototype.afterRender=function(){return t.__super__.afterRender.apply(this,arguments),this.notes=this.model.notes(),this.subview("notes",new r({collection:this.notes,container:".others.comments",heading:"Comments from other users",headingLevel:4,showHeadingIfEmpty:!1})),this.notes.fetch(),this.$(".scrollable").scrollable(),this.toggle()},t.prototype.clickTag=function(e){var t,n,r,o;return e.preventDefault(),t=$(e.target),r=t.attr("data-tag"),o=t.closest(".note").find("[data-user]").attr("data-user")||null,n=this.searchPathFromSearchParams({tags:[r],username:o}),this.publishEvent("!router:route",n)},t.prototype.toggle=function(){return this.$el.toggleClass("closed")},t.prototype.clickShare=function(e){return e.preventDefault(),e.stopPropagation(),this.$(".link-share").toggleClass("share-open"),$(document).on("click",this.closeShare)},t.prototype.closeShare=function(e){return $(e.target).closest("#details-share-button-wrapper").length?void 0:(this.$(".link-share").removeClass("share-open"),$(document).off("click",this.closeShare))},t.prototype.sharePopup=function(e){var t,n,r,o,i,s,a,l,u;return e.preventDefault(),u=575,n=400,t=$(window),r=(t.width()-u)/2,a=(t.height()-n)/2,l=$(e.target).attr("href"),l.indexOf("text=")>-1&&(i=l.substring(l.indexOf("text=")+5,l.indexOf("&url=")),o=encodeURIComponent(l.substring(l.indexOf("text=")+5,l.indexOf("&url="))),l=l.replace(i,o)),s="status=1,width="+u+",height="+n+",top="+a+",left="+r,window.open(l,"Share from Delicious",s)},t.prototype.dispose=function(){return $(document).off("click",this.closeShare),t.__super__.dispose.apply(this,arguments)},t}(o)}).call(this)}}),window.require.define({"views/links/edit":function(e,t,n){(function(){var e,r,o,i,s=function(e,t){return function(){return e.apply(t,arguments)}},a={}.hasOwnProperty,l=function(e,t){function n(){this.constructor=e}for(var r in t)a.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};o=t("lib/logger"),i=t("mediator"),r=t("views/base/modal"),n.exports=e=function(e){function t(){return this.toggleShowTags=s(this.toggleShowTags,this),this.setupTagAutoComplete=s(this.setupTagAutoComplete,this),t.__super__.constructor.apply(this,arguments)}return l(t,e),t.prototype.template="links/edit",t.prototype.id="edit-link",t.prototype.spinner=!0,t.prototype.events={"submit form":"submitEditLink",'click [href="#remove"]':"clickDelete","change #input-set-tags":"toggleShowTags","keydown #input-note":"checkNoteLimit","keyup #input-note":"checkNoteLimit"},t.prototype.initialize=function(e){return this.options=null!=e?e:{},_.extend(this.defaults,{title:!1,size:"normal",closeOnXClick:!0,closeOnBackgroundClick:!1}),t.__super__.initialize.apply(this,arguments),o.log("Initializing the LinkEditModal")},t.prototype.afterRender=function(){var e=this;return t.__super__.afterRender.apply(this,arguments),_.delay(this.setupTagAutoComplete,400),_.delay(function(){return e.$("#input-note")[0].focus()},400),this.noteInput=this.$("#input-note"),this.previousTags=!1,this.checkNoteLimit()},t.prototype.setupTagAutoComplete=function(){var e,t,n;return t=_.map(i.user.get("tags"),function(e){return e.name}),e=(null!=(n=this.model.get("recommended"))?n.suggested_tags:void 0)||[],this.$("#input-tags").select2({openOnEnter:!1,tags:_.uniq(t.concat(e)),tokenSeparators:[","],formatNoMatches:function(){return"Enter tags separated by commas"}}),this.$(".select2-results").scrollable()},t.prototype.submitEditLink=function(e){var t,n,r=this;return e.preventDefault(),n=this.$('input[name="tags"]').val(),0>n.indexOf("<")&&0>n.indexOf(">")?(this.showError(""),this.$('button[type="submit"]').button("loading"),t=this.getFormData("description","url","note","tags","private","showTags","replace","chosen_image_md5"),this.model.addOrEdit(t).done(function(){var e;return r.previousTags=!1,null!=(e=r.$el)?e.modal("hide"):void 0})):(this.showError("Tags contain illegal characters"),void 0)},t.prototype.showError=function(e){return this.$(".error").text(e)},t.prototype.toggleShowTags=function(e){var t,n,r,o,i,s,a,l;return t=$(e.target),s=this.$("#input-tags"),r=(null!=(l=this.model.get("recommended"))?l.suggested_tags:void 0)||[],n=s.select2("val"),"checked"===t.attr("checked")?(this.previousTags=n,s.select2("val",_.uniq(n.concat(r)))):(this.previousTags?(i=_.difference(n,r),o=_.uniq(this.previousTags.concat(i)),a=_.difference(o,n),o=_.without.apply(_,[o].concat(a))):o=_.without.apply(_,[n].concat(r)),s.select2("val",_.uniq(o)))},t.prototype.checkNoteLimit=function(){var e,t,n,r,o,i,s;return r=1e3,s=this.noteInput.val(),n=s.length,t=this.$(".char-count"),n>=r?(t.text("Sorry, you have reached the limit!"),n>r?(i=n-r,o=i>2?s.substring(0,r-3)+"...":s.substring(0,r),this.noteInput.val(o)):void 0):(e=r-n,t.text(""+e+" character"+(1===e?"":"s")+" left."))},t.prototype.clickDelete=function(e){var t=this;return e.preventDefault(),confirm("Are you sure?")?this.model.remove().done(function(){var e;return null!=(e=t.$el)?e.modal("hide"):void 0}):void 0},t.prototype.dispose=function(){return $("#input-tags").select2("destroy"),t.__super__.dispose.apply(this,arguments)},t}(r)}).call(this)}}),window.require.define({"views/links/link":function(e,t,n){(function(){var e,r,o,i={}.hasOwnProperty,s=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};o=t("mediator"),r=t("lib/view"),n.exports=e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.template="links/link",t.prototype.className="link",t.prototype.attributes={tabindex:"-1"},t.prototype.events={"click .link-title a":"clickLink",'click [href="#edit"]':"clickEditLink",click:"clickLinkBrick"},t.prototype.initialize=function(){return t.__super__.initialize.apply(this,arguments),this.modelBind("change",_.bind(this.render,this)),this.modalOpen=!1,this.clickEditLinkThrottled=_.debounce(this.showEditModal,600,!0)},t.prototype.render=function(){return t.__super__.render.apply(this,arguments),this.$el.attr("data-md5",this.model.get("md5")),this.$el.toggleClass("private",this.model.get("private")===!0),this.$("time").timeago()},t.prototype.clickLink=function(e){return this.isMobile()?e.preventDefault():void 0},t.prototype.clickLinkBrick=function(e){var t,n,r,i,s,a;return i=e.shiftKey||e.shiftLeft,i&&$.browser.msie&&(this.onselectstart=function(){return!1},r=this,window.setTimeout(function(){return r.onselectstart=null},0)),this.isMobile()&&!$(e.target).parents(".link-badge")[0]&&(s=this.$el.find(".link-title > a").attr("href"),window.open(s,"_blank")),"A"!==e.target.tagName?(e.preventDefault(),n=location.pathname.split("/")[1]===o.user.get("username")||(null!=(a=location.hash.split("#")[1])?a.split("/")[0]:void 0)===o.user.get("username"),n&&(t=$(e.target),t.is(".link")||(t=t.closest(".link")),o.publish("bulkedit:selectone",t,i)),this.publishEvent("list:activateByMd5",this.model.get("md5"))):void 0},t.prototype.clickEditLink=function(e){return e.preventDefault(),this.clickEditLinkThrottled()
},t.prototype.showEditModal=function(){return this.publishEvent("links:compose",{model:this.model})},t}(r)}).call(this)}}),window.require.define({"views/links/list":function(e,t,n){(function(){var e,r,o,i,s,a,l,u,p,c=function(e,t){return function(){return e.apply(t,arguments)}},d={}.hasOwnProperty,h=function(e,t){function n(){this.constructor=e}for(var r in t)d.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};e=t("lib/collection_view"),r=t("models/link"),o=t("views/links/detail"),i=t("views/links/link"),u=t("lib/logger"),p=t("mediator"),l=t("views/tags/manage"),a=t("models/tags"),n.exports=s=function(e){function t(){return this.deactivateDetailPane=c(this.deactivateDetailPane,this),this.loadMore=c(this.loadMore,this),this.bulkEditToggle=c(this.bulkEditToggle,this),this.bulkEditSelectAll=c(this.bulkEditSelectAll,this),this.bulkEditMake=c(this.bulkEditMake,this),this.bulkEditDelete=c(this.bulkEditDelete,this),this.bulkEditClearSelection=c(this.bulkEditClearSelection,this),t.__super__.constructor.apply(this,arguments)}return h(t,e),t.prototype.template="links/list",t.prototype.itemView=i,t.prototype.container=".links-container",t.prototype.containerMethod="html",t.prototype.className="links",t.prototype.listSelector=".link-list",t.prototype.fallbackSelector=".no-results",t.prototype.loadingIndicator=!0,t.prototype.initialize=function(e){return t.__super__.initialize.call(this,e),this.modelBind("reset",this.renderSeeAllLink),this.modelBind("change",this.renderSeeAllLink),$("#bulk-edit-btn").on("click",this.bulkEditToggle),$("#bulk-edit-clear-selection").on("click",this.bulkEditClearSelection),$("#bulk-edit-select-all").on("click",this.bulkEditSelectAll),$("#your-tags-modal").on("click",this.tagEditModal),$("#bulk-edit-make-public").on("click",this.bulkEditMake),$("#bulk-edit-make-private").on("click",this.bulkEditMake),$("#delete-links").on("click",this.bulkEditDelete),this.subscribeEvent("list:activateByMd5",this.activateByMd5),this.subscribeEvent("search:loadMore",this.loadMore),this.subscribeEvent("click .load-more",this.loadMore),this.subscribeEvent("follower:hide",this.showNewFollower),this.subscribeEvent("bulkedit:activate",this.bulkEditActivate),this.subscribeEvent("bulkedit:deactivate",this.bulkEditDeactivate),this.subscribeEvent("bulkedit:selectall",this.bulkEditSelectAll),this.subscribeEvent("bulkedit:selectone",this.bulkEditSelectOne),this.subscribeEvent("bulkedit:toggle",this.bulkEditToggle),this.subscribeEvent("link:hideAllDetailPanes",this.deactivateDetailPane),this.seeAllPath=(null!=e?e.seeAllPath:void 0)||null,this._renderAllItemsCounter=0,this.bulkEditActive=!1},t.prototype.afterRender=function(){var e;return t.__super__.afterRender.apply(this,arguments),$("#refresh-page").on("click",this.refreshPage),(null!=(e=this.collection)?e.length:void 0)>0?this.hideLoading():void 0},t.prototype.refreshPage=function(){return window.location.reload()},t.prototype.activateByMd5=function(e){var t;return this.bulkEditActive||this.$(".link").removeClass("expanded").filter('[data-md5="'+e+'"]').addClass("expanded"),t=this.collection.where({md5:e}),t.length>0?this.showDetailPane(t[0]):void 0},t.prototype.bulkEditActivate=function(e){return null!=e&&e.preventDefault(),u.log("Bulk edit activated"),$("#bulk-edit-on").show(),$("#bulk-edit-btn").text("Finish editing"),$('[href="#edit"]').hide(),$(".details-arrow").hide(),$('[href="#bulk-edit"]').css("display","block"),$(".link-details").hide(),this.$(".link").removeClass("expanded"),this.bulkEditActive=!0},t.prototype.bulkEditClearAll=function(e){return null!=e&&e.preventDefault(),this.bulkEditClearSelection(),$("#bulk-edit-count").text(0),$('[href="#edit"]').show(),$('[href="#bulk-edit"]').css("display","none")},t.prototype.bulkEditClearSelection=function(e){return null!=e&&e.preventDefault(),this.bulkEditClearCount(),this.$(".link.selected").removeClass("selected")},t.prototype.bulkEditClearCount=function(){return $("#bulk-edit-count").text(0),$("#bulk-edit-dd-button").addClass("disabled")},t.prototype.bulkEditCount=function(e){var t,n;return u.log("value is: "+e),t=$("#bulk-edit-count"),n=parseInt(t.text()),n+=e,t.text(n),n>0?$("#bulk-edit-dd-button").removeClass("disabled"):$("#bulk-edit-dd-button").addClass("disabled")},t.prototype.bulkEditDeactivate=function(e){return null!=e&&e.preventDefault(),this.bulkEditClearAll(),u.log("Bulk edit deactivated"),$("#bulk-edit-on").hide(),$("#bulk-edit-btn").text("Edit links"),$(".details-arrow").show(),$(".link-details").show(),this.$(".link").first().addClass("expanded"),this.bulkEditActive=!1},t.prototype.bulkEditDelete=function(e){var t,n,o,i=this;return e.preventDefault(),t=$("#bulk-edit-count").text(),o=t>1?"Are you sure you want to delete these "+t+" links?":"Are you sure you want to delete this link?",confirm(o)?(n=new r,this.getDataFromSelectedLinks($(".link.selected"),function(e){return n.deleteAll(e),i.$(".link.selected").remove(),i.bulkEditClearSelection()})):void 0},t.prototype.bulkEditMake=function(e){var t,n;return e.preventDefault(),n=$(e.target).attr("href"),n=n.split("#")[1],t=new r,this.getDataFromSelectedLinks($(".link.selected"),function(e,r){var o=this;return t.markAs(n,e).done(function(){return _.each(r,function(e){return e.set({"private":"private"===n})}),o.bulkEditClearSelection()})})},t.prototype.bulkEditSelectOne=function(e,t){return u.log("Bulk Edit Select One",{link:e,shiftKey:t}),e.hasClass("selected")?(u.log("Removing a link from bulk edit",{link:e}),e.removeClass("selected"),this.bulkEditCount(-1)):(!this.bulkEditActive&&t&&this.bulkEditActivate(),this.bulkEditActive||t?(u.log("Selected a link for bulk edit",{link:e}),e.removeClass("expanded"),e.addClass("selected"),this.bulkEditCount(1)):void 0)},t.prototype.bulkEditSelectAll=function(e){var t;return e.preventDefault(),u.log("Bulk edit select all links"),t=this.$(".link"),t.addClass("selected"),$("#bulk-edit-count").text(t.length)},t.prototype.bulkEditToggle=function(e){return null!=e&&e.preventDefault(),this.bulkEditActive?this.bulkEditDeactivate():this.bulkEditActivate()},t.prototype.getDataFromSelectedLinks=function(e,t){var n,r,o;return n=this.collection,r=[],o=[],e.each(function(){var e,t;return e=$(this).attr("data-md5"),r.push(e),t=n.where({md5:e}),o.push(t[0])}),r=r.join(","),"function"==typeof t?t.call(this,r,o):void 0},t.prototype.loadMore=function(e){var t,n=this;return null!=e&&e.preventDefault(),this.publishEvent("search:searching"),t=this.$(".load-more").button("loading"),this.setLoading(),this.collection.fetch({success:function(){return n.bulkEditActive&&n.bulkEditActivate(),n.publishEvent("search:finish",n.collection),n.hideLoading(),t.button("reset")}})},t.prototype.renderAllItems=function(){var e,n,r,o,i;return t.__super__.renderAllItems.apply(this,arguments),this.bulkEditActive&&(this.bulkEditActivate(),e=$("#featured-followers-refresh"),e.off("click",this.refreshFollowers),e.on("click",this.refreshFollowers)),r=this.$(".link").first(),n=$(".link.expanded").first(),0===n.length||(null!=(o=n.offset())?o.top:void 0)>(null!=(i=r.offset())?i.top:void 0)?($(".link").removeClass("expanded"),this.publishEvent("link:hideAllDetailPanes"),this.activateByMd5(r.data("md5"))):void 0},t.prototype.deactivateDetailPane=function(){var e;return null!=(e=this.currentDetailPane)?e.dispose():void 0},t.prototype.refreshFollowers=function(){return $("#featured-followers-refresh").toggleClass("rotating")},t.prototype.renderSeeAllLink=function(){return this.bulkEditActive&&this.bulkEditActivate(),this.seeAllPath&&(this.$(".see-all").remove(),this.collection.length>0)?this.$el.prepend('<a class="btn btn-link see-all" href="'+this.seeAllPath+'">See all results</a>'):void 0},t.prototype.showDetailPane=function(e){var t,n;return this.bulkEditActive||e===(null!=(t=this.currentDetailPane)?t.model:void 0)?void 0:(null!=(n=this.currentDetailPane)&&n.dispose(),this.currentDetailPane=new o({model:e}))},t.prototype.showNewFollower=function(){return $("#featured-followers-container .user-card:eq(4)").fadeIn()},t.prototype.tagEditModal=function(e){return e.preventDefault(),new l({title:"Manage Tags",collection:new a(p.user.get("tags"))})},t.prototype.dispose=function(){return t.__super__.dispose.apply(this,arguments),$("#bulk-edit-btn").off("click",this.bulkEditToggle),$("#bulk-edit-clear-selection").off("click",this.bulkEditClearSelection),$("#bulk-edit-select-all").off("click",this.bulkEditSelectAll),$("#your-tags-modal").off("click",this.tagEditModal),$("#bulk-edit-make-public").off("click",this.bulkEditMake),$("#bulk-edit-make-private").off("click",this.bulkEditMake),$("#delete-links").off("click",this.bulkEditDelete),$("#refresh-page").off("click",this.refreshPage)},t}(e)}).call(this)}}),window.require.define({"views/links/search_results":function(e,t,n){(function(){var e,r,o={}.hasOwnProperty,i=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};e=t("views/base/page"),n.exports=r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,e),t.prototype.className="search pageview",t.prototype.template="search/results",t.prototype.autoRender=!0,t}(e)}).call(this)}}),window.require.define({"views/links/warn":function(e,t,n){(function(){var e,r,o={}.hasOwnProperty,i=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};e=t("views/base/page"),n.exports=r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,e),t.prototype.template="links/warn",t.prototype.autoRender=!0,t}(e)}).call(this)}}),window.require.define({"views/notes/note":function(e,t,n){(function(){var e,r,o,i={}.hasOwnProperty,s=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};r=t("views/base/popover"),o=t("lib/view"),n.exports=e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.className="note",t.prototype.template="notes/note",t.prototype.autoRender=!1,t.prototype.afterRender=function(){return t.__super__.afterRender.apply(this,arguments),this.subview("hovercard",new r({el:this.$el.find("h5 a"),template:"user/user_card",model:this.model,trigger:"hover",classes:"user-card wider"}))},t}(o)}).call(this)}}),window.require.define({"views/notes/notes_collection":function(e,t,n){(function(){var e,r,o={}.hasOwnProperty,i=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};e=t("lib/collection_view"),n.exports=r=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return i(n,e),n.prototype.className="notes",n.prototype.containerMethod="html",n.prototype.itemView=t("views/notes/note"),n}(e)}).call(this)}}),window.require.define({"views/oops/notfound":function(e,t,n){(function(){var e,r,o,i={}.hasOwnProperty,s=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};o=t("lib/logger"),r=t("views/base/page"),n.exports=e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.template="oops/notfound",t.prototype.autoRender=!0,t.prototype.className="pageview oops-page big-text",t.prototype.initialize=function(){return t.__super__.initialize.apply(this,arguments),o.log("Initializing the Not Found View.")},t}(r)}).call(this)}}),window.require.define({"views/oops/somethingwentwrong":function(e,t,n){(function(){var e,r,o,i,s={}.hasOwnProperty,a=function(e,t){function n(){this.constructor=e}for(var r in t)s.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};o=t("lib/logger"),i=t("mediator"),e=t("views/base/page"),n.exports=r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return a(t,e),t.prototype.template="oops/somethingwentwrong",t.prototype.autoRender=!0,t.prototype.className="pageview oops-page big-text",t.prototype.containerMethod="html",t.prototype.initialize=function(){return t.__super__.initialize.apply(this,arguments),$("body").css("background-color","white"),$(".modal").modal("hide"),$("head").append('<style type="text/css" media="screen">#uvTab { display: none !important; }</style>'),o.log("Initializing the Something Went Wrong View.")},t.prototype.dispose=function(){return $("body").css("background-color","transparent").removeClass(""),t.__super__.dispose.apply(this,arguments)},t}(e)}).call(this)}}),window.require.define({"views/tags/edit_bundle_modal":function(e,t,n){(function(){var e,r,o,i,s={}.hasOwnProperty,a=function(e,t){function n(){this.constructor=e}for(var r in t)s.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};i=t("mediator"),o=t("views/base/modal"),r=t("views/base/flash"),n.exports=e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return a(t,e),t.prototype.template="tags/edit_bundle_modal",t.prototype.id="edit-bundle",t.prototype.events={"submit form":"submitForm",'click [href="#remove"]':"clickRemove"},t.prototype.render=function(){var e,n=this;return t.__super__.render.apply(this,arguments),this.subscribeEvent("tagBundle:save tagBundle:delete",this.hide),e=_.map(i.user.get("tags"),function(e){return e.name}),_.delay(function(){return n.$("#input-tags").select2({openOnEnter:!1,tags:_.uniq(e),tokenSeparators:[","],formatNoMatches:function(){return"Enter tags separated by commas"}},400)})},t.prototype.submitForm=function(e){var t,n,o,i,s,a,l,u,p=this;return e.preventDefault(),l=this.getFormData("name","tags"),i=l.name,a=l.tags,i?a?(this.model.get("name")&&(s=this.model.clone()),n={name:i,tags:a,username:this.options.username,previous:s||null},t=null!=(u=this.options.collection)?u.reject(function(e){return e.get("name")===(null!=s?s.get("name"):void 0)}):void 0,o=_.filter(t,function(e){return e.get("name")===i}),o.length?(this.subview("error",new r({flash:"A bundle with that name already exists.",type:"error",closeOnXClick:!1,container:this.$(".modal-body")})),void 0):this.model.save(n).done(function(){var e;return s?void 0:null!=(e=p.options.collection)?e.add(p.model):void 0})):(this.$("#input-tags").select2("open"),void 0):(this.$("#input-name").focus(),void 0)},t.prototype.clickRemove=function(e){var t=this;return e.preventDefault(),confirm("Are you sure?")?this.model["delete"]().done(function(){var e;return null!=(e=t.options.collection)?e.remove(t.model):void 0}):void 0},t.prototype.dispose=function(){return this.$("#input-tags").select2("destroy"),t.__super__.dispose.apply(this,arguments)},t}(o)}).call(this)}}),window.require.define({"views/tags/manage":function(e,t,n){(function(){var e,r,o,i=function(e,t){return function(){return e.apply(t,arguments)}},s={}.hasOwnProperty,a=function(e,t){function n(){this.constructor=e}for(var r in t)s.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};o=t("mediator"),e=t("views/base/modal"),n.exports=r=function(e){function t(){return this.setupTagAutoComplete=i(this.setupTagAutoComplete,this),t.__super__.constructor.apply(this,arguments)}return a(t,e),t.prototype.template="tags/manage",t.prototype.id="tags-manage",t.prototype.title="Tags Management",t.prototype.size="normal",t.prototype.events={"submit form":"submit"},t.prototype.afterRender=function(){return t.__super__.afterRender.apply(this,arguments),_.delay(this.setupTagAutoComplete,400),this.$(".modal-body").addClass("show-overflow")},t.prototype.setupTagAutoComplete=function(){var e;return e=this.collection.map(function(e){return{id:e.get("name"),text:e.get("name")}}),this.$("#from-tagname, #delete-tagname").select2({data:e,formatNoMatches:function(){return"Enter a tag"},width:"element",containerCssClass:"select2-box"})},t.prototype.submit=function(e){var t,n,r,o,i=this;return e.preventDefault(),this.$('button[type="submit"]').button("loading"),t=this.getFormData("from_tag","to_tag","delete_tag"),(null!=(n=t.from_tag)?n.trim().length:void 0)&&(null!=(r=t.to_tag)?r.trim().length:void 0)&&this.collection.get(t.from_tag).rename(t.to_tag).done(function(){return i.$el.modal("hide")}),(null!=(o=t.delete_tag)?o.trim().length:void 0)?this.collection.get(t.delete_tag).remove().done(function(){return i.$el.modal("hide")}):void 0},t.prototype.dispose=function(){return this.$(".input-tag").select2("destroy"),t.__super__.dispose.apply(this,arguments)},t}(e)}).call(this)}}),window.require.define({"views/tags/related_tag_list":function(e,t,n){(function(){var e,r,o,i,s,a,l={}.hasOwnProperty,u=function(e,t){function n(){this.constructor=e}for(var r in t)l.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};i=t("lib/view"),s=t("lib/logger"),a=t("mediator"),e=t("models/tags"),o=t("views/tags/manage"),n.exports=r=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return u(n,t),n.prototype.el=".tags-container.related",n.prototype.listSelector=".tag-list",n.prototype.fallbackSelector=".no-results",n.prototype.loadingIndicator=!0,n.prototype.showingAllTags=!1,n.prototype.render=function(){var e,t=this;return e=[],0!==this.collection.length?(this.$(this.fallbackSelector).hide(),_.each(this.collection.toJSON(),function(n,r){var o,i;return i=n.num_saves?" <small>"+n.num_saves+"</small>":"",o=r>15&&t.showingAllTags===!1?" hidden":"",n.name=n.name.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),e.push('<a class="tag tag-small'+o+'" data-tag="'+n.name+'" href="#">'+n.name+i+"</a>")}),this.$el.find(this.listSelector).html(e.join(""))):void 0},n.prototype.events={'click [href="#more"]':"showAllTags","click .sort-by-menu a":"performSort"},n.prototype.initialize=function(e){return n.__super__.initialize.apply(this,arguments),this.count=0,this.showingAllTags=e.showingAllTags||!1,this.options.selected=(null!=e?e.selected:void 0)||"count",this.performSort(),this.collection.on("reset",this.render)},n.prototype.afterRender=function(){return n.__super__.afterRender.apply(this,arguments),this.$("#sort-by-"+this.options.selected).addClass("selected"),this.$(".tag-list").scrollable()},n.prototype.performSort=function(t){var n;return null!=t&&(t.preventDefault(),t.stopPropagation(),this.$(".sort-tags-dropdown").removeClass("open"),n=$(t.target),n.parent().siblings().children("a").removeClass("selected"),n.addClass("selected"),this.options.selected=n.text().toLowerCase(),store.set("orderBy",this.options.selected)),this.collection.comparator=function(){switch(this.options.selected){case"abc":return function(e){return e.get("name").toLowerCase()};default:return(new e).comparator}}.call(this),this.collection.sort()},n.prototype.showAllTags=function(e){return e.preventDefault(),this.$(".tag").removeClass("hidden"),this.$('[href="#more"]').remove(),this.showingAllTags=!0},n}(i)}).call(this)}}),window.require.define({"views/tags/tag":function(e,t,n){(function(){var e,r,o={}.hasOwnProperty,i=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};r=t("lib/view"),n.exports=e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,e),t.prototype.autoRender=!1,t.prototype.render=function(){var e,t;return t=this.model.get("name"),t=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),e=this.model.get("num_saves")?" <small>"+this.model.get("num_saves")+"</small>":"",this.setElement('<a class="tag tag-small" data-tag="'+t+'" href="#">'+t+e+"</a>")},t}(r)}).call(this)}}),window.require.define({"views/tags/tag_bundle":function(e,t,n){(function(){var e,r,o={}.hasOwnProperty,i=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};r=t("lib/view"),n.exports=e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,e),t.prototype.containerMethod="append",t.prototype.initialize=function(){return t.__super__.initialize.apply(this,arguments),this.modelBind("change",this.render)},t.prototype.render=function(){var e,t;return t=this.model.get("name"),e=this.model.get("num_saves")?" <small>"+this.model.get("num_saves")+"</small>":"",this.$el.html('<a class="tag-bundle" data-tag-bundle="'+t+'" href="#">'+t+e+"</a>")},t}(r)}).call(this)}}),window.require.define({"views/tags/tag_bundle_list":function(e,t,n){(function(){var e,r,o,i={}.hasOwnProperty,s=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};e=t("lib/collection_view"),r=t("views/tags/tag_bundle"),n.exports=o=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.itemView=r,t.prototype.container=".tag-bundles-container",t.prototype.className="sidebar-list",t}(e)}).call(this)}}),window.require.define({"views/tags/tag_bundle_row":function(e,t,n){(function(){var e,r,o,i={}.hasOwnProperty,s=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};o=t("mediator"),r=t("lib/view"),n.exports=e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.template="tags/tag_bundle_row",t.prototype.className="tag-bundle-row",t}(r)}).call(this)}}),window.require.define({"views/tags/tag_bundles_modal":function(e,t,n){(function(){var e,r,o,i,s,a={}.hasOwnProperty,l=function(e,t){function n(){this.constructor=e}for(var r in t)a.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};e=t("views/tags/edit_bundle_modal"),r=t("views/base/modal_collection"),o=t("models/tag_bundle"),i=t("views/tags/tag_bundle_row"),n.exports=s=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return l(n,t),n.prototype.itemView=i,n.prototype.events={'click [href="#create-bundle"]':"clickCreateBundle",'click [href="#edit-bundle"]':"clickEditBundle"},n.prototype.renderCollection=function(){return n.__super__.renderCollection.apply(this,arguments),this.$(".modal-body").prepend('<a href="#create-bundle" id="create-bundle" class="btn">Create bundle</a>')},n.prototype.clickCreateBundle=function(t){var n,r;return t.preventDefault(),r=this.options,n=this.collection,_.defer(function(){return new e({title:"Create Bundle",model:new o,username:r.username,size:"slim",collection:n})}),this.hide()},n.prototype.clickEditBundle=function(t){var n,r,o,i,s;return t.preventDefault(),n=$(t.currentTarget),o=n.closest(".tag-bundle-row").index(),i=this.collection.at(o-1),s=this.options,r=this.collection,i.fetchTags(s.username,i.get("name")).done(function(){return new e({title:i.get("name"),model:i,username:s.username,size:"slim",collection:r})}),this.hide()},n}(r)}).call(this)}}),window.require.define({"views/user/coachmarks":function(e,t,n){(function(){var e,r,o,i={}.hasOwnProperty,s=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};o=t("lib/logger"),r=t("views/base/html"),n.exports=e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.container="body",t.prototype.className="coachmarks fade",t.prototype.events={click:"dismiss"},t.prototype.initialize=function(e){var n=this;return this.options=null!=e?e:{},_.extend(this.defaults,{url:"coachmarks",includeFooter:!1}),t.__super__.initialize.apply(this,arguments),this.on("htmlLoaded",function(){return n.$el.addClass("in")}),this.$el.scrollable()},t.prototype.dismiss=function(){return this.$el.removeClass("in"),store.set("closedCoachmarks",!0),_.delay(_.bind(this.dispose,this),150)},t}(r)}).call(this)}}),window.require.define({"views/user/featured_followers":function(e,t,n){(function(){var e,r,o,i={}.hasOwnProperty,s=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};o=t("mediator"),r=t("views/user/followers"),n.exports=e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.className="featured-follower user-card fade",t.prototype.events={'click a[href="#follow"]':"hideFollower"},t.prototype.initialize=function(){return t.__super__.initialize.apply(this,arguments)},t.prototype.hideFollower=function(e){return e.preventDefault(),this.$el.fadeOut().remove(),o.publish("follower:hide",this)},t}(r)}).call(this)}}),window.require.define({"views/user/featured_followers_collection":function(e,t,n){(function(){var e,r,o,i,s={}.hasOwnProperty,a=function(e,t){function n(){this.constructor=e}for(var r in t)s.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};e=t("lib/collection_view"),o=t("views/user/featured_followers"),i=t("lib/logger"),n.exports=r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return a(t,e),t.prototype.id="featured-followers-wrapper",t.prototype.template="user/featured_followers_collectionview",t.prototype.listSelector="#featured-followers-container",t.prototype.itemView=o,t.prototype.container="#links-results",t.prototype.containerMethod="prepend",t.prototype.count=4,t.prototype.events={"click #feat-foll-hide":"hideFeaturedUsers"},t.prototype.afterRender=function(){return t.__super__.afterRender.apply(this,arguments),1>this.model.get("following_count")&&(this.count=8),$("#featured-followers-container .user-card").slice(this.count).hide()},t.prototype.hideFeaturedUsers=function(e){return e.preventDefault(),i.log("Hiding the featured followers panel"),store.set("closedFeaturedFollowers",!0),this.dispose()},t}(e)}).call(this)}}),window.require.define({"views/user/follow":function(e,t,n){(function(){var e,r,o={}.hasOwnProperty,i=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};r=t("lib/view"),n.exports=e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,e),t.prototype.template="user/user_card",t.prototype.className="modal-following user-card",t.prototype.initialize=function(){return this.mixin("views/user/mixins/follow_button"),t.__super__.initialize.apply(this,arguments),this.modelBind("change",this.render)},t}(r)}).call(this)}}),window.require.define({"views/user/follow_collection":function(e,t,n){(function(){var e,r,o,i,s={}.hasOwnProperty,a=function(e,t){function n(){this.constructor=e}for(var r in t)s.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};r=t("views/user/follow"),o=t("views/base/modal_collection"),i=t("mediator"),n.exports=e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return a(t,e),t.prototype.itemView=r,t.prototype.events={'click [href="#follow"]':"clickFollow",'click [href="#unfollow"]':"clickUnfollow"},t.prototype.initialize=function(){return t.__super__.initialize.apply(this,arguments),this.collection.on("change:am_following_them",this.updateFollowingButton,this)},t.prototype.updateFollowingButton=function(e){var t,n;return n=this.collection.indexOf(e),n>=0?(t=this.$(".user-card").eq(n).find('[href="#unfollow"], [href="#follow"]'),e.get("am_following_them")?t.prop("href","#unfollow").text("Following").removeClass("btn-primary"):t.prop("href","#follow").text("Follow").addClass("btn-primary")):void 0},t.prototype.clickFollow=function(e){var t;return e.preventDefault(),t=this.collection.at($(e.target).closest(".user-card").index()),i.user.followUser(t)},t.prototype.clickUnfollow=function(e){var t;return e.preventDefault(),t=this.collection.at($(e.target).closest(".user-card").index()),i.user.unfollowUser(t)},t}(o)}).call(this)}}),window.require.define({"views/user/followers":function(e,t,n){(function(){var e,r,o,i={}.hasOwnProperty,s=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};o=t("mediator"),r=t("lib/view"),n.exports=e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.className="follower user-card fade",t.prototype.tagName="li",t.prototype.template="user/user_card",t.prototype.autoRender=!1,t.prototype.initialize=function(){return t.__super__.initialize.apply(this,arguments),this.mixin("views/user/mixins/follow_button")},t.prototype.afterRender=function(){var e=this;return _.delay(function(){return e.$el.addClass("in")},1)},t}(r)}).call(this)}}),window.require.define({"views/user/followers_collection":function(e,t,n){(function(){var e,r,o,i={}.hasOwnProperty,s=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};e=t("views/user/follow"),o=t("views/base/modal_collection"),n.exports=r=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return s(n,t),n.prototype.itemView=e,n}(o)}).call(this)}}),window.require.define({"views/user/following_collection":function(e,t,n){(function(){var e,r,o,i={}.hasOwnProperty,s=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};e=t("views/user/follow"),o=t("views/base/modal_collection"),n.exports=r=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return s(n,t),n.prototype.itemView=e,n.prototype.initialize=function(){return n.__super__.initialize.apply(this,arguments)},n}(o)}).call(this)}}),window.require.define({"views/user/mixins/follow_button":function(e,t,n){(function(){var e,r,o;r=t("lib/logger"),o=t("mediator"),e=t("lib/view"),n.exports={attached:function(){var e;return null==(e=this.events)&&(this.events={}),_(this.events).extend({'click [href="#follow"]':"clickFollow",'click [href="#unfollow"]':"clickUnfollow"}),this.model.on("change:am_following_them",this.updateFollowingButton,this)},updateFollowingButton:function(e){var t;return t=this.$('[href="#unfollow"], [href="#follow"]'),e.get("am_following_them")?t.prop("href","#unfollow").text("Following").removeClass("btn-primary"):t.prop("href","#follow").text("Follow").addClass("btn-primary")},clickFollow:function(e){return e.preventDefault(),e.stopImmediatePropagation(),r.log("Follow user",{user:this.model}),o.user.followUser(this.model)},clickUnfollow:function(e){return e.preventDefault(),e.stopImmediatePropagation(),r.log("Unfollow user",{user:this.model}),o.user.unfollowUser(this.model)}}}).call(this)}}),window.require.define({"views/user/profile":function(e,t,n){(function(){var e,r,o,i,s,a,l,u,p,c,d={}.hasOwnProperty,h=function(e,t){function n(){this.constructor=e}for(var r in t)d.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};e=t("views/user/coachmarks"),r=t("views/tags/edit_bundle_modal"),u=t("models/user"),o=t("views/user/follow_collection"),c=t("mediator"),i=t("views/base/page"),a=t("models/tag_bundle"),l=t("views/tags/tag_bundles_modal"),p=t("models/users"),n.exports=s=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return h(n,t),n.prototype.className="profile pageview",n.prototype.template="user/profile",n.prototype.autoRender=!0,n.prototype.events={'click a[href="#followers"]':"showFollowers",'click a[href="#following"]':"showFollowing",'click a[href="#bundles-manage"]':"clickShowBundles"},n.prototype.initialize=function(){return this.mixin("views/user/mixins/follow_button"),n.__super__.initialize.apply(this,arguments),this.model.off("change",null),c.user.get("username")===this.model.get("username")&&store.get("closedCoachmarks")!==!0&&"save"!==c.dispatcher.url?this.subview("coachmarks",new e):void 0
},n.prototype.afterRender=function(){return n.__super__.afterRender.apply(this,arguments),Socialite.load(this.$(".tweet-profile"))},n.prototype.showFollowers=function(e){var t,n,r;return e.preventDefault(),0!==this.model.get("follower_count")?(t=new p,t.comparator=function(e){return-(e.get("time_created")||0)},t.url=this.model.getFollowersUrl(),t.fetch(),n=this.model.get("full_name")||this.model.get("display_name"),r=this.model.isMe()?"You have ":""+n+" has ",new o({collection:t,title:function(){return r+(""+this.collection.length+" followers")}})):void 0},n.prototype.showFollowing=function(e){var t,n,r;return e.preventDefault(),0!==this.model.get("following_count")?(t=new p,t.comparator=function(e){return-(e.get("time_created")||0)},t.url=this.model.getFollowingUrl(),t.fetch(),n=this.model.get("full_name")||this.model.get("display_name"),r=this.model.isMe()?"Youâ€™re ":""+n+"â€™s ",new o({collection:t,title:function(){return r+("following "+this.collection.length+" users")}})):void 0},n.prototype.clickShowBundles=function(e){var t;return e.preventDefault(),t=this.options.tagBundles.length>0?new l({collection:this.options.tagBundles,title:"Tag Bundles <small>"+this.options.tagBundles.length+"</small>",username:this.model.get("username")}):new r({title:"Create Bundle",model:new a,username:this.model.get("username"),size:"slim"})},n}(i)}).call(this)}}),window.require.define({"views/user/settings/account":function(e,t,n){(function(){var e,r,o,i,s,a={}.hasOwnProperty,l=function(e,t){function n(){this.constructor=e}for(var r in t)a.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};r=t("views/base/flash"),i=t("lib/logger"),s=t("mediator"),o=t("views/base/page"),n.exports=e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return l(t,e),t.prototype.template="user/settings/account",t.prototype.autoRender=!0,t.prototype.events={"submit form":"submitAccount"},t.prototype.initialize=function(){return t.__super__.initialize.apply(this,arguments),this.model=s.user},t.prototype.submitAccount=function(e){var t,n,r=this;if(e.preventDefault(),t=this.getFormData("profile_email","old_password","new_password"),t.profile_email!==this.model.get("profile_email")){if(n=/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/,!n.test(t.profile_email))return this.showError("Please enter a valid email address."),void 0;this.setLoading(),s.user.update({profile_email:t.profile_email}).done(_.bind(this.showSuccess,this,"Email address updated successfully.")).always(_.bind(this.resetForm,this))}if(t.old_password&&t.new_password){if(t.old_password===t.new_password)return this.showError("The new password you entered matches the current password."),void 0;if(this.validatePassword(t.new_password))return this.setLoading(),s.user.changePassword(t).done(function(){return i.log("Password changed",t),r.showError(""),r.showSuccess("Your password has been updated.")}).fail(function(e){return i.warn("Password not changed.",{res:e}),r.showError(e.error.charAt(0).toUpperCase()+e.error.slice(1)+".")}).always(_.bind(this.resetForm,this))}},t.prototype.validatePassword=function(e){return e.length>=8?(this.showError(""),!0):(this.showError("The new password must be at least 8 characters long."),!1)},t.prototype.setLoading=function(){return this.$('input[type="submit"]').button("loading")},t.prototype.resetForm=function(){return this.$("input").blur(),this.$("form").formParams({old_password:"",new_password:"",profile_email:this.model.get("profile_email")}),this.$('input[type="submit"]').button("reset")},t.prototype.showError=function(e){return this.$("#error").text(e)},t.prototype.showSuccess=function(e){return this.subview("success",new r({container:".content",flash:e,type:"success"}))},t}(o)}).call(this)}}),window.require.define({"views/user/settings/friends":function(e,t,n){(function(){var e,r,o,i,s,a,l,u,p={}.hasOwnProperty,c=function(e,t){function n(){this.constructor=e}for(var r in t)p.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};u=t("mediator"),a=t("views/base/page"),o=t("views/base/flash"),r=t("models/connects"),e=t("models/connect"),l=t("models/users"),i=t("views/user/settings/friends_collection"),n.exports=s=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return c(n,t),n.prototype.template="user/settings/friends",n.prototype.autoRender=!0,n.prototype.events={"click .nav-tabs a":"clickTab"},n.prototype.initialize=function(){var e=this;return n.__super__.initialize.apply(this,arguments),this.connects=new r,this.connects.fetch().done(function(){return e.connects_fetched=!0}),this.featured=new l,this.featured.url="/account/featuredusers",this.featured.on("add remove reset",this.updateFeaturedFriends,this),this.featured.fetch(),this.friends=new l,this.friends.url="/account/friends",this.friends.on("add remove reset",this.updateConnectedFriends,this),this.friends.fetch()},n.prototype.updateFeaturedFriends=function(){return this._populateFriends("featured",this.featured)},n.prototype.updateConnectedFriends=function(){return this._populateFriends("twitter",new l(this.friends.filterBySocial("twitter"))),this._populateFriends("facebook",new l(this.friends.filterBySocial("facebook")))},n.prototype.clickTab=function(t){var n,r,i=this;return t.preventDefault(),r=$(t.target).attr("href").slice(1),"twitter"!==r&&"facebook"!==r||!this.connects_fetched||this.connects.findByProvider(r)?void 0:(n=new e({providerId:r}),n.connect(!1,function(e){return"success"===e.status?(i.connects.fetch(),i.friends.fetch().done(function(){return i._populateFriends(r,new l(i.friends.filterBySocial(r)))})):i.subview("error",new o({container:".content",flash:e.message,type:"error"}))}))},n.prototype._populateFriends=function(e,t){return 0!==t.length?(this.subview(""+e+"-friends",new i({collection:t,container:"#"+e})),"facebook"===e?this.$("#facebook").append('<a id="fb-invite-btn" href="https://www.facebook.com/dialog/apprequests?%20app_id=436820079686126&%20message=Check%20out%20Delicious!&%20redirect_uri=https://delicious.com/settings/friends">Invite your Facebook friends to Delicious!</a>'):void 0):void 0},n}(a)}).call(this)}}),window.require.define({"views/user/settings/friends_collection":function(e,t,n){(function(){var e,r,o,i,s={}.hasOwnProperty,a=function(e,t){function n(){this.constructor=e}for(var r in t)s.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};e=t("lib/collection_view"),r=t("views/user/followers"),i=t("lib/logger"),n.exports=o=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return a(t,e),t.prototype.id="friends-wrapper",t.prototype.template="user/friends_collectionview",t.prototype.listSelector="#friends-container",t.prototype.itemView=r,t.prototype.containerMethod="html",t.prototype.count=1e3,t}(e)}).call(this)}}),window.require.define({"views/user/settings/service":function(e,t,n){(function(){var e,r,o,i,s,a,l,u={}.hasOwnProperty,p=function(e,t){function n(){this.constructor=e}for(var r in t)u.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};o=t("views/base/flash"),l=t("mediator"),i=t("views/base/page"),r=t("models/connects"),e=t("models/connect"),a=t("lib/logger"),n.exports=s=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return p(n,t),n.prototype.events={"submit form":"saveChanges","click .disconnect":"disconnectService"},n.prototype.initialize=function(t){var o=this;return this.options=null!=t?t:{},_.defaults(this.options,{template:"user/settings/service",service:"facebook"}),n.__super__.initialize.apply(this,arguments),this.connects=new r,this.connects.fetch().always(function(){return o.model=o.connects.findByProvider(o.options.service),o.model?(o.model.on("dispose",o.render,o),o.render()):o.model=new e({providerId:o.options.service}),o.render()})},n.prototype.saveChanges=function(e){var t,n=this;return e.preventDefault(),t=this.getFormData("privacy","tags"),a.log("submitting import settings form",{data:t}),this.model.update(t).done(function(){return n.subview("success",new o({container:"#settings-form",flash:"Your changes have been saved.",type:"success"}))})},n.prototype.disconnectService=function(){var e;return e=l.user,this.model.disconnect()},n}(i)}).call(this)}}),window.require.define({"views/user/settings/settings":function(e,t,n){(function(){var e,r,o,i,s,a,l,u={}.hasOwnProperty,p=function(e,t){function n(){this.constructor=e}for(var r in t)u.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};e=t("views/base/flash"),a=t("lib/logger"),l=t("mediator"),r=t("lib/model"),o=t("views/base/page"),s=t("lib/avos"),n.exports=i=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return p(n,t),n.prototype.template="user/settings/settings",n.prototype.autoRender=!0,n.prototype.maxFileSize=2e3,n.prototype.events={"submit #settings-form":"submitProfile","submit #photo-form":"submitAvatar","change #user-photo-input":"showFilePath","keyup #user-bio":"bioLimit"},n.prototype.initialize=function(){return n.__super__.initialize.apply(this,arguments),$("html").hasClass("lt-ie10")?void 0:this.events["click #user-photo-button"]="clickPhotoUpload"},n.prototype.afterRender=function(){var e,t,r=this;return n.__super__.afterRender.apply(this,arguments),this.bioLimit(),window.setTimeout(function(){return r.$(".user-avatar img").addClass("in")},200),this.photoInputSpan=this.$("#user-photo-text"),this.photoInput=this.$("#user-photo-input"),e=this.model.get("avatar_url"),t=e+"?"+(new Date).getTime()},n.prototype.submitProfile=function(t){var n,r=this;return t.preventDefault(),n=this.getFormData("full_name","profile_bio","profile_url"),a.log("submitting profile update form",{data:n}),l.user.update(n).done(function(){return r.subview("success",new e({container:".content",flash:"Profile updated successfully.",type:"success"}))})},n.prototype.bioLimit=function(){var e,t,n;return n=140,t=this.$("#user-bio").val().length,t>=n?this.$("#bio-count").text(" Sorry, you have reached the limit!"):(e=n-t,this.$("#bio-count").text(e+" characters left."))},n.prototype.uploadError=function(e){return $("#photo-upload-error").text(e)},n.prototype.clickPhotoUpload=function(e){return e.preventDefault(),this.photoInput.click()},n.prototype.showFilePath=function(){var e;return this.uploadError(""),e=this.photoInput.val(),this.photoInput[0].files&&this.photoInput[0].files[0].size/1e3>this.maxFileSize?(this.resetInput(),this.uploadError("Image size too big."),void 0):e?this.photoInputSpan.text(e.split(/(\\|\/)/g).pop()):(this.resetInput(),void 0)},n.prototype.resetInput=function(){return this.photoInputSpan.text("No image selected"),this.photoInput.val("")},n.prototype.submitAvatar=function(t){var n=this;return null!=t&&t.preventDefault(),this.photoInput.val()?(a.log("Submitting avatar upload"),this.setLoading(),l.user.updateAvatar(this.$("#photo-form"),function(t,r){return"success"===t?(n.hideLoading(),n.resetInput(),a.log("User updated, re-rendering the settings view."),n.render(),n.subview("success",new e({container:"#settings-form",flash:"Image uploaded successfully.",type:"success"}))):n.subview("success",new e({container:"#settings-form",flash:r+".",type:"success"}))})):(this.photoInputSpan.addClass("on"),_.delay(function(){return n.photoInputSpan.removeClass("on")},500),void 0)},n.prototype.dispose=function(){return this.$(".user-avatar img").removeClass("in"),n.__super__.dispose.apply(this,arguments)},n}(o)}).call(this)}}),window.require.define({"views/user/settings/sources":function(e,t,n){(function(){var e,r,o,i,s,a,l={}.hasOwnProperty,u=function(e,t){function n(){this.constructor=e}for(var r in t)l.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};o=t("views/base/flash"),r=t("models/connects"),e=t("models/connect"),a=t("mediator"),i=t("views/base/page"),n.exports=s=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return u(n,t),n.prototype.template="user/settings/sources",n.prototype.events={"click .connect":"clickConnect","click .disconnect":"clickDisconnect"},n.prototype.initialize=function(){return this.connects=new r,this.connects.on("add remove reset",this.render,this),this.connects.fetch(),n.__super__.initialize.apply(this,arguments)},n.prototype.afterRender=function(){var e=this;return n.__super__.afterRender.apply(this,arguments),_.each(this.connects.filterForLinkImporting(),function(t){var n,r;return r=t.get("providerId"),n=r.charAt(0).toUpperCase()+r.slice(1),e.$("."+r+" .connect").text("Connected to "+n).addClass("btn-primary").next(".disconnect").show()})},n.prototype.clickConnect=function(t){var n,r=this;return t.preventDefault(),$(t.target).is(":disabled, .btn-primary")?void 0:(n=new e({providerId:$(t.target).parents(".social-connector").attr("data-service"),active:!0}),n.connect(!0,function(e){return"error"===e.status?r.subview("error",new o({container:".content",flash:e.message,type:"error"})):"success"===e.status?r.connects.add(n):void 0}))},n.prototype.clickDisconnect=function(e){var t,n;return e.preventDefault(),t=this.$(e.target).parents(".social-connector").attr("data-service"),n=this.connects.findByProvider(t),n.disconnect()},n}(i)}).call(this)}}),window.require.define({"views/user/validate_email":function(e,t,n){(function(){var e,r,o={}.hasOwnProperty,i=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};e=t("views/base/page"),n.exports=r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,e),t.prototype.template="user/validate_email",t.prototype.className="validateEmail",t.prototype.autoRender=!0,t.prototype.initialize=function(){return t.__super__.initialize.apply(this,arguments),this.modelBind("change",_.bind(this.render,this))},t}(e)}).call(this)}});
//@ sourceMappingURL=public/js/app.js.map