if(typeof TeaLeaf==="undefined"){TeaLeaf={};TeaLeaf.Private={};TeaLeaf.tlStartLoad=new Date();if(!TeaLeaf.Configuration){TeaLeaf.Configuration={"tlversion":"2012.01.26.1","tlSetGUID":false,"tlGUIDCookie":{name:"TLGUID",valueLength:32,valueSet:"0123456789ABCDEF",path:"",domain:"",expires:0,secure:false},"tlurl":"/TealeafWAR/TealeafTarget.jsp","tlsecureurl":"/TealeafWAR/TealeafTarget.jsp","xhrAsync":true,"xhrAsyncOnUnload":false,"tlDisableIfInactive":false,"tlActivityTimeout":5,"xd_CommonDomain":"","xd_iframeID":"","xd_iframeSrcURL":"","xd_iframeSrcURLSecure":""}}}if(window.TeaLeaf&&((typeof TeaLeaf.replay==="function")?!TeaLeaf.replay():!TeaLeaf.replay)&&!TeaLeaf.Event){TeaLeaf.Event={};TeaLeaf.Event.Configuration={"tlinit":false,"tlqueueevents":true,"tlqueueeventstimer":10000,"tlqueuemaxevents":30,"tlshowexceptions":false,"tleventcount":0,"tlexceptioncount":0,"tlpageid":"","tlinitflag":false,"tlusetopqueue":false,"tllastdwelltime":"","tlidoflastvisitedcontrol":"","tlcatcherrors":true,"tlcatchpopups":false,"tlCatchAlerts":false,"tlignoresendfailure":true,"tlasync":true,"tlvisitorder":"","t1970":0,"tlmaxeventcount":300,"tlmaxeventexception":10,tlResolution:[{"width":799,"height":599,"type":0,"displayText":"small"},{"width":800,"height":600,"type":1,"displayText":"800x600"},{"width":1024,"height":760,"type":2,"displayText":"1024x760"},{"width":1280,"height":1024,"type":3,"displayText":"1280x1024"},{"width":1000000,"height":1000000,"type":4,"displayText":"large"}],tlHTTPRequestHeadersSet:[{"tlreqhttpheadername":"X-TeaLeafType","tlsethttpheader":true,"tlreqhttpheadervalue":"TeaLeaf.Event.tlEventType()"},{"tlreqhttpheadername":"X-TeaLeafSubType","tlsethttpheader":true,"tlreqhttpheadervalue":"TeaLeaf.Event.tlEventSubType()"},{"tlreqhttpheadername":"X-TeaLeaf-UIEventCapture-Version","tlsethttpheader":true,"tlreqhttpheadervalue":"TeaLeaf.Event.tlGetJSVersion()"},{"tlreqhttpheadername":"X-TeaLeaf-Page-Url","tlsethttpheader":true,"tlreqhttpheadervalue":"TeaLeaf.Event.tlGetUrlPath()"}],tlHTTPRequestHeadersEvalInit:[{"tlreqhttpheadername":"X-TeaLeaf-Screen-Res","tlsethttpheader":true,"tlreqhttpheadervalue":"TeaLeaf.Event.tlResolutionType(screen.width ,screen.height)"},{"tlreqhttpheadername":"X-TeaLeaf-Browser-Res","tlsethttpheader":true,"tlreqhttpheadervalue":"TeaLeaf.Event.tlResolutionTypeBrowser()"},{"tlreqhttpheadername":"X-TeaLeaf-Page-Render","tlsethttpheader":true,"tlreqhttpheadervalue":"TeaLeaf.Event.tlGetRenderTime()"},{"tlreqhttpheadername":"X-TeaLeaf-Page-Objects","tlsethttpheader":true,"tlreqhttpheadervalue":"TeaLeaf.Event.tlGetElementCount(\"object\")"},{"tlreqhttpheadername":"X-TeaLeaf-Page-Img-Fail","tlsethttpheader":true,"tlreqhttpheadervalue":"TeaLeaf.Event.tlBadImageCount()"}],tlHTTPRequestHeadersEvalBeforeUnload:[{"tlreqhttpheadername":"X-TeaLeaf-Page-Cui-Events","tlsethttpheader":true,"tlreqhttpheadervalue":"TeaLeaf.Event.tlGetEventCount()"},{"tlreqhttpheadername":"X-TeaLeaf-Page-Cui-Bytes","tlsethttpheader":true,"tlreqhttpheadervalue":"TeaLeaf.Request.GetTotalDataLength()"},{"tlreqhttpheadername":"X-TeaLeaf-Page-Cui-Exceptions","tlsethttpheader":true,"tlreqhttpheadervalue":"TeaLeaf.Event.tlGetExceptionCount()"},{"tlreqhttpheadername":"X-TeaLeaf-Alert-Count","tlsethttpheader":true,"tlreqhttpheadervalue":"TeaLeaf.Event.tlGetAlertCount()"},{"tlreqhttpheadername":"X-TeaLeaf-Page-Dwell","tlsethttpheader":true,"tlreqhttpheadervalue":"TeaLeaf.Event.tlGetDwellTime()"},{"tlreqhttpheadername":"X-TeaLeaf-Page-Last-Field","tlsethttpheader":true,"tlreqhttpheadervalue":"TeaLeaf.Event.tlGetLastVisitedElementID()"},{"tlreqhttpheadername":"X-TeaLeaf-Visit-Order","tlsethttpheader":true,"tlreqhttpheadervalue":"TeaLeaf.Event.tlGetVisitOrder()"}]}}if(typeof TeaLeaf!=="undefined"&&((typeof TeaLeaf.replay==="function")?!TeaLeaf.replay():!TeaLeaf.replay)&&!TeaLeaf.Env){TeaLeaf.Env={};if(typeof TeaLeaf.Env.Configuration=="undefined"){TeaLeaf.Env.Configuration={"tlinit":false,tlPlugins:[{"tlIEplugin":"ShockwaveFlash.ShockwaveFlash.1","tlpluginname":"Shockwave Flash","tlversion":"1.0","tlenable":false},{"tlIEplugin":"MediaPlayer.MediaPlayer.1","tlpluginname":"Windows Media Player","tlversion":"","tlenable":false},{"tlIEplugin":"PDF.PdfCtrl.1","tlpluginname":"Adobe Acrobat","tlversion":"","tlenable":false},{"tlIEplugin":"QuickTimeCheckObject.QuickTimeCheck.1","tlpluginname":"QuickTime","tlversion":"","tlenable":false}]}}}if(typeof TeaLeaf!=="undefined"&&((typeof TeaLeaf.replay==="function")?!TeaLeaf.replay():!TeaLeaf.replay)&&!TeaLeaf.Client){TeaLeaf.Client={};if(typeof TeaLeaf.Client.Configuration=="undefined"){TeaLeaf.Client.Configuration={"tlinit":false,"tlpassword":1,"tlsendfocus":false,"tlsendblur":true,"tlactiontype":"No Submit","tlcontrolsattached":false,"tlscanupdate":0,"tlIEhref":false,"tlEnableAttr":false,"tlDiscardInvalidXPath":false,"tlUniqueIDCheckEnabled":false,"tlScrollOffsetX":0,"tlScrollOffsetY":0,"tlScrollX":0,"tlScrollY":0,"tlScrollXDirection":0,"tlScrollYDirection":0,"tlScrollDirection":"","tlScrollDirectionOrig":"","tlAndroidOrientation":0,tlScheduledScan:false,tlExcludeTags:true,tlUniversalAttach:false,tlStoreQueueInCookie:false,tlFieldBlock:[{"className":"tl_private","caseinsensitive":true,"exclude":false,"mask":function(){return TeaLeaf.Client.PreserveMask.apply(this,arguments)}},{"name":"logonPassword|logonPasswordVerify|challengeAnswer|challengeAnswerVerify|chaans|cardNumber|bankaccountnumber|dillardsaccountnumber|accountnumber|accountnumber2|selectedaccountnumber|accountNum|password|ssn1|ssn2|ssn3|new_pass|newver_pass|cardCID|newpassword|confirmpassword|logonPassword|pay_cardNumber|confirm_chaans|pay_data_cvvNumber|expire_month|expire_year|account|qc_pay_account|qc_pay_expire_month|qc_pay_expire_year|removeCardNumberDropDown|qc_pay_addedCard_expire_month|qc_pay_addedCard_expire_year","caseinsensitive":true,"exclude":false,"mask":function(){return TeaLeaf.Client.PreserveMask.apply(this,arguments)}}],tlPrivacyMask:{"upperChar":"X","lowerChar":"x","numericChar":"9","symbolChar":"#"},tlWindowHandlers:[{"domevent":"resize","load":false,"tlhandler":"TeaLeaf.Client.tlQueueResize"},{"domevent":"focus","load":true,"tlhandler":"TeaLeaf.Client.tlSetFocusTime"},{"domevent":"help","load":true,"tlhandler":"TeaLeaf.Client.tlAddEvent"},{"domevent":"scroll","load":false,"tlhandler":"TeaLeaf.Client.tlSendScroll"},{"domevent":"beforeprint","load":false,"tlhandler":"TeaLeaf.Client.tlAddEvent"},{"domevent":"afterprint","load":false,"tlhandler":"TeaLeaf.Client.tlAddEvent"},{"domevent":"beforeunload","load":true,"tlhandler":"TeaLeaf.Event.tlBeforeUnload"},{"domevent":"unload","load":false,"tlhandler":"TeaLeaf.Event.tlUnload"},{"domevent":"devicemotion","load":false,"tlhandler":"TeaLeaf.Client.tlMotionEvent"},{"domevent":"deviceorientation","load":false,"tlhandler":"TeaLeaf.Client.tlDeviceOrientationEvent"},{"domevent":"orientationchange","load":false,"tlhandler":"TeaLeaf.Client.tlOrientationChangeEvent"}],tlDocumentHandlers:[{"domevent":"click","load":true,"tlhandler":"TeaLeaf.Client.tlAddEvent"},{"domevent":"dblclick","load":true,"tlhandler":"TeaLeaf.Client.tlAddEvent"},{"domevent":"keyup","load":true,"tlhandler":"TeaLeaf.Client.tlQueueKey"},{"domevent":"mousedown","load":true,"tlhandler":"TeaLeaf.Client.tlAddEvent"},{"domevent":"mouseup","load":false,"tlhandler":"TeaLeaf.Client.tlAddEvent"},{"domevent":"mouseover","load":false,"tlhandler":"TeaLeaf.Client.tlAddEvent"},{"domevent":"mouseout","load":false,"tlhandler":"TeaLeaf.Client.tlAddEvent"},{"domevent":"mousemove","load":false,"tlhandler":"TeaLeaf.Client.tlUserMovement"},{"domevent":"contextmenu","load":false,"tlhandler":"TeaLeaf.Client.tlAddEvent"},{"domevent":"gesturestart","load":false,"tlhandler":"TeaLeaf.Client.tlAddGestureEvent"},{"domevent":"gesturechange","load":false,"tlhandler":"TeaLeaf.Client.tlAddGestureEvent"},{"domevent":"gestureend","load":false,"tlhandler":"TeaLeaf.Client.tlAddGestureEvent"},{"domevent":"touchmove","load":false,"tlhandler":"TeaLeaf.Client.tlAddTouchEvent"},{"domevent":"touchstart","load":false,"tlhandler":"TeaLeaf.Client.tlAddTouchEvent"},{"domevent":"touchend","load":false,"tlhandler":"TeaLeaf.Client.tlAddTouchEvent"},{"domevent":"touchcancel","load":false,"tlhandler":"TeaLeaf.Client.tlAddTouchEvent"}],tlSingleAttach:[{"domelementID":"","domevent":"mousedown","tlhandler":"TeaLeaf.Client.tlAddEvent"},{"domelementID":"","domevent":"mouseup","tlhandler":"TeaLeaf.Client.tlAddEvent"},{"domelementID":"","domevent":"mouseover","tlhandler":"TeaLeaf.Client.tlAddEvent"},{"domelementID":"","domevent":"mouseout","tlhandler":"TeaLeaf.Client.tlAddEvent"}],tlAttributeCapture:[{"tltagname":"a","tlattributename":"href","tlevent":"click"},{"tltagname":"button","tlattributename":"value","tlevent":"click"}],tlIDBlackList:[],tlIDWhiteList:[],tlNodeTags:{"APPLET":true,"ATTRIBUTE":true,"B":true,"BASE":true,"BODY":true,"BR":true,"CENTER":true,"COL":true,"COLGROUP":true,"COMMENT":true,"DIV":true,"DEFAULT":true,"DEL":true,"EVENT":true,"FONT":true,"FORM":true,"HEAD":true,"HISTORY":true,"HR":true,"HTML":true,"I":true,"INS":true,"LINK":true,"MAP":true,"META":true,"NAMESPACE":true,"NAVIGGATOR":true,"NOBR":true,"OPTION":true,"P":true,"PARAM":true,"S":true,"SCRIPT":true,"SMALL":true,"STRIKE":true,"STRONG":true,"STYLE":true,"SUB":true,"SUP":true,"TH":true,"TITLE":true,"THEAD":true,"TFOOT":true,"TR":true,"U":true},tlSpecialChildNodeTags:{"NOBR":true,"P":true}};TeaLeaf.Client.Configuration.tlIdCounter=[]}}if(typeof TeaLeaf!=="undefined"&&((typeof TeaLeaf.replay==="function")?!TeaLeaf.replay():!TeaLeaf.replay)&&TeaLeaf.Configuration&&!TeaLeaf.setupComplete){TeaLeaf.setupComplete=true;if(!TeaLeaf.tlBrowser){TeaLeaf.tlBrowser={"UNKNOWN":true}}if(!TeaLeaf.$C){TeaLeaf.$C=function(attr){return attr}}if(!Array.prototype.push){Array.prototype.stackEnd=0;Array.prototype.push=function(obj){this[this.stackEnd]=obj;this.stackEnd++}}if(!Array.prototype.pop){Array.prototype.pop=function(){this.stackEnd--;return this[this.stackEnd]}}TeaLeaf.trim=function(str){if(!str||!str.toString){return""}return str.toString().replace(/^\s+|\s+$/g,"")};TeaLeaf.ltrim=function(str){if(!str||!str.toString){return""}return str.toString().replace(/^\s+/,"")};TeaLeaf.rtrim=function(str){if(!str||!str.toString){return""}return str.toString().replace(/\s+$/,"")};TeaLeaf.extend=function(parent,child){var i;if(!child||typeof child!=="object"){child={}}if(!parent||typeof parent!=="object"){return child}for(i in parent){if(parent.hasOwnProperty(i)){if(typeof parent[i]!=="object"||parent[i]===null){child[i]=parent[i]}else{child[i]=(Object.prototype.toString.call(parent[i])==="[object Array]")?[]:{};TeaLeaf.extend(parent[i],child[i])}}}return child};TeaLeaf.serializeEventsToXML=(function(){var count=1,serializeJSONtoXML=function(objTag,jsonObj){var i,childObjects=[],childObjectsCount=0,prop,serializedArr=[],UNDEFINED;if(!objTag||typeof jsonObj!=="object"){return""}objTag=TeaLeaf.Event.tlFormatXMLName(objTag);serializedArr.push("<"+objTag);for(prop in jsonObj){if(!jsonObj.hasOwnProperty(prop)||jsonObj[prop]===UNDEFINED||jsonObj[prop]===""||jsonObj[prop]===null){continue}if(typeof jsonObj[prop]==="object"){childObjects.push(serializeJSONtoXML(prop,jsonObj[prop]))}else{serializedArr.push(TeaLeaf.Event.tlFormatXMLName(prop)+'="'+TeaLeaf.Event.tlFormatXMLValue(jsonObj[prop].toString())+'"')}}childObjectsCount=childObjects.length;if(childObjectsCount){serializedArr.push(">");for(i=0;i<childObjectsCount;i++){serializedArr.push(childObjects[i])}serializedArr.push("</"+objTag+">")}else{serializedArr.push("/>")}return serializedArr.join(" ")};return function(eventQ){var eventObj,pageId=TeaLeaf.Event.tlGetPageId(),serializedArr=[];serializedArr.push('<ClientEventSet PostTimeStamp="'+(new Date()).getTime()+'">');while(!eventQ.isEmpty()){eventObj=eventQ.dequeue();if(typeof eventObj!=="object"){continue}eventObj.count=count++;eventObj.PageID=pageId;serializedArr.push(serializeJSONtoXML("ClientEvent",eventObj))}serializedArr.push("</ClientEventSet>");return serializedArr.join("\n")}}());TeaLeaf.XHRFactory=(function(){var isHttpSuccess,MAX_XHR_WAIT_TIME;MAX_XHR_WAIT_TIME=30000;isHttpSuccess=function(statusCode){if((statusCode>=200&&statusCode<300)||statusCode===304){return true}return false};return{"createXHRObject":function(){var i,methods,xhr;methods=[function(){return new XMLHttpRequest()},function(){return new ActiveXObject("Msxml2.XMLHTTP.6.0")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}];for(i=0;i<methods.length;i++){try{xhr=methods[i]()}catch(e){continue}if(xhr){this.createXHRObject=methods[i];return xhr}}return null},"xhrRequest":function(reqMethod,reqUrl,reqHeaders,reqData,reqAsync,callback,xhr){var i,timeoutID;if(!reqMethod||!reqUrl){return null}reqMethod=reqMethod.toUpperCase();if(!xhr){xhr=this.createXHRObject()}if(!xhr){return null}if(reqAsync){xhr.onreadystatechange=function(){var status,statusText;try{switch(xhr.readyState){case 0:break;case 1:break;case 2:if(callback&&callback.loaded){try{status=xhr.status;statusText=xhr.statusText}catch(e){if(!status){status=0}if(!statusText){statusText="None"}}finally{callback.loaded(status,statusText)}}break;case 3:break;case 4:TeaLeaf.XHRFactory.deleteXHRObj(xhr);if(isHttpSuccess(xhr.status)){if(callback&&callback.success){callback.success(xhr.responseText,xhr.responseXML)}}else{if(callback&&callback.failure){callback.failure(xhr.status,xhr.statusText)}}break;default:break}}catch(e2){}}}xhr.open(reqMethod,reqUrl,reqAsync);if(reqHeaders){for(i=0;i<reqHeaders.length;i++){xhr.setRequestHeader(reqHeaders[i].name,reqHeaders[i].value)}}if(reqMethod!=="POST"||!reqData){reqData=null}if(reqAsync){try{timeoutID=setTimeout(function(){TeaLeaf.XHRFactory.deleteXHRObj(xhr)},MAX_XHR_WAIT_TIME);xhr.timeoutID=timeoutID}catch(e){}}xhr.send(reqData);return xhr},"deleteXHRObj":function(xhr){xhr.onreadystatechange=function(){};if(xhr&&xhr.readyState!==4){if(xhr.abort){xhr.abort()}}if(xhr.timeoutID){clearTimeout(xhr.timeoutID);xhr.timeoutID=null}}}}());TeaLeaf.Queue=function(){if(!(this instanceof TeaLeaf.Queue)){return new TeaLeaf.Queue()}this._q=[];this.size=0};TeaLeaf.Queue.prototype={enqueue:function(obj){if(typeof obj==="undefined"){return this.size}this.size=this._q.push(obj);return this.size},dequeue:function(){var obj=this._q.shift();this.size=this._q.length;return obj},isEmpty:function(){return!this.size}};TeaLeaf.eventQ=new TeaLeaf.Queue();TeaLeaf.Request=function(){var data,headers,method,url;data=headers=url=null;method="POST";this.getUrl=function(){var TCfg,tmpPath,tmpUrl,windowLocation,windowProtocol;if(url){return url}TCfg=TeaLeaf.Configuration;windowLocation=window.location;windowProtocol=windowLocation.protocol;tmpUrl=windowProtocol+"//"+windowLocation.host;if(windowProtocol==="http:"){tmpPath=TCfg.tlurl}else{tmpPath=TCfg.tlsecureurl}if(tmpPath.substr(0,1)==="/"){tmpUrl+=tmpPath}else{tmpUrl+=windowLocation.pathname.substr(0,windowLocation.pathname.lastIndexOf("/")+1)+tmpPath}return tmpUrl};this.setUrl=function(newUrl){url=newUrl};this.getMethod=function(){return method};this.setMethod=function(newMethod){method=newMethod};this.getData=function(){return data};this.setData=function(newData){var length;data=newData;if(data){length=TeaLeaf.Request.totalDataLength||0;length+=data.length;TeaLeaf.Request.totalDataLength=length}};this.getHeaders=function(){return headers};this.setHeaders=function(newHeaders){headers=newHeaders};this.clear=function(){data=headers=url=null}};TeaLeaf.Request.prototype={send:function(callback){var iframeNode,iframeWindow,thatRequest,thatTealeaf,TCfg,xhr;TCfg=TeaLeaf.Configuration;if(!TCfg.xd_iframeID){xhr=TeaLeaf.XHRFactory.xhrRequest(this.getMethod(),this.getUrl(),this.getHeaders(),this.getData(),TCfg.xhrAsync,callback);if(!xhr){if(callback&&callback.failure){callback.failure(0,"XHR request failed!")}return}}else{try{iframeNode=document.getElementById(TCfg.xd_iframeID);if(!iframeNode||!iframeNode.contentWindow){if(callback&&callback.failure){callback.failure(0,"Could not retrive cross-domain iframe target!")}return}iframeWindow=iframeNode.contentWindow;if(iframeWindow.postMessage&&window.JSON&&0){}else{thatTealeaf=iframeWindow.TeaLeaf;if(thatTealeaf&&thatTealeaf.Request){thatRequest=new thatTealeaf.Request();thatRequest.clear();this.setUrl(thatRequest.getUrl());thatRequest.setHeaders(this.getHeaders());thatRequest.setData(this.getData());thatRequest.send(callback)}}}catch(e){if(callback&&callback.failure){callback.failure(0,(e.name?(e.name+": "+e.message):e.toString()))}return}}}};TeaLeaf.Request.GetTotalDataLength=function(){var length;length=TeaLeaf.Request.totalDataLength||0;return length};TeaLeaf.sendData=function(data,contentType){var TeaLeaf=window.TeaLeaf,callback,headers,req;if(!data){return-1}contentType=contentType||"text/plain";req=new TeaLeaf.Request();if(!req){return-1}req.clear();req.setData(data);headers=[{"name":"X-TeaLeaf","value":"ClientEvent"},{"name":"Content-Type","value":contentType}];headers=headers.concat(TeaLeaf.Event.tlGetHTTPHeaders(TeaLeaf.Event.Configuration.tlHTTPRequestHeadersSet));if(!TeaLeaf.initHeadersSent){headers=headers.concat(TeaLeaf.Event.tlGetHTTPHeaders(TeaLeaf.Event.Configuration.tlHTTPRequestHeadersEvalInit));TeaLeaf.initHeadersSent=true}if(TeaLeaf.Event.SendUnloadHeaders&&!TeaLeaf.Event.UnloadHeadersSent){headers=headers.concat(TeaLeaf.Event.tlGetHTTPHeaders(TeaLeaf.Event.Configuration.tlHTTPRequestHeadersEvalBeforeUnload));TeaLeaf.Event.UnloadHeadersSent=true}req.setHeaders(headers);callback={"loaded":function(statusCode,statusText){if(TeaLeaf.tlGetCookieValue("tlQueuedXML")){TeaLeaf.tlEraseCookie("tlQueuedXML")}},"failure":function(statusCode,statusText){if(statusCode<200&&!TeaLeaf.Event.Configuration.tlignoresendfailure){TeaLeaf.Event.Configuration.tlignoresendfailure=true;TeaLeaf.Event.tlErrorHandler("XHR failure - Status "+statusCode+": "+statusText,req.getUrl())}},"success":function(respText,respXML){TeaLeaf.Event.Configuration.tlignoresendfailure=false}};TeaLeaf.Event.Configuration.tlignoresendfailure=true;req.send(callback);return 0};TeaLeaf.makeRandomString=function(length,inputSet){var i,j,rv;if(!length||length<=0){return}if(!inputSet){inputSet="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890~!@$-"}rv="";for(i=0;i<length;i++){j=Math.floor(Math.random()*inputSet.length);rv+=inputSet.charAt(j)}return rv};TeaLeaf.getNodeType=function(node){var nodeName,nodeType;if(!node){return""}nodeName=node.nodeName?node.nodeName.toLowerCase():"";nodeType="";if(nodeName==="input"||nodeName==="object"||nodeName==="script"){nodeType=node.type?node.type.toLowerCase():""}return nodeType};TeaLeaf.tLoadObjs=[];TeaLeaf.addOnLoad=function(obj,functionName){if(arguments.length===1){TeaLeaf.tLoadObjs.push(obj)}else if(arguments.length>1){TeaLeaf.tLoadObjs.push(obj[functionName])}};TeaLeaf.tlSetCookie=function(name,value,expires,path,domain,secure){if(!name){return}document.cookie=name+"="+value+(expires?(";expires="+expires.toUTCString()):"")+";path="+(path||"/")+(domain?(";domain="+domain):"")+(secure?";secure":"")};TeaLeaf.tlGetCookieValue=function(name){var i,c,cookies,value,nameEQ;nameEQ=name+"=";value=null;cookies=document.cookie.split(';');for(i=0;i<cookies.length;i++){c=TeaLeaf.ltrim(cookies[i]);if(c.indexOf(nameEQ)===0){value=c.substring(nameEQ.length,c.length);break}}return value};TeaLeaf.tlEraseCookie=function(name){var expires;expires=new Date(1970,1,1);TeaLeaf.tlSetCookie(name,"",expires)};TeaLeaf.tlBrowserIsIE=function(){var TB;TB=TeaLeaf.tlBrowser;if(TB){return!!TB.MSIE}return false};TeaLeaf.tlBrowserIsMozilla=function(){var TB;TB=TeaLeaf.tlBrowser;if(TB){return!!TB.MOZILLA}return false};TeaLeaf.tlBrowserIsWebKit=function(){var TB;TB=TeaLeaf.tlBrowser;if(TB){return!!TB.WEBKIT}return false};TeaLeaf.tlBrowserIsAndroid=function(){var TB;TB=TeaLeaf.tlBrowser;if(TB){return!!TB.ANDROID}return false};TeaLeaf.tlBrowserIsOpera=function(){var TB;TB=TeaLeaf.tlBrowser;if(TB){return!!TB.OPERA}return false};TeaLeaf.tlBrowserIsUnknown=function(){var TB;TB=TeaLeaf.tlBrowser;if(TB){return!!TB.UNKNOWN}return false};(function(){var T=TeaLeaf,TC=T.Client,TCfg=T.Configuration,TE=T.Event,acTimerID=null,activityFlag=true,disabled=false,eventLimit=TE.Configuration.tlmaxeventcount,eventLimitReached=false;T.tlDisable=function(){activityFlag=false;if((eventLimitReached||TCfg.tlDisableIfInactive)&&!disabled){try{TE.tlFlushQueue(true);TC.tlDetachFromAllControls();TeaLeaf.Event.tlRemoveHandler(window,"beforeunload",TeaLeaf.Event.tlBeforeUnload,false);TeaLeaf.Event.tlRemoveHandler(window,"unload",TeaLeaf.Event.tlUnload,false)}catch(e){}disabled=true}};T.activitySinceDisabled=function(){return activityFlag};T.tlKeepAlive=function(){if(acTimerID){window.clearTimeout(acTimerID);acTimerID=null}if(eventLimitReached||T.Event.getEventCount()>=eventLimit){eventLimitReached=true;T.tlDisable();T.tlKeepAlive=function(){};return}if(!disabled&&TCfg.tlActivityTimeout){acTimerID=window.setTimeout(function(){T.tlDisable()},(TCfg.tlActivityTimeout*60000))}if(!activityFlag){activityFlag=true}}}());TeaLeaf.PageSetup=function(){var i,cValue,expires,iframeNode,iframeSrc,now,T,TCfg,TCfgGUIDCookie,ua;if(document.readyState&&((document.readyState=="complete")||(document.readystate=="interactive"))){return}T=TeaLeaf;TCfg=T.Configuration;TCfgGUIDCookie=TCfg.tlGUIDCookie;if(T.PageSetup.Complete){return}T.PageSetup.Complete=true;if(T.PageSetup.Cleanup){T.PageSetup.Cleanup()}T.tlBrowser.UNKNOWN=false;ua=navigator.userAgent.toLowerCase();if(/opera|presto/i.test(ua)){T.tlBrowser.OPERA=true}else if(/android/i.test(ua)){T.tlBrowser.ANDROID=true}else if(/(apple)?webkit|safari|chrome/i.test(ua)){T.tlBrowser.WEBKIT=true}else if(/msie|trident/i.test(ua)){T.tlBrowser.MSIE=true}else if(/mozilla|gecko|firefox/i.test(ua)){T.tlBrowser.MOZILLA=true}else{T.tlBrowser.UNKNOWN=true}if(TCfg.xd_CommonDomain){try{document.domain=TCfg.xd_CommonDomain}catch(e){}}if(TCfg.xd_iframeID){try{iframeNode=document.getElementById(TCfg.xd_iframeID);if(!iframeNode){iframeSrc=((window.location.protocol==="http:")?TCfg.xd_iframeSrcURL:TCfg.xd_iframeSrcURLSecure);if(iframeSrc){iframeNode=document.createElement("IFRAME");if(iframeNode){iframeNode.id=TCfg.xd_iframeID;iframeNode.src=iframeSrc;iframeNode.style.display="none";iframeNode.style.visibility="hidden";document.body.appendChild(iframeNode)}}}}catch(e2){}}if(TCfg.tlSetGUID){if(!TCfgGUIDCookie||!TCfgGUIDCookie.name){}else{if(!TCfgGUIDCookie.valueLength){TCfgGUIDCookie.valueLength=32}if(!TCfgGUIDCookie.valueSet){TCfgGUIDCookie.valueSet="0123456789ABCDEF"}cValue=T.tlGetCookieValue(TCfgGUIDCookie.name);if(!cValue){now=new Date();cValue=T.makeRandomString(TCfgGUIDCookie.valueLength,TCfgGUIDCookie.valueSet);expires=TCfgGUIDCookie.expires?new Date(now.getTime()+TCfgGUIDCookie.expires*60*1000):null;T.tlSetCookie(TCfgGUIDCookie.name,cValue,expires,TCfgGUIDCookie.path,TCfgGUIDCookie.domain,TCfgGUIDCookie.secure)}}}for(i=0;i<T.tLoadObjs.length;i++){T.tLoadObjs[i]()}T.EndLoad=new Date()};if(document.readyState==="complete"){TeaLeaf.PageSetup()}else if(document.addEventListener){document.addEventListener("DOMContentLoaded",TeaLeaf.PageSetup,false);window.addEventListener("load",TeaLeaf.PageSetup,false);TeaLeaf.PageSetup.Cleanup=function(){var T;T=TeaLeaf;document.removeEventListener("DOMContentLoaded",T.PageSetup,false);window.removeEventListener("load",T.PageSetup,false)}}else if(document.attachEvent){document.attachEvent("onreadystatechange",TeaLeaf.PageSetup);window.attachEvent("onload",TeaLeaf.PageSetup);TeaLeaf.PageSetup.Cleanup=function(){var T;T=TeaLeaf;document.detachEvent("onreadystatechange",T.PageSetup);window.detachEvent("onload",T.PageSetup)}}else{if(typeof window.onload==="function"){TeaLeaf.OnLoad=window.onload}else{TeaLeaf.OnLoad=null}window.onload=function(){var T;T=TeaLeaf;T.PageSetup();window.onload=T.OnLoad;if(T.OnLoad){T.OnLoad()}}}}if(window.TeaLeaf&&((typeof TeaLeaf.replay==="function")?!TeaLeaf.replay():!TeaLeaf.replay)&&TeaLeaf.Event&&!TeaLeaf.Event.setupComplete){TeaLeaf.Event.setupComplete=true;TeaLeaf.Event.tlQueuedXML="";TeaLeaf.Event.tlWindowObjects=[{"tlWindowName":"","tlWindowObject":""}];TeaLeaf.Event.queuedEventTypes={};(function(){var count=0;TeaLeaf.Event.setEventCount=function(c){if(typeof c==="number"){count=c}return count};TeaLeaf.Event.getEventCount=function(){return count}}());TeaLeaf.Event.createBaseEvent=function(type,subType){var e;e={'type':(type?type.toString():null),'subType':(subType?subType.toString():null),'timeDuration':0};return e};TeaLeaf.Event.createExceptionEvent=(function(){var exceptionBaseEvent;exceptionBaseEvent=TeaLeaf.Event.createBaseEvent(TeaLeaf.$C("INFO"),TeaLeaf.$C("EXCEPTION"));return function(message,url,line){var e;e=TeaLeaf.extend(exceptionBaseEvent,{'message':message,'url':url,'line':line});e.timeDuration=TeaLeaf.Event.tlDateDiff(new Date());TeaLeaf.Event.queuedEventTypes.EXCEPTION=true;return e}}());TeaLeaf.Event.createCustomEvent=function(subType,customObj){var customEvent;customEvent=TeaLeaf.Event.createBaseEvent('UIEventAppInfo',subType);customEvent.timeDuration=TeaLeaf.Event.tlDateDiff(new Date());TeaLeaf.Event.queuedEventTypes.CUSTOM=true;return TeaLeaf.extend(customObj,customEvent)};TeaLeaf.Event.createPerformanceEvent=function(subType,perfObj){var perfEvent;perfEvent=TeaLeaf.Event.createBaseEvent('PERFORMANCE',subType);perfEvent.timeDuration=TeaLeaf.Event.tlDateDiff(new Date());TeaLeaf.Event.queuedEventTypes.PERFORMANCE=true;return TeaLeaf.extend(perfObj,perfEvent)};TeaLeaf.Event.createGuiEvent=function(subType,guiObj){var TeaLeaf=window.TeaLeaf,guiEvent;guiEvent=TeaLeaf.Event.createBaseEvent('GUI',subType);guiEvent.timeDuration=TeaLeaf.Event.tlDateDiff(new Date());TeaLeaf.Event.queuedEventTypes.GUI=true;return TeaLeaf.extend(guiObj,guiEvent)};TeaLeaf.Event.tlGetTeaLeafXEvent=function(){var teaLeafXEvent=TeaLeaf.$C("ClientEvent");return teaLeafXEvent};TeaLeaf.Event.tlEventType=function(){var i,eventTypes="",queuedEventTypes;if(typeof TeaLeaf.Event.queuedEventTypes!=="object"){return""}queuedEventTypes=TeaLeaf.Event.queuedEventTypes;for(i in queuedEventTypes){if(queuedEventTypes.hasOwnProperty(i)){eventTypes+=i+"; "}}TeaLeaf.Event.queuedEventTypes={};return eventTypes};TeaLeaf.Event.tlEventSubType=function(){var subType;subType=TeaLeaf.Event.SetSubType;TeaLeaf.Event.SetSubType="";return subType};TeaLeaf.Event.tlGetUrlPath=function(){var strpath=window.location.pathname;return strpath};TeaLeaf.Event.tlGetJSVersion=function(){return TeaLeaf.Configuration.tlversion};TeaLeaf.Event.tlResolutionType=function(width,height){var i,res=TeaLeaf.Event.Configuration.tlResolution;for(i=0;i<res.length;i++){if(width<=res[i].width||height<=res[i].height){return res[i].type}}return res[res.length-1].type};TeaLeaf.Event.tlResolutionTypeBrowser=function(){var elems,retType,winWidth=0,winHeight=0;if(window.innerWidth){winWidth=window.innerWidth;winHeight=window.innerHeight}else if(document.documentElement&&document.documentElement.clientWidth){winWidth=document.documentElement.clientWidth;winHeight=document.documentElement.clientHeight}else if(document.body&&document.body.clientWidth){winWidth=document.body.clientWidth;winHeight=document.body.clientHeight}else{elems=document.getElementsByTagName("body");if(elems.length>0){winWidth=elems[0].clientWidth;winHeight=elems[0].clientHeight}}retType=TeaLeaf.Event.tlResolutionType(winWidth,winHeight);return retType};TeaLeaf.Event.tlGetRenderTime=function(){return TeaLeaf.Event.PageLoadMilliSecs};TeaLeaf.Event.tlGetElementCount=function(element){return document.getElementsByName(element).length};TeaLeaf.Event.tlBadImageCount=function(){var i,bad_image_count,documentImages,img,total_images;bad_image_count=0;documentImages=document.images;total_images=documentImages.length;for(i=0;i<total_images;i++){img=documentImages[i];if((!img)||(typeof img.complete==="boolean"&&!img.complete)||(typeof img.naturalWidth!=="undefined"&&img.naturalWidth===0)){bad_image_count++;continue}}return bad_image_count};TeaLeaf.Event.tlFlashSend=function(tlType,tlSubType,tlData,tlDelimeter){var TeaLeaf=window.TeaLeaf,i,j,flashEvent=TeaLeaf.Event.createBaseEvent(tlType,tlSubType),flashEventData=tlData.split(tlDelimeter);flashEvent.timeDuration=TeaLeaf.Event.tlDateDiff(new Date());for(i=0,j=flashEventData.length-1;i<j;i+=2){flashEvent[flashEventData[i]]=flashEventData[i+1]}TeaLeaf.eventQ.enqueue(flashEvent);TeaLeaf.tlKeepAlive()};TeaLeaf.Event.tlShowFlashDebug=function(tlWindowName,tlDebugMessage){var i,tlNewWindowObject;tlDebugMessage+="<BR>";for(i=0;i<TeaLeaf.Event.tlWindowObjects.length;i++){if(TeaLeaf.Event.tlWindowObjects[i].tlWindowName===tlWindowName){if(TeaLeaf.Event.tlWindowObjects[i].tlWindowObject.closed){TeaLeaf.Event.tlWindowObjects[i].tlWindowObject=window.open("",tlWindowName,"width=600,height=300,scrollbars=yes,resizable=yes")}TeaLeaf.Event.tlWindowObjects[i].tlWindowObject.document.writeln(tlDebugMessage.fontsize(2));TeaLeaf.Event.tlWindowObjects[i].tlWindowObject.scrollTo(0,50000);return}}tlNewWindowObject=window.open("",tlWindowName,"width=600,height=300,scrollbars=yes,resizable=yes");TeaLeaf.Event.tlWindowObjects.push({"tlWindowName":tlWindowName,"tlWindowObject":tlNewWindowObject});tlNewWindowObject.document.writeln(tlDebugMessage.fontsize(2))};TeaLeaf.Event.tlSetEventCount=function(tleventcount){TeaLeaf.Event.Configuration.tleventcount+=tleventcount};TeaLeaf.Event.tlGetEventCount=function(){return TeaLeaf.Event.Configuration.tleventcount};TeaLeaf.Event.tlGetExceptionCount=function(){return(TeaLeaf.Event.Configuration.tlcatcherrors?TeaLeaf.Event.Configuration.tlexceptioncount:null)};TeaLeaf.Event.tlGetDwellTime=function(){return TeaLeaf.Event.tlDateDiff(TeaLeaf.Event.Configuration.tllastdwelltime)};TeaLeaf.Event.tlGetLastVisitedElementID=function(){return TeaLeaf.Event.Configuration.tlidoflastvisitedcontrol};TeaLeaf.Event.tlDateDiff=function(v1,v2){var defaultValue=TeaLeaf.tlStartLoad.getTime();v1=v1||defaultValue;v2=v2||defaultValue;return Math.abs(v1-v2)};TeaLeaf.Event.tlGetVisitOrder=function(){return TeaLeaf.Event.Configuration.tlvisitorder};TeaLeaf.Event.tlFormatXMLValue=function(s){if(s&&typeof s==="string"){if(s.replace){return s.replace(/&/g,"&amp;").replace(/\"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}return s}return""};TeaLeaf.Event.tlGetHTTPHeaders=function(tlheaderconfig){var i,headers,value;headers=[];for(i=0;i<tlheaderconfig.length;i++){if(tlheaderconfig[i].tlsethttpheader){value=eval(tlheaderconfig[i].tlreqhttpheadervalue);if(value){headers.push({"name":tlheaderconfig[i].tlreqhttpheadername,"value":value})}}}return headers};TeaLeaf.Event.tlGetPageId=function(){if(TeaLeaf.Event.Configuration.tlpageid){return TeaLeaf.Event.Configuration.tlpageid}if(window.TeaLeaf_PageID){TeaLeaf.Event.Configuration.tlpageid=TeaLeaf_PageID;return TeaLeaf.Event.Configuration.tlpageid}TeaLeaf.Event.Configuration.tlpageid="ID"+TeaLeaf.tlStartLoad.getHours()+"H"+TeaLeaf.tlStartLoad.getMinutes()+"M"+TeaLeaf.tlStartLoad.getSeconds()+"S"+TeaLeaf.tlStartLoad.getMilliseconds()+"R"+Math.random();return TeaLeaf.Event.Configuration.tlpageid};TeaLeaf.Event.tlAddHandler=function(tlitem,tlevt,tlhandler,tlcapture){try{if(!tlitem){return}if(tlitem.addEventListener){tlitem.addEventListener(tlevt,tlhandler,tlcapture)}else if(tlitem.attachEvent){tlitem.attachEvent('on'+tlevt,tlhandler)}}catch(e){}};TeaLeaf.Event.tlRemoveHandler=function(tlitem,tlevt,tlhandler,tlcapture){try{if(!tlitem){return}if(tlitem.removeEventListener){tlitem.removeEventListener(tlevt,tlhandler,tlcapture)}else if(tlitem.detachEvent){tlitem.detachEvent('on'+tlevt,tlhandler)}}catch(e){}};TeaLeaf.Event.tlFlushQueue=(function(){var contentType,flushCount=1,serializeToJSON=(typeof TeaLeaf.Event.Configuration.jsonSerializer==="function")?true:false;contentType=serializeToJSON?"application/json":"text/xml";return function(force){var TeaLeaf=window.TeaLeaf,jsonData={'version':"0.0.0.4",'serialNumber':flushCount,'sessions':[{'id':TeaLeaf.Event.tlGetPageId(),'startTime':TeaLeaf.tlStartLoad.getTime(),'timezoneOffset':TeaLeaf.tlStartLoad.getTimezoneOffset(),'messages':[],'meta':{'libVersion':TeaLeaf.Event.tlGetJSVersion(),'page':window.location.href,'windowId':TeaLeaf.Env.getWindowId(),'screen':{'width':window.screen.width,'height':window.screen.height,'orientation':window.orientation||0}}}]},qSize=TeaLeaf.eventQ.size,serializedData="";if(TeaLeaf.eventQ.isEmpty()){return}if(!force&&qSize<TeaLeaf.Event.Configuration.tlqueuemaxevents){return}if(serializeToJSON){while(!TeaLeaf.eventQ.isEmpty()){jsonData.sessions[0].messages.push(TeaLeaf.eventQ.dequeue())}serializedData=TeaLeaf.Event.Configuration.jsonSerializer(jsonData)}else{serializedData=TeaLeaf.serializeEventsToXML(TeaLeaf.eventQ)}TeaLeaf.Event.tlSetEventCount(qSize);TeaLeaf.sendData(serializedData,contentType);flushCount+=1}}());TeaLeaf.Event.tlGetAlertCount=function(){var T,TE,alertCount;T=TeaLeaf;TE=T.Event;alertCount=TE.getAlertCount?TE.getAlertCount():0;return alertCount};TeaLeaf.Event.tlErrorHandler=function(message,url,line){try{var TEC=TeaLeaf.Event.Configuration,exceptionEvent;TEC.tlexceptioncount+=1;if(TEC.tlexceptioncount>TEC.tlmaxeventexception){return false}if((typeof message!=="string")&&!url){return false}line=line||0;exceptionEvent=TeaLeaf.Event.createExceptionEvent(message,url,line);TeaLeaf.eventQ.enqueue(exceptionEvent)}catch(e){}return false};(function(){var T,TCfg,TC,TCCfg,TE,TECfg,sendUnload,unloadFired;T=TeaLeaf;TCfg=T.Configuration;TC=T.Client;TCCfg=TC.Configuration;TE=T.Event;TECfg=TE.Configuration;unloadFired=false;sendUnload=function(unloadType){var cookie_val,d=new Date(),unloadEvent;if(unloadFired){return}if(!T.activitySinceDisabled()){return}if(TCCfg.tlIEhref){TCCfg.tlIEhref=false;return}unloadFired=true;TC.tlSendKeys();TC.tlSendResize();TC.tlSendScroll(null,true);if(!TCfg.xhrAsyncOnUnload){TCfg.xhrAsync=false}if(TCCfg.tlStoreQueueInCookie){d.setTime(d.getTime()+300000);cookie_val=TE.tlQueuedXML.replace(/(\r|\n)/g,"").replace(/;/g,"%3B");T.tlSetCookie("tlQueuedXML",cookie_val,d,"/")}TECfg.tllastdwelltime=new Date();TE.queuedEventTypes.PERFORMANCE=true;if(!TE.SetSubType){TE.SetSubType=unloadType}else{TE.SetSubType+="; "+unloadType}TE.SendUnloadHeaders=true;unloadEvent=TeaLeaf.Event.createPerformanceEvent(unloadType,{'MouseMove':TC.tlHasUserMovement?'True':'False','Action':TCCfg.tlactiontype,'VisitOrder':TECfg.tlvisitorder,'Alerts':TE.tlGetAlertCount()});TeaLeaf.eventQ.enqueue(unloadEvent);TeaLeaf.Event.tlFlushQueue(true);setTimeout(function(){unloadFired=false;TCfg.xhrAsync=true;TE.SendUnloadHeaders=false},1000)};TE.tlBeforeUnload=function(){sendUnload(T.$C("BEFOREUNLOAD"))};TE.tlUnload=function(){TC.tlDetachFromAllControls();sendUnload(T.$C("UNLOAD"))}}());TeaLeaf.Event.EventSetup=function(){var T,TE,TECfg;T=TeaLeaf;TE=T.Event;TECfg=TE.Configuration;if(TECfg.tlCatchAlerts){(function(){var alertCount,originalAlert,originalConfirm,originalPrompt;alertCount=0;if(window.alert&&window.alert.apply){originalAlert=window.alert;window.alert=function(){var retVal;retVal=originalAlert.apply(window,arguments);alertCount++;return retVal}}if(window.confirm&&window.confirm.apply){originalConfirm=window.confirm;window.confirm=function(){var retVal;retVal=originalConfirm.apply(window,arguments);alertCount++;return retVal}}if(window.prompt&&window.prompt.apply){originalPrompt=window.prompt;window.prompt=function(){var retVal;retVal=originalPrompt.apply(window,arguments);alertCount++;return retVal}}TE.getAlertCount=function(){return alertCount}}())}if(TeaLeaf.Event.Configuration.tlcatcherrors){if(typeof window.onerror!=="function"){window.onerror=TeaLeaf.Event.tlErrorHandler}}TeaLeaf.Event.setupTimerRoutine();TeaLeaf.Event.Loaded=true};TeaLeaf.Event.setupTimerRoutine=function(timeout){timeout=timeout||TeaLeaf.Event.Configuration.tlqueueeventstimer;timeout=(timeout>999)?timeout:1000;setTimeout(function(){TeaLeaf.Event.tlFlushQueue();TeaLeaf.Event.setupTimerRoutine()},timeout)};TeaLeaf.Event.tlAddCustomEvent=function(eventName,nameValueObj){var customEvent;if(!eventName||typeof eventName!=="string"){eventName="custom"}if(!nameValueObj||typeof nameValueObj!=="object"){return}customEvent=TeaLeaf.Event.createCustomEvent(eventName,nameValueObj);TeaLeaf.eventQ.enqueue(customEvent)};if(!TeaLeaf.Event.Configuration.tlinit){TeaLeaf.Event.Configuration.tlinit=true;TeaLeaf.addOnLoad(TeaLeaf.Event.EventSetup)}}if(window.TeaLeaf&&((typeof TeaLeaf.replay==="function")?!TeaLeaf.replay():!TeaLeaf.replay)&&TeaLeaf.Env&&!TeaLeaf.Env.setupComplete){TeaLeaf.Env.setupComplete=true;TeaLeaf.Env.tlSendPageSummary=function(){var TeaLeaf=window.TeaLeaf,Env=TeaLeaf.Env,envEvent,envObj={'document':Env.getDocumentInfo(),'window':Env.getWindowInfo(),'screen':Env.getScreenInfo()};TeaLeaf.Event.queuedEventTypes.PERFORMANCE=true;TeaLeaf.Event.SetSubType="INIT";envEvent=TeaLeaf.Event.createPerformanceEvent("INIT",envObj);TeaLeaf.Event.PageLoadMilliSecs=envEvent.timeDuration;TeaLeaf.eventQ.enqueue(envEvent)};TeaLeaf.Env.getDocumentInfo=function(document){var T=TeaLeaf;document=document||window.document;return{'title':document.title,'referer':document.referrer,'contentType':document.contentType,'lastModified':document.lastModified,'characterSet':document.characterSet,'width':document.width,'height':document.height,'anchors':document.anchors.length,'embeds':(document.embeds?document.embeds.length:0),'forms':document.forms.length,'links':document.links.length,'images':document.images.length,'badImages':(T.tlBrowserIsWebKit()?0:T.Event.tlBadImageCount()),'plugins':(document.plugins?document.plugins.length:0)}};TeaLeaf.Env.getWindowInfo=(function(){var tlWindowId;TeaLeaf.Env.getWindowId=function(){if(typeof window.sessionStorage==="object"){try{tlWindowId=sessionStorage.TLTWID;if(!tlWindowId){tlWindowId=TeaLeaf.makeRandomString(6);sessionStorage.TLTWID=tlWindowId}}catch(e){tlWindowId=null}}return tlWindowId};return function(){var T=TeaLeaf,location=window.location,clientSize;if(window.innerHeight&&window.innerWidth){clientSize=window.innerWidth+"x"+window.innerHeight}else if(document.body&&document.body.clientWidth&&document.body.clientHeight){clientSize=document.body.clientHeight+"x"+document.body.clientWidth}return{'WindowHref':escape(location.href),'protocol':location.protocol,'hostName':location.hostname,'port':location.port,'pathName':location.pathname,'frames':window.frames.length}}}());TeaLeaf.Env.getScreenInfo=function(){var screen=window.screen;return{'width':screen.width,'height':screen.height,'deviceXDPI':screen.deviceXDPI,'deviceYDPI':screen.deviceYDPI,'logicalXDPI':screen.logicalXDPI,'logicalYDPI':screen.logicalYDPI}};TeaLeaf.addOnLoad(TeaLeaf.Env.tlSendPageSummary)}if(window.TeaLeaf&&((typeof TeaLeaf.replay==="function")?!TeaLeaf.replay():!TeaLeaf.replay)&&TeaLeaf.Client&&!TeaLeaf.Client.setupComplete){TeaLeaf.Client.setupComplete=true;TeaLeaf.Client.tlTimeoutID=-1;TeaLeaf.Client.tlHasUserMovement=false;TeaLeaf.Client.tlUserMovement=function(){TeaLeaf.Client.tlHasUserMovement=true;TeaLeaf.Event.tlRemoveHandler(document,"mousemove",TeaLeaf.Client.tlUserMovement,false)};TeaLeaf.Client.EmptyMask=function(){return""};TeaLeaf.Client.BasicMask=function(elem){if(!elem||!elem.value){return null}return"XXXXXX"};TeaLeaf.Client.PreserveMask=function(elem){var PM,maskedValue;if(!elem||!elem.value){return null}PM=TeaLeaf.Client.Configuration.tlPrivacyMask;maskedValue=elem.value;maskedValue=maskedValue.replace(/[A-Z]/g,PM.upperChar);maskedValue=maskedValue.replace(/[a-z]/g,PM.lowerChar);maskedValue=maskedValue.replace(/[0-9]/g,PM.numericChar);maskedValue=maskedValue.replace(/[^A-Za-z0-9]/g,PM.symbolChar);return maskedValue};TeaLeaf.Client.getFieldBlockMatch=function(elem){var i,val,FB,FBitem;FB=TeaLeaf.Client.Configuration.tlFieldBlock;if(typeof elem==="string"){elem=document.getElementById(elem)}if(!elem){return null}for(i=0;i<FB.length;i++){FBitem=FB[i];if(FBitem.id){if(!FBitem.idRE){FBitem.idRE=new RegExp(FBitem.id,(FBitem.caseinsensitive?"i":""))}if(FBitem.idRE.test(elem.id)){return FBitem}}if(FBitem.name){if(!FBitem.nameRE){FBitem.nameRE=new RegExp(FBitem.name,(FBitem.caseinsensitive?"i":""))}if(FBitem.nameRE.test(elem.name)){return FBitem}}if(FBitem.className){if(!FBitem.classRE){FBitem.classRE=new RegExp(FBitem.className,(FBitem.caseinsensitive?"i":""))}if(FBitem.classRE.test(elem.className)){return FBitem}}if(FBitem.attributeName&&FBitem.attributeValue){val=elem.getAttribute(FBitem.attributeName);if(val){if(!FBitem.attributeRE){FBitem.attributeRE=new RegExp(FBitem.attributeValue,(FBitem.caseinsensitive?"i":""))}if(FBitem.attributeRE.test(val)){return FBitem}}}}return null};TeaLeaf.Client.tlIsReplace=function(elem){if(typeof elem==="string"){elem=document.getElementById(elem)}if(!elem){return false}if(TeaLeaf.Client.getFieldBlockMatch(elem)){return true}if(TeaLeaf.getNodeType(elem)==="password"){return TeaLeaf.Client.Configuration.tlpassword===2}return false};TeaLeaf.Client.tlReplaceValue=function(elem){var blockObj;if(typeof elem==="string"){elem=document.getElementById(elem)}if(!elem){return null}blockObj=TeaLeaf.Client.getFieldBlockMatch(elem);if(blockObj){return blockObj.mask(elem)}return elem.value};TeaLeaf.Client.tlIsExcluded=function(elem){var blockObj;if(typeof elem==="string"){elem=document.getElementById(elem)}if(!elem){return false}blockObj=TeaLeaf.Client.getFieldBlockMatch(elem);if(blockObj){return blockObj.exclude}if(TeaLeaf.getNodeType(elem)==="password"){return TeaLeaf.Client.Configuration.tlpassword===2}return false};TeaLeaf.Client.tlGetName=function(theNode){if(!theNode){return null}var id=theNode.id,name=theNode.name;if(id){return id}if(name){return name}return null};TeaLeaf.Client.tlGetEventSource=function(theEvent){var itemSource;itemSource=null;if(!theEvent){return null}if(theEvent.srcElement){itemSource=theEvent.srcElement}else{itemSource=theEvent.target;if(!itemSource){itemSource=theEvent.explicitOriginalTarget}if(!itemSource){itemSource=theEvent.originalTarget}}if(itemSource&&itemSource.tagName==="HTML"){return null}if(itemSource&&!itemSource.name){if(itemSource.parentNode&&itemSource.parentNode.tagName){if(itemSource.parentNode.tagName==="A"||itemSource.parentNode.tagName==="LINK"){itemSource=itemSource.parentNode}}}if(!itemSource||!itemSource.tagName){itemSource=window.document.body}return itemSource};TeaLeaf.Client.tlGetAnchor=function(theNode,full){if(!theNode){return null}if(theNode.name){return null}var idx;for(idx=0;idx<document.anchors.length;idx++){if(document.anchors[idx]===theNode){if(full){return"<AnchorElement>"+idx+"</AnchorElement>\r\n"}else{return"Anchor-"+idx}}}for(idx=0;idx<document.links.length;idx++){if(document.links[idx]===theNode){if(full){return"<LinkElement>"+idx+"</LinkElement>\r\n"}else{return"Link-"+idx}}}return null};TeaLeaf.Client.checkIsInput=function(elem){if(typeof elem==="string"){elem=document.getElementById(elem)}switch(elem.tagName){case"INPUT":case"SELECT":case"TEXTAREA":return true}return false};TeaLeaf.Event.tlFormatXMLName=function(str){if(!str||str.length<=0){return null}var ind,max,rtn="";if(!TeaLeaf.Event.tlNameStartChar(str.charCodeAt(0))){rtn="_"}max=str.length;for(ind=0;ind<max;ind++){if(TeaLeaf.Event.tlNameChar(str.charCodeAt(ind))){rtn=rtn+str.charAt(ind)}else{rtn=rtn+"_"}}return rtn};TeaLeaf.Event.tlNameStartChar=function(chr){return(chr>=0x41&&chr<=0x5A)||chr===0x5F||(chr>=0x61&&chr<=0x7A)||(chr>=0xC0&&chr<=0xD6)||(chr>=0xD8&&chr<=0xF6)||(chr>=0xF8&&chr<=0x2FF)||(chr>=0x370&&chr<=0x37D)||(chr>=0x37F&&chr<=0x1FFF)||(chr>=0x200C&&chr<=0x200D)||(chr>=0x2070&&chr<=0x218F)||(chr>=0x2C00&&chr<=0x2FEF)||(chr>=0x3001&&chr<=0xD7FF)||(chr>=0xF900&&chr<=0xFDCF)||(chr>=0xFDF0&&chr<=0xFFFD)};TeaLeaf.Event.tlNameChar=function(chr){return TeaLeaf.Event.tlNameStartChar(chr)||chr===0x2D||chr===0x2E||(chr>=0x30&&chr<=0x39)||chr===0xB7||(chr>=0x0300&&chr<=0x036F)||(chr>=0x203F&&chr<=0x2040)};TeaLeaf.Client.tlQueuedKeys="";TeaLeaf.Client.getNormalizedKeyCode=function(theEvent){var keyCodeStr;if(!theEvent||!theEvent.keyCode||(theEvent.keyCode<0x20&&theEvent.keyCode!==0x8&&theEvent.keyCode!==0x14)){return null}keyCodeStr="";if(theEvent.ctrlKey){keyCodeStr+="c-"}if(theEvent.altKey){keyCodeStr+="a-"}if(theEvent.shiftKey){keyCodeStr+="s-"}if(!TeaLeaf.tlBrowserIsIE()){switch(theEvent.keyCode){case 59:keyCodeStr+=186;break;default:keyCodeStr+=theEvent.keyCode;break}}else{keyCodeStr+=theEvent.keyCode}return keyCodeStr};TeaLeaf.Client.tlQueueKey=function(theEvent){var itemName,itemSource,keyCode,T,TC,TCCfg;T=TeaLeaf;TC=T.Client;TCCfg=TC.Configuration;TC.tlSendResize();TC.tlSendScroll(null,true);if(!theEvent){theEvent=window.event}if(!TC.tlQueuedKeysCount){TC.tlQueuedKeys="";TC.tlQueuedKeysCount=0}itemSource=TC.tlGetEventSource(theEvent);if(!itemSource){return}if(!itemSource.TeaLeafFocusTime){itemSource.TeaLeafFocusTime=new Date()}if(TC.tlQueuedKeySource){if(TC.tlQueuedKeySource!==itemSource){if(TC.tlQueuedKeys&&TC.tlQueuedKeys.length>0){TC.tlSendKeys()}TC.tlQueuedKeySource=itemSource}}else{TC.tlQueuedKeySource=itemSource}itemName=TC.tlGetName(itemSource);if(!itemName){itemName=TC.tlGetXPathFromNode(itemSource);if(!itemName){if(!TC.tlGetAnchor(itemSource,false)){TC.tlQueuedKeySource=null}return}else{TC.tlQueuedKeySource=itemSource}}else{if(TC.tlIsReplace(itemSource)){TC.tlQueuedKeysCount++;return}if(TC.tlIsExcluded(itemSource)){TC.tlQueuedKeys="";TC.tlQueuedKeysCount++;return}}keyCode=TC.getNormalizedKeyCode(theEvent);if(keyCode){if(TC.tlQueuedKeys&&TC.tlQueuedKeys.length>0){TC.tlQueuedKeys+=";"}TC.tlQueuedKeys+=keyCode;TC.tlQueuedKeysCount++}};TeaLeaf.Client.tlSendKeys=function(){var TeaLeaf=window.TeaLeaf,TC=TeaLeaf.Client,excluded,keyupEvent,keyupEventObjFixed,keyupEventObjVariable,name,qCount,qKeys,qSource,qSourceXPath,tlManualName,tlNodeID,tlreplace;if(!TC.tlQueuedKeySource||(!TC.tlQueuedKeys&&!TC.tlQueuedKeysCount)){return}qSource=TC.tlQueuedKeySource;qKeys=TC.tlQueuedKeys;qCount=TC.tlQueuedKeysCount;TC.tlQueuedKeySource=null;TC.tlQueuedKeys="";TC.tlQueuedKeysCount=0;qSourceXPath=TC.tlGetXPathFromNode(qSource);if(!qSourceXPath&&TC.Configuration.tlDiscardInvalidXPath){return}tlreplace=!!TC.tlIsReplace(qSource);excluded=!!TC.tlIsExcluded(qSource);if(tlreplace||excluded){qKeys=null;qCount=0}name=TeaLeaf.Client.tlGetName(qSource);tlNodeID=qSource.id;if(!TeaLeaf.Client.CheckIfIdValid(qSource)){tlNodeID=""}keyupEventObjFixed={'Name':qSource.name,'Id':tlNodeID,'ElementType':TeaLeaf.getNodeType(qSource),'TagName':qSource.tagName,'XPath':qSourceXPath,'KeyCount':qCount};keyupEventObjVariable={};if(tlreplace){if(!keyupEventObjVariable[name]){keyupEventObjVariable={'ValueIn':name};keyupEventObjVariable[name]=TC.tlReplaceValue(qSource)}}else{tlManualName=TeaLeaf.Event.tlFormatXMLName(name);if(!tlManualName){tlManualName=qSourceXPath;tlManualName=TeaLeaf.Event.tlFormatXMLName(tlManualName)}keyupEventObjVariable={'KeyCode':qKeys};if(qSource.value){keyupEventObjVariable.ValueIn=tlManualName;keyupEventObjVariable[tlManualName]=qSource.value}}keyupEvent=TeaLeaf.Event.createGuiEvent('KeyUp',TeaLeaf.extend(keyupEventObjVariable,keyupEventObjFixed));TeaLeaf.eventQ.enqueue(keyupEvent);TeaLeaf.tlKeepAlive()};TeaLeaf.Client.tlSendResize=function(){var TeaLeaf=window.TeaLeaf,Client=TeaLeaf.Client,guiEvent;if(!Client.ResizeClientX&&!Client.ResizeClientY){return}guiEvent=TeaLeaf.Event.createGuiEvent('Resize',{'clientX':Client.ResizeClientX,'clientY':Client.ResizeClientY,'screenX':Client.ResizeScreenX,'screenY':Client.ResizeScreenY});TeaLeaf.eventQ.enqueue(guiEvent);Client.ResizeClientX=null;Client.ResizeClientY=null;Client.ResizeScreenX=null;Client.ResizeScreenY=null};TeaLeaf.Client.tlCheckScroll=function(){var i,handlers=TeaLeaf.Client.Configuration.tlWindowHandlers;for(i=0;i<handlers.length;i++){if(handlers[i].domevent==='scroll'&&handlers[i].load){return true}}return false};TeaLeaf.Client.tlSendScroll=function(domEvent,force){var guiEvent,guiEventObj,scrOfX=0,scrOfY=0,targetObj;domEvent=domEvent||window.event;if(!TeaLeaf.Client.tlCheckScroll()){return}if(typeof window.pageYOffset==='number'){scrOfY=window.pageYOffset;scrOfX=window.pageXOffset}else if(document.body&&(document.body.scrollLeft||document.body.scrollTop)){scrOfY=document.body.scrollTop;scrOfX=document.body.scrollLeft}else if(document.documentElement&&(document.documentElement.scrollLeft||document.documentElement.scrollTop)){scrOfY=document.documentElement.scrollTop;scrOfX=document.documentElement.scrollLeft}if(TeaLeaf.Client.Configuration.tlScrollOffsetX===0){TeaLeaf.Client.Configuration.tlScrollOffsetX=scrOfX}else if(scrOfX>TeaLeaf.Client.Configuration.tlScrollOffsetX){TeaLeaf.Client.Configuration.tlScrollDirection="right"}else if(scrOfX<TeaLeaf.Client.Configuration.tlScrollOffsetX){TeaLeaf.Client.Configuration.tlScrollDirection="left"}if(TeaLeaf.Client.Configuration.tlScrollOffsetY===0){TeaLeaf.Client.Configuration.tlScrollOffsetY=scrOfY}else if(scrOfY>TeaLeaf.Client.Configuration.tlScrollOffsetY){TeaLeaf.Client.Configuration.tlScrollDirection="down"}else if(scrOfY<TeaLeaf.Client.Configuration.tlScrollOffsetY){TeaLeaf.Client.Configuration.tlScrollDirection="up"}if(scrOfX>0){TeaLeaf.Client.Configuration.tlScrollX=scrOfX}if(scrOfY>0){TeaLeaf.Client.Configuration.tlScrollY=scrOfY}if(TeaLeaf.Client.Configuration.tlScrollOffsetX===TeaLeaf.Client.Configuration.tlScrollX&&TeaLeaf.Client.Configuration.tlScrollOffsetY===TeaLeaf.Client.Configuration.tlScrollY){return}if(force||(TeaLeaf.Client.Configuration.tlScrollDirectionOrig!==TeaLeaf.Client.Configuration.tlScrollDirection)){guiEventObj={'ClientX':TeaLeaf.Client.ScrollClientX,'ClientY':TeaLeaf.Client.ScrollClientY,'ScreenX':TeaLeaf.Client.ScrollScreenX,'ScreenY':TeaLeaf.Client.ScrollScreenY,'ScrollHeight':TeaLeaf.Client.ScrollHeight,'ScrollWidth':TeaLeaf.Client.ScrollWidth,'ScrollTop':TeaLeaf.Client.ScrollTop,'ScrollLeft':TeaLeaf.Client.ScrollLeft,'OrigX':TeaLeaf.Client.Configuration.tlScrollOffsetX.toString(),'OrigY':TeaLeaf.Client.Configuration.tlScrollOffsetY.toString(),'CurrX':TeaLeaf.Client.Configuration.tlScrollX.toString(),'CurrY':TeaLeaf.Client.Configuration.tlScrollY.toString(),'OrigDirection':TeaLeaf.Client.Configuration.tlScrollDirectionOrig,'CurrDirection':TeaLeaf.Client.Configuration.tlScrollDirection};guiEvent=TeaLeaf.Event.createGuiEvent('scroll',guiEventObj);TeaLeaf.eventQ.enqueue(guiEvent);TeaLeaf.tlKeepAlive()}TeaLeaf.Client.Configuration.tlScrollOffsetX=TeaLeaf.Client.Configuration.tlScrollX;TeaLeaf.Client.Configuration.tlScrollOffsetY=TeaLeaf.Client.Configuration.tlScrollY;TeaLeaf.Client.Configuration.tlScrollDirectionOrig=TeaLeaf.Client.Configuration.tlScrollDirection};TeaLeaf.Client.tlFindAncestorByTag=function(node,tag){var cur_node;if(!node||!tag){return null}for(cur_node=node.parentNode;cur_node&&cur_node!==window.document;cur_node=cur_node.parentNode){if(cur_node.nodeType===1&&cur_node.tagName===tag){break}}return cur_node};TeaLeaf.Client.tlCheckBlackList=function(tlid){var i,regExMatched,tlIDRegEx;if(!TeaLeaf.Client.Configuration.tlIDBlackList||!TeaLeaf.Client.Configuration.tlIDBlackList.length){return false}if(tlid){for(i=0;i<TeaLeaf.Client.Configuration.tlIDBlackList.length;i++){tlIDRegEx=new RegExp(TeaLeaf.Client.Configuration.tlIDBlackList[i],"g");regExMatched=tlid.match(tlIDRegEx);if(regExMatched){return true}}}return false};TeaLeaf.Client.tlCheckWhiteList=function(tlid){var i,regExMatched,tlIDRegEx;if(!TeaLeaf.Client.Configuration.tlIDWhiteList||!TeaLeaf.Client.Configuration.tlIDWhiteList.length){return true}if(tlid){for(i=0;i<TeaLeaf.Client.Configuration.tlIDWhiteList.length;i++){tlIDRegEx=new RegExp(TeaLeaf.Client.Configuration.tlIDWhiteList[i],"g");regExMatched=tlid.match(tlIDRegEx);if(regExMatched){return true}}}return false};TeaLeaf.Client.tlGetXPathFromNode=function(node){var i,j,cur_node,idValid=false,nodes_arr=null,parent_node=null,parts=[],xpath=[];if(!node||TeaLeaf.Client.CheckIfIdValid(node)){return null}cur_node=node;for(i in TeaLeaf.Client.Configuration.tlSpecialChildNodeTags){if(cur_node.tagName.toString()===i){cur_node=cur_node.parentNode}}for(idValid=TeaLeaf.Client.CheckIfIdValid(cur_node);cur_node!==window.document&&!idValid;idValid=TeaLeaf.Client.CheckIfIdValid(cur_node)){nodes_arr=null;parent_node=null;switch(cur_node.tagName){case"TD":parent_node=TeaLeaf.Client.tlFindAncestorByTag(cur_node,"TR");if(parent_node){nodes_arr=parent_node.cells}break;case"TR":parent_node=TeaLeaf.Client.tlFindAncestorByTag(cur_node,"TABLE");if(parent_node){nodes_arr=parent_node.rows}break;case"OPTION":parent_node=TeaLeaf.Client.tlFindAncestorByTag(cur_node,"SELECT");if(parent_node){nodes_arr=parent_node.options}break;default:parent_node=cur_node.parentNode;if(!parent_node){parent_node=window.document}nodes_arr=parent_node.childNodes;break}if(!nodes_arr){return null}for(i=0,j=0;i<nodes_arr.length;i++){if(nodes_arr[i].nodeType===1&&nodes_arr[i].tagName===cur_node.tagName){if(nodes_arr[i]===cur_node){xpath[xpath.length]=[cur_node.tagName.toUpperCase(),j];break}j++}}cur_node=parent_node}if(idValid){xpath[xpath.length]=[cur_node.id]}if(!xpath.length){return null}for(i=xpath.length-1,parts=[];i>=0;i--){if(xpath[i].length>1){parts[parts.length]="['"+xpath[i][0]+"',"+xpath[i][1]+"]"}else{parts[parts.length]="['"+xpath[i][0].toString().replace(/'/g,"\\'")+"']"}}return("["+parts.join(",")+"]")};TeaLeaf.Client.CheckIfIdValid=function(node){var oldId;if(!node||!node.id||typeof node.id!=="string"){return false}if(TeaLeaf.Client.tlCheckBlackList(node.id)===true){return false}if(TeaLeaf.Client.tlCheckWhiteList(node.id)===false){return false}if(!TeaLeaf.Client.Configuration.tlUniqueIDCheckEnabled){return true}oldId=node.id;node.id=(new Date()).getTime()+"_TeaLeaf";try{if(!document.getElementById(oldId)){node.id=oldId;return true}else{node.id=oldId;return false}}catch(e){return false}finally{node.id=oldId}};TeaLeaf.Private.setLastProcessedEvent=function(e){var TP=TeaLeaf.Private,NULL=null,UNDEFINED;if(!e){return}if(!TP.tlPrevEvent){TP.tlPrevEvent={}}TP.tlPrevEvent.type=e.type;TP.tlPrevEvent.button=e.button;TP.tlPrevEvent.clientX=e.clientX;TP.tlPrevEvent.clientY=e.clientY;if(e.keyCode!==UNDEFINED){TP.tlPrevEvent.keyCode=e.keyCode}else{TP.tlPrevEvent.keyCode=NULL}if(e.charCode!==UNDEFINED){TP.tlPrevEvent.charCode=e.charCode}else{TP.tlPrevEvent.charCode=NULL}if(e.timeStamp!==UNDEFINED){if(e.timeStamp.getTime){TP.tlPrevEvent.timeStamp=e.timeStamp.getTime()}else{TP.tlPrevEvent.timeStamp=e.timeStamp}}else{TP.tlPrevEvent.timeStamp=new Date().getTime()}if(e.target!==UNDEFINED){TP.tlPrevEvent.target=e.target}else{TP.tlPrevEvent.target=NULL}if(e.srcElement!==UNDEFINED){TP.tlPrevEvent.srcElement=e.srcElement}else{TP.tlPrevEvent.srcElement=NULL}};TeaLeaf.Private.getLastProcessedEvent=function(){return TeaLeaf.Private.tlPrevEvent};TeaLeaf.Client.isDuplicateEvent=function(currEvent){var TP=TeaLeaf.Private,currTimeStamp,prevEvent=TP.getLastProcessedEvent();if(!prevEvent||!currEvent){TP.setLastProcessedEvent(currEvent);return false}if(typeof currEvent.timeStamp!=="undefined"){currTimeStamp=currEvent.timeStamp.getTime?currEvent.timeStamp.getTime():currEvent.timeStamp;if(prevEvent.timeStamp!==currTimeStamp){TP.setLastProcessedEvent(currEvent);return false}}else{currEvent.timeStamp=new Date().getTime();if(Math.abs(currEvent.timeStamp-prevEvent.timeStamp)>300){TP.setLastProcessedEvent(currEvent);return false}}if(prevEvent.type!==currEvent.type){TP.setLastProcessedEvent(currEvent);return false}if(('target'in currEvent)&&(prevEvent.target!==currEvent.target)){TP.setLastProcessedEvent(currEvent);return false}if(('srcElement'in currEvent)&&(prevEvent.srcElement!==currEvent.srcElement)){TP.setLastProcessedEvent(currEvent);return false}if(prevEvent.button!==currEvent.button){TP.setLastProcessedEvent(currEvent);return false}if(prevEvent.clientX!==currEvent.clientX||prevEvent.clientY!==currEvent.clientY){TP.setLastProcessedEvent(currEvent);return false}if(prevEvent.keyCode!==currEvent.keyCode){TP.setLastProcessedEvent(currEvent);return false}TP.setLastProcessedEvent(currEvent);return true};TeaLeaf.Client.tlCheckAttributes=function(itemSource,domEvent){var i,attrName,attrValue,customAttributes={},tlAttributeCapture=TeaLeaf.Client.Configuration.tlAttributeCapture,UNDEFINED;for(i=0;i<tlAttributeCapture.length;i++){if(tlAttributeCapture[i].tltagname.toLowerCase()===itemSource.tagName.toLowerCase()&&tlAttributeCapture[i].tlevent===domEvent.type.toLowerCase()){attrName=tlAttributeCapture[i].tlattributename;attrValue=itemSource.getAttribute(attrName);if(attrValue!==UNDEFINED){customAttributes[attrName]=attrValue}}}return customAttributes};TeaLeaf.Client.tlOrientationChangeEvent=function(domEvent){var TeaLeaf=window.TeaLeaf,guiEvent,orientation;domEvent=domEvent||window.event;if(TeaLeaf.tlBrowserIsAndroid()){orientation=TeaLeaf.Client.Configuration.tlAndroidOrientation+window.orientation;if(orientation===270){orientation=-90;TeaLeaf.Client.Configuration.tlAndroidOrientation=90}else if(orientation===360){orientation=0;TeaLeaf.Client.Configuration.tlAndroidOrientation=0}else{TeaLeaf.Client.Configuration.tlAndroidOrientation+=orientation}}else{orientation=window.orientation}guiEvent=TeaLeaf.Event.createGuiEvent(domEvent.type,{'ClientSize':(window.innerWidth+"x"+window.innerHeight),'orientation':orientation});TeaLeaf.eventQ.enqueue(guiEvent);TeaLeaf.tlKeepAlive()};TeaLeaf.Client.tlMotionEvent=function(domEvent){var TeaLeaf=window.TeaLeaf,currState,guiEvent;domEvent=domEvent||window.event;currState={'accelerationIncludingGravity':domEvent.accelerationIncludingGravity};if(domEvent.acceleration){currState.acceleration=domEvent.acceleration}if(domEvent.interval){currState.interval=domEvent.interval}if(domEvent.rotationRate){currState.rotationRate=domEvent.rotationRate}guiEvent=TeaLeaf.Event.createGuiEvent(domEvent.type,{'target':{'currState':currState}});TeaLeaf.eventQ.enqueue(guiEvent);TeaLeaf.tlKeepAlive()};TeaLeaf.Client.tlDeviceOrientationEvent=function(domEvent){var TeaLeaf=window.TeaLeaf,guiEvent;domEvent=domEvent||window.event;guiEvent=TeaLeaf.Event.createGuiEvent(domEvent.type,{'target':{'currState':{'alpha':domEvent.alpha,'beta':domEvent.beta,'gamma':domEvent.gamma}}});TeaLeaf.eventQ.enqueue(guiEvent);TeaLeaf.tlKeepAlive()};TeaLeaf.Client.tlAddTouchEvent=function(domEvent){var TeaLeaf=window.TeaLeaf,Client=TeaLeaf.Client,touchState;domEvent=domEvent||window.event;if(!domEvent.scale){return}touchState={'rotation':domEvent.rotation?domEvent.rotation.toFixed(2):0,'scale':domEvent.scale?domEvent.scale.toFixed(2):1};if(typeof domEvent.touches==="object"){touchState.touchCount=domEvent.touches.length||0}Client.tlAddEvent(domEvent,touchState)};TeaLeaf.Client.tlAddEvent=function(domEvent,additionalStateObj,additionalEventObj){var TeaLeaf=window.TeaLeaf,Client=TeaLeaf.Client,ClientConfig=Client.Configuration,controlIsBoolean=false,customAttributesObj,domEventType,dwellTime=0,guiEvent,guiEventObj,i,itemChecked=false,itemSource,itemSourceType,targetObj,tlAddNameValueArrayManualName,tlcheck,tlhrefstr,tljsstr,tlManualName,tlName,tlNodeID,tlRepValue,tlXpath;if(!domEvent){domEvent=window.event}itemSource=Client.tlGetEventSource(domEvent);if(!itemSource){return}domEventType=domEvent.type.toLowerCase();if(domEventType==="mousedown"&&itemSource.tagName==="BODY"){return}itemSourceType=TeaLeaf.getNodeType(itemSource);tlXpath=Client.tlGetXPathFromNode(itemSource);if(!tlXpath&&ClientConfig.tlDiscardInvalidXPath){return}if(ClientConfig.tlEnableAttr){customAttributesObj=Client.tlCheckAttributes(itemSource,domEvent)}Client.tlSendKeys();Client.tlSendResize();Client.tlSendScroll(null,true);if(!itemSource.TeaLeafFocusTime){switch(domEventType){case"keyup":case"change":case"click":case"dblclick":case"mousedown":itemSource.TeaLeafFocusTime=new Date();break}}if(domEventType==="blur"&&itemSourceType==="application/x-shockwave-flash"){return}if(domEventType==="click"&&Client.checkIsInput(itemSource)){TeaLeaf.Event.Configuration.tlidoflastvisitedcontrol=Client.tlGetName(itemSource)}if(domEventType==="click"&&(itemSource.tagName.toUpperCase()==="A")&&TeaLeaf.tlBrowserIsIE()){ClientConfig.tlIEhref=false;tlhrefstr=itemSource.href;if(tlhrefstr==="#"){ClientConfig.tlIEhref=true}else{tljsstr="javascript:";tlcheck=tlhrefstr.substr(0,tljsstr.length);if(tlcheck.toLowerCase()===tljsstr){ClientConfig.tlIEhref=true}}}tlName=Client.tlGetName(itemSource);tlNodeID=itemSource.id;if(!Client.CheckIfIdValid(itemSource)){tlNodeID=""}if(domEventType==="blur"&&itemSource.TeaLeafFocusTime){dwellTime=TeaLeaf.Event.tlDateDiff(new Date(),itemSource.TeaLeafFocusTime);itemSource.TeaLeafFocusTime=null}tlRepValue=null;tlManualName=null;tlAddNameValueArrayManualName=[];if(!Client.tlIsExcluded(itemSource)){if(!itemSource.value&&domEventType==="change"&&itemSource.tagName.toUpperCase()==="SELECT"){i=itemSource.selectedIndex;if(i>=0&&i<itemSource.options.length){tlRepValue=escape(itemSource.options[i].text)}}else{tlRepValue=Client.tlReplaceValue(itemSource)}if(tlRepValue){tlManualName=TeaLeaf.Event.tlFormatXMLName(tlName);if(!tlManualName){tlManualName=tlXpath;tlManualName=TeaLeaf.Event.tlFormatXMLName(tlManualName)}}if(itemSourceType==="checkbox"||itemSourceType==="radio"){controlIsBoolean=true;itemChecked=!!itemSource.checked}}targetObj={'Name':itemSource.name,'Id':tlNodeID,'ElementType':itemSourceType,'TagName':itemSource.tagName,'XPath':tlXpath,'TimeInControl':dwellTime};guiEventObj=targetObj;if(tlManualName&&tlRepValue){guiEventObj.ValueIn=tlManualName;guiEventObj[tlManualName]=tlRepValue}if(controlIsBoolean){guiEventObj.Checked=itemChecked?'True':'False'}guiEvent=TeaLeaf.Event.createGuiEvent(domEvent.type,guiEventObj);if(typeof additionalEventObj==="object"){guiEvent=TeaLeaf.extend(additionalEventObj,guiEvent)}if(typeof additionalStateObj==="object"){guiEvent=TeaLeaf.extend(additionalStateObj,guiEvent)}if(ClientConfig.tlEnableAttr&&customAttributesObj){guiEvent=TeaLeaf.extend(customAttributesObj,guiEvent)}TeaLeaf.eventQ.enqueue(guiEvent);TeaLeaf.tlKeepAlive()};TeaLeaf.Client.tlQueueResize=function(tlEvent){TeaLeaf.Client.tlSendKeys();TeaLeaf.Client.tlSendScroll(null,true);if(!tlEvent){tlEvent=window.event}if(tlEvent.clientX){TeaLeaf.ResizeClientX=tlEvent.clientX;TeaLeaf.ResizeClientY=tlEvent.clientY;TeaLeaf.ResizeScreenX=tlEvent.screenX;TeaLeaf.ResizeScreenY=tlEvent.screenY}else{TeaLeaf.ResizeClientX=tlEvent.target.width;TeaLeaf.ResizeClientY=tlEvent.target.height}};TeaLeaf.Client.tlAttachToAllControls=function(){TeaLeaf.Client.Configuration.tlcontrolsattached=true;TeaLeaf.Client.tlAttachToControls(window);try{var ind;for(ind=0;ind<window.frames.length;ind++){if(window===window.frames[ind]){continue}TeaLeaf.Client.tlAttachToControls(window.frames[ind])}}catch(e){}};TeaLeaf.Client.tlSingleAttach=function(){var i,func,tldomsingleelements=TeaLeaf.Client.Configuration.tlSingleAttach,tlelement;for(i=0;i<tldomsingleelements.length;i++){if(tldomsingleelements[i].domelementID){tlelement=document.getElementById(tldomsingleelements[i].domelementID);if(tlelement){func=eval(tldomsingleelements[i].tlhandler);TeaLeaf.Event.tlAddHandler(tlelement,tldomsingleelements[i].domevent,func,false)}}}};TeaLeaf.Client.tlAttachToControls=function(win){try{var i,func,handlers=TeaLeaf.Client.Configuration.tlWindowHandlers;for(i=0;i<handlers.length;i++){if(handlers[i].load){func=eval(handlers[i].tlhandler);TeaLeaf.Event.tlAddHandler(win,handlers[i].domevent,func,false)}}handlers=TeaLeaf.Client.Configuration.tlDocumentHandlers;for(i=0;i<handlers.length;i++){if(handlers[i].load){func=eval(handlers[i].tlhandler);TeaLeaf.Event.tlAddHandler(win.document,handlers[i].domevent,func,false)}}TeaLeaf.Client.tlProcessNode(win.document.body)}catch(e){}};TeaLeaf.Client.tlCheckAttach=function(control){var i,handlers;if(control.TeaLeaf||control.TeaLeafExclude){return}control.TeaLeaf=true;switch(control.tagName){case"INPUT":case"SELECT":case"TEXTAREA":TeaLeaf.Event.tlAddHandler(control,'focus',TeaLeaf.Client.tlSetFocusTime,false);TeaLeaf.Event.tlAddHandler(control,'blur',TeaLeaf.Client.tlHandleBlur,false);TeaLeaf.Event.tlAddHandler(control,'change',TeaLeaf.Client.tlAddEvent,false);break}if(TeaLeaf.Client.Configuration.tlUniversalAttach){handlers=TeaLeaf.Client.Configuration.tlDocumentHandlers;for(i=0;i<handlers.length;i++){if(handlers[i].load){TeaLeaf.Event.tlAddHandler(control,handlers[i].domevent,eval(handlers[i].tlhandler),false)}}}};TeaLeaf.Client.tlProcessNode=function(obj,ignore_descendants){var i,j,explicit_tags,items;if(typeof(obj)==="string"){obj=document.getElementById(obj)}if(!obj){obj=window.document.body}try{switch(obj.tagName){case"INPUT":case"SELECT":case"TEXTAREA":TeaLeaf.Client.tlCheckAttach(obj);break;default:if(TeaLeaf.Client.Configuration.tlUniversalAttach&&TeaLeaf.Client.tlTagNameAllowed(obj.tagName)){TeaLeaf.Client.tlCheckAttach(obj)}break}if(!ignore_descendants){explicit_tags=["INPUT","SELECT","TEXTAREA"];for(i=0;i<explicit_tags.length;i++){items=obj.getElementsByTagName(explicit_tags[i]);for(j=0;j<items.length;j++){TeaLeaf.Client.tlCheckAttach(items[j])}}if(TeaLeaf.Client.Configuration.tlUniversalAttach){if(TeaLeaf.Client.Configuration.tlExcludeTags){items=obj.getElementsByTagName("*");for(i=0;i<items.length;i++){if(TeaLeaf.Client.tlTagNameAllowed(items[i].tagName)){TeaLeaf.Client.tlCheckAttach(items[i])}}}else{for(i in TeaLeaf.Client.Configuration.tlNodeTags){items=obj.getElementsByTagName(i);for(j=0;j<items.length;j++){TeaLeaf.Client.tlCheckAttach(items[j])}}}}}}catch(e){}};TeaLeaf.Client.tlSetFocusTime=function(theEvent){var itemSource,itemSourceType;if(!theEvent){theEvent=window.event}itemSource=TeaLeaf.Client.tlGetEventSource(theEvent);itemSourceType=TeaLeaf.getNodeType(itemSource);if(!itemSource||itemSourceType==="application/x-shockwave-flash"){return}itemSource=TeaLeaf.Client.tlGetEventSource(theEvent);if(!itemSource){return}if(!itemSource.TeaLeafFocusTime){itemSource.TeaLeafFocusTime=new Date()}if(TeaLeaf.Client.Configuration.tlsendfocus){TeaLeaf.Client.tlAddEvent(theEvent)}};TeaLeaf.Client.tlHandleBlur=function(theEvent){var itemSource,itemSourceType;if(!theEvent){theEvent=window.event}itemSource=TeaLeaf.Client.tlGetEventSource(theEvent);itemSourceType=TeaLeaf.getNodeType(itemSource);if(!itemSource||itemSourceType==="application/x-shockwave-flash"){return}TeaLeaf.Client.tlEndVisit(itemSource);if(TeaLeaf.Client.checkIsInput(itemSource)){TeaLeaf.Event.Configuration.tlidoflastvisitedcontrol=TeaLeaf.Client.tlGetName(itemSource)}if(TeaLeaf.Client.Configuration.tlsendblur){TeaLeaf.Client.tlAddEvent(theEvent)}itemSource.TeaLeafFocusTime=null};TeaLeaf.Client.tlEndVisit=function(itemSource){var diff,entry,name;if(itemSource.TeaLeafFocusTime){name=TeaLeaf.Client.tlGetName(itemSource);if(!name){name=TeaLeaf.Client.tlGetAnchor(itemSource,false);if(name){name="LEVEL"+name}else{name="unnamed"}}diff=TeaLeaf.Event.tlDateDiff(itemSource.TeaLeafFocusTime,new Date());entry=name+':'+diff;if(TeaLeaf.Event.Configuration.tlvisitorder){TeaLeaf.Event.Configuration.tlvisitorder=TeaLeaf.Event.Configuration.tlvisitorder+";"+entry}else{TeaLeaf.Event.Configuration.tlvisitorder=entry}}};TeaLeaf.Client.tlDetachFromAllControls=function(){TeaLeaf.Client.Configuration.tlcontrolsattached=false;TeaLeaf.Client.tlDetachFromControls(window);try{var ind,w;for(ind=0;ind<window.frames.length;ind++){w=window.frames[ind];TeaLeaf.Client.tlDetachFromControls(w)}}catch(e){}};TeaLeaf.Client.tlDetachFromControls=function(win){try{var i,func,handlers=TeaLeaf.Client.Configuration.tlWindowHandlers,items;for(i=0;i<handlers.length;i++){func=eval(handlers[i].tlhandler);TeaLeaf.Event.tlRemoveHandler(win,handlers[i].domevent,func,false)}handlers=TeaLeaf.Client.Configuration.tlDocumentHandlers;for(i=0;i<handlers.length;i++){func=eval(handlers[i].tlhandler);TeaLeaf.Event.tlRemoveHandler(win.document,handlers[i].domevent,func,false)}items=win.document.getElementsByTagName("INPUT");for(i=0;i<items.length;i++){TeaLeaf.Event.tlRemoveHandler(items[i],'change',TeaLeaf.Client.tlAddEvent,false);TeaLeaf.Event.tlRemoveHandler(items[i],'blur',TeaLeaf.Client.tlHandleBlur,false);items[i].TeaLeaf=false}items=win.document.getElementsByTagName("SELECT");for(i=0;i<items.length;i++){TeaLeaf.Event.tlRemoveHandler(items[i],'change',TeaLeaf.Client.tlAddEvent,false);TeaLeaf.Event.tlRemoveHandler(items[i],'blur',TeaLeaf.Client.tlHandleBlur,false);items[i].TeaLeaf=false}}catch(e){}};TeaLeaf.Client.tlAttachToControl=function(domelement,eventtype,eventHandler){if(eventHandler){TeaLeaf.Event.tlAddHandler(domelement,eventtype,eventHandler,false)}else{TeaLeaf.Event.tlAddHandler(domelement,eventtype,eval(TeaLeaf.Client.tlAddEvent),false)}};TeaLeaf.Client.tlDetachFromControl=function(domelement,eventtype,eventHandler){if(eventHandler){TeaLeaf.Event.tlRemoveHandler(domelement,eventtype,eventHandler,false)}else{TeaLeaf.Event.tlRemoveHandler(domelement,eventtype,eval(TeaLeaf.Client.tlAddEvent),false)}};TeaLeaf.Client.tlScanForAdditions=function(){var i,w;if(!TeaLeaf.Client.Configuration.tlScheduledScan){return}TeaLeaf.Client.tlProcessNode(document.body);try{for(i=0;i<window.frames.length;i++){w=window.frames[i];TeaLeaf.Client.tlProcessNode(w.document.body)}}catch(e){}window.clearTimeout(TeaLeaf.Client.tlTimeoutID);TeaLeaf.Client.tlTimeoutID=window.setTimeout(TeaLeaf.Client.tlScanForAdditions,TeaLeaf.Client.Configuration.tlscanupdate)};TeaLeaf.Client.tlTagNameAllowed=function(tag){if(!tag){return false}var tagVal=TeaLeaf.Client.Configuration.tlNodeTags[tag];if(!tagVal){tagVal=false}if(TeaLeaf.Client.Configuration.tlExcludeTags){return!tagVal}return tagVal};TeaLeaf.Client.tlSetup=function(){var queuedXML=TeaLeaf.tlGetCookieValue("tlQueuedXML");if(queuedXML){TeaLeaf.Event.tlQueuedXML+=queuedXML.replace(/%3B/g,";")}TeaLeaf.Client.tlAttachToAllControls();TeaLeaf.Client.tlSingleAttach();if(TeaLeaf.Event.Configuration.tlcatchpopups){TeaLeaf.SavedWindowOpen=window.open;window.open=function(url,name,features,replace){var guiEvent,status="blocked",subWin;if(typeof TeaLeaf.SavedWindowOpen==="function"){subWin=TeaLeaf.SavedWindowOpen.apply(this,arguments)}else{url=url||"";name=name||"";features=features||"";subWin=TeaLeaf.SavedWindowOpen(url,name,features,replace)}try{if(!subWin.closed){status="visible"}}catch(exc){}guiEvent=TeaLeaf.Event.createGuiEvent("WindowOpen",{'status':status,'url':escape(url),'name':name,'features':features,'replace':replace});TeaLeaf.eventQ.enqueue(guiEvent);return subWin}}window.clearTimeout(TeaLeaf.Client.tlTimeoutID);if(TeaLeaf.Client.Configuration.tlscanupdate>0){TeaLeaf.Client.tlTimeoutID=window.setTimeout(TeaLeaf.Client.tlScanForAdditions,TeaLeaf.Client.Configuration.tlscanupdate)}};TeaLeaf.Client.CallInit=function(){TeaLeaf.addOnLoad(TeaLeaf.Client.tlSetup)};if(!TeaLeaf.Client.Configuration.tlinit){TeaLeaf.Client.Configuration.tlinit=true;TeaLeaf.Client.CallInit()}}