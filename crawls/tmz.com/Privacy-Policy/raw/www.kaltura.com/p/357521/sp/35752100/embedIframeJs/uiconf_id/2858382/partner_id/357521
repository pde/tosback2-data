/**
* Kaltura HTML5 Library v1.7.0.8  
* http://html5video.org/kaltura-player/docs/
* 
* This is free software released under the GPL2 see README more info 
* http://html5video.org/kaltura-player/docs/readme
* 
* Copyright 2013 Kaltura Inc.
*/
window['SCRIPT_LOADER_URL']='http://cdnapi.kaltura.com/html5/html5lib/v1.7.0.8/load.php';window['MWEMBED_VERSION']='1.7.0.8';(function(){"use strict";if(window.kWidget){return;}var kWidget={readyWidgets:{},readyCallbacks:[],destroyedWidgets:{},perWidgetCallback:{},readyCallbackPerWidget:{},listenerList:{},userAgentPlayerRules:{},alreadyAddedThumbRules:false,iframeAutoEmbedCache:{},setup:function(){var _this=this;this.checkEnvironment();this.overrideFlashEmbedMethods();this.proxyJsCallbackready();this.domReady(function(){_this.domIsReady=true;_this.proxyJsCallbackready();});this.domReady(function(){_this.rewriteObjectTags();});},checkEnvironment:function(){if(document.URL.indexOf('forceMobileHTML5')!==-1&&!mw.getConfig('disableForceMobileHTML5')){mw.setConfig('forceMobileHTML5',true);}var ua=navigator.userAgent;var ieMatch=ua.match(/MSIE\s([0-9]+)/);if(ieMatch&&parseInt(ieMatch[1])<9){mw.setConfig('Kaltura.ForceFlashOnDesktop',true);}if(ua.indexOf('BlackBerry')!=-1){mw.setConfig(
'EmbedPlayer.DisableVideoTagSupport',true);mw.setConfig('EmbedPlayer.NotPlayableDownloadLink',true);}if(ua.indexOf('Android')!=-1){mw.setConfig('Kaltura.UseAppleAdaptive',false);}if(/(iPhone|iPod|iPad)/i.test(ua)){if(/OS [2-4]_\d(_\d)? like Mac OS X/i.test(ua)||(/CPU like Mac OS X/i.test(ua))){mw.setConfig('Kaltura.UseAppleAdaptive',false);}}if(!mw.getConfig('EmbedPlayer.IsIframeServer')){mw.setConfig('EmbedPlayer.IframeParentUrl',document.URL);mw.setConfig('EmbedPlayer.IframeParentTitle',document.title);mw.setConfig('EmbedPlayer.IframeParentReferrer',document.referrer);if((/iphone|ipod|ipad.*os 5/gi).test(navigator.appVersion)){window.onpageshow=function(evt){if(evt.persisted){document.body.style.display="none";location.reload();}};}}},proxiedJsCallback:null,waitForLibraryChecks:true,jsReadyCalledForIds:[],proxyJsCallbackready:function(){var _this=this;if(!this.proxiedJsCallback&&(window['jsCallbackReady']||this.domIsReady)){this.proxiedJsCallback=window['jsCallbackReady']||true;
window['jsCallbackReady']=function(widgetId){if(_this.waitForLibraryChecks){_this.jsReadyCalledForIds.push(widgetId);return;}_this.jsCallbackReady(widgetId);}}},jsCallbackReady:function(widgetId){if(this.destroyedWidgets[widgetId]){return;}this.extendJsListener(widgetId);if(typeof this.proxiedJsCallback=='function'){this.proxiedJsCallback(widgetId);}for(var i=0;i<this.readyCallbacks.length;i++){this.readyCallbacks[i](widgetId);}this.readyWidgets[widgetId]=true;},playerModeChecksDone:function(){this.waitForLibraryChecks=false;for(var i=0;i<this.jsReadyCalledForIds.length;i++){var widgetId=this.jsReadyCalledForIds[i];this.jsCallbackReady(widgetId);}this.jsReadyCalledForIds=[];},embed:function(targetId,settings){var _this=this;if(typeof targetId==='object'){settings=targetId;if(!settings.targetId){this.log('Error: Missing target element Id');}targetId=settings.targetId;}if(!settings.wid){this.log("Error: kWidget.embed missing wid");return;}var uiconf_id=settings.uiconf_id;if(!uiconf_id){
this.log("Error: kWidget.embed missing uiconf_id");return;}var elm=document.getElementById(targetId);if(!elm){this.log("Error: kWidget.embed could not find target: "+targetId);return false;}if(elm.getAttribute('name')=='kaltura_player_iframe_no_rewrite'){return;}function checkSizeOveride(dim){if(settings[dim]){if(parseInt(settings[dim])==settings[dim]){settings[dim]+='px';}elm.style[dim]=settings[dim];}}checkSizeOveride('width');checkSizeOveride('height');if(this.destroyedWidgets[targetId]){delete(this.destroyedWidgets[targetId]);}if(settings.readyCallback){var adCallback=!this.perWidgetCallback[targetId];this.perWidgetCallback[targetId]=settings.readyCallback;if(adCallback){this.addReadyCallback(function(videoId){if(videoId==targetId&&_this.perWidgetCallback[videoId]){_this.perWidgetCallback[videoId](videoId);}});}}this.proxyJsCallbackready();settings.isHTML5=this.isUiConfIdHTML5(uiconf_id)
var doEmbedAction=function(){if(uiconf_id&&_this.userAgentPlayerRules&&_this.userAgentPlayerRules[uiconf_id]){var playerAction=_this.checkUserAgentPlayerRules(_this.userAgentPlayerRules[uiconf_id]);switch(playerAction.mode){case'flash':if(elm.nodeName.toLowerCase()=='object'){return;}break;case'forceMsg':var msg=playerAction.val;if(elm&&elm.parentNode){var divTarget=document.createElement("div");divTarget.innerHTML=unescape(msg);elm.parentNode.replaceChild(divTarget,elm);}return;break;}}if(settings.isHTML5){_this.outputHTML5Iframe(targetId,settings);}else{_this.outputFlashObject(targetId,settings);}}
var playerList=[{'kEmbedSettings':settings}];this.loadUiConfJs(playerList,function(){_this.proxyJsCallbackready();doEmbedAction();});},addThumbCssRules:function(){if(this.alreadyAddedThumbRules){return;}this.alreadyAddedThumbRules=true;var style=document.createElement('STYLE');style.type='text/css';var imagePath=this.getPath()+'/modules/MwEmbedSupport/skins/common/images/';style.innerHTML='.kWidgetCentered {max-height: 100%; '+'max-width: 100%; '+'position: absolute; '+'top: 0; left: 0; right: 0; bottom: 0; '+'margin: auto; '+'} '+"\n"+'.kWidgetPlayBtn { '+'cursor:pointer;'+'height: 53px;'+'width: 70px;'+'background: url(\''+imagePath+'player_big_play_button.png\');'+'z-index: 1;'+'} '+"\n"+'.kWidgetPlayBtn:hover{ '+'background: url(\''+imagePath+'player_big_play_button_hover.png\');"'+'} ';document.getElementsByTagName('HEAD')[0].appendChild(style);},getComputedSize:function(elm,dim){var a=navigator.userAgent;if((a.indexOf("msie")!=-1)&&(a.indexOf("opera")==-1)){return document.
getElementById(theElt)['offset'+dim[0].toUpperCase()+dim.substr(1)];}else{return parseInt(document.defaultView.getComputedStyle(elm,"").getPropertyValue(dim));}},thumbEmbed:function(targetId,settings){var _this=this;if(typeof targetId==='object'){settings=targetId;if(!settings.targetId){this.log('Error: Missing target element Id');}targetId=settings.targetId;}else{settings.targetId=targetId;}this.addThumbCssRules();var elm=document.getElementById(targetId);elm.innerHTML=''+'<div style="position: relative; width: 100%; height: 100%;">'+'<img class="kWidgetCentered" src="'+this.getKalturaThumbUrl(settings)+'" >'+'<div class="kWidgetCentered kWidgetPlayBtn" '+'id="'+targetId+'_playBtn"'+'></div></div>';document.getElementById(targetId+'_playBtn').addEventListener('click',function(){if(settings.readyCallback){var orgEmbedCallback=settings.readyCallback;}settings.readyCallback=function(playerId){var kdp=document.getElementById(playerId);kdp.kBind('mediaReady',function(){kdp.sendNotification
('doPlay');});if(typeof orgEmbedCallback=='function'){orgEmbedCallback(playerId);}}
settings.captureClickEventForiOS=true;kWidget.embed(settings);});if(settings.thumbReadyCallback){settings.thumbReadyCallback(targetId);}},destroy:function(target){if(typeof target=='string'){target=document.getElementById(target);}if(!target){this.log("Error destory called without valid target");return;}var destoryId=target.getAttribute('id');for(var id in this.readyWidgets){if(id==destoryId){delete(this.readyWidgets[id]);}}this.destroyedWidgets[destoryId]=true;target.parentNode.removeChild(target);target=null;},embedFromObjects:function(rewriteObjects){for(var i=0;i<rewriteObjects.length;i++){var settings=rewriteObjects[i].kEmbedSettings;settings.width=rewriteObjects[i].width;settings.height=rewriteObjects[i].height;this.embed(rewriteObjects[i].id,rewriteObjects[i].kEmbedSettings);}},extendJsListener:function(playerId){var _this=this;var player=document.getElementById(playerId);if(!player){this.log("Error:: extendJsListener called on invalid playerid:"+playerId);return;}player.kBind=
function(eventName,callback){var callbackIndex=0;var globalCBName='';if(typeof eventName=='string'){var eventData=eventName.split('.',2);var eventNamespace=(eventData[1])?eventData[1]:'kWidget';eventName=eventData[0];}if(typeof callback=='string'){globalCBName=callback;}else if(typeof callback=='function'){var generateGlobalCBName=function(){globalCBName='kWidget_'+eventName+'_cb'+callbackIndex;if(window[globalCBName]){callbackIndex++;generateGlobalCBName();}};generateGlobalCBName();window[globalCBName]=callback;}else{kWidget.log("Error: kWidget : bad callback type: "+callback);return;}if(!_this.listenerList[eventNamespace]){_this.listenerList[eventNamespace]={}}if(!_this.listenerList[eventNamespace][eventName]){_this.listenerList[eventNamespace][eventName]=globalCBName;}player.addJsListener(eventName,globalCBName);return player;}
player.kUnbind=function(eventName,callbackName){if(typeof eventName=='string'){var eventData=eventName.split('.',2);var eventNamespace=eventData[1];eventName=eventData[0];if(eventNamespace){for(var listenerItem in _this.listenerList[eventNamespace]){if(!eventName){player.removeJsListener(listenerItem,_this.listenerList[eventNamespace][listenerItem]);}else{if(listenerItem==eventName){player.removeJsListener(listenerItem,_this.listenerList[eventNamespace][listenerItem]);delete _this.listenerList[eventNamespace][listenerItem];}}}_this.listenerList[eventNamespace]=null;}else{var isCallback=(typeof callbackName=='string');if(isCallback){player.removeJsListener(eventName,callbackName);}for(var eventNamespace in _this.listenerList){for(var listenerItem in _this.listenerList[eventNamespace]){if(listenerItem==eventName){if(!isCallback){player.removeJsListener(eventName,_this.listenerList[eventNamespace][listenerItem]);}delete _this.listenerList[eventNamespace][listenerItem];}}}}}return player;}
},outputFlashObject:function(targetId,settings){var elm=document.getElementById(targetId);if(!elm&&!elm.parentNode){kWidget.log("Error embed target missing");return;}if(!settings.src){var swfUrl=mw.getConfig('Kaltura.ServiceUrl')+'/index.php/kwidget'+'/wid/'+settings.wid+'/uiconf_id/'+settings.uiconf_id;if(settings.entry_id){swfUrl+='/entry_id/'+settings.entry_id;}if(settings.cache_st){swfUrl+='/cache_st/'+settings.cache_st;}settings['src']=swfUrl;}settings['id']=elm.id;elm.setAttribute('id',elm.id+'_container');var spanTarget=document.createElement("span");if(!settings.flashvars){settings.flashvars={};}if(settings.flashvars['jsCallbackReadyFunc']){kWidget.log("Error: Setting jsCallbackReadyFunc is not compatible with kWidget embed");}var flashvarValue=this.flashVarsToString(settings.flashvars);var defaultParamSet={'allowFullScreen':'true','allowNetworking':'all','allowScriptAccess':'always','bgcolor':'#000000'};var output='<object style="'+elm.style.cssText.replace(/^\s+|\s+$/g,'')+
'" '+' id="'+targetId+'"'+' name="'+targetId+'"';output+=' data="'+settings['src']+'" type="application/x-shockwave-flash"';if(window.ActiveXObject){output+=' classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"';}output+='>';output+='<param name="movie" value="'+settings['src']+'" />';output+='<param name="flashvars" value="'+flashvarValue+'" />';if(settings['params']){for(var key in settings['params']){if(defaultParamSet[key]){defaultParamSet[key]=settings['params'][key];}else{output+='<param name="'+key+'" value="'+settings['params'][key]+'" />';}}}for(var key in defaultParamSet){if(defaultParamSet[key]){output+='<param name="'+key+'" value="'+defaultParamSet[key]+'" />';}}output+="</object>";var outputElemnt=function(){elm.parentNode.replaceChild(spanTarget,elm);spanTarget.innerHTML=output;}
if(window.console&&(window.console.firebug||window.console.exception)){console.log('Warning firebug + firefox and dynamic flash kdp embed causes lockups in firefox'+', ( delaying embed )');this.domReady(function(){setTimeout(function(){outputElemnt();},2000);});}else{if(navigator.userAgent.indexOf("MSIE")!=-1){setTimeout(function(){outputElemnt();},0);}else{outputElemnt();}}},outputHTML5Iframe:function(targetId,settings){var _this=this;var widgetElm=document.getElementById(targetId);var iframeId=widgetElm.id+'_ifp';var iframeCssText='border:0px; max-width: 100%; max-height: 100%; '+widgetElm.style.cssText;var iframe=document.createElement("iframe");iframe.id=iframeId;iframe.scrolling="no";iframe.name=iframeId;iframe.className='mwEmbedKalturaIframe';iframe.allowfullscreen='yes';iframe.style.cssText=iframeCssText;if(settings.width=='%'||settings.height=='%'||widgetElm.style.width.indexOf('%')!=-1||widgetElm.style.height.indexOf('%')!=-1){var rectObject=widgetElm.getBoundingClientRect();
iframe.style.width=rectObject.width+'px';iframe.style.height=rectObject.height+'px';}else{if(settings.width){iframe.width=settings.width;}if(settings.height){iframe.height=settings.height;}}var iframeProxy=document.createElement("div");iframeProxy.id=widgetElm.id;iframeProxy.name=widgetElm.name;iframeProxy.className='kWidgetIframeContainer'
iframeProxy.style.cssText=widgetElm.style.cssText+';overflow: hidden';iframeProxy.appendChild(iframe);widgetElm.parentNode.replaceChild(iframeProxy,widgetElm);var updateIframeSize=function(){setTimeout(function(){var rectObject=iframeProxy.getBoundingClientRect();iframe.style.width=rectObject.width+'px';iframe.style.height=rectObject.height+'px';},0);};iframeProxy.parentNode.onresize=updateIframeSize;window.addEventListener('resize',updateIframeSize);window.addEventListener('orientationchange',updateIframeSize,true);if(settings.captureClickEventForiOS&&this.isIOS()){this.captureClickWrapedIframeUpdate(targetId,settings,iframe);return;}var cbName=this.getIframeCbName(targetId);window[cbName]=function(iframeData){var newDoc=iframe.contentDocument;newDoc.open();newDoc.write(iframeData.content);newDoc.close();window[cbName]=null;};if(this.iframeAutoEmbedCache[targetId]){window[cbName](this.iframeAutoEmbedCache[targetId]);}else{_this.appendScriptUrl(this.getIframeUrl()+'?'+this.
getIframeRequest(widgetElm,settings)+'&callback='+cbName);}},getIframeCbName:function(iframeId){var _this=this;var inx=0;var getCBName=function(inx){var cbName='mwi_'+iframeId.replace(/[^0-9a-zA-Z]/g,'')+inx;if(window[cbName]){_this.log("Warning: iframe callback already defined: "+cbName);return getCBName(++inx);}return cbName;}
return getCBName(inx);},captureClickWrapedIframeUpdate:function(targetId,settings,iframeElm){var _this=this;var widgetElm=document.getElementById(targetId);var newDoc=iframeElm.contentDocument;newDoc.open();var vidSrc=location.protocol+'//www.kaltura.com/p/243342/sp/24334200/playManifest/entryId/1_vp5cng42/flavorId/1_6wf0o9n7/format/url/protocol/http/a.mp4';newDoc.write('<html>'+'<head></head>'+'<body>'+'<video class="persistentNativePlayer" '+'id="'+targetId+'" '+'kwidgetid="'+settings.wid+'" '+'kentryid="'+settings.entry_id+'" '+'kuiconfid="'+settings.uiconf_id+'" '+'src="'+vidSrc+'" '+'style="width:100%;height:100%" '+'</video>'+'<script>document.getElementById(\''+targetId+'\').play();</script>'+'<div id="scriptsHolder"></div>'+'</body>'+'</html>');newDoc.close();var cbName=this.getIframeCbName(targetId);window[cbName]=function(iframeParts){var head=iframeElm.contentDocument.getElementsByTagName("head")[0]||iframeElm.documentElement;head.innerHTML=iframeParts.rawHead;iframeElm.
contentDocument.getElementById("scriptsHolder").innerHTML=iframeParts.rawScripts;var nodeName=function(elem,name){return elem.nodeName&&elem.nodeName.toUpperCase()===name.toUpperCase();}
var evalScript=function(elem){var data=(elem.text||elem.textContent||elem.innerHTML||"");var head=iframeElm.contentDocument.getElementsByTagName("head")[0]||iframeElm.documentElement;var script=iframeElm.contentDocument.createElement("script");script.type="text/javascript";script.appendChild(document.createTextNode(data));head.insertBefore(script,head.firstChild);if(elem.parentNode){elem.parentNode.removeChild(elem);}}
var scripts=[];var ret=iframeElm.contentDocument.getElementById("scriptsHolder").childNodes;for(var i=0;ret[i];i++){if(scripts&&nodeName(ret[i],"script")&&(!ret[i].type||ret[i].type.toLowerCase()==="text/javascript")){scripts.push(ret[i].parentNode?ret[i].parentNode.removeChild(ret[i]):ret[i]);}}for(var script in scripts){evalScript(scripts[script]);}}
_this.appendScriptUrl(this.getIframeUrl()+'?'+this.getIframeRequest(widgetElm,settings)+'&callback='+cbName+'&parts=1');},getIframeRequest:function(elm,settings){var iframeRequest=this.embedSettingsToUrl(settings);iframeRequest+='&playerId='+elm.id
if(mw.getConfig('debug')){iframeRequest+='&debug=true';}if(mw.getConfig('Kaltura.AllowIframeRemoteService')&&(mw.getConfig("Kaltura.ServiceUrl").indexOf('kaltura.com')===-1&&mw.getConfig("Kaltura.ServiceUrl").indexOf('kaltura.org')===-1)){iframeRequest+=kWidget.serviceConfigToUrl();}if(mw.getConfig('Kaltura.NoApiCache')){iframeRequest+='&nocache=true';}iframeRequest+='&urid='+MWEMBED_VERSION;return iframeRequest;},getIframeUrl:function(){return this.getPath()+'mwEmbedFrame.php';},getPath:function(){return SCRIPT_LOADER_URL.replace('load.php','');},outputIframeWithoutApi:function(targetId,settings){var iframeSrc=this.getIframeUrl();iframeSrc+='?'+this.embedSettingsToUrl(settings);if(mw.getConfig('Kaltura.AllowIframeRemoteService')&&(mw.getConfig("Kaltura.ServiceUrl").indexOf('kaltura.com')===-1&&mw.getConfig("Kaltura.ServiceUrl").indexOf('kaltura.org')===-1)){iframeSrc+=this.serviceConfigToUrl();}if(mw.getConfig('forceMobileHTML5')){iframeSrc+='&forceMobileHTML5=true';}if(mw.getConfig(
'debug')){iframeSrc+='&debug=true';}iframeSrc+='&urid='+MWEMBED_VERSION;var targetNode=document.getElementById(targetId);var parentNode=targetNode.parentNode;var iframe=document.createElement('iframe');iframe.src=iframeSrc;iframe.id=targetId;iframe.width=(settings.width)?settings.width.replace(/px/,''):'100%';iframe.height=(settings.height)?settings.height.replace(/px/,''):'100%';iframe.style.border='0px';iframe.style.overflow='hidden';parentNode.replaceChild(iframe,targetNode);},addReadyCallback:function(readyCallback){for(var widgetId in this.readyWidgets){if(document.getElementById(widgetId)){readyCallback(widgetId);}}this.readyCallbacks.push(readyCallback);this.proxyJsCallbackready();},rewriteObjectTags:function(){var playerList=this.getKalutaObjectList();var _this=this;if(this.isMissingUiConfJs(playerList)){this.loadUiConfJs(playerList,function(){_this.rewriteObjectTags();})
return;}var serviceUrl=mw.getConfig('Kaltura.ServiceUrl');if(!mw.getConfig('Kaltura.AllowIframeRemoteService')){if(!serviceUrl||serviceUrl.indexOf('kaltura.com')===-1){mw.setConfig('Kaltura.IframeRewrite',false);mw.setConfig('Kaltura.UseManifestUrls',false);}}if(this.isHTML5FallForward()&&playerList.length){this.embedFromObjects(playerList);return;}if(!this.supportsFlash()&&!this.supportsHTML5()&&!mw.getConfig('Kaltura.ForceFlashOnDesktop')){this.embedFromObjects(playerList);return;}this.playerModeChecksDone();},uiConfScriptLoadList:{},inLoaderUiConfJsDone:false,inLoaderUiConfJsCallbackSet:[],inLoaderUiConfJsCallback:function(){this.inLoaderUiConfJsDone=true;while(this.inLoaderUiConfJsCallbackSet.length){this.inLoaderUiConfJsCallbackSet.shift()();}},isMissingUiConfJs:function(playerList){if(this.inLoaderUiConfJsDone==false){return true;}if(playerList.length==0||!mw.getConfig('Kaltura.EnableEmbedUiConfJs')||mw.getConfig('EmbedPlayer.IsIframeServer')){return false;}for(var i=0;i<
playerList.length;i++){var settings=playerList[i].kEmbedSettings;if(!this.uiConfScriptLoadList[settings.uiconf_id]){return true;}}return false;},loadUiConfJs:function(playerList,doneCallback){var _this=this;var callback=function(){if(_this.inLoaderUiConfJsDone){doneCallback()}else{_this.inLoaderUiConfJsCallbackSet.push(doneCallback);}return;}
var baseUiConfJsUrl=this.getPath()+'services.php?service=uiconfJs';if(!this.isMissingUiConfJs(playerList)){callback();return;}var foundPlayerMissingUiConfJs=false;for(var i=0;i<playerList.length;i++){(function(settings){if(_this.uiConfScriptLoadList[settings.uiconf_id]){return;}foundPlayerMissingUiConfJs=true;var cbName='kUiConfJs_'+i+'_'+settings.uiconf_id;window[cbName]=function(){_this.uiConfScriptLoadList[settings.uiconf_id]=true;if(!_this.isMissingUiConfJs(playerList)){callback();}else{}};_this.appendScriptUrl(baseUiConfJsUrl+_this.embedSettingsToUrl(settings)+'&callback='+cbName);})(playerList[i].kEmbedSettings);}if(!foundPlayerMissingUiConfJs){callback();return;}},log:function(msg){if(typeof console!='undefined'&&console.log){console.log(msg);}},supportsHTML5:function(){if(mw.getConfig('EmbedPlayer.DisableVideoTagSupport')){return false;}var dummyvid=document.createElement("video");if(navigator.userAgent.indexOf('MSIE 9.')!=-1){return false;}if(dummyvid.canPlayType){return true;
}return false;},supportsFlash:function(){if(mw.getConfig('EmbedPlayer.DisableHTML5FlashFallback')){return false;}var version=this.getFlashVersion().split(',').shift();if(version<10){return false;}else{return true;}},getFlashVersion:function(){if(navigator.plugins&&navigator.plugins.length){try{if(navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin){return(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1];}}catch(e){}}try{try{if(typeof ActiveXObject!='undefined'){var axo=new ActiveXObject('ShockwaveFlash.ShockwaveFlash.6');try{axo.AllowScriptAccess='always';}catch(e){return'6,0,0';}}}catch(e){}return new ActiveXObject('ShockwaveFlash.ShockwaveFlash').GetVariable('$version').replace(/\D+/g,',').match(/^,?(.+),?$/)[1];}catch(e){}return'0,0,0';},isIOS:function(){return((navigator.userAgent.indexOf('iPhone')!=-1)||(navigator.userAgent.indexOf('iPod')!=-1)||(navigator.userAgent.indexOf('iPad')
!=-1));},isUiConfIdHTML5:function(uiconf_id){var isHTML5=this.isHTML5FallForward();if(this.userAgentPlayerRules&&this.userAgentPlayerRules[uiconf_id]){var playerAction=this.checkUserAgentPlayerRules(this.userAgentPlayerRules[uiconf_id]);if(playerAction.mode=='leadWithHTML5'){isHTML5=this.supportsHTML5();}}return isHTML5;},isHTML5FallForward:function(){if(this.isIOS()||mw.getConfig('forceMobileHTML5')){return true;}if((mw.getConfig('KalturaSupport.LeadWithHTML5')||mw.getConfig('Kaltura.LeadWithHTML5'))&&this.supportsHTML5()){return true;}if(navigator.userAgent.indexOf('Android ')!=-1){if(mw.getConfig('EmbedPlayer.UseFlashOnAndroid')&&kWidget.supportsFlash()){return false;}else{return true;}}if(kWidget.supportsFlash()){return false;}if(mw.getConfig('Kaltura.ForceFlashOnIE10')){var ua=navigator.userAgent;var ie10Match=ua.match(/MSIE\s10/);if(ie10Match){return false;}}if(mw.getConfig('Kaltura.ForceFlashOnDesktop')){return false;}if(kWidget.supportsHTML5()){return true;}if(mw.getConfig(
'Kaltura.IframeRewrite')){return true;}return false;},getKalturaThumbUrl:function(entry){var widthParam=null;if(entry.width!='100%'&&entry.width){widthParam='/width/'+parseInt(entry.width);}var heightParam='/height/480';if(entry.height!='100%'&&entry.height){heightParam='/height/'+entry.height;}var ks=(entry.ks)?'?ks='+entry.ks:'';if(entry.p&&!entry.partner_id){entry.partner_id=entry.p;}if(!entry.partner_id&&entry.wid){entry.partner_id=entry.wid.replace('_','');}var sp=entry.sp?entry.sp:entry.partner_id;return this.getPath()+'modules/KalturaSupport/thumbnail.php'+'/p/'+entry.partner_id+'/sp/'+sp+'/entry_id/'+entry.entry_id+'/uiconf_id/'+entry.uiconf_id+heightParam+widthParam+ks;},getEmbedSettings:function(swfUrl,flashvars){var embedSettings={};if(typeof flashvars=='string'){flashvars=this.flashVars2Object(flashvars);}if(!flashvars){flashvars={};}if(!swfUrl){return{};}var trim=function(str){return str.replace(/^\s+|\s+$/g,"");}
embedSettings.flashvars=flashvars;var dataUrlParts=swfUrl.split('/');var prevUrlPart=null;while(dataUrlParts.length){var curUrlPart=dataUrlParts.pop();switch(curUrlPart){case'p':embedSettings.wid='_'+prevUrlPart;embedSettings.p=prevUrlPart;break;case'wid':embedSettings.wid=prevUrlPart;embedSettings.p=prevUrlPart.replace(/_/,'');break;case'entry_id':embedSettings.entry_id=prevUrlPart;break;case'uiconf_id':case'ui_conf_id':embedSettings.uiconf_id=prevUrlPart;break;case'cache_st':embedSettings.cache_st=prevUrlPart;break;}prevUrlPart=trim(curUrlPart);}for(var key in flashvars){var val=flashvars[key];key=key.toLowerCase();if(key=='entryid'){embedSettings.entry_id=val;}if(key=='uiconfid'){embedSettings.uiconf_id=val;}if(key=='widgetid'||key=='widget_id'){embedSettings.wid=val;}if(key=='partnerid'||key=='partner_id'){embedSettings.wid='_'+val;embedSettings.p=val;}if(key=='referenceid'){embedSettings.reference_id=val;}}if(!embedSettings.cache_st){embedSettings.cache_st=1;}return embedSettings;
},flashVars2Object:function(flashvarsString){var flashVarsSet=(flashvarsString)?flashvarsString.split('&'):[];var flashvars={};for(var i=0;i<flashVarsSet.length;i++){var currentVar=flashVarsSet[i].split('=');if(currentVar[0]&&currentVar[1]){flashvars[currentVar[0]]=currentVar[1];}}return flashvars;},flashVarsToString:function(flashVarsObject){var params='';for(var i in flashVarsObject){if(typeof flashVarsObject[i]=='object'){for(var j in flashVarsObject[i]){params+='&'+''+encodeURIComponent(i)+'.'+encodeURIComponent(j)+'='+encodeURIComponent(flashVarsObject[i][j]);}}else{params+='&'+''+encodeURIComponent(i)+'='+encodeURIComponent(flashVarsObject[i]);}}return params;},flashVarsToUrl:function(flashVarsObject){var params='';for(var i in flashVarsObject){var curVal=typeof flashVarsObject[i]=='object'?JSON.stringify(flashVarsObject[i]):flashVarsObject[i]
params+='&'+'flashvars['+encodeURIComponent(i)+']='+encodeURIComponent(curVal);}return params;},pageHasAudioOrVideoTags:function(){if(mw.getConfig('EmbedPlayer.RewriteSelector')===false||mw.getConfig('EmbedPlayer.RewriteSelector')==''){return false;}if(document.getElementsByTagName('video').length!=0||document.getElementsByTagName('audio').length!=0){return true;}return false;},getKalutaObjectList:function(){var _this=this;var kalturaPlayerList=[];var objectList=document.getElementsByTagName('object');if(!objectList.length&&document.getElementById('kaltura_player')){objectList=[document.getElementById('kaltura_player')];}var tryAddKalturaEmbed=function(url,flashvars){var settings=_this.getEmbedSettings(url,flashvars);if(settings&&settings.uiconf_id&&settings.wid){objectList[i].kEmbedSettings=settings;kalturaPlayerList.push(objectList[i]);return true;}return false;};for(var i=0;i<objectList.length;i++){if(!objectList[i]){continue;}var swfUrl='';var flashvars={};var paramTags=objectList[
i].getElementsByTagName('param');for(var j=0;j<paramTags.length;j++){var pName=paramTags[j].getAttribute('name').toLowerCase();var pVal=paramTags[j].getAttribute('value');if(pName=='data'||pName=='src'||pName=='movie'){swfUrl=pVal;}if(pName=='flashvars'){flashvars=this.flashVars2Object(pVal);}}if(tryAddKalturaEmbed(swfUrl,flashvars)){continue;}if(objectList[i].getAttribute('data')){if(tryAddKalturaEmbed(objectList[i].getAttribute('data'),flashvars)){continue;}}}return kalturaPlayerList;},appendScriptUrls:function(urls,callback){var _this=this;var loadCount=0;if(urls.length==0){if(callback)callback();return;}for(var i=0;i<urls.length;i++){(function(inx){_this.appendScriptUrl(urls[inx],function(){loadCount++;if(loadCount==urls.length){if(callback)callback();}})})(i);}},appendScriptUrl:function(url,callback,docContext){if(!docContext){docContext=document;}var head=docContext.getElementsByTagName("head")[0]||docContext.documentElement;var script=docContext.createElement("script");script.
src=url;var done=false;script.onload=script.onreadystatechange=function(){if(!done&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){done=true;if(typeof callback=='function'){callback();}script.onload=script.onreadystatechange=null;if(head&&script.parentNode){head.removeChild(script);}}};head.insertBefore(script,head.firstChild);},appendCssUrl:function(url){var head=document.getElementsByTagName("head")[0];var cssNode=document.createElement('link');cssNode.type='text/css';cssNode.rel='stylesheet';cssNode.media='screen';cssNode.href=url;head.appendChild(cssNode);},serviceConfigToUrl:function(){var serviceVars=['ServiceUrl','CdnUrl','ServiceBase','UseManifestUrls'];var urlParam='';for(var i=0;i<serviceVars.length;i++){if(mw.getConfig('Kaltura.'+serviceVars[i])!==null){urlParam+='&'+serviceVars[i]+'='+encodeURIComponent(mw.getConfig('Kaltura.'+serviceVars[i]));}}return urlParam;},embedSettingsToUrl:function(settings){var url='';var kalturaAttributeList=[
'uiconf_id','entry_id','wid','p','cache_st'];for(var attrKey in settings){for(var i=0;i<kalturaAttributeList.length;i++){if(kalturaAttributeList[i]==attrKey){url+='&'+attrKey+'='+encodeURIComponent(settings[attrKey]);}}}url+=this.flashVarsToUrl(settings.flashvars);return url;},overrideFlashEmbedMethods:function(){var _this=this;var doEmbedSettingsWrite=function(settings,replaceTargetId,widthStr,heightStr){if(widthStr){settings.width=widthStr;}if(heightStr){settings.height=heightStr;}kWidget.embed(replaceTargetId,settings);};if(window['flashembed']&&!window['originalFlashembed']){window['originalFlashembed']=window['flashembed'];window['flashembed']=function(targetId,attributes,flashvars){_this.domReady(function(){var kEmbedSettings=kWidget.getEmbedSettings(attributes.src,flashvars);if(kEmbedSettings.uiconf_id&&(kWidget.isHTML5FallForward()||!kWidget.supportsFlash())){document.getElementById(targetId).innerHTML='<div style="width:100%;height:100%" id="'+attributes.id+'"></div>';
doEmbedSettingsWrite(kEmbedSettings,attributes.id,attributes.width,attributes.height);}else{return originalFlashembed(targetId,attributes,flashvars);}});};var flashembedStaticMethods=['asString','getHTML','getVersion','isSupported'];for(var i=0;i<flashembedStaticMethods.length;i++){window['flashembed'][flashembedStaticMethods[i]]=originalFlashembed}}if(window['SWFObject']&&!window['SWFObject'].prototype['originalWrite']){window['SWFObject'].prototype['originalWrite']=window['SWFObject'].prototype.write;window['SWFObject'].prototype['write']=function(targetId){var swfObj=this;_this.domReady(function(){var kEmbedSettings=kWidget.getEmbedSettings(swfObj.attributes.swf,swfObj.params.flashVars);if(kEmbedSettings.uiconf_id&&(kWidget.isHTML5FallForward()||!kWidget.supportsFlash())){doEmbedSettingsWrite(kEmbedSettings,targetId,swfObj.attributes.width,swfObj.attributes.height);}else{swfObj.originalWrite(targetId);}});};}if(window['swfobject']&&!window['swfobject']['originalEmbedSWF']){window[
'swfobject']['originalEmbedSWF']=window['swfobject']['embedSWF'];window['swfobject']['embedSWF']=function(swfUrlStr,replaceElemIdStr,widthStr,heightStr,swfVersionStr,xiSwfUrlStr,flashvarsObj,parObj,attObj,callbackFn){_this.domReady(function(){var kEmbedSettings=kWidget.getEmbedSettings(swfUrlStr,flashvarsObj);if(kEmbedSettings.uiconf_id&&(kWidget.isHTML5FallForward()||!kWidget.supportsFlash())){doEmbedSettingsWrite(kEmbedSettings,replaceElemIdStr,widthStr,heightStr);}else{window['swfobject']['originalEmbedSWF'](swfUrlStr,replaceElemIdStr,widthStr,heightStr,swfVersionStr,xiSwfUrlStr,flashvarsObj,parObj,attObj,callbackFn);}});};}}};window.KWidget=kWidget;window.kWidget=kWidget;})();if(!this.JSON){this.JSON={};}(function(){function f(n){return n<10?'0'+n:n;}if(typeof Date.prototype.toJSON!=='function'){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+'-'+f(this.getUTCMonth()+1)+'-'+f(this.getUTCDate())+'T'+f(this.getUTCHours())+':'+f(this.
getUTCMinutes())+':'+f(this.getUTCSeconds())+'Z':null;};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf();};}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={'\b':'\\b','\t':'\\t','\n':'\\n','\f':'\\f','\r':'\\r','"':'\\"','\\':'\\\\'},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==='string'?c:'\\u'+('0000'+a.charCodeAt(0).toString(16)).slice(-4);})+'"':'"'+string+'"';}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==='object'&&typeof value.toJSON==='function'){value=value.toJSON(key);}if(typeof rep==='function'){value=rep.call(holder,key,value);}switch(typeof
value){case'string':return quote(value);case'number':return isFinite(value)?String(value):'null';case'boolean':case'null':return String(value);case'object':if(!value){return'null';}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==='[object Array]'){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||'null';}v=partial.length===0?'[]':gap?'[\n'+gap+partial.join(',\n'+gap)+'\n'+mind+']':'['+partial.join(',')+']';gap=mind;return v;}if(rep&&typeof rep==='object'){length=rep.length;for(i=0;i<length;i+=1){k=rep[i];if(typeof k==='string'){v=str(k,value);if(v){partial.push(quote(k)+(gap?': ':':')+v);}}}}else{for(k in value){if(Object.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?': ':':')+v);}}}}v=partial.length===0?'{}':gap?'{\n'+gap+partial.join(',\n'+gap)+'\n'+mind+'}':'{'+partial.join(',')+'}';gap=mind;return v;}}if(typeof JSON.stringify!=='function'){JSON.stringify=function(value,replacer,space){var i;gap='';indent='';if(
typeof space==='number'){for(i=0;i<space;i+=1){indent+=' ';}}else if(typeof space==='string'){indent=space;}rep=replacer;if(replacer&&typeof replacer!=='function'&&(typeof replacer!=='object'||typeof replacer.length!=='number')){throw new Error('JSON.stringify');}return str('',{'':value});};}if(typeof JSON.parse!=='function'){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==='object'){for(k in value){if(Object.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v;}else{delete value[k];}}}}return reviver.call(holder,key,value);}cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return'\\u'+('0000'+a.charCodeAt(0).toString(16)).slice(-4);});}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,'@').replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,']').replace(/(?:^|:|,)(?:\s*\[)+/g,''))){j=eval('('+text+')');return typeof reviver===
'function'?walk({'':j},''):j;}throw new SyntaxError('JSON.parse');};}}());(function(mw,kWidget){kWidget.deprecatedGlobals=function(){var globalFunctionMap={'kIsIOS':'isIOS','kSupportsHTML5':'supportsHTML5','kGetFlashVersion':'getFlashVersion','kSupportsFlash':'supportsFlash','kalturaIframeEmbed':'embed','kOutputFlashObject':'outputFlashObject','kIsHTML5FallForward':'isHTML5FallForward','kIframeWithoutApi':'outputIframeWithoutApi','kDirectDownloadFallback':'outputDirectDownload','kGetKalturaEmbedSettings':'getEmbedSetting','kGetKalturaPlayerList':'getKalutaObjectList','kCheckAddScript':'rewriteObjectTags','kAddScript':'loadHTML5Lib','kPageHasAudioOrVideoTags':'pageHasAudioOrVideoTags','kLoadJsRequestSet':'loadRequestSet','kOverideJsFlashEmbed':'overrideFlashEmbedMethods','kDoIframeRewriteList':'embedFromObjects','kEmbedSettingsToUrl':'embedSettingsToUrl','kGetAdditionalTargetCss':'getAdditionalTargetCss','kAppendCssUrl':'appendCssUrl','kAppendScriptUrl':'appendScriptUrl',
'kFlashVars2Object':'flashVars2Object','kFlashVarsToUrl':'flashVarsToUrl','kFlashVarsToString':'flashVarsToString','kServiceConfigToUrl':'serviceConfigToUrl','kRunMwDomReady':'rewriteObjectTags','restoreKalturaKDPCallback':false}
for(var gName in globalFunctionMap){(function(gName){window[gName]=function(){if(globalFunctionMap[gName]===false){kWidget.log(gName+' is deprecated. This method no longer serves any purpose.');return;}kWidget.log(gName+' is deprecated. Please use kWidget.'+globalFunctionMap[gName]);var args=Array.prototype.slice.call(arguments,0);if(typeof kWidget[globalFunctionMap[gName]]!='function'){kWidget.log("Error kWidget missing method: "+globalFunctionMap[gName]);return;}return kWidget[globalFunctionMap[gName]].apply(kWidget,args);}})(gName);}}
kWidget.deprecatedGlobals();})(window.mw,window.kWidget);(function(kWidget){var DomReady=window.DomReady={};var userAgent=navigator.userAgent.toLowerCase();var browser={version:(userAgent.match(/.+(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[])[1],safari:/webkit/.test(userAgent),opera:/opera/.test(userAgent),msie:(/msie/.test(userAgent))&&(!/opera/.test(userAgent)),mozilla:(/mozilla/.test(userAgent))&&(!/(compatible|webkit)/.test(userAgent))};var readyBound=false;var isReady=false;var readyList=[];function domReady(){if(!isReady){isReady=true;if(readyList){for(var fn=0;fn<readyList.length;fn++){readyList[fn].call(window,[]);}readyList=[];}}};function addLoadEvent(func){var oldonload=window.onload;if(typeof window.onload!='function'){window.onload=func;}else{window.onload=function(){if(oldonload){oldonload();}func();}}};function bindReady(){if(readyBound){return;}readyBound=true;if(document.addEventListener&&!browser.opera){document.addEventListener("DOMContentLoaded",domReady,false);}if(browser.
msie&&window==top)(function(){if(isReady)return;try{document.documentElement.doScroll("left");}catch(error){setTimeout(arguments.callee,0);return;}domReady();})();if(browser.opera){document.addEventListener("DOMContentLoaded",function(){if(isReady)return;for(var i=0;i<document.styleSheets.length;i++)if(document.styleSheets[i].disabled){setTimeout(arguments.callee,0);return;}domReady();},false);}if(browser.safari){var numStyles;(function(){if(isReady)return;if(document.readyState!="loaded"&&document.readyState!="complete"){setTimeout(arguments.callee,0);return;}if(numStyles===undefined){var links=document.getElementsByTagName("link");for(var i=0;i<links.length;i++){if(links[i].getAttribute('rel')=='stylesheet'){numStyles++;}}var styles=document.getElementsByTagName("style");numStyles+=styles.length;}if(document.styleSheets.length!=numStyles){setTimeout(arguments.callee,0);return;}domReady();})();}addLoadEvent(domReady);};DomReady.ready=function(fn,args){bindReady();if(isReady||
/loaded|complete/.test(document.readyState)){fn.call(window,[]);}else{readyList.push(function(){return fn.call(window,[]);});}};bindReady();kWidget.domReady=DomReady.ready;})(window.kWidget);var logIfInIframe=(typeof preMwEmbedConfig!='undefined'&&preMwEmbedConfig['EmbedPlayer.IsIframeServer'])?' ( iframe ) ':'';kWidget.log('Kaltura HTML5 Version: '+MWEMBED_VERSION+logIfInIframe);if(!window['mw']){window['mw']={};}if(!window['preMwEmbedReady']){window.preMwEmbedReady=[];}if(!window['preMwEmbedConfig']){window.preMwEmbedConfig={};}if(!mw.setConfig){mw.setConfig=function(set,value){var valueQueue={};if(typeof value!='undefined'){window.preMwEmbedConfig[set]=value;}else if(typeof set=='object'){for(var i in set){window.preMwEmbedConfig[i]=set[i];}}};}if(!mw.getConfig){mw.getConfig=function(key,defaultValue){if(typeof window.preMwEmbedConfig[key]=='undefined'){if(typeof defaultValue!='undefined'){return defaultValue;}return null;}else{return window.preMwEmbedConfig[key];}};}if(!mw.
versionIsAtLeast){mw.versionIsAtLeast=function(minVersion,clientVersion){var minVersionParts=minVersion.split('.');var clientVersionParts=clientVersion.split('.');for(var i=0;i<minVersionParts.length;i++){if(parseInt(clientVersionParts[i])>parseInt(minVersionParts[i])){return true;}if(parseInt(clientVersionParts[i])<parseInt(minVersionParts[i])){return false;}}return true;};}if(!mw.ready){mw.ready=function(fn){window.preMwEmbedReady.push(fn);};}mw.getKalturaThumbUrl=function(entry){kWidget.log('mw.getKalturaThumbUrl is deprecated. Please use kWidget.getKalturaThumbUrl');return kWidget.getKalturaThumbUrl(entry);};kWidget.getUserAgentPlayerRulesMsg=function(ruleSet){return kWidget.checkUserAgentPlayerRules(ruleSet,true);};kWidget.checkUserAgentPlayerRules=function(ruleSet,getMsg){var ua=(mw.getConfig('KalturaSupport_ForceUserAgent'))?mw.getConfig('KalturaSupport_ForceUserAgent'):navigator.userAgent;var flashMode={mode:'flash',val:true};if(!ruleSet.rules){return flashMode;}var getAction=
function(inx){if(ruleSet.actions&&ruleSet.actions[inx]){return ruleSet.actions[inx];}return flashMode;};for(var i in ruleSet.rules){var rule=ruleSet.rules[i];if(rule.match){if(ua.indexOf(rule.match)!==-1)return getAction(i);}else if(rule.regMatch){if(ua.match(eval(rule.regMatch)))return getAction(i);}}return flashMode;};(function(kWidget){kWidget.seconds2npt=function(sec,show_ms){if(isNaN(sec)){kWidget.log("Warning: mediawiki.UtilitiesTime, trying to get npt time on NaN:"+sec);return'0:00:00';}var tm=kWidget.seconds2Measurements(sec);if(show_ms){tm.seconds=Math.round(tm.seconds*1000)/1000;}else{tm.seconds=Math.round(tm.seconds);}if(tm.seconds<10){tm.seconds='0'+tm.seconds;}if(tm.hours==0){hoursStr='';}else{if(tm.minutes<10)tm.minutes='0'+tm.minutes;hoursStr=tm.hours+":";}return hoursStr+tm.minutes+":"+tm.seconds;};mw.npt2seconds=function(nptString){if(!nptString){return 0;}nptString=nptString.replace(/npt:|s/g,'');var hour=0;var min=0;var sec=0;times=nptString.split(':');if(times.
length==3){sec=times[2];min=times[1];hour=times[0];}else if(times.length==2){sec=times[1];min=times[0];}else{sec=times[0];}sec=sec.replace(/,\s?/,'.');return parseInt(hour*3600)+parseInt(min*60)+parseFloat(sec);};kWidget.seconds2Measurements=function(sec){var tm={};tm.days=Math.floor(sec/(3600*24));tm.hours=Math.floor(Math.round(sec)/3600);tm.minutes=Math.floor((Math.round(sec)/60)%60);tm.seconds=sec%60;return tm;};})(window.kWidget);window.MD5=function(string){function RotateLeft(lValue,iShiftBits){return(lValue<<iShiftBits)|(lValue>>>(32-iShiftBits));}function AddUnsigned(lX,lY){var lX4,lY4,lX8,lY8,lResult;lX8=(lX&0x80000000);lY8=(lY&0x80000000);lX4=(lX&0x40000000);lY4=(lY&0x40000000);lResult=(lX&0x3FFFFFFF)+(lY&0x3FFFFFFF);if(lX4&lY4){return(lResult^0x80000000^lX8^lY8);}if(lX4|lY4){if(lResult&0x40000000){return(lResult^0xC0000000^lX8^lY8);}else{return(lResult^0x40000000^lX8^lY8);}}else{return(lResult^lX8^lY8);}}function F(x,y,z){return(x&y)|((~x)&z);}function G(x,y,z){return(x&z)|(y
&(~z));}function H(x,y,z){return(x^y^z);}function I(x,y,z){return(y^(x|(~z)));}function FF(a,b,c,d,x,s,ac){a=AddUnsigned(a,AddUnsigned(AddUnsigned(F(b,c,d),x),ac));return AddUnsigned(RotateLeft(a,s),b);};function GG(a,b,c,d,x,s,ac){a=AddUnsigned(a,AddUnsigned(AddUnsigned(G(b,c,d),x),ac));return AddUnsigned(RotateLeft(a,s),b);};function HH(a,b,c,d,x,s,ac){a=AddUnsigned(a,AddUnsigned(AddUnsigned(H(b,c,d),x),ac));return AddUnsigned(RotateLeft(a,s),b);};function II(a,b,c,d,x,s,ac){a=AddUnsigned(a,AddUnsigned(AddUnsigned(I(b,c,d),x),ac));return AddUnsigned(RotateLeft(a,s),b);};function ConvertToWordArray(string){var lWordCount;var lMessageLength=string.length;var lNumberOfWords_temp1=lMessageLength+8;var lNumberOfWords_temp2=(lNumberOfWords_temp1-(lNumberOfWords_temp1%64))/64;var lNumberOfWords=(lNumberOfWords_temp2+1)*16;var lWordArray=Array(lNumberOfWords-1);var lBytePosition=0;var lByteCount=0;while(lByteCount<lMessageLength){lWordCount=(lByteCount-(lByteCount%4))/4;lBytePosition=(
lByteCount%4)*8;lWordArray[lWordCount]=(lWordArray[lWordCount]|(string.charCodeAt(lByteCount)<<lBytePosition));lByteCount++;}lWordCount=(lByteCount-(lByteCount%4))/4;lBytePosition=(lByteCount%4)*8;lWordArray[lWordCount]=lWordArray[lWordCount]|(0x80<<lBytePosition);lWordArray[lNumberOfWords-2]=lMessageLength<<3;lWordArray[lNumberOfWords-1]=lMessageLength>>>29;return lWordArray;};function WordToHex(lValue){var WordToHexValue="",WordToHexValue_temp="",lByte,lCount;for(lCount=0;lCount<=3;lCount++){lByte=(lValue>>>(lCount*8))&255;WordToHexValue_temp="0"+lByte.toString(16);WordToHexValue=WordToHexValue+WordToHexValue_temp.substr(WordToHexValue_temp.length-2,2);}return WordToHexValue;};function Utf8Encode(string){string=string.replace(/\r\n/g,"\n");var utftext="";for(var n=0;n<string.length;n++){var c=string.charCodeAt(n);if(c<128){utftext+=String.fromCharCode(c);}else if((c>127)&&(c<2048)){utftext+=String.fromCharCode((c>>6)|192);utftext+=String.fromCharCode((c&63)|128);}else{utftext+=String
.fromCharCode((c>>12)|224);utftext+=String.fromCharCode(((c>>6)&63)|128);utftext+=String.fromCharCode((c&63)|128);}}return utftext;};var x=Array();var k,AA,BB,CC,DD,a,b,c,d;var S11=7,S12=12,S13=17,S14=22;var S21=5,S22=9,S23=14,S24=20;var S31=4,S32=11,S33=16,S34=23;var S41=6,S42=10,S43=15,S44=21;string=Utf8Encode(string);x=ConvertToWordArray(string);a=0x67452301;b=0xEFCDAB89;c=0x98BADCFE;d=0x10325476;for(k=0;k<x.length;k+=16){AA=a;BB=b;CC=c;DD=d;a=FF(a,b,c,d,x[k+0],S11,0xD76AA478);d=FF(d,a,b,c,x[k+1],S12,0xE8C7B756);c=FF(c,d,a,b,x[k+2],S13,0x242070DB);b=FF(b,c,d,a,x[k+3],S14,0xC1BDCEEE);a=FF(a,b,c,d,x[k+4],S11,0xF57C0FAF);d=FF(d,a,b,c,x[k+5],S12,0x4787C62A);c=FF(c,d,a,b,x[k+6],S13,0xA8304613);b=FF(b,c,d,a,x[k+7],S14,0xFD469501);a=FF(a,b,c,d,x[k+8],S11,0x698098D8);d=FF(d,a,b,c,x[k+9],S12,0x8B44F7AF);c=FF(c,d,a,b,x[k+10],S13,0xFFFF5BB1);b=FF(b,c,d,a,x[k+11],S14,0x895CD7BE);a=FF(a,b,c,d,x[k+12],S11,0x6B901122);d=FF(d,a,b,c,x[k+13],S12,0xFD987193);c=FF(c,d,a,b,x[k+14],S13,0xA679438E);b=FF(b
,c,d,a,x[k+15],S14,0x49B40821);a=GG(a,b,c,d,x[k+1],S21,0xF61E2562);d=GG(d,a,b,c,x[k+6],S22,0xC040B340);c=GG(c,d,a,b,x[k+11],S23,0x265E5A51);b=GG(b,c,d,a,x[k+0],S24,0xE9B6C7AA);a=GG(a,b,c,d,x[k+5],S21,0xD62F105D);d=GG(d,a,b,c,x[k+10],S22,0x2441453);c=GG(c,d,a,b,x[k+15],S23,0xD8A1E681);b=GG(b,c,d,a,x[k+4],S24,0xE7D3FBC8);a=GG(a,b,c,d,x[k+9],S21,0x21E1CDE6);d=GG(d,a,b,c,x[k+14],S22,0xC33707D6);c=GG(c,d,a,b,x[k+3],S23,0xF4D50D87);b=GG(b,c,d,a,x[k+8],S24,0x455A14ED);a=GG(a,b,c,d,x[k+13],S21,0xA9E3E905);d=GG(d,a,b,c,x[k+2],S22,0xFCEFA3F8);c=GG(c,d,a,b,x[k+7],S23,0x676F02D9);b=GG(b,c,d,a,x[k+12],S24,0x8D2A4C8A);a=HH(a,b,c,d,x[k+5],S31,0xFFFA3942);d=HH(d,a,b,c,x[k+8],S32,0x8771F681);c=HH(c,d,a,b,x[k+11],S33,0x6D9D6122);b=HH(b,c,d,a,x[k+14],S34,0xFDE5380C);a=HH(a,b,c,d,x[k+1],S31,0xA4BEEA44);d=HH(d,a,b,c,x[k+4],S32,0x4BDECFA9);c=HH(c,d,a,b,x[k+7],S33,0xF6BB4B60);b=HH(b,c,d,a,x[k+10],S34,0xBEBFBC70);a=HH(a,b,c,d,x[k+13],S31,0x289B7EC6);d=HH(d,a,b,c,x[k+0],S32,0xEAA127FA);c=HH(c,d,a,b,x[k+3],S33,
0xD4EF3085);b=HH(b,c,d,a,x[k+6],S34,0x4881D05);a=HH(a,b,c,d,x[k+9],S31,0xD9D4D039);d=HH(d,a,b,c,x[k+12],S32,0xE6DB99E5);c=HH(c,d,a,b,x[k+15],S33,0x1FA27CF8);b=HH(b,c,d,a,x[k+2],S34,0xC4AC5665);a=II(a,b,c,d,x[k+0],S41,0xF4292244);d=II(d,a,b,c,x[k+7],S42,0x432AFF97);c=II(c,d,a,b,x[k+14],S43,0xAB9423A7);b=II(b,c,d,a,x[k+5],S44,0xFC93A039);a=II(a,b,c,d,x[k+12],S41,0x655B59C3);d=II(d,a,b,c,x[k+3],S42,0x8F0CCC92);c=II(c,d,a,b,x[k+10],S43,0xFFEFF47D);b=II(b,c,d,a,x[k+1],S44,0x85845DD1);a=II(a,b,c,d,x[k+8],S41,0x6FA87E4F);d=II(d,a,b,c,x[k+15],S42,0xFE2CE6E0);c=II(c,d,a,b,x[k+6],S43,0xA3014314);b=II(b,c,d,a,x[k+13],S44,0x4E0811A1);a=II(a,b,c,d,x[k+4],S41,0xF7537E82);d=II(d,a,b,c,x[k+11],S42,0xBD3AF235);c=II(c,d,a,b,x[k+2],S43,0x2AD7D2BB);b=II(b,c,d,a,x[k+9],S44,0xEB86D391);a=AddUnsigned(a,AA);b=AddUnsigned(b,BB);c=AddUnsigned(c,CC);d=AddUnsigned(d,DD);}var temp=WordToHex(a)+WordToHex(b)+WordToHex(c)+WordToHex(d);return temp.toLowerCase();};(function(kWidget){kWidget.api=function(widgetId,ks){
return this.init(widgetId,ks);};kWidget.api.prototype={ks:null,baseParam:{'apiVersion':'3.1','clientTag':'kwidget:v'+window['MWEMBED_VERSION'],'expiry':'86400','format':9,'ignoreNull':1},init:function(widgetId,ks){this.wid=widgetId;this.ks=ks;},setKs:function(ks){this.ks=ks;},getKs:function(){return this.ks;},doRequest:function(requestObject,callback){var _this=this;var param={};var forcedMulti=false;if(requestObject['ks']){this.ks=requestObject['ks'];}if(!requestObject.length&&!this.getKs()){forcedMulti=true;requestObject=[requestObject];}if(mw.getConfig('Kaltura.NoApiCache')===true){param['nocache']='true';}if(requestObject.length){param['service']='multirequest';param['action']='null';var mulitRequestIndex=1;if(!this.getKs()){param[mulitRequestIndex+':service']='session';param[mulitRequestIndex+':action']='startWidgetSession';param[mulitRequestIndex+':widgetId']=this.wid;mulitRequestIndex=2;}for(var i=0;i<requestObject.length;i++){var requestInx=mulitRequestIndex+i;if(!this.getKs())
{param[requestInx+':ks']='{1:result:ks}';}for(var paramKey in requestObject[i]){if(typeof requestObject[i][paramKey]=='object'){for(var subParamKey in requestObject[i][paramKey]){param[requestInx+':'+paramKey+':'+subParamKey]=requestObject[i][paramKey][subParamKey];}}else{param[requestInx+':'+paramKey]=requestObject[i][paramKey];}}}}else{param=requestObject;}for(var i in this.baseParam){if(typeof param[i]=='undefined'){param[i]=this.baseParam[i];}};var serviceType=param['service'];delete param['service'];if(serviceType!='session'){param['kalsig']=_this.getSignature(param);}var requestURL=_this.getApiUrl(serviceType)+'&'+$.param(param);var globalCBName='kapi_'+_this.getSignature(param);if(window[globalCBName]){this.callbackIndex++;globalCBName=globalCBName+this.callbackIndex;}window[globalCBName]=function(data){if(forcedMulti&&data.length==2){data=data[1];}if(callback){callback(data);callback=null;}delete window[globalCBName];};requestURL+='&callback='+globalCBName;kWidget.
appendScriptUrl(requestURL);},getApiUrl:function(serviceType){var serviceUrl=mw.getConfig('Kaltura.ServiceUrl');if(serviceType&&serviceType=='stats'&&mw.getConfig('Kaltura.StatsServiceUrl')){serviceUrl=mw.getConfig('Kaltura.StatsServiceUrl');}return serviceUrl+mw.getConfig('Kaltura.ServiceBase')+serviceType;},getSignature:function(params){params=this.ksort(params);var str="";for(var v in params){var k=params[v];str+=k+v;}return MD5(str);},ksort:function(arr){var sArr=[];var tArr=[];var n=0;for(i in arr){tArr[n++]=i+"|"+arr[i];}tArr=tArr.sort();for(var i=0;i<tArr.length;i++){var x=tArr[i].split("|");sArr[x[0]]=x[1];}return sArr;}}})(window.kWidget);mw.setConfig('debug',false);mw.setConfig('Mw.XmlProxyUrl','http://cdnsecakmi.kaltura.com/html5/html5lib/v1.7.0.8/simplePhpXMLProxy.php');mw.setConfig('Kaltura.UseManifestUrls',true);mw.setConfig('Kaltura.Protocol','http');mw.setConfig('Kaltura.ServiceUrl','http://cdnapi.kaltura.com');mw.setConfig('Kaltura.ServiceBase',
'/api_v3/index.php?service=');mw.setConfig('Kaltura.CdnUrl','http://cdnbakmi.kaltura.com');mw.setConfig('Kaltura.StatsServiceUrl','http://stats.kaltura.com');mw.setConfig('Kaltura.IframeRewrite',true);mw.setConfig('EmbedPlayer.EnableIpadHTMLControls',true);mw.setConfig('EmbedPlayer.UseFlashOnAndroid',true);mw.setConfig('Kaltura.LoadScriptForVideoTags',true);mw.setConfig('Kaltura.AllowIframeRemoteService',true);mw.setConfig('Kaltura.UseAppleAdaptive',true);mw.setConfig('Kaltura.EnableEmbedUiConfJs',false);kWidget.appendScriptUrls([],function(){window.kWidget.inLoaderUiConfJsCallback();})
kWidget.uiConfScriptLoadList['2858382']=1;
kWidget.setup();
