/* UI BUILD: Thursday, Apr 18 2013 at 12:17:55 PM */
/* MD5: bac5c3918d46760cf6ea7387f99efa0c */

var PrimaryMessageSnippet=function(){function e(e){for(var r=0;a().length>r;r++)void 0!=e?($(a()[r]).fadeOut(600),$(t()[r]).removeClass("primary-tabs-selected")):e!=r&&($(a()[r]).stop(!0,!0).fadeOut(600),$(t()[r]).removeClass("primary-tabs-selected"))}function a(){return null==m&&(m=$("#primary-wrapper div."+n)),m}function t(){return null==f&&(f=$("#primary-wrapper div#"+d+" ul > li")),f}function r(){return null==v&&(v=$("#primary-wrapper div#"+d+" ul > li > a")),v}function s(t){if(a().length>0){e();for(var s=0;r().length>s;s++){if("A"!=t.nodeName)for(;"A"!=t.nodeName&&"BODY"!=t.nodeName;)t=t.parentNode;r()[s]==t&&(i(s),clearTimeout(u))}}}function i(r){a().length>0&&(b=r,e(r),$(a()[r]).fadeIn(600),$(t()[r]).addClass("primary-tabs-selected"))}function l(e){if(a().length>0){for(var r=0;a().length>r;r++)a()[r].style.display=r==e?"block":"none";$(t()[e]).addClass("primary-tabs-selected"),b=e}}function o(){p&&(u=setTimeout(function(){++b,b>=r().length&&(b=0),i(b),o()},c))}var n="primary-panel",d="primary-tabs",c=5e3,p=!1,u=0,b=0,m=null,f=null,v=null;return{init:function(e){if($("div.primary-panel").each(function(){var e=$(this),a=e.find("div.primary-pop-panel"),t=e.find("ul.primary-pop-nav a");a.hide().eq(0).show(),t.eq(0).addClass("primary-pop-active"),t.click(function(){var e=t.index(this);return t.removeClass("primary-pop-active"),$(this).addClass("primary-pop-active"),a.hide(),a.eq(e).show(),!1})}),$("#primary-tabs").length>0)if(1==$("#primary-tabs ul li").size())$("#primary-tabs").css("display","none");else{$("#primary-tabs").css("display","block").find("ul").addClass("primary-tabs-"+$("#primary-tabs ul li").size());var a="#"+d+" ul > li > a";$(a).click(function(e){return"undefined"!=typeof trackEvent&&trackEvent.event("event.link",{lid:$(this).attr("name").replace("&lid=","")}),$(this).parent().index()==b?!1:(s(e.target),!1)}),void 0==e&&(e=1),l(e-1),$("#primary-wrapper").hover(function(){clearTimeout(u)},function(){o()}),o()}$("#primary-wrapper ."+n).css({position:"absolute",visibility:"visible",left:0})},setAutoRotation:function(e){p="false"===e?!1:"true"===e?!0:e},setRotationInterval:function(e){c=1e3*e}}}();(function(e){e.fn.extend({tCarousel:function(a){var t={tabs:!0,carousel:!0,netkernal:!1,modelNumbers:!0,header:this.parent().parent().find("h2")},r=e.extend(t,a);return this.each(function(){function a(e){var a,t;c||o.addClass("tab-carousel"),o.find(".tab"+e+" div.tab-content").append('<div class="tab-slider-wrapper"><div class="tab-slider-inside"><div class="tab-slider'+e+' tab-slider"></div></div></div>'),a=o.find(".tab"+e+" .tab-holder li.tab-item").size(),t=185*a,o.find(".tab"+e+" ul.tab-holder").css({width:t,overflow:"hidden"}),440>=t&&o.find(".tab"+e+" .tab-slider-wrapper").css("display","none"),o.find(".tab-slider"+e).slider({animate:!0,change:function(a,r){var s=t-o.find(".tab"+e+" .tab-scroll").width();o.find(".tab"+e+" .tab-scroll").animate({scrollLeft:r.value*(s/100)},1e3)},slide:function(a,r){var s=t-o.find(".tab"+e+" .tab-scroll").width();o.find(".tab"+e+" .tab-scroll").scrollLeft(r.value*(s/100))}})}function t(){var a,t;d||o.addClass("tab-tabbed"),o.find(".tab0 h3.tab").addClass("tab-active"),a=l.header.addClass("tab-header").width(),t=a+20,o.find("h3.tab").each(function(a){e(this).css({top:"-29px",left:t+"px"}),t=t+e(this).width()+20,a>0&&(o.find(".tab"+a+" .tab-content").hide(),o.find(".tab"+a+" h3").addClass("tab-default"))}),o.find("h3.tab").hover(function(){e(this).addClass("tab-over")},function(){e(this).removeClass("tab-over")}),o.find("h3.tab").click(function(){var a=e(this).parent().attr("class").replace("tab","");void 0==n[a]&&s(a),o.find(".tab-content").hide(),o.find(".tab"+a+" .tab-content").show(),o.find("h3.tab").removeClass("tab-active"),o.find("h3.tab").addClass("tab-default"),o.find(".tab"+a+" h3").addClass("tab-active")})}function s(r){n[r]=!0,o.find(".tab"+r+" .tab-scroll").before('<img class="tab-loading" src="http://images.bestbuy.com/BestBuy_US/en_US/images/global/on/loading.gif" />');var s;void 0!=l.products[r].custom?(void 0==l.products[r].sort&&(l.products[r].sort="salesRankShortTerm.asc"),s="http://api.bbyremix.bestbuy.com/v1/products"+encodeURIComponent(l.products[r].custom)+"?apiKey=3m9usrb57uywm3yuqgzesh73&format=json&sort="+l.products[r].sort+"&show=url,sku,image,name,modelNumber,customerReviewAverage,customerReviewCount,planPrice,onSale,salePrice,regularPrice,advertisedPriceRestriction"):s="http://api.bbyremix.bestbuy.com/v1/products"+encodeURIComponent("(active=true&orderable in(Available,PreOrder)&categoryPath.id="+l.products[r].id+")")+"?apiKey=3m9usrb57uywm3yuqgzesh73&format=json&sort=salesRankShortTerm.asc&show=marketplace,url,sku,image,name,modelNumber,customerReviewAverage,customerReviewCount,planPrice,onSale,salePrice,regularPrice,advertisedPriceRestriction",e.ajax({dataType:"jsonp",jsonp:"callback",jsonpCallback:"snippetCallback"+o.attr("id").replace(/[^a-zA-Z 0-9]+/g,""),url:s,cache:!0,success:function(s){var i,n='<ul class="tab-holder">';e.each(s.products,function(e){var a,t=s.products[e].image||"http://images.bestbuy.com/BestBuy_US/images/products/nonsku/default_hardlines_pd.jpg";n+='<li class="tab-item"><div class="tab-image"><div><a href="'+s.products[e].url+'" name="&lid=tab_iamge_'+s.products[e].sku+'">'+(t.length>0?'<img src="'+t+'" />':"<img />")+'</a></div></div><h4><a href="'+s.products[e].url+'" name="&lid=tab_headline_'+s.products[e].sku+'">'+s.products[e].name.replace("<","").replace(">","")+"</a></h4><dl>",l.modelNumbers&&void 0!=s.products[e].modelNumber&&(n=n+"<dt><strong>Model</strong>: </dt><dd>"+s.products[e].modelNumber+"</dd>"),n=n+"<dt><strong>SKU</strong>: </dt><dd>"+s.products[e].sku+"</dd></dl>",null!=s.products[e].customerReviewAverage?(a=""+s.products[e].customerReviewAverage.toFixed(1),a=a.replace(".","_"),n+='<img src="http://images.bestbuy.com/BestBuy_US/images/global/misc/ratings_star_'+a+'.gif" />'):n+='<div class="tab-reviews"><img src="http://images.bestbuy.com/BestBuy_US/images/global/misc/ratings_star_0_0.gif" /> <a href="'+s.products[e].url+'" name="&lid=tab_reviews_'+s.products[e].sku+'">Write a review</a></div>',n+="<p>",n+=s.products[e].advertisedPriceRestriction?"":null!=s.products[e].planPrice?"<strong>Price: $"+s.products[e].planPrice.toFixed(2)+"*</strong>":s.products[e].onSale?"<strong>Sale: $"+s.products[e].salePrice.toFixed(2)+"</strong>":"Price: $"+s.products[e].regularPrice.toFixed(2),n+="</p></li>"}),n+='<div class="clearer"></div></ul>',null!=l.products[r].disclaimer&&o.find(".tab"+r+" .tab-scroll").after("<small>* "+l.products[r].disclaimer+"</small>"),o.find(".tab"+r+" .tab-loading").css("display","none"),void 0==l.products[r].shop?void 0==l.products[r].store?o.find(".tab"+r+" .tab-scroll").before('<p class="tab-see"><a href="http://www.bestbuy.com/site/olstemplatemapper.jsp?id=pcat17071&type=page&ks=960&st=%2F&sc=Global&cp=1&sp=&qp=crootcategoryid%23%23-1%23%23-1~~q2f~~nc'+l.products[r].id+'%23%237%23%231hi&list=y&usc=All+Categories&nrp=15&iht=n">Shop all '+l.products[r].name.replace("<","").replace(">","")+' &#8250;</a></p><div class="clearer"></div>'):o.find(".tab"+r+" .tab-scroll").before('<p class="tab-see"><a href="'+l.products[r].store+'">Shop all '+l.products[r].name.replace("<","").replace(">","")+' &#8250;</a></p><div class="clearer"></div>'):o.find(".tab"+r+" .tab-scroll").before('<p class="tab-see"><a href="'+l.products[r].shop+'">Shop all '+l.products[r].name.replace("<","").replace(">","")+' &#8250;</a></p><div class="clearer"></div>'),o.find(".tab"+r+" .tab-scroll").html(n+'<div class="clearer"></div>'),l.carousel&&(a(r),c=!0),l.tabs&&!d?(t(),d=!0):l.tabs||d||(i=l.header.html()+" ",e.each(l.products,function(e){3==l.products.length?(1==e&&(i+=", "),2==e&&(i+=", and ")):2==l.products.length&&1==e&&(i+=" and "),i+=l.products[e].name.replace("<","").replace(">","")}),l.header.html(i),d=!0)},error:function(e){try{console.log("Something went wrong: "+e)}catch(a){}}})}function i(){if(4>=l.products.length){var a="";e.each(l.products,function(e){a+='<div class="tab'+e+'"><h3 class="tab">'+l.products[e].name.replace("<","").replace(">","")+'</h3><div class="tab-content"><div class="tab-scroll"></div></div></div>'}),o.html(a),l.netkernal||!l.tabs?e.each(l.products,function(e){s(e)}):s(0)}else try{console.log("Best Selling Error: Too many tabs defined")}catch(t){}}var l=r,o=e(this),n=new Array,d=!1,c=!1;o.addClass("tab-container"),i()})}})})(jQuery);