(function(g,u){var z={val:function(h){return this.val(h)},disabled:function(h){typeof h!=="undefined"&&this.filter("input").each(function(){var d=g(this);if(!h&&j(d))a(d);else h&&!j(d)&&m(d)});return this.is("input:disabled")}},w=null,y=null,v=function(h){h=g.extend({},g.fn.glowColorSelector.defaults,h||{});if(y===null){w=g.telligent.glow.utility;y=p(h)}return this.each(function(){var d=g(this);d.css({backgroundColor:d&&d.val()?w.convertRgbColorToHtmlColor(w.convertHtmlColorToRgbColor(d.val())):"",
textAlign:"center",color:w.getContrastingHtmlColorForRgbColor(w.convertHtmlColorToRgbColor(d&&d.val()?w.convertRgbColorToHtmlColor(w.convertHtmlColorToRgbColor(d.val())):""))});j(d)?m(d):a(d)})},p=function(h){var d={blendImageUrl:h.blendImageUrl,hueBlendImageUrl:h.hueBlendImageUrl,moveStartX:null,moveStartY:null,elementMoveStartX:null,elementMoveStartY:null};h=g("<div></div>").css({width:"290px",padding:"2px",paddingLeft:"6px",borderStyle:"solid",borderWidth:"1px",borderColor:"#000000",backgroundColor:"#eeeeee"});
d.popupPanel=g("<div></div>").glowPopUpPanel({cssClass:"",position:"updown",zIndex:1E3,hideOnDocumentClick:false}).glowPopUpPanel("empty").glowPopUpPanel("append",h);d.selectBoxBackground=g("<div></div>").css({width:"256px",height:"256px",borderWidth:"1px",borderStyle:"solid",borderColor:"#000000",padding:"0px",cssFloat:"left"}).appendTo(h);d.selectBox=g("<div></div>").css({width:"256px",height:"256px",cssFloat:"left",padding:"0px",cursor:"pointer"}).bind("mousedown.glowColorSelector",function(l){d.clickValueSaturationHandler(l);
return false}).appendTo(d.selectBoxBackground);w.isIE()?d.selectBox.css({filter:"progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true,src='"+d.blendImageUrl+"')"}):d.selectBox.css({backgroundImage:"url('"+d.blendImageUrl+"')",backgroundRepeat:"no-repeat",backgroundPosition:"top left"});d.selectBoxCursor=g("<div></div>").css({position:"absolute",borderWidth:"3px",borderStyle:"solid",borderColor:"#666666",height:"7px",width:"7px",zIndex:1E3,left:"0px",top:"0px",marginLeft:"2px",marginTop:"-1px",
cursor:"pointer",filter:"none"}).bind("mousedown.glowColorSelector",function(l){d.cursorMouseDownHandler(l)}).appendTo(d.selectBoxBackground);g("<div></div>").css({position:"absolute",borderWidth:"3px",borderStyle:"solid",borderColor:"#ffffff",height:"1px",width:"1px",overflow:"hidden"}).appendTo(d.selectBoxCursor);d.hueSelectBox=g("<div></div>").css({width:"20px",height:"256px",lineHeight:"256px",boderStyle:"solid",borderWidth:"1px",borderColor:"#666666",marginLeft:"5px",cssFloat:"left",cursor:"default",
backgroundImage:"url('"+d.hueBlendImageUrl+"')"}).appendTo(h);var o=g("<div></div>").css({position:"relative",width:"20px",height:"256px"}).appendTo(d.hueSelectBox);d.hueSelectCursor=g("<div></div>").css({position:"absolute",borderStyle:"solid",borderWidth:"3px",borderColor:"#666666",height:"5px",width:"22px",marginLeft:"-4px",marginTop:"-5px",left:"0px",top:"0px",cursor:"pointer"}).bind("mousedown.glowColorSelector",function(l){d.hueCursorMouseDownHandler(l)}).appendTo(o);g("<div></div>").css({position:"absolute",
borderWidth:"2px",borderStyle:"solid",borderColor:"#ffffff",height:"1px",width:"18px",overflow:"hidden"}).appendTo(d.hueSelectCursor);d.selectedColor=g('<input type="text" />').val("#ffffff").css({clear:"both",width:"279px",textAlign:"center",fontFamily:"Courier New, Courier",fontWeight:"bold",padding:"0px",margin:"4px",marginLeft:"auto",marginRight:"auto"}).bind("keyup.glowColorSelector",function(){d.parseEnteredColor();return true}).bind("change.glowColorSelector",function(){d.updateTemporaryValue(true);
return true}).appendTo(h);d.selectButton=g('<input type="button" />').val("OK").css({width:"92px",padding:"0px",margin:"0px"}).bind("click.glowColorSelector",function(){d.selectTemporaryColor();return false}).appendTo(h);d.clearButton=g('<input type="button" />').val("Clear").css({width:"92px",padding:"0px",margin:"0px",marginLeft:"4px"}).bind("click.glowColorSelector",function(){d.selectNoColor();return false}).appendTo(h);d.cancelButton=g('<input type="button" />').val("Cancel").css({width:"92px",
padding:"0px",margin:"0px",marginLeft:"4px"}).bind("click.glowColorSelector",function(){try{d.currentInput.focus()}catch(l){}d.popupPanel.glowPopUpPanel("hide");return false}).appendTo(h);var f={cursorMouseDownHandler:function(l){d.moveStartX=l.pageX;d.moveStartY=l.pageY;d.elementMoveStartX=parseInt(d.selectBoxCursor.css("left"),10);d.elementMoveStartY=parseInt(d.selectBoxCursor.css("top"),10);g(document).bind("mouseup.glowColorSelector",function(c){f.endMoveTracking(c);return false}).bind("mousemove.glowColorSelector",
function(c){f.cursorMouseMoveHandler(c);return false})},cursorMouseMoveHandler:function(l){var c=l.pageX-d.moveStartX;l=d.elementMoveStartY+(l.pageY-d.moveStartY);if(l<0)l=0;if(l>255)l=255;c=d.elementMoveStartX+c;if(c<0)c=0;if(c>255)c=255;d.selectBoxCursor.css({left:c+"px",top:l+"px"});f.updateTemporaryValue()},hueCursorMouseDownHandler:function(l){d.moveStartX=l.pageX;d.moveStartY=l.pageY;d.elementMoveStartX=parseInt(d.hueSelectCursor.css("left"),10);d.elementMoveStartY=parseInt(d.hueSelectCursor.css("top"),
10);g(document).bind("mouseup.glowColorSelector",function(c){f.endMoveTracking(c);return false}).bind("mousemove.glowColorSelector",function(c){f.hueCursorMouseMoveHandler(c);return false})},hueCursorMouseMoveHandler:function(l){l=d.elementMoveStartY+((typeof l.pageY!="undefined"?l.pageY:l.screenY)-d.moveStartY);if(l<0)l=0;if(l>255)l=255;d.hueSelectCursor.css({top:l+"px"});f.updateTemporaryValue()},endMoveTracking:function(){g(document).unbind("mouseup.glowColorSelector").unbind("mousemove.glowColorSelector")},
clickValueSaturationHandler:function(l){w.getWindowInfo();var c=w.getElementInfo(d.selectBox);d.selectBoxCursor.css({left:l.pageX-c.Left+"px",top:l.pageY-c.Top+"px"});f.updateTemporaryValue();f.cursorMouseDownHandler(l)},updateTemporaryValue:function(l){var c=parseInt(d.selectBoxCursor.css("left"),10),b=(255-parseInt(d.selectBoxCursor.css("top"),10))/255,k=(255-parseInt(d.hueSelectCursor.css("top"),10))*(360/255),q=w.convertHsvColorToRgbColor([k,1,255]);d.selectBoxBackground.css({backgroundColor:w.convertRgbColorToHtmlColor(q)});
q=w.convertHsvColorToRgbColor([k,b,c]);c=w.convertRgbColorToHtmlColor(q);d.selectedColor.css({backgroundColor:c});l||d.selectedColor.val(c);d.selectedColor.css({color:w.getContrastingHtmlColorForRgbColor(q)})},parseEnteredColor:function(){var l=w.convertRgbColorToHsvColor(w.convertHtmlColorToRgbColor(d.selectedColor.val()));d.selectBoxCursor.css({left:l[2]+"px",top:l[1]*-255+255+"px"});d.hueSelectCursor.css({top:l[0]/-(360/255)+255+"px"});f.updateTemporaryValue(true)},showColorSelector:function(l){d.popupPanel.glowPopUpPanel("hide");
d.currentInput=l;d.popupPanel.glowPopUpPanel("show",d.currentInput);l=w.convertRgbColorToHsvColor(w.convertHtmlColorToRgbColor(d.currentInput.val()));d.selectBoxCursor.css({left:l[2]+"px",top:l[1]*-255+255+"px"});d.hueSelectCursor.css({top:l[0]/-(360/255)+255+"px"});d.selectedColor.val(d.currentInput.val());f.updateTemporaryValue(true);u.setTimeout(f.focusColorSelector,99)},focusColorSelector:function(){if(d.popupPanel.glowPopUpPanel("isOpening"))u.setTimeout(f.focusColorSelector,99);else try{d.selectedColor.focus().select()}catch(l){}},
selectTemporaryColor:function(){if(d.currentInput!==null){n(d.currentInput,d.selectedColor.val(),true);try{d.currentInput.focus()}catch(l){}d.popupPanel.glowPopUpPanel("hide")}},selectNoColor:function(){if(d.currentInput!==null){n(d.currentInput,"",true);try{d.currentInput.focus()}catch(l){}d.popupPanel.glowPopUpPanel("hide")}}};g.extend(d,f);return d},n=function(h,d,o){if(h){d=d?w.convertRgbColorToHtmlColor(w.convertHtmlColorToRgbColor(d)):"";var f=h.val()!=d;h.val(d).css({backgroundColor:h.val(),
color:w.getContrastingHtmlColorForRgbColor(w.convertHtmlColorToRgbColor(h.val()))});f&&o&&h.trigger("change")}},m=function(h){h.unbind("click.glowColorSelector").unbind("keydown.glowColorSelector").css({cursor:"default"}).attr("disabled","disabled")},a=function(h){h.bind("click.glowColorSelector",function(){h.blur();y.showColorSelector(h);return false}).bind("keydown.glowColorSelector",function(d){if(d.keyCode!=9&&d.keyCode!=16){h.blur();y.showColorSelector(h);return false}else return true}).css({cursor:"pointer"}).removeAttr("disabled")},
j=function(h){return h.is("input:disabled")};g.fn.glowColorSelector=function(h){if(h in z)return z[h].apply(this,Array.prototype.slice.call(arguments,1));else if(typeof h==="object"||!h)return v.apply(this,arguments);else g.error("Method "+h+" does not exist on jQuery.fn.glowColorSelector")};g.extend(g.fn.glowColorSelector,{defaults:{blendImageUrl:"hue_blend.png",hueBlendImageUrl:"sv_blend.png"}})})(jQuery,window);
(function(g,u){var z={val:function(h){if(h===undefined){var d=g(this).data(w);if(d===null)return null;var o=d.internal.patternedTextBox.glowPatternedTextBox("getPatternValues"),f,l,c;if(d.settings.yearIndex>=0){f=parseInt(o[d.settings.yearIndex],10);if(isNaN(f))return null}else f=(new Date).getFullYear();if(d.settings.dayIndex>=0){c=parseInt(o[d.settings.dayIndex],10);if(isNaN(c))return null}else c=(new Date).getDate();if(d.settings.monthIndex>=0){l=n(d,o[d.settings.monthIndex])-1;if(isNaN(l))return null}else l=
(new Date).getMonth();h=new Date(f,l,c);if(d.settings.hourIndex>=0){f=parseInt(o[d.settings.hourIndex],10);if(isNaN(f))return null;else d.settings.amPmIndex>=0?h.setHours(m(d,f,o[d.settings.amPmIndex])):h.setHours(m(d,f,-1))}if(d.settings.minuteIndex>=0){d=parseInt(o[d.settings.minuteIndex],10);if(isNaN(d))return null;else h.setMinutes(d)}return h}else return this.each(function(){var b=g(this).data(w),k=b.internal.patternedTextBox.glowPatternedTextBox("getPatternValues");if(b.settings.yearIndex>=
0)k[b.settings.yearIndex]=h.getFullYear();if(b.settings.monthIndex>=0){var q=b.settings.monthIndex,e;e=h.getMonth()+1;var r=b.internal.patternedTextBox.glowPatternedTextBox("getPatternValueOption",b.settings.monthIndex,e-1);e=r?r:parseInt(e,10);k[q]=e}if(b.settings.dayIndex>=0)k[b.settings.dayIndex]=h.getDate();if(b.settings.hourIndex>=0){q=b.settings.hourIndex;e=h.getHours();k[q]=b.settings.amPmIndex>-1&&e>12?e-12:e}if(b.settings.minuteIndex>=0)k[b.settings.minuteIndex]=h.getMinutes();if(b.settings.amPmIndex>=
0){q=b.settings.amPmIndex;e=h.getHours();e=b.settings.amPmIndex>-1?e>=12?b.internal.patternedTextBox.glowPatternedTextBox("getPatternValueOption",b.settings.amPmIndex,1):b.internal.patternedTextBox.glowPatternedTextBox("getPatternValueOption",b.settings.amPmIndex,0):"";k[q]=e}b.internal.patternedTextBox.glowPatternedTextBox("setPatternValues",k)})},disabled:function(h){if(h===undefined){var d=this.data(w);if(d)return d.internal.patternedTextBox.glowPatternedTextBox("disabled");return false}else return this.each(function(){var o=
g(this).data(w);o.internal.patternedTextBox.glowPatternedTextBox("disabled",h);if(o.internal.popupButton)h?o.internal.popupButton.attr("disabled","disabled").unbind("click"+y):o.internal.popupButton.removeAttr("disabled").unbind("click"+y).bind("click"+y,function(){var f=z.val.apply(o.internal.state);f||(f=new Date);o.internal.currentDate=f;o.internal.currentMonth=f.getMonth()+1;o.internal.currentYear=f.getFullYear();a(o);o.internal.popupPanel.glowPopUpPanel("show",o.internal.popupButton)})})}},w=
"_glowDateTimeSelector",y=".glowDateTimeSelector",v=function(h){return this.each(function(){var d={settings:g.extend({},g.fn.glowDateTimeSelector.defaults,h||{}),internal:{state:g(this),initialized:false,patternedTextBox:null,popupButton:null,popupPanel:null,currentDate:new Date,currentYear:(new Date).getFullYear(),currentMonth:(new Date).getMonth()+1}};g(this).data(w,d);u.setTimeout(function(){p(d)},9)})},p=function(h){h.internal.patternedTextBox=h.internal.state.glowPatternedTextBox({pattern:h.settings.pattern,
allowBlanks:h.settings.allowBlankValue,blankCharacter:"_",onValidation:function(d,o,f,l){if(!(!h.internal.initialized||h.settings.monthIndex<0||h.settings.dayIndex<0)){d=n(h,o[h.settings.monthIndex]);var c=parseInt(o[h.settings.dayIndex],10),b=-1;if(h.internal.yearIndex>=0)b=parseInt(o[h.settings.yearIndex],10);if(!(isNaN(d)||isNaN(c))){var k=o[h.settings.dayIndex];if(d==2)if(!isNaN(b)&&b>-1&&(b%4===0&&b%100!==0||b%400===0)){if(c>29)k=l==h.settings.dayIndex&&f=="next"?"01":"29"}else{if(c>28)k=l==
h.settings.dayIndex&&f=="next"?"01":"28"}else if((d==4||d==6||d==9||d==11)&&c>30)k=l==h.settings.dayIndex&&f=="next"?"01":"30";o[h.settings.dayIndex]=k}}return o}}).bind("glowPatternedTextBoxChange"+y,function(){h.internal.state.trigger("glowDateTimeSelectorChange")});if(h.settings.showPopup&&h.internal.state){h.internal.popupButton=h.settings.calendarButtonImageUrl?g('<img style="border: 1px solid #ccc; padding: 2px; align: top; margin-left: 2px; background-color: #eee;" />').css({borderTopColor:g.telligent.glow.utility.getCurrentStyleValue(h.internal.state,
"border-top-color","borderTopColor","#999"),borderLeftColor:g.telligent.glow.utility.getCurrentStyleValue(h.internal.state,"border-left-color","borderLeftColor","#999"),borderRightColor:g.telligent.glow.utility.getCurrentStyleValue(h.internal.state,"border-right-color","borderRightColor","#999"),borderBottomColor:g.telligent.glow.utility.getCurrentStyleValue(h.internal.state,"border-bottom-color","borderBottomColor","#999"),backgroundColor:g.telligent.glow.utility.getCurrentStyleValue(h.internal.state,
"background-color","backgroundColor","#fff")}).attr("src",h.settings.calendarButtonImageUrl).insertAfter(h.internal.state):g('<input type="button" />').val(h.settings.calendarButtonText).addClass(h.settings.calendarButtonCssClass).insertAfter(h.internal.state);h.internal.popupPanel=g("<div></div>").insertAfter(h.internal.popupButton).glowPopUpPanel({cssClass:"",position:"updown",zIndex:1E3,hideOnDocumentClick:true})}z.disabled.apply(h.internal.state,[h.internal.patternedTextBox.glowPatternedTextBox("disabled")]);
h.internal.initialized=true},n=function(h,d){if(d===undefined)return parseInt("NaN",10);if(isNaN(parseInt(d,10))){var o=h.internal.patternedTextBox.glowPatternedTextBox("getPatternValueOptionIndex",h.settings.monthIndex,d);if(o!==undefined)return o+1;return parseInt("NaN",10)}else return parseInt(d,10)},m=function(h,d,o){d=parseInt(d,10);if(isNaN(d))return d;if(o!==undefined&&h.settings.amPmIndex>-1){h=h.internal.patternedTextBox.glowPatternedTextBox("getPatternValueOptionIndex",h.settings.amPmIndex,
o);if(h===0){if(d==12)d=0}else if(h===1)if(d!=12)d+=12}return d},a=function(h){if(h.internal.popupPanel){h.internal.popupPanel.glowPopUpPanel("empty");var d=g("<div></div>").css({borderTopWidth:"1px",borderLeftWidth:"1px",borderRightWidth:"1px",borderBottomWidth:"1px",borderTopStyle:"solid",borderLeftStyle:"solid",borderRightStyle:"solid",borderBottomStyle:"solid",borderTopColor:g.telligent.glow.utility.getCurrentStyleValue(h.internal.state,"border-top-color","borderTopColor","#999"),borderLeftColor:g.telligent.glow.utility.getCurrentStyleValue(h.internal.state,
"border-left-color","borderLeftColor","#999"),borderRightColor:g.telligent.glow.utility.getCurrentStyleValue(h.internal.state,"border-right-color","borderRightColor","#999"),borderBottomColor:g.telligent.glow.utility.getCurrentStyleValue(h.internal.state,"border-bottom-color","borderBottomColor","#999"),fontFamily:g.telligent.glow.utility.getCurrentStyleValue(h.internal.state,"font-family","fontFamily","Arial, Helvetica"),backgroundColor:g.telligent.glow.utility.getCurrentStyleValue(h.internal.state,
"background-color","backgroundColor","#fff"),padding:"2px",fontSize:g.telligent.glow.utility.getCurrentStyleValue(h.internal.state,"font-size","fontSize","9pt"),color:g.telligent.glow.utility.getCurrentStyleValue(h.internal.state,"color","color","#000")}),o=g("<table></table>").attr("cellPadding",0).attr("cellSpacing",0).css({borderWidth:"0px"}).appendTo(d);o=g("<tbody></tbody>").appendTo(o);var f=g("<tr></tr>"),l=g("<td></td>").css({textAlign:"center",padding:"2px",cursor:"pointer"}).bind("click"+
y,function(r){if(h.settings.dayIndex>-1){h.internal.currentMonth--;if(h.internal.currentMonth<1){h.internal.currentMonth=12;h.internal.currentYear>0&&h.internal.currentYear--}}else h.internal.currentYear--;a(h);r.stopPropagation();return false}).appendTo(f);g("<div></div>").addClass(h.settings.previousButtonCssClass).html("&lt;").appendTo(l);l=g("<td></td>").css({textAlign:"center",padding:"2px",fontWeight:"bold",fontSize:"90%"}).appendTo(f);h.settings.dayIndex>-1?l.attr("colSpan",5).html(h.settings.monthNames[h.internal.currentMonth-
1]+" "+h.internal.currentYear):l.html(h.internal.currentYear);l=g("<td></td>").css({textAlign:"center",padding:"2px",cursor:"pointer"}).bind("click"+y,function(r){if(h.settings.dayIndex>-1){h.internal.currentMonth++;if(h.internal.currentMonth>12){h.internal.currentMonth=1;h.internal.currentYear<9999&&h.internal.currentYear++}}else h.internal.currentYear++;a(h);r.stopPropagation();return false}).appendTo(f);g("<div></div>").addClass(h.settings.nextButtonCssClass).html("&gt;").appendTo(l);o.append(f);
if(h.settings.dayIndex>-1){f=g("<tr></tr>");for(var c=0;c<h.settings.dayNames.length;c++)l=g("<td></td>").html(h.settings.dayNames[c]).css({textAlign:"center",padding:"2px",fontWeight:"bold",borderBottomWidth:"1px",borderBottomStyle:"solid",fontSize:"90%",width:"14%",borderBottomColor:g.telligent.glow.utility.getCurrentStyleValue(h.internal.state,"border-bottom-color","borderBottomColor","#999")}).appendTo(f);o.append(f);c=new Date(h.internal.currentYear,h.internal.currentMonth-1,1);f=g("<tr></tr>");
for(var b=0,k=5;b<c.getDay();){l=g("<td></td>").html("&nbsp;").css({fontSize:"90%",padding:"2px",textAlign:"center",width:"14%"}).appendTo(f);b++}var q=31;if(h.internal.currentMonth==2)q=!isNaN(h.internal.currentYear)&&h.internal.currentYear>-1&&(h.internal.currentYear%4===0&&h.internal.currentYear%100!==0||h.internal.currentYear%400===0)?29:28;else if(h.internal.currentMonth==4||h.internal.currentMonth==6||h.internal.currentMonth==9||h.internal.currentMonth==11)q=30;var e=-1;if(h.internal.currentMonth==
h.internal.currentDate.getMonth()+1&&h.internal.currentYear==h.internal.currentDate.getFullYear())e=h.internal.currentDate.getDate();for(c=1;c<=q;c++){b++;l=g("<td></td>").html(c).css({textAlign:"center",padding:"2px",fontSize:"90%",cursor:"pointer",width:"14%"}).bind("click"+y,g.telligent.glow.utility.makeBoundFunction(j,null,[h,c])).bind("mouseover"+y,function(r){g(r.target).css({color:g.telligent.glow.utility.getCurrentStyleValue(h.internal.state,"background-color","backgroundColor","#fff"),backgroundColor:g.telligent.glow.utility.getCurrentStyleValue(h.internal.state,
"color","color","#000")})}).bind("mouseout"+y,function(r){g(r.target).css({color:g.telligent.glow.utility.getCurrentStyleValue(h.internal.state,"color","color","#000"),backgroundColor:g.telligent.glow.utility.getCurrentStyleValue(h.internal.state,"background-color","backgroundColor","#fff")})});c==e&&l.css({padding:"1px",borderTopWidth:"1px",borderLeftWidth:"1px",borderRightWidth:"1px",borderBottomWidth:"1px",borderTopStyle:"solid",borderLeftStyle:"solid",borderRightStyle:"solid",borderBottomStyle:"solid",
borderTopColor:g.telligent.glow.utility.getCurrentStyleValue(h.internal.state,"color","color","#000"),borderLeftColor:g.telligent.glow.utility.getCurrentStyleValue(h.internal.state,"color","color","#000"),borderRightColor:g.telligent.glow.utility.getCurrentStyleValue(h.internal.state,"color","color","#000"),borderBottomColor:g.telligent.glow.utility.getCurrentStyleValue(h.internal.state,"color","color","#000")});f.append(l);if(b==7){b=0;o.append(f);f=g("<tr></tr>");k--}}for(;b<7;){l=g("<td></td>").html("&nbsp;").css({fontSize:"90%",
padding:"2px",textAlign:"center",width:"14%"}).appendTo(f);b++}for(o.append(f);k>0;){k--;f=g("<tr></tr>");for(c=0;c<7;c++)l=g("<td></td>").html("&nbsp;").css({fontSize:"90%",padding:"2px",textAlign:"center",width:"14%"}).appendTo(f);o.append(f)}}else{b=-1;if(h.internal.currentYear==h.internal.currentDate.getFullYear())b=h.internal.currentDate.getMonth();for(c=0;c<12;c++){if(c%3==0){f=g("<tr></tr>");o.append(f)}l=g("<td></td>").html(h.settings.monthNames[c]).css({textAlign:"center",padding:"2px",fontSize:"90%",
cursor:"pointer",width:"14%"}).bind("click"+y,g.telligent.glow.utility.makeBoundFunction(j,null,[h,c])).bind("mouseover"+y,function(r){g(r.target).css({color:g.telligent.glow.utility.getCurrentStyleValue(h.internal.state,"background-color","backgroundColor","#fff"),backgroundColor:g.telligent.glow.utility.getCurrentStyleValue(h.internal.state,"color","color","#000")})}).bind("mouseout"+y,function(r){g(r.target).css({color:g.telligent.glow.utility.getCurrentStyleValue(h.internal.state,"color","color",
"#000"),backgroundColor:g.telligent.glow.utility.getCurrentStyleValue(h.internal.state,"background-color","backgroundColor","#fff")})});c==b&&l.css({padding:"1px",borderTopWidth:"1px",borderLeftWidth:"1px",borderRightWidth:"1px",borderBottomWidth:"1px",borderTopStyle:"solid",borderLeftStyle:"solid",borderRightStyle:"solid",borderBottomStyle:"solid",borderTopColor:g.telligent.glow.utility.getCurrentStyleValue(h.internal.state,"color","color","#000"),borderLeftColor:g.telligent.glow.utility.getCurrentStyleValue(h.internal.state,
"color","color","#000"),borderRightColor:g.telligent.glow.utility.getCurrentStyleValue(h.internal.state,"color","color","#000"),borderBottomColor:g.telligent.glow.utility.getCurrentStyleValue(h.internal.state,"color","color","#000")});f.append(l)}}h.internal.popupPanel.glowPopUpPanel("append",d)}},j=function(h,d){if(h){var o=z.val.apply(h.internal.state);if(o===null)o=new Date;o=h.settings.dayIndex>-1?new Date(h.internal.currentYear,h.internal.currentMonth-1,d,o.getHours(),o.getMinutes(),o.getSeconds(),
o.getMilliseconds()):new Date(h.internal.currentYear,d,o.getDate(),o.getHours(),o.getMinutes(),o.getSeconds(),o.getMilliseconds());var f=z.val.apply(h.internal.state);if(!f||f.getTime()!=o.getTime()){z.val.apply(h.internal.state,[o]);h.internal.state.trigger("glowDateTimeSelectorChange")}h.internal.popupPanel.glowPopUpPanel("hide")}};g.fn.glowDateTimeSelector=function(h){if(h in z)return z[h].apply(this,Array.prototype.slice.call(arguments,1));else if(typeof h==="object"||!h)return v.apply(this,arguments);
else g.error("Method "+h+" does not exist on jQuery.fn.glowDateTimeSelector")};g.extend(g.fn.glowDateTimeSelector,{defaults:{pattern:"",yearIndex:-1,monthIndex:-1,dayIndex:-1,hourIndex:-1,minuteIndex:-1,amPmIndex:-1,showPopup:true,allowBlankvalue:true,monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],calendarButtonCssClass:"",previousButtonCssClass:"",nextButtonCssClass:"",calendarButtonText:"Select...",calendarButtonImageUrl:null}})})(jQuery,
window);
(function(g){var u=function(z){var w=z.data("_delayedEnterLeaveContextKey");if(w===null||typeof w==="undefined"){w={enterTimeout:null,leaveTimeout:null};z.data("_delayedEnterLeaveContextKey",w)}return w};g.extend(g.event.special,{glowDelayedMouseEnter:{add:function(z){var w=z.data||500;g(z.selector).live("mouseenter",function(){var y=g(this),v=u(y);v.enterTimeout=setTimeout(function(){y.trigger("glowDelayedMouseEnter");clearTimeout(v.enterTimeout)},w)}).live("mouseleave",function(){var y=u(g(this));
clearTimeout(y.enterTimeout)})}},glowDelayedMouseLeave:{add:function(z){var w=z.data||500;g(z.selector).live("mouseleave",function(){var y=g(this),v=u(y);v.leaveTimeout=setTimeout(function(){y.trigger("glowDelayedMouseLeave");clearTimeout(v.leaveTimeout)},w)}).live("mouseenter",function(){var y=u(g(this));clearTimeout(y.leaveTimeout)})}}})})(jQuery);
(function(g){var u={val:function(a){if(a===undefined){var j=this.data("dropDownList");if(j&&j.internal.state&&j.internal.initialized&&j.internal.state.selectedIndex>=0&&j.internal.state.selectedIndex<j.internal.state.options.length)return j.internal.state.options[j.internal.state.selectedIndex].value;return""}else return this.each(function(){var h=g(this).data("dropDownList");if(h.internal.state&&h.internal.initialized){for(var d=0;d<h.internal.state.options.length;d++)if(h.internal.state.options[d].value==
a){u.selectedIndex.apply(g(h.internal.state),[d]);return}u.selectedIndex.apply(g(h.internal.state),[0])}})},selectedIndex:function(a,j){if(a===undefined){var h=this.data("dropDownList");if(h&&h.internal.state&&h.internal.initialized)return h.internal.state.selectedIndex;return-1}else return this.each(function(){var d=g(this).data("dropDownList");if(d.internal.state&&d.internal.initialized&&a>=0&&a<d.internal.items.length&&a<d.internal.state.options.length){var o=d.internal.state.selectedIndex!=a;
d.internal.state.selectedIndex=a;d.internal.selectedItem.innerHTML=d.settings.showHtmlWhenSelected?d.internal.items[a].html:d.internal.state.options[a].innerHTML;o&&j&&d.internal.state.onchange&&d.internal.state.onchange()}})},getText:function(){var a=this.data("dropDownList");if(a&&a.internal.state&&a.internal.initialized&&a.internal.state.selectedIndex>=0&&a.internal.state.selectedIndex<a.internal.items.length)return a.internal.items[a.internal.state.selectedIndex].html;return""},disabled:function(a){if(a===
undefined){var j=this.data("dropDownList");if(j)return j.internal.state.readonly}else return this.each(function(){var h=g(this).data("dropDownList");if(a){h.internal.button.style.cursor="default";h.internal.button.onclick=null;h.internal.button.style.backgroundImage="none";h.internal.button.style.backgroundColor=h.internal.backgroundColor;h.internal.selectedItem.style.borderColor=h.internal.backgroundColor;h.internal.state.readonly=true}else{h.internal.button.style.cursor="pointer";h.internal.button.onclick=
function(){y(h)};if(h.settings.buttonImageUrl)h.internal.button.style.backgroundImage="url('"+h.settings.buttonImageUrl+"')";h.internal.button.style.backgroundColor="#cccccc";h.internal.selectedItem.style.borderColor="#999999";h.internal.state.readonly=false}})},refresh:function(){return this.each(function(){var a=g(this).data("dropDownList");if(a.internal.initialized){for(var j=u.val.apply(g(a.internal.state),[]);a.internal.state.childNodes.length>0;)a.internal.state.removeChild(a.internal.state.childNodes[0]);
for(;a.internal.itemsContainer.childNodes.length>0;)a.internal.itemsContainer.removeChild(a.internal.itemsContainer.childNodes[0]);for(var h=-1,d=0;d<a.internal.items.length;d++){var o=document.createElement("div");o.onmouseover=g.telligent.glow.utility.makeBoundFunction(p,null,[a,d]);o.onclick=g.telligent.glow.utility.makeBoundFunction(u.selectedIndex,g(a.internal.state),[d,true]);o.style.padding="2px";o.style.cursor="pointer";o.style.borderStyle="dotted";o.style.borderWidth="1px";o.style.borderColor=
a.internal.backgroundColor;o.innerHTML=a.internal.items[d].html;a.internal.itemsContainer.appendChild(o);o=document.createElement("option");o.value=a.internal.items[d].value;o.innerHTML=a.internal.items[d].text;a.internal.state.appendChild(o);if(a.internal.items[d].value==j)h=d}if(h>=0){a.internal.state.selectedIndex=h;a.internal.selectedItem.innerHTML=a.settings.showHtmlWhenSelected?a.internal.items[h].html:a.internal.state.options[h].innerHTML}else{a.internal.selectedItem.innerHTML="&nbsp;";u.selectedIndex.apply(g(a.internal.state),
[0])}a.internal.highlightedItemIndex=-1}})},add:function(a){if(!a)return this;u.remove.apply(this,[a]);var j=true;return this.each(function(){if(j)j=false;else a=a._clone();var h=g(this).data("dropDownList");h.internal.items[h.internal.items.length]=a})},remove:function(a){if(!a)return this;return this.each(function(){for(var j=g(this).data("dropDownList"),h=[],d=false,o=0;o<j.internal.items.length;o++)if(j.internal.items[o].value==a.value)d=true;else h[h.length]=j.internal.items[o];if(d)j.internal.items=
h})},clear:function(){return this.each(function(){g(this).data("dropDownList").internal.items=[]})},insert:function(a,j){if(!a)return this;u.remove.apply(g(context.internal.state),[a]);var h=true;return this.each(function(){if(h)h=false;else a=a._clone();for(var d=g(this).data("dropDownList"),o=[],f=false,l=0;l<d.internal.items.length;l++){if(l==j){f=true;o[o.length]=a}o[o.length]=d.internal.items[l]}f||(o[o.length]=a);d.internal.items=o})},getByIndex:function(a){var j=this.data("dropDownList");if(j&&
a>=0&&a<j.internal.items.length)return j.internal.items[a];return null},count:function(){var a=this.data("dropDownList");if(a)return a.internal.items.length},createItem:function(a){return new m(a)}},z=function(a){return this.each(function(){var j={settings:g.extend({},g.fn.glowDropDownList.defaults,a||{}),internal:{state:this,highlightedItemIndex:-1,button:null,items:null,popupPanel:null,selectedItem:null,backgroundColor:null,itemsContainer:null,initialized:false}};g(this).data("dropDownList",j);
w(j)})},w=function(a){if(a.internal.state.offsetHeight){if(a.internal.state.disabled){a.internal.state.disabled=false;a.internal.state.readonly=true}a.internal.button=document.createElement("span");a.internal.button.style.borderStyle="outset";a.internal.button.style.borderWidth="1px";a.internal.button.style.borderColor="#999999";try{a.internal.button.style.display="inline-table"}catch(j){}try{a.internal.button.style.display="-moz-inline-box"}catch(h){}try{a.internal.button.style.display="inline-block"}catch(d){}a.internal.button.style.paddingRight=
"16px";a.internal.button.style.backgroundRepeat="no-repeat";a.internal.button.style.backgroundPosition="right center";a.internal.button.style.marginLeft=g.telligent.glow.utility.getCurrentStyleValue(a.internal.state,"margin-left","marginLeft","1px;");a.internal.button.style.marginTop=g.telligent.glow.utility.getCurrentStyleValue(a.internal.state,"margin-top","marginTop","1px;");a.internal.button.style.marginRight=g.telligent.glow.utility.getCurrentStyleValue(a.internal.state,"margin-right","marginRight",
"1px;");a.internal.button.style.marginBottom=g.telligent.glow.utility.getCurrentStyleValue(a.internal.state,"margin-bottom","marginBottom","1px;");a.internal.state.parentNode.insertBefore(a.internal.button,a.internal.state);a.internal.backgroundColor=g.telligent.glow.utility.getCurrentStyleValue(a.internal.state,"background-color","backgroundColor","#ffffff");if(a.internal.backgroundColor.replace(/\#[0-9a-f]*/gi,"")!="")a.internal.backgroundColor="#ffffff";a.internal.selectedItem=document.createElement("span");
a.internal.selectedItem.style.backgroundColor=a.internal.backgroundColor;a.internal.selectedItem.style.fontFamily=g.telligent.glow.utility.getCurrentStyleValue(a.internal.state,"font-family","fontFamily","Arial, Helvetica");a.internal.selectedItem.style.fontSize=g.telligent.glow.utility.getCurrentStyleValue(a.internal.state,"font-size","fontSize","100%");a.internal.selectedItem.style.lineHeight=g.telligent.glow.utility.getCurrentStyleValue(a.internal.state,"line-height","lineHeight","100%");a.internal.selectedItem.style.color=
g.telligent.glow.utility.getCurrentStyleValue(a.internal.state,"color","color","#000000");a.internal.selectedItem.style.borderStyle="outset";a.internal.selectedItem.style.borderWidth="0px";a.internal.selectedItem.style.borderRightWidth="1px";a.internal.selectedItem.style.padding="2px";try{a.internal.selectedItem.style.display="inline-table"}catch(o){}try{a.internal.selectedItem.style.display="-moz-inline-box"}catch(f){}try{a.internal.selectedItem.style.display="inline-block"}catch(l){}a.internal.selectedItem.style.width=
a.settings.selectedItemWidth<=23?a.internal.state.offsetWidth-23+"px":a.settings.selectedItemWidth-23+"px";a.internal.selectedItem.style.height=a.settings.selectedItemHeight<=4?a.internal.state.offsetHeight-4+"px":a.settings.selectedItemHeight-4+"px";a.internal.selectedItem.style.overflow="hidden";a.internal.button.appendChild(a.internal.selectedItem);var c=document.createElement("div");a.internal.state.parentNode.insertBefore(c,a.internal.state);a.internal.popupPanel=g(c).glowPopUpPanel({cssClass:"",
position:"updown",zIndex:1E3,hideOnDocumentClick:true});a.internal.popupPanel.glowPopUpPanel("empty");a.internal.itemsContainer=document.createElement("div");a.internal.itemsContainer.style.borderStyle="outset";a.internal.itemsContainer.style.borderWidth="1px";a.internal.itemsContainer.style.borderColor="#999999";a.internal.itemsContainer.style.height=a.settings.itemsHeight<=4?g.telligent.glow.utility.getWindowInfo().Height/4+24+"px":a.settings.itemsHeight-4+"px";a.internal.itemsContainer.style.width=
a.settings.itemsWidth<=4?a.internal.state.offsetWidth-4+"px":a.settings.itemsWidth-4+"px";a.internal.itemsContainer.style.overflow="auto";a.internal.itemsContainer.style.overflowX="hidden";a.internal.itemsContainer.style.padding="1px";a.internal.itemsContainer.style.backgroundColor=a.internal.backgroundColor;a.internal.itemsContainer.style.fontFamily=g.telligent.glow.utility.getCurrentStyleValue(a.internal.state,"font-family","fontFamily","Arial, Helvetica");a.internal.itemsContainer.style.fontSize=
g.telligent.glow.utility.getCurrentStyleValue(a.internal.state,"font-size","fontSize","100%");a.internal.itemsContainer.style.lineHeight=g.telligent.glow.utility.getCurrentStyleValue(a.internal.state,"line-height","lineHeight","100%");a.internal.itemsContainer.style.color=g.telligent.glow.utility.getCurrentStyleValue(a.internal.state,"color","color","#000000");a.internal.popupPanel.glowPopUpPanel("append",a.internal.itemsContainer);a.internal.items=[];for(c=0;c<a.internal.state.options.length;c++)a.internal.items[a.internal.items.length]=
c<a.settings.itemsHtml.length?new m({value:a.internal.state.options[c].value,text:a.internal.state.options[c].text,html:a.settings.itemsHtml[c]}):new m({value:a.internal.state.options[c].value,text:a.internal.state.options[c].text,html:a.internal.state.options[c].text});u.disabled.apply(g(a.internal.state),[a.internal.state.readonly==true]);a.internal.state.style.display="none";a.internal.initialized=true;u.refresh.apply(g(a.internal.state),[])}else window.setTimeout(function(){w(a)},249)},y=function(a){if(a.internal.popupPanel.glowPopUpPanel("isShown"))a.internal.popupPanel.glowPopUpPanel("hide");
else if(g.telligent.glow.utility.isSafari()){a.internal.popupPanel.glowPopUpPanel("show",a.internal.button);a.internal.state.selectedIndex>=0&&n(a,a.internal.state.selectedIndex)}else{a.internal.itemsContainer.style.overflow="hidden";a.internal.popupPanel.glowPopUpPanel("show",a.internal.button);window.setTimeout(function(){v(a)},49)}},v=function(a){if(a.internal.popupPanel.glowPopUpPanel("isOpening"))window.setTimeout(function(){v()},49);else{try{a.internal.itemsContainer.style.overflow="auto";a.internal.itemsContainer.style.overflowX=
"hidden"}catch(j){}a.internal.state.selectedIndex>=0&&n(a,a.internal.state.selectedIndex)}},p=function(a,j){n(a,j)},n=function(a,j){var h=a.internal.itemsContainer.childNodes[j];h.style.backgroundColor="#cccccc";h.style.borderColor="#666666";if(h.offsetTop+h.offsetHeight>a.internal.itemsContainer.scrollTop+a.internal.itemsContainer.offsetHeight)a.internal.itemsContainer.scrollTop=h.offsetTop+h.offsetHeight-a.internal.itemsContainer.offsetHeight;else if(h.offsetTop<a.internal.itemsContainer.scrollTop)a.internal.itemsContainer.scrollTop=
h.offsetTop;if(a.internal.highlightedItemIndex>=0&&a.internal.highlightedItemIndex!=j){h=a.internal.itemsContainer.childNodes[a.internal.highlightedItemIndex];h.style.backgroundColor=a.internal.backgroundColor;h.style.borderColor=a.internal.backgroundColor}a.internal.highlightedItemIndex=j};g.fn.glowDropDownList=function(a){if(a in u)return u[a].apply(this,Array.prototype.slice.call(arguments,1));else if(typeof a==="object"||!a)return z.apply(this,arguments);else g.error("Method "+a+" does not exist on jQuery.fn.glowDropDownList")};
g.extend(g.fn.glowDropDownList,{defaults:{selectedItemWidth:200,selectedItemHeight:32,itemsWidth:200,itemsHeight:300,itemsHtml:[],showHtmlWhenSelected:true,buttonImageUrl:"button.gif"}});var m=function(a){var j={value:"",text:"",html:a.text};a&&g.extend(j,a);this.text=j.text;this.value=j.value;this.html=j.html};m.prototype._clone=function(){return new m({value:this.value,text:this.text,html:this.html})}})(jQuery);
(function(g,u){var z={val:function(){var j=g(this).data(w);return j!==null&&typeof j.file!=="undefined"&&j.file!==null?{name:j.file.name}:null}},w="_glowUpload",y={begun:"glowUploadBegun",complete:"glowUploadComplete",error:"glowUploadError"},v=function(j){return this.each(function(){var h=g(this),d=g.extend({},g.fn.glowUpload.defaults,j||{},{pluploader:null,file:null,fileOffset:0,fileState:"",isUploading:false,currentUploadPercent:0,fileContainer:null});g.extend(d,{container:h,initialized:false});
g(this).data(w,d);d.container.find('input[type="file"]').bind("change",function(){d.container.trigger(y.begun).trigger(y.complete)}).hide();g("<div></div>").css({fontSize:"11px",borderWidth:"1px",borderStyle:"solid",borderColor:"#999",width:d.width,overflow:"auto",overflowX:"hidden",backgroundColor:"#eee",textAlign:"center",padding:".25em"}).append(g('<input type="Button" value="Loading..." />').attr("disabled","disabled").css({borderColor:"Transparent",backgroundColor:"Transparent"})).appendTo(d.container);
p(d)})},p=function(j){for(var h=["1234567890","0987654321","0192837465","5647382910"],d=[],o=0;o<2500;o++)d[d.length]=h[Math.floor(Math.random()*h.length)];var f=(new Date).getTime();jQuery.ajax({type:"POST",url:j.uploadUrl,data:{test:d.join("")},success:function(){var l=(new Date).getTime();n(j,2E5/((l-f)/1E3)*45)},error:function(){n(j,1E6)}})},n=function(j,h){if(/Mozilla[^\(]*\(.*? rv:([0-9]+)\.([0-9]+)\.([0-9]+)/.test(navigator.userAgent))if(parseInt(RegExp.$1,10)<1||parseInt(RegExp.$2,10)<9||
parseInt(RegExp.$3,10)<2)j.runtimes=j.runtimes.replace(/,?flash/i,"");j.file={name:"",id:"preuploaded",fileState:"uploaded"};var d="15mb";if(h<15E6){d=Math.floor(h);if(d<1E6)d=1E6;d=Math.floor(h/1E6)+"mb"}d={runtimes:j.runtimes,max_file_size:j.maxFileSize,container:j.container.attr("id"),url:j.uploadUrl,flash_swf_url:j.swfUrl,silverlight_xap_url:j.silverlightUrl,chunk_size:d,multi_selection:false,drop_element:j.container.attr("id")};if(j.fileFilter!==null)d.filters=j.fileFilter;j.pluploader=new plupload.Uploader(d);
j.pluploader.bind("Init",function(){j.container.children(":not(.plupload)").remove();var o=g("<div></div>").css({fontSize:"11px",borderWidth:"1px",borderStyle:"solid",borderColor:"#999",width:j.width,overflow:"auto",overflowX:"hidden",backgroundColor:"#fff"}).appendTo(j.container),f=g("<table></table>").attr("border",0).attr("cellSpacing",0).attr("cellPadding",0).css({width:"100%"}),l=g("<tbody></tbody>").appendTo(f);l=g("<tr></tr>").appendTo(l);j.fileContainer=g("<td></td>").appendTo(l).css({width:"100%"});
l=g("<td></td>").css({backgroundColor:"#eee",borderLeftWidth:"1px",borderLeftStyle:"solid",borderLeftColor:"#999",padding:".25em"}).attr("vAlign","top").appendTo(l);g('<input type="Button" value="Browse..." id="'+j.container.attr("id")+'_browseButton" />').appendTo(l);o.append(f);m(j);j.pluploader.settings.browse_button=j.container.attr("id")+"_browseButton";j.initialized=true});j.pluploader.bind("FilesAdded",function(o,f){j.addedFiles=f});j.pluploader.bind("QueueChanged",function(){a(j)});j.pluploader.bind("UploadProgress",
function(o,f){if(!(!f||!j.file||f.id!=j.file.id))if(f.status==plupload.UPLOADING){if(!j.isUploading){var l=!j.isUploading;j.isUploading=true;j.currentUploadPercent=0;m(j);l&&j.container.trigger(y.begun)}j.currentUploadPercent=f.percent;m(j)}else if(f.status==plupload.FAILED){j.isUploading=false;j.fileState="error";m(j);j.container.triggerr("glowUploadError")}});j.pluploader.bind("FileUploaded",function(o,f){j.fileState="uploaded";m(j);j.container.trigger(y.complete,{name:f.name})});j.pluploader.bind("Error",
function(o,f){j.initialized||j.container.find('input[type="file"]').show();if(f.file){j.isUploading=false;j.fileState="error";m(j);j.container.trigger(y.error)}});u.setTimeout(function(){j.pluploader.init()},9)},m=function(j){var h="";if(j.file)h=j.fileState==="uploaded"?j.uploadedFormat.replace("{0}",j.file.name):j.fileState==="error"?j.errorFormat.replace("{0}",j.file.name):j.isUploading?j.uploadingFormat.replace("{0}",j.file.name).replace("{1}",j.currentUploadPercent):j.toUploadFormat.replace("{0}",
j.file.name);j.fileContainer.html(h)},a=function(j){if(j.addedFiles){for(var h=[],d=0;d<j.pluploader.files.length;d++)for(var o=0;o<j.addedFiles.length;o++)if(j.pluploader.files[d].id==j.addedFiles[o].id){h[h.length]=j.addedFiles[o];break}j.addedFiles=null;if(h.length!==0){if(j.file){j.isUploading&&j.pluploader.stop();var f=j.file.id;u.setTimeout(function(){if(j.pluploader&&f!="preuploaded")try{j.pluploader.removeFile(j.pluploader.getFile(f))}catch(l){}},99)}j.file=h[0];j.fileState="";m(j);j.file&&
j.pluploader.start()}}};g.fn.glowUpload=function(j){if(j in z)return z[j].apply(this,Array.prototype.slice.call(arguments,1));else if(typeof j==="object"||!j)return v.apply(this,arguments);else g.error("Method "+j+" does not exist on jQuery.fn.glowUpload")};g.extend(g.fn.glowUpload,{defaults:{fileFilter:null,maxFileSize:"2048mb",width:"350px",uploadUrl:"/",swfUrl:"plupload.flash.swf",silverlightUrl:"",uploadedFormat:'<div style="overflow: hidden; text-overflow: ellipsis; color: #000; padding: .25em;"><div style="float: right; color: #3a3; margin-left: .25em;">Uploaded</div>{0}</div>',
uploadingFormat:'<div style="overflow: hidden; text-overflow: ellipsis; color: #000; padding: .25em;"><div style="float: right; margin-top: .25em; margin-left: .25em; border: solid 1px #999; background-color: #eee; width: 50px; height: .5em;"><div style="background-color: #7e7; width: {1}%; height: .5em;"></div></div>{0}</div>',toUploadFormat:'<div style="overflow: hidden; text-overflow: ellipsis; color: #666; font-style: italic; padding: .25em;">{0}</div>',errorFormat:'<div style="overflow: hidden; text-overflow: ellipsis; color: #000; padding: .25em;"><div style="float: right; color: #f00; margin-left: .25em;">Error</div>{0}</div>',
runtimes:"html5,flash"}})})(jQuery,window);
(function(g){var u={disabled:function(e){if(e===undefined){var r=this.data("lookUpTextBox");if(r)return r.internal.state.readonly}else return this.each(function(){var t=g(this).data("lookUpTextBox");if(e){t.internal.cursor.style.visibility="hidden";t.internal.container.style.cursor="default";t.internal.container.onclick=null;t.internal.state.readonly=true;t.internal.emptyHtmlContainer.style.visibility="hidden"}else{t.internal.cursor.style.visibility="visible";t.internal.container.style.cursor="text";
t.internal.container.onclick=function(s){k(t,s)};t.internal.state.readonly=false;t.internal.emptyHtmlContainer.style.visibility="visible"}m(t)})},updateSuggestions:function(e){return this.each(function(){var r=g(this).data("lookUpTextBox");r.internal.lookUps=[];if(e)for(var t=0;t<e.length;t++)r.internal.lookUps[t]=e[t];r.internal.lookUpsIndex=-1;n(r)})},removeByIndex:function(e){return this.each(function(){var r=g(this).data("lookUpTextBox");if(e>=0&&e<r.internal.selectedLookUps.length){for(var t=
[],s=0;s<r.internal.selectedLookUps.length;s++)if(s!=e)t[t.length]=r.internal.selectedLookUps[s];r.internal.selectedLookUps=t;m(r);q(r)}})},removeByValue:function(e){return this.each(function(){for(var r=g(this).data("lookUpTextBox"),t=[],s=false,x=0;x<r.internal.selectedLookUps.length;x++)if(r.internal.selectedLookUps[x].Value!=e)t[t.length]=r.internal.selectedLookUps[x];else s=true;if(s){r.internal.selectedLookUps=t;m(r);q(r)}})},add:function(e){return this.each(function(){if(e!=null&&e.SelectedHtml){var r=
g(this).data("lookUpTextBox");r.internal.selectedLookUps[r.internal.selectedLookUps.length]=e;m(r);q(r)}})},getByIndex:function(e){var r=this.data("lookUpTextBox");if(r&&e>=0&&e<r.internal.selectedLookUps.length)return r.internal.selectedLookUps[e];return null},count:function(){var e=this.data("lookUpTextBox");return e?e.internal.selectedLookUps.length:0},getCurrentSearchText:function(){var e=this.data("lookUpTextBox");return e?e.internal.lastCursorValue:""},createLookUp:function(e,r,t,s){var x={};
x.Value=e;x.SelectedHtml=r;x.SuggestedHtml=t;x.Selectable=s;return x}},z=function(e){return this.each(function(){var r={settings:g.extend({},g.fn.glowLookUpTextBox.defaults,e||{}),internal:{state:this,cursorContainer:null,cursor:null,cursorText:null,lookUpsContainer:null,lookUpsIndex:null,lookUpsIndex:-1,popupPanel:null,lookUps:[],lastCursorValue:"",selectedLookUps:[],mouseIsOverPopup:false,emptyHtmlContainer:null,cursorHasFocus:false,cursorChangeHandler:null,height:18,backgroundColor:"#ffffff",lineHeight:"100%",
initialized:false}};g(this).data("lookUpTextBox",r);w(r)})},w=function(e){if(e.internal.state.offsetHeight){if(e.internal.state.disabled){e.internal.state.disabled=false;e.internal.state.readonly=true}e.internal.backgroundColor=g.telligent.glow.utility.getCurrentStyleValue(e.internal.state,"background-color","backgroundColor","#ffffff");if(e.internal.backgroundColor.replace(/\#[0-9a-f]*/gi,"")!="")e.internal.backgroundColor="#ffffff";e.internal.height=e.internal.state.offsetHeight-(parseInt(g.telligent.glow.utility.getCurrentStyleValue(e.internal.state,
"padding-top","paddingTop","0px"),10)+parseInt(g.telligent.glow.utility.getCurrentStyleValue(e.internal.state,"padding-bottom","paddingBottom","0px"),10)+parseInt(g.telligent.glow.utility.getCurrentStyleValue(e.internal.state,"border-top-width","borderTopWidth","0px"),10)+parseInt(g.telligent.glow.utility.getCurrentStyleValue(e.internal.state,"border-bottom-width","borderBottomWidth","0px"),10));if(e.internal.height<=0)e.internal.height=18;e.internal.lineHeight=g.telligent.glow.utility.getCurrentStyleValue(e.internal.state,
"line-height","lineHeight","100%");e.internal.container=document.createElement("div");e.internal.container.style.width=e.internal.state.offsetWidth-(parseInt(g.telligent.glow.utility.getCurrentStyleValue(e.internal.state,"padding-left","paddingLeft","0px"),10)+parseInt(g.telligent.glow.utility.getCurrentStyleValue(e.internal.state,"padding-right","paddingRight","0px"),10)+parseInt(g.telligent.glow.utility.getCurrentStyleValue(e.internal.state,"border-left-width","borderLeftWidth","0px"),10)+parseInt(g.telligent.glow.utility.getCurrentStyleValue(e.internal.state,
"border-right-width","borderRightWidth","0px"),10))+"px";e.internal.container.style.backgroundColor=e.internal.backgroundColor;e.internal.container.style.color=g.telligent.glow.utility.getCurrentStyleValue(e.internal.state,"color","color","#000000");e.internal.container.style.borderStyle="solid";e.internal.container.style.borderWidth="1px";e.internal.container.style.borderColor="#999999";e.internal.container.style.padding="2px";e.internal.container.style.display="block";e.internal.container.style.overflow=
"hidden";e.internal.state.parentNode.insertBefore(e.internal.container,e.internal.state);e.internal.cursorContainer=document.createElement("div");e.internal.cursorContainer.style.cssFloat="left";e.internal.cursorContainer.style.styleFloat="left";e.internal.cursorContainer.style.backgroundColor=e.internal.backgroundColor;e.internal.cursorContainer.style.borderWidth="0px";e.internal.cursorContainer.style.padding="1px 5px 5px 5px";e.internal.cursorContainer.style.overflow="hidden";e.internal.cursorContainer.style.width=
"auto";e.internal.cursorContainer.style.minWidth="20px";e.internal.cursorContainer.style.position="relative";e.internal.cursorContainer.style.height=e.internal.height+"px";e.internal.cursorContainer.style.lineHeight=e.internal.lineHeight;e.internal.emptyHtmlContainer=document.createElement("div");e.internal.emptyHtmlContainer.style.position="absolute";e.internal.emptyHtmlContainer.style.top="3px";e.internal.emptyHtmlContainer.style.left="3px";e.internal.emptyHtmlContainer.innerHTML=e.settings.emptyHtml;
e.internal.cursorContainer.appendChild(e.internal.emptyHtmlContainer);e.internal.cursor=document.createElement("input");e.internal.cursor.type="text";e.internal.cursor.style.backgroundColor=e.internal.backgroundColor;e.internal.cursor.style.fontFamily=g.telligent.glow.utility.getCurrentStyleValue(e.internal.state,"font-family","fontFamily","Arial, Helvetica");e.internal.cursor.style.fontSize=g.telligent.glow.utility.getCurrentStyleValue(e.internal.state,"font-size","fontSize","100%");e.internal.cursor.style.lineHeight=
e.internal.lineHeight;e.internal.cursor.style.color=g.telligent.glow.utility.getCurrentStyleValue(e.internal.state,"color","color","#000000");e.internal.cursor.style.borderWidth="0px";e.internal.cursor.style.padding="0px";e.internal.cursor.style.height=e.internal.height+"px";e.internal.cursor.style.width="100%";e.internal.cursor.onkeydown=function(s){return b(e,s)};e.internal.cursor.onkeyup=function(s){return f(e,s)};e.internal.cursor.onchange=function(s){return f(e,s)};e.internal.cursor.onpaste=
function(s){return f(e,s)};e.internal.cursor.onblur=function(s){return c(e,s)};e.internal.cursor.onclick=function(s){return k(e,s)};e.internal.cursor.onfocus=function(s){return l(e,s)};e.internal.cursor.tabIndex=e.internal.state.tabIndex;e.internal.cursorContainer.appendChild(e.internal.cursor);e.internal.container.appendChild(e.internal.cursorContainer);var r=document.createElement("div");r.style.clear="both";e.internal.container.appendChild(r);r=document.createElement("div");e.internal.container.appendChild(r);
e.internal.popupPanel=g(r);e.internal.popupPanel.glowPopUpPanel({cssClass:"",position:"updown",zIndex:1E3,hideOnDocumentClick:true}).bind({glowPopUpPanelHidden:function(){e.internal.mouseIsOverPopup=false},glowPopUpPanelMouseOver:function(){e.internal.mouseIsOverPopup=true},glowPopUpPanelMouseOut:function(){e.internal.mouseIsOverPopup=false}});e.internal.popupPanel.glowPopUpPanel("empty");e.internal.lookUpsContainer=document.createElement("div");e.internal.lookUpsContainer.style.borderStyle="outset";
e.internal.lookUpsContainer.style.borderWidth="1px";e.internal.lookUpsContainer.style.borderColor="#999999";e.internal.lookUpsContainer.style.height=g.telligent.glow.utility.getWindowInfo().Height/4+24+"px";e.internal.lookUpsContainer.style.width=e.internal.state.offsetWidth-4+"px";e.internal.lookUpsContainer.style.overflow="auto";e.internal.lookUpsContainer.style.overflowX="hidden";e.internal.lookUpsContainer.style.padding="1px";e.internal.lookUpsContainer.style.backgroundColor=e.internal.backgroundColor;
e.internal.lookUpsContainer.style.fontFamily=g.telligent.glow.utility.getCurrentStyleValue(e.internal.state,"font-family","fontFamily","Arial, Helvetica");e.internal.lookUpsContainer.style.fontSize=g.telligent.glow.utility.getCurrentStyleValue(e.internal.state,"font-size","fontSize","100%");e.internal.lookUpsContainer.style.lineHeight=g.telligent.glow.utility.getCurrentStyleValue(e.internal.state,"line-height","lineHeight","100%");e.internal.lookUpsContainer.style.color=g.telligent.glow.utility.getCurrentStyleValue(e.internal.state,
"color","color","#000000");e.internal.popupPanel.glowPopUpPanel("append",e.internal.lookUpsContainer);e.internal.state.style.display="none";r=e.internal.state.value.split(e.settings.delimiter);if(r.length==e.settings.selectedLookUpsHtml.length){e.internal.selectedLookUps=[];for(var t=0;t<r.length;t++)e.internal.selectedLookUps[e.internal.selectedLookUps.length]=u.createLookUp(r[t],e.settings.selectedLookUpsHtml[t],e.settings.selectedLookUpsHtml[t],true)}e.internal.initialized=true;n(e);u.disabled.apply(g(e.internal.state),
[e.internal.state.readonly===true])}else window.setTimeout(function(){w(e)},249)},y=function(e){e.internal.lookUpsContainer.style.overflow="hidden";e.internal.lookUpsContainer.style.height="200px";e.internal.popupPanel.glowPopUpPanel("show",e.internal.container,e.internal.popupPanel.glowPopUpPanel("isShown"));window.setTimeout(function(){p(e)},49)},v=function(e){e.internal.popupPanel&&e.internal.popupPanel.glowPopUpPanel("isShown")&&e.internal.popupPanel.glowPopUpPanel("hide")},p=function(e){if(e.internal.popupPanel.glowPopUpPanel("isOpening"))window.setTimeout(function(){p(e)},
49);else{try{e.internal.lookUpsContainer.style.overflow="auto";e.internal.lookUpsContainer.style.overflowX="hidden"}catch(r){}e.internal.state.selectedIndex>=0&&_highlightItem(e,e.internal.state.selectedIndex)}},n=function(e){if(e&&e.internal.initialized){for(;e.internal.lookUpsContainer.childNodes.length>0;)e.internal.lookUpsContainer.removeChild(e.internal.lookUpsContainer.childNodes[0]);if(e.internal.lookUps.length>0){for(var r=e.internal.lookUpsIndex,t=0;t<e.internal.lookUps.length;t++){var s=
document.createElement("div");s.onmouseover=g.telligent.glow.utility.makeBoundFunction(h,null,[e,t]);s.onclick=g.telligent.glow.utility.makeBoundFunction(d,null,[e,t]);s.style.padding="2px";s.style.cursor="pointer";s.style.borderStyle="dotted";s.style.borderWidth="1px";s.style.borderColor=e.internal.backgroundColor;s.innerHTML=e.internal.lookUps[t].SuggestedHtml;e.internal.lookUpsContainer.appendChild(s)}if(r<0||r>=e.internal.lookUps.length)r=0;h(e,r);y(e)}else v(e)}},m=function(e){for(;e.internal.container.childNodes.length>
3;)e.internal.container.removeChild(e.internal.container.childNodes[0]);for(var r=0;r<e.internal.selectedLookUps.length;r++){var t=document.createElement("div");t.style.padding="2px";if(e.settings.maxValues!=1){t.style.cssFloat="left";t.style.styleFloat="left"}var s=document.createElement("div");s.style.borderStyle="solid";s.style.borderColor="#bbbbbb";s.style.backgroundColor="#eeeeee";s.style.borderWidth="1px";s.style.padding="2px";s.style.paddingRight="6px";if(u.disabled.apply(g(e.internal.state)))s.style.paddingLeft=
"6px";s.style.height=e.internal.height+"px";s.style.lineHeight=e.internal.lineHeight;s.style.whiteSpace="nowrap";s.style.cursor="default";s.style.fontFamily=e.internal.cursor.style.fontFamily;s.style.fontSize=e.internal.cursor.style.fontSize;if(!u.disabled.apply(g(e.internal.state)))if(e.settings.deleteImageUrl){var x=document.createElement("img");x.src=e.settings.deleteImageUrl;x.align="top";x.style.padding="4px";x.style.paddingRight="6px";x.style.cursor="pointer";x.onclick=g.telligent.glow.utility.makeBoundFunction(a,
null,[e,r]);s.appendChild(x)}else{x=document.createElement("a");x.href="#";x.onclick=g.telligent.glow.utility.makeBoundFunction(a,null,[e,r]);x.style.textDecoration="none";x.style.color="#f00";x.style.fontWeight="bold";x.style.fontSize="80%";x.style.lineHeight=e.internal.lineHeight;x.style.marginLeft="4px";x.style.marginRight="6px";x.innerHTML="X";s.appendChild(x)}x=document.createElement("span");x.innerHTML=e.internal.selectedLookUps[r].SelectedHtml;x.style.cursor="default";s.appendChild(x);t.appendChild(s);
e.internal.container.insertBefore(t,e.internal.cursorContainer)}if(e.settings.maxValues>0&&e.settings.maxValues==e.internal.selectedLookUps.length){e.internal.container.childNodes[e.internal.container.childNodes.length-2].style.display="none";e.internal.container.childNodes[e.internal.container.childNodes.length-3].style.display="none"}else{e.internal.container.childNodes[e.internal.container.childNodes.length-2].style.display="inline";e.internal.container.childNodes[e.internal.container.childNodes.length-
3].style.display="inline"}},a=function(e,r){u.removeByIndex.apply(g(e.internal.state),[r]);g(e.internal.state).trigger("glowLookUpTextBoxChange");return false},j=function(e,r){if(e.internal.lookUps[r]&&e.internal.lookUps[r].Selectable){if(!e.settings.allowDuplicates)for(var t=0;t<e.internal.selectedLookUps.length;t++)if(e.internal.selectedLookUps[t].Value==e.internal.lookUps[r].Value)return;e.internal.selectedLookUps[e.internal.selectedLookUps.length]=u.createLookUp(e.internal.lookUps[r].Value,e.internal.lookUps[r].SelectedHtml);
e.internal.cursor.value="";v(e);m(e);q(e);try{e.internal.cursor.focus()}catch(s){}g(e.internal.state).trigger("glowLookUpTextBoxChange")}},h=function(e,r){if(e.internal.lookUps[r]&&e.internal.lookUps[r].Selectable){var t=e.internal.lookUpsContainer.childNodes[r];t.style.backgroundColor="#cccccc";t.style.borderColor="#666666";if(t.offsetTop+t.offsetHeight>e.internal.lookUpsContainer.scrollTop+e.internal.lookUpsContainer.offsetHeight)e.internal.lookUpsContainer.scrollTop=t.offsetTop+t.offsetHeight-
e.internal.lookUpsContainer.offsetHeight;else if(t.offsetTop<e.internal.lookUpsContainer.scrollTop)e.internal.lookUpsContainer.scrollTop=t.offsetTop;if(e.internal.lookUpsIndex>=0&&e.internal.lookUpsIndex!=r){t=e.internal.lookUpsContainer.childNodes[e.internal.lookUpsIndex];t.style.backgroundColor=e.internal.backgroundColor;t.style.borderColor=e.internal.backgroundColor}e.internal.lookUpsIndex=r}},d=function(e,r){j(e,r);return false},o=function(e){if(e.internal.lastCursorValue!=e.internal.cursor.value&&
e.internal.cursor.value.length>0)f(e);else e.internal.cursorChangeHandler=window.setTimeout(function(){o(e)},149)},f=function(e,r){if(!r)r=window.event;if(e.internal.lastCursorValue!=e.internal.cursor.value){e.internal.cursorChangeHandler&&window.clearTimeout(e.internal.cursorChangeHandler);if(e.settings.maxValues>0&&e.internal.selectedLookUps.length>=e.settings.maxValues){window.setTimeout(function(){e.internal.cursor.value=""},19);return false}e.internal.lastCursorValue=e.internal.cursor.value;
if(e.internal.lastCursorValue!="")e.settings.onGetLookUps&&e.settings.onGetLookUps(g(e.internal.state),e.internal.lastCursorValue);else v(e)}return true},l=function(e){e.internal.emptyHtmlContainer.style.display="none";e.internal.cursorHasFocus=true;e.internal.cursorChangeHandler=window.setTimeout(function(){o(e)},149)},c=function(e){e.internal.cursorChangeHandler&&clearTimeout(e.internal.cursorChangeHandler);e.internal.cursorHasFocus=false;window.setTimeout(function(){e.internal.cursor.value="";
e.internal.lastCursorValue="";e.internal.mouseIsOverPopup||v(e);if(e.internal.selectedLookUps.length==0&&!e.internal.cursorHasFocus)e.internal.emptyHtmlContainer.style.display="block"},99)},b=function(e,r){if(!r)r=window.event;if(r.keyCode==8){if(e.internal.selectedLookUps.length>0&&g.telligent.glow.utility.getCurrentCursorIndex(e.internal.cursor)==0){u.removeByIndex.apply(g(e.internal.state),[e.internal.selectedLookUps.length-1]);g(e.internal.state).trigger("glowLookUpTextBoxChange")}return true}else if(r.keyCode==
38||r.keyCode==40||r.keyCode==13){if(r.keyCode==38)e.internal.popupPanel.glowPopUpPanel("isShown")&&e.internal.lookUpsIndex>0&&h(e,e.internal.lookUpsIndex-1);else if(r.keyCode==40)e.internal.popupPanel.glowPopUpPanel("isShown")&&e.internal.lookUpsIndex<e.internal.lookUps.length-1&&h(e,e.internal.lookUpsIndex+1);else if(r.keyCode==13)if(e.internal.popupPanel.glowPopUpPanel("isShown")&&e.internal.lookUpsIndex>=0)j(e,e.internal.lookUpsIndex);else{e.internal.cursor.value="";e.internal.lastCursorValue=
""}r.cancelBubble=true;r.preventDefault&&r.preventDefault();r.stopProgagation&&r.stopPropagation();return false}else if(r.keyCode==9)if(e.internal.popupPanel.glowPopUpPanel("isShown")&&e.internal.lookUpsIndex>=0)j(e,e.internal.lookUpsIndex);else{e.internal.cursor.value="";e.internal.lastCursorValue=""}else if(e.settings.maxValues>0&&e.internal.selectedLookUps.length>=e.settings.maxValues){r.cancelBubble=true;r.preventDefault&&r.preventDefault();r.stopProgagation&&r.stopPropagation();return false}return true},
k=function(e){e.internal.emptyHtmlContainer.style.display="none";try{e.internal.cursor.focus()}catch(r){}return false},q=function(e){for(var r=[],t=0;t<e.internal.selectedLookUps.length;t++)r[r.length]=e.internal.selectedLookUps[t].Value;e.internal.state.value=r.join(e.settings.delimiter)};g.fn.glowLookUpTextBox=function(e){if(e in u)return u[e].apply(this,Array.prototype.slice.call(arguments,1));else if(typeof e==="object"||!e)return z.apply(this,arguments);else g.error("Method "+e+" does not exist on jQuery.fn.glowLookUpTextBox")};
g.extend(g.fn.glowLookUptextBox,{defaults:{delimiter:",",allowDuplicates:false,maxValues:0,onGetLookUps:null,emptyHtml:"",selectedLookUpsHtml:[],deleteImageUrl:""}})})(jQuery);
(function(g,u){var z=function(m,a){var j=g.extend({},g.glowModal.defaults,a||{},{url:m});if(!j.openerWindow)j.openerWindow=u;var h=v(j.openerWindow);if(h)h.$.glowModal(m,j);else{h=null;for(var d=0;d<w.length;d++)if(!w[d].shown()){h=w[d];break}if(!h){w[w.length]=new n("telligent_modal_"+w.length);h=w[w.length-1]}h.open(j)}};g.extend(z,{defaults:{width:300,height:300,onClose:null,x:null,y:null,ignoreCloseAndAnimation:null,isManuallyresized:null,loadingHtmlUrl:"",windowCssClasses:[],windowTitleCssClasses:[],
windowCloseCssClasses:[],windowContentCssClasses:[],windowMaskCssClasses:[],windowFooterCssClasses:[],windowResizeCssClasses:[],zIndex:1E3,enableAnimation:false,enableAutoResizing:true,openInParentModal:true},close:function(m,a){a||(a=u);var j=v(a);if(j)j.$.glowModal.close(m,a);else(j=p(a))&&j.close(m)},moveTo:function(m,a,j){j||(j=u);var h=v(j);if(h)h.$.glowModal.moveTo(m,a,j);else(j=p(j))&&j.moveTo(m,a)},resize:function(m,a,j,h){h||(h=u);var d=v(h);if(d)d.$.glowModal.resize(m,a,j,h);else(h=p(h))&&
h.resize(m,a,j)},refresh:function(m){m||(m=u);var a=v(m);a?a.$.glowModal.refresh(m):g.each(w,function(j,h){h.refresh()})},opener:function(m,a){a||(a=u);var j=v(a);if(j)return j.$.glowModal.getWindowopener(m,a);j=y(w,function(h){return h.shown()&&h._modalIframe.contentWindow==m});return j!==null?j._openerWindow:null},visible:function(m){m||(m=u);var a=v(m);if(a)return a.$.glowModal.shown(m);return(m=p(m))?m.shown():false}});g.extend({glowModal:z});var w=[],y=function(m,a){var j=g.grep(m,a);return j!==
null&&j.length>0?j[0]:null},v=function(){if(z.defaults.openInParentModal)try{if(u.parent&&u.parent!=u&&parent.$&&parent.$.glowModal)return u.parent}catch(m){}return null},p=function(m){return y(w,function(a){return a.shown()&&a._openerWindow==m})},n=function(m){this._id=m;this._initialized=this._isShown=false;this._animationHandle=this._modalContent=this._modalFooter=this._modalResize=this._modalIframe=this._modalMask=this._modalAnimationMask=this._modalClose=this._modalTitle=this._modal=null;this._isOpening=
false;this._lastWindowInfo=this._lastModalInfo=this._checkForScrollresizeHandle=null;this._isDragging=false;this._resizeModalInfo=this._moveModalInfo=null;this._isResizing=false};g.extend(n.prototype,{_animate:function(m,a,j,h){this._animationHandle&&u.clearTimeout(this._animationHandle);if(this._isOpening){var d=parseInt(this._modal.style.top,10);if(j<0&&d<m||j>0&&d>m||Math.abs(j)<1){this._modal.style.top=m+"px";this._modalAnimationMask.style.overflow="visible";this._animationHandle=null;if(!this._isResizing&&
!this._isDragging)this._modalIframe.style.visibility="visible";this._isOpening=false;this._lastWindowInfo=g.telligent.glow.utility.getWindowInfo();var o=this;this._checkForScrollresizeHandle=u.setTimeout(function(){o._checkForScrollresize()},249)}else{this._modal.style.top=a+"px";a+=j;if(j>0&&a>m)a=m;else if(j<0&&a<m)a=m;j*=h;o=this;this._animationHandle=u.setTimeout(function(){o._animate(m,a,j,h)},19)}}},_startDrag:function(m){this._initialized||this._initialize();if(!m)m=u.event;this._moveModalInfo=
{};this._moveModalInfo.StartMouseX=m.pageX?m.pageX:m.screenX;this._moveModalInfo.StartMouseY=m.pageY?m.pageY:m.screenY;this._moveModalInfo.StartModalX=this._lastModalInfo.X;this._moveModalInfo.StartModalY=this._lastModalInfo.Y;this._moveModalInfo.Button=m.button;var a=this;g(document).bind("mouseup.glowModal",function(j){a._endDrag(j);return false}).bind("mousemove.glowModal",function(j){a._drag(j);return false});this._isDragging=true;this._modalIframe.style.visibility="hidden"},_endDrag:function(){this._initialized||
this._initialize();g(document).unbind("mouseup.glowModal").unbind("mousemove.glowModal");this._modalIframe.style.visibility="visible";this._isDragging=false;this._moveModalInfo=null},_drag:function(m){this._initialized||this._initialize();if(!m)m=u.event;m.button!=this._moveModalInfo.Button?this._endDrag(m):this.moveTo(this._moveModalInfo.StartModalX+((typeof m.pageX!="undefined"?m.pageX:m.screenX)-this._moveModalInfo.StartMouseX),this._moveModalInfo.StartModalY+((typeof m.pageY!="undefined"?m.pageY:
m.screenY)-this._moveModalInfo.StartMouseY))},_startresize:function(m){this._initialized||this._initialize();if(!m)m=u.event;this._resizeModalInfo={};this._resizeModalInfo.StartMouseX=m.pageX?m.pageX:m.screenX;this._resizeModalInfo.StartMouseY=m.pageY?m.pageY:m.screenY;this._resizeModalInfo.StartModalWidth=this._lastModalInfo.Width;this._resizeModalInfo.StartModalHeight=this._lastModalInfo.Height;this._resizeModalInfo.Button=m.button;var a=this;g(document).bind("mouseup.glowModal",function(j){a._endresize(j);
return false}).bind("mousemove.glowModal",function(j){a._resize(j);return false});this._modalIframe.style.visibility="hidden";this._isResizing=true},_endresize:function(){this._initialized||this._initialize();this._isResizing=false;this._resizeModalInfo=null;g(document).unbind("mouseup.glowModal").unbind("mousemove.glowModal");this._modalIframe.style.visibility="visible"},_resize:function(m){this._initialized||this._initialize();if(!m)m=u.event;m.button!=this._resizeModalInfo.Button?this._endresize(m):
this.resize(this._resizeModalInfo.StartModalWidth+((typeof m.pageX!="undefined"?m.pageX:m.screenX)-this._resizeModalInfo.StartMouseX),this._resizeModalInfo.StartModalHeight+((typeof m.pageY!="undefined"?m.pageY:m.screenY)-this._resizeModalInfo.StartMouseY),true)},_checkForScrollresize:function(){this._checkForScrollresizeHandle&&u.clearTimeout(this._checkForScrollresizeHandle);if(this._isShown&&!this._isOpening&&this._lastWindowInfo){try{if(document.all)this._modalTitle.childNodes[1].innerText=this._modalIframe.contentWindow.document.title;
else this._modalTitle.childNodes[1].textContent=this._modalIframe.contentWindow.document.title}catch(m){}var a=g.telligent.glow.utility.getWindowInfo();if(a.ScrollX!=this._lastWindowInfo.ScrollX||a.ScrollY!=this._lastWindowInfo.ScrollY||a.Width!=this._lastWindowInfo.Width||a.Height!=this._lastWindowInfo.Height)this.resize(this._lastModalInfo.Width,this._lastModalInfo.Height,false);else{if(this._settings.enableAutoResizing&&!this._isDragging&&!this._isResizing)try{var j=this._modalIframe.contentWindow.document;
if(!j.readyState||j.readyState=="complete"){var h=g.telligent.glow.utility.getWindowInfo(this._modalIframe.contentWindow),d=h.ContentHeight,o=h.ContentWidth,f=g.telligent.glow.utility.getStyleOffset(this._modalContent),l=this._modal.offsetHeight-this._modalContent.offsetHeight-f.Height,c=this._modal.offsetWidth-this._modalContent.offsetWidth-f.Width;if(d>a.Height-l)d=a.Height-l;if(o>a.Width-c)o=a.Width-c;var b=d!=this._lastModalInfo.Height&&(d>this._lastModalInfo.Height||this._lastModalInfo.Height-
d>64&&d>32)&&(!this._lastModalInfo.IsManuallyresized||d>this._lastModalInfo.Height),k=o!=this._lastModalInfo.Width&&(o>this._lastModalInfo.Width||this._lastModalInfo.Width-o>64&&o>32)&&(!this._lastModalInfo.IsManuallyresized||o>this._lastModalInfo.Width);if(b||k){this.resize(k?o:this._lastModalInfo.Width,b?d:this._lastModalInfo.Height,false);return}}}catch(q){}var e=this;this._checkForScrollresizeHandle=u.setTimeout(function(){e._checkForScrollresize()},249)}}},_initialize:function(){this._modalMask=
document.createElement("div");this._modalMask.style.height="0";this._modalMask.style.position="absolute";this._modalMask.style.visibility="hidden";this._modalMask.style.overflow="hidden";var m=this._modalMask;if(this._settings.windowMaskCssClasses.length>0){m.className=this._settings.windowMaskCssClasses[0];for(var a=1;a<this._settings.windowMaskCssClasses.length;a++){m.appendChild(document.createElement("div"));m=m.childNodes[0];m.className=this._settings.windowMaskCssClasses[a];m.style.width="auto";
m.style.height="auto"}}document.body.appendChild(this._modalMask);this._modalAnimationMask=document.createElement("div");this._modalAnimationMask.style.position="absolute";this._modalAnimationMask.style.visibility="hidden";this._modalAnimationMask.style.overflow="hidden";this._modalAnimationMask.style.height="0";this._modal=document.createElement("div");this._modal.style.width="auto";this._modal.style.height="auto";this._modal.style.position="absolute";this._modal.style.visibility="hidden";m=this._modal;
if(this._settings.windowCssClasses.length>0){m.className=this._settings.windowCssClasses[0];for(a=1;a<this._settings.windowCssClasses.length;a++){m.appendChild(document.createElement("div"));m=m.childNodes[0];m.className=this._settings.windowCssClasses[a];m.style.width="auto";m.style.height="auto"}}this._modalTitle=document.createElement("div");m.appendChild(this._modalTitle);if(this._settings.windowTitleCssClasses.length>0){this._modalTitle.className=this._settings.windowTitleCssClasses[0];for(a=
1;a<this._settings.windowTitleCssClasses.length;a++){this._modalTitle.appendChild(document.createElement("div"));this._modalTitle=this._modalTitle.childNodes[0];this._modalTitle.className=this._settings.windowTitleCssClasses[a]}}var j=this;g(this._modalTitle).bind("mousedown.glowModal",function(d){j._startDrag(d);return false});this._modalClose=document.createElement("div");this._modalTitle.appendChild(this._modalClose);var h=this._modalClose;if(this._settings.windowCloseCssClasses.length>0){h.className=
this._settings.windowCloseCssClasses[0];for(a=1;a<this._settings.windowCloseCssClasses.length;a++){h.appendChild(document.createElement("div"));h=h.childNodes[0];h.className=this._settings.windowCloseCssClasses[a]}}j=this;g(this._modalClose).bind("click.glowModal",function(){j.close();return false});this._modalTitle.appendChild(document.createElement("span"));a=document.createElement("div");a.style.clear="both";this._modalTitle.appendChild(a);this._modalContent=document.createElement("div");m.appendChild(this._modalContent);
if(this._settings.windowContentCssClasses.length>0){this._modalContent.className=this._settings.windowContentCssClasses[0];for(a=1;a<this._settings.windowContentCssClasses.length;a++){this._modalContent.appendChild(document.createElement("div"));this._modalContent=this._modalContent.childNodes[0];this._modalContent.className=this._settings.windowContentCssClasses[a]}}this._modalIframe=document.createElement("iframe");this._modalIframe.src=this._settings.loadingHtmlUrl;this._modalIframe.width="100%";
this._modalIframe.border="0";this._modalIframe.frameBorder="0";this._modalIframe.style.borderLeftWidth="0px";this._modalIframe.style.borderRightWidth="0px";this._modalIframe.style.borderTopWidth="0px";this._modalIframe.style.borderBottomWidth="0px";this._modalIframe.id=this._id+"_iframe";this._modalContent.appendChild(this._modalIframe);this._modalFooter=document.createElement("div");m.appendChild(this._modalFooter);m=this._modalFooter;if(this._settings.windowFooterCssClasses.length>0){m.className=
this._settings.windowFooterCssClasses[0];for(a=1;a<this._settings.windowFooterCssClasses.length;a++){m.appendChild(document.createElement("div"));m=m.childNodes[0];m.className=this._settings.windowFooterCssClasses[a]}}this._modalResize=document.createElement("div");m.appendChild(this._modalResize);a=document.createElement("div");a.style.clear="both";m.appendChild(a);m=this._modalResize;if(this._settings.windowResizeCssClasses.length>0){m.className=this._settings.windowResizeCssClasses[0];for(a=1;a<
this._settings.windowResizeCssClasses.length;a++){m.appendChild(document.createElement("div"));m=m.childNodes[0];m.className=this._settings.windowResizeCssClasses[a]}}j=this;g(this._modalResize).bind("mousedown.glowModal",function(d){j._startresize(d);return false});this._modalAnimationMask.appendChild(this._modal);document.body.appendChild(this._modalAnimationMask);this._initialized=true},shown:function(){return this._isShown},resize:function(m,a,j){if(this._isShown&&!this._isOpening&&this._lastModalInfo)this.open({url:null,
width:m,height:a,onClose:this._lastModalInfo.onClose,x:this._lastModalInfo.X,y:this._lastModalInfo.Y,ignorecloseAndAnimation:true,isManuallyresized:j?true:this._lastModalInfo.IsManuallyresized})},moveTo:function(m,a){this._isShown&&!this._isOpening&&this._lastModalInfo&&this.open({url:null,width:this._lastModalInfo.Width,height:this._lastModalInfo.Height,onClose:this._lastModalInfo.onClose,x:m,y:a,ignorecloseAndAnimation:true,isManuallyresized:this._lastModalInfo.IsManuallyresized})},open:function(m){this._settings=
g.extend({},g.glowModal.defaults,m);m=this._settings.onClose;var a=this._settings.x,j=this._settings.y,h=this._settings.ignorecloseAndAnimation,d=this._settings.isManuallyresized,o=this._settings.openerWindow;if(o)this._openerWindow=o;!h&&this._isShown&&this.close();this._initialized||this._initialize();try{if(document.all)this._modalTitle.childNodes[1].innerText=this._modalIframe.contentWindow.document.title;else this._modalTitle.childNodes[1].textContent=this._modalIframe.contentWindow.document.title}catch(f){}if(!h)this._modalIframe.src=
this._settings.url;try{this._modalIframe.contentWindow.opener=u}catch(l){}this._lastWindowInfo=g.telligent.glow.utility.getWindowInfo();if(!h){this._modalAnimationMask.style.position="absolute";this._modalAnimationMask.style.zIndex=this._settings.zIndex;this._modalAnimationMask.style.visibility="hidden";this._modalAnimationMask.style.height="auto";this._modalAnimationMask.style.overflow="hidden";this._modal.style.position="absolute";this._modal.style.visibility="hidden";this._modal.style.left="0px";
this._modal.style.top="0px";this._modalMask.style.position="absolute";this._modalMask.style.visibility="visible";this._modalMask.style.zIndex=this._settings.zIndex;this._modalMask.style.height="auto"}var c=g.telligent.glow.utility.getStyleOffset(this._modalContent);o=this._modal.offsetWidth-this._modalContent.offsetWidth-c.Width;c=this._modal.offsetHeight-this._modalContent.offsetHeight-c.Height;if(this._settings.width+o>this._lastWindowInfo.Width)this._settings.width=this._lastWindowInfo.Width-o;
this._modalAnimationMask.style.width=this._settings.width+"px";this._modalContent.style.width=this._settings.width+"px";if(this._settings.height+c>this._lastWindowInfo.Height)this._settings.height=this._lastWindowInfo.Height-c;if(this._settings.width<this._modalResize.offsetWidth*2)this._settings.width=this._modalResize.offsetWidth*2;if(this._settings.width<this._modalClose.offsetWidth*2)this._settings.width=this._modalClose.offsetWidth*2;if(this._settings.height<this._modalTitle.offsetHeight+this._modalFooter.offsetHeight)this._settings.height=
this._modalTitle.offsetHeight+this._modalFooter.offsetHeight-c;this._modalIframe.style.height=this._settings.height+"px";this._modalIframe.style.width=this._settings.width+"px";this._modalContent.style.height=this._settings.height+"px";this._modalContent.style.width=this._settings.width+"px";this._modalAnimationMask.style.width=this._modal.offsetWidth+"px";this._modalAnimationMask.style.height=this._modal.offsetHeight+"px";this._modalMask.style.left="0px";this._modalMask.style.top="0px";this._modalMask.style.width=
this._lastWindowInfo.ContentWidth+"px";this._modalMask.style.height=this._lastWindowInfo.ContentHeight+"px";this._lastWindowInfo=g.telligent.glow.utility.getWindowInfo();o=this._modal.offsetWidth;c=this._modal.offsetHeight;if(typeof a=="undefined"||isNaN(parseInt(a,10)))a=(this._lastWindowInfo.Width-o)/2+this._lastWindowInfo.ScrollX;if(a+o>this._lastWindowInfo.Width+this._lastWindowInfo.ScrollX)a=this._lastWindowInfo.Width+this._lastWindowInfo.ScrollX-o;if(a<this._lastWindowInfo.ScrollX)a=this._lastWindowInfo.ScrollX;
if(typeof j=="undefined"||isNaN(parseInt(j,10)))j=(this._lastWindowInfo.Height-c)/2+this._lastWindowInfo.ScrollY;if(j+c>this._lastWindowInfo.Height+this._lastWindowInfo.ScrollY)j=this._lastWindowInfo.Height+this._lastWindowInfo.ScrollY-c;if(j<this._lastWindowInfo.ScrollY)j=this._lastWindowInfo.ScrollY;this._modalAnimationMask.style.left=a+"px";this._modalAnimationMask.style.top=j+"px";this._modalAnimationMask.style.overflow="hidden";if(!h){this._modal.style.visibility="visible";this._modalAnimationMask.style.visibility=
"visible";g.telligent.glow.utility.hideSelectBoxes(this._modalAnimationMask,true)}this._isOpening=true;if(!this.EnableAnimation||h)this._animate(0,0,0,0);else{this._modalIframe.style.visibility="hidden";this._animate(0,-c,c/3,0.67)}this._lastModalInfo={Url:this._modalIframe.src,onClose:m,X:a,Y:j,Width:parseInt(this._settings.width,10),Height:parseInt(this._settings.height,10),IsManuallyresized:d};this._isShown=true},close:function(m){if(this._isShown){this._initialized||this._initialize();this._modal.style.position=
"absolute";this._modal.style.visibility="hidden";this._modal.style.height="0";this._modalAnimationMask.style.position="absolute";this._modalAnimationMask.style.visibility="hidden";this._modalAnimationMask.style.height="0";this._modalMask.style.position="absolute";this._modalMask.style.visibility="hidden";this._modalIframe.src=this._settings.loadingHtmlUrl;var a=this._lastModalInfo.onClose;this._isShown=false;this._globalInfo=this._lastModalInfo=null;g.telligent.glow.utility.showSelectBoxes(this._modalAnimationMask);
a&&u.setTimeout(function(){a(m)},9);this.dispose()}},refresh:function(){this._animationHandle&&u.clearTimeout(this._animationHandle);this.dispose();this._isShown&&this._lastModalInfo&&this.resize(this._lastModalInfo.Width,this._lastModalInfo.Height,false)},dispose:function(){if(this._initialized){this._animationHandle&&u.clearTimeout(this._animationHandle);this._isOpening=this._isShown=false;if(document&&document.body){document.body.removeChild(this._modalAnimationMask);document.body.removeChild(this._modalMask);
g(this._modalClose).unbind("click.glowModal");g(this._modalTitle).unbind("mousedown.glowModal");g(this._modalResize).unbind("mousedown.glowModal");this._modalContent=this._modalFooter=this._modalResize=this._modalIframe=this._modalMask=this._modalAnimationMask=this._modalClose=this._modalTitle=this._modal=null}this._initialized=false}}})})(jQuery,window);
(function(g,u){var z={val:function(){var f=g(this).data(w).files;return f!==null?g.map(f,function(l){return{name:l.name}}):[]}},w="_glowMultiUpload",y={begun:"glowMultiUploadBegun",complete:"glowMultiUploadComplete",error:"glowMultiUploadError"},v=function(f){return this.each(function(){var l=g(this),c=g.extend({},g.fn.glowMultiUpload.defaults,f||{},{pluploader:null,files:[],fileOffset:0,uploadedFiles:{},erroredFiles:{},cancelledFiles:{},isUploading:false,currentUploadPercent:0,fileContainer:null,
currentUploadId:0,listContainer:null,uploadButton:null});g.extend(c,{container:l,initialized:false});g(this).data(w,c);p(c)})},p=function(f){for(var l=["1234567890","0987654321","0192837465","5647382910"],c=[],b=0;b<2500;b++)c[c.length]=l[Math.floor(Math.random()*l.length)];var k=(new Date).getTime();jQuery.ajax({type:"POST",url:f.uploadUrl,data:{test:c.join("")},success:function(){var q=(new Date).getTime();n(f,f.fileList,2E5/((q-k)/1E3)*45)},error:function(){n(f,f.fileList,1E6)}})},n=function(f,
l,c){if(/Mozilla[^\(]*\(.*? rv:([0-9]+)\.([0-9]+)\.([0-9]+)/.test(navigator.userAgent))if(parseInt(RegExp.$1,10)<1||parseInt(RegExp.$2,10)<9||parseInt(RegExp.$3,10)<2)f.runtimes=f.runtimes.replace(/,?flash/i,"");for(var b=0;b<l.length;b++){var k={name:l[b],id:"preuploaded_"+b,status:plupload.DONE,percent:100,size:"unknown",loaded:"unknown"};f.files[f.files.length]=k;f.uploadedFiles[k.id]=true}f.fileOffset=f.files.length;l="15mb";if(c<15E6){l=Math.floor(c);if(l<1E6)l=1E6;l=Math.floor(c/1E6)+"mb"}c=
{runtimes:f.runtimes,max_file_size:f.maxFileSize,container:f.container.attr("id"),url:f.uploadUrl,flash_swf_url:f.swfUrl,silverlight_xap_url:f.silverlightUrl,chunk_size:l};if(f.fileFilter!==null)c.filters=f.fileFilter;f.pluploader=new plupload.Uploader(c);f.pluploader.bind("Init",function(){h(f)});f.pluploader.bind("StateChanged",function(){if(f.pluploader.state==plupload.STOPPED){if(f.upload)f.upload.disabled=false}else if(f.pluploader.state==plupload.STARTED)if(f.upload)f.upload.disabled=true});
f.pluploader.bind("FilesAdded",function(q,e){f.addedFiles=e});f.pluploader.bind("QueueChanged",function(){m(f)});f.pluploader.bind("UploadProgress",function(q,e){if(e.status==plupload.UPLOADING){if(!f.isUploading||f.currentUploadId!=e.id){var r=!f.isUploading;f.isUploading=true;f.currentUploadId=e.id;f.currentUploadPercent=0;a(f);r&&f.container.trigger(y.begun)}f.currentUploadPercent=e.percent;a(f)}else if(e.status==plupload.FAILED){f.isUploading=false;f.erroredFiles[e.id]=true;f.currentUploadId=
null;a(f);f.container.trigger(y.error)}});f.pluploader.bind("FileUploaded",function(q,e){a:{f.uploadedFiles[e.id]=true;a(f);for(var r=0;r<f.files.length;r++)if(!f.uploadedFiles[f.files[r].id]&&!f.cancelledFiles[f.files[r].id]&&!f.erroredFiles[f.files[r].id])break a;f.isUploading=false;f.currentUploadId=null;a(f);f.uploadButton&&f.uploadButton.attr("disabled","disabled")}});f.pluploader.bind("Error",function(q,e){f.initialized||f.container.find('input[type="file"]').show();if(e.file){f.isUploading=
false;f.erroredFiles[e.file.id]=true;f.currentUploadId=null;a(f);f.container.trigger(y.error)}});f.pluploader.bind("UploadComplete",function(q,e){j(f,e)});u.setTimeout(function(){f.pluploader.init()},9);f.container.find('input[type="file"]').hide()},m=function(f){u.clearTimeout(f.autoUploadHandle);if(f.addedFiles){for(var l=[],c=0;c<f.pluploader.files.length;c++)for(var b=0;b<f.addedFiles.length;b++)if(f.pluploader.files[c].id==f.addedFiles[b].id){l[l.length]=f.addedFiles[b];break}f.addedFiles=null;
for(b=0;b<l.length;b++)for(c=0;c<f.files.length;c++)if(f.files[c].name==l[b].name){o(f,f.files[c].id);if(f.files[c].status==plupload.QUEUED){for(var k=[],q=0;q<f.files.length;q++)if(f.files[q].id!=f.files[c].id)k[k.length]=f.files[q];f.files=k}}if(f.maxFileCount>0&&f.files.length+l.length>f.maxFileCount){for(b=0;b<l.length;b++)o(f,l[b].id);f.container.trigger(y.error)}else{for(b=0;b<l.length;b++)f.files[f.files.length]=l[b];a(f);f.uploadButton&&f.uploadButton.removeAttr("disabled");if(l.length>0&&
f.autoUpload)f.autoUploadHandle=u.setTimeout(function(){d(f)},499)}}},a=function(f){u.clearTimeout(f.fileListRefreshHandle);var l=(new Date).getTime();if(f.lastFileListRefresh>0&&l-f.lastFileListRefresh<1E3)f.fileListRefreshHandle=u.setTimeout(function(){a(f)},1001-(l-f.lastFileListRefresh));else{f.lastFileListRefresh=l;l=[];for(var c=0;c<f.files.length;c++){l[l.length]=f.uploadedFiles[f.files[c].id]?f.uploadedFormat.replace("{0}",f.files[c].name):f.erroredFiles[f.files[c].id]?f.errorFormat.replace("{0}",
f.files[c].name):f.cancelledFiles[f.files[c].id]?f.cancelledFormat.replace("{0}",f.files[c].name):f.currentUploadId==f.files[c].id?f.uploadingFormat.replace("{0}",f.files[c].name).replace("{1}",f.currentUploadPercent):f.toUploadFormat.replace("{0}",f.files[c].name).replace("{1}",f.variableName).replace("{2}",f.files[c].id);if(c===0)l[l.length-1]=l[l.length-1].replace(f.firstItemRemove,"")}f.listContainer.html(l.join(""))}},j=function(f,l){l=g.map(l||[],function(c){return{file:c.name}});f.container.trigger(y.complete,
l)},h=function(f){f.container.children(":not(.plupload)").remove();f.listContainer=g("<div></div>").css({fontSize:"11px",borderWidth:"1px",borderStyle:"solid",borderColor:"#999",borderBottomWidth:"0px",width:f.width,overflow:"auto",overflowX:"hidden",padding:".35em",backgroundColor:"#fff"});f.height&&f.height!="100%"?f.listContainer.css({height:f.height}):f.listContainer.css({minHeight:"50px"});f.container.append(f.listContainer);var l=g("<div></div>").css({fontSize:"11px",borderWidth:"1px",borderStyle:"solid",
borderColor:"#999",width:f.width,padding:".35em",backgroundColor:"#eee",textAlign:"left"});if(f.autoUpload===false)f.uploadButton=g('<input type="button" />').val("Upload").css({cssFloat:"right"}).bind("click",function(){d(f);return false}).attr("disabled","disabled").appendTo(l);var c=g('<input type="button" />').val("Browse...").css({cssFloat:"left"}).attr("id",f.variableName+"_browseButton").appendTo(l);g("<div></div>").css({clear:"both",height:"0px",overflow:"hidden"}).appendTo(l);f.container.append(l);
a(f);f.pluploader.settings.browse_button=c.attr("id");f.pluploader.settings.drop_element=f.container.attr("id");f.initialized=true},d=function(f){f.pluploader&&u.setTimeout(function(){f.pluploader.start()},99)},o=function(f){if(f.pluploader)try{var l=f.pluploader.getFile(file_id);l&&f.pluploader.removeFile(l)}catch(c){}f.cancelledFiles[file_id]=true;a(f)};g.fn.glowMultiUpload=function(f){if(f in z)return z[f].apply(this,Array.prototype.slice.call(arguments,1));else if(typeof f==="object"||!f)return v.apply(this,
arguments);else g.error("Method "+f+" does not exist on jQuery.fn.glowMultiUpload")};g.extend(g.fn.glowMultiUpload,{defaults:{fileFilter:null,maxFileSize:"2048mb",width:"350px",height:"200px",uploadUrl:"/",autoUpload:true,maxFileCount:5,fileList:[],swfUrl:"plupload.flash.swf",silverlightUrl:"",uploadedFormat:'<div style="overflow: hidden; text-overflow: ellipsis; color: #000; border-top: solid 1px #eee; padding-top: .25em; margin-top: .25em;"><div style="float: right; color: #3a3; margin-left: .25em;">Uploaded</div>{0}</div>',
uploadingFormat:'<div style="overflow: hidden; text-overflow: ellipsis; color: #000; border-top: solid 1px #eee; padding-top: .25em; margin-top: .25em;"><div style="float: right; margin-top: .25em; margin-left: .25em; border: solid 1px #999; background-color: #eee; width: 50px; height: .5em;"><div style="background-color: #7e7; width: {1}%; height: .5em;"></div></div>{0}</div>',toUploadFormat:'<div style="overflow: hidden; text-overflow: ellipsis; color: #666; font-style: italic; border-top: solid 1px #eee; padding-top: .25em; margin-top: .25em;"><div style="float: right; margin-left: .25em; font-style: normal;"><a href="#" style="color: #f00;" onclick="window.{1}.CancelFile(\'{2}\'); return false;">Cancel</a></div>{0}</div>',
errorFormat:'<div style="overflow: hidden; text-overflow: ellipsis; color: #000; border-top: solid 1px #eee; padding-top: .25em; margin-top: .25em;"><div style="float: right; color: #f00; margin-left: .25em;">Error</div>{0}</div>',cancelledFormat:'<div style="overflow: hidden; text-overflow: ellipsis; color: #666; font-style: italic; border-top: solid 1px #eee; padding-top: .25em; margin-top: .25em;"><div style="float: right; color: #666; font-style: italic; margin-left: .25em;">Cancelled</div>{0}</div>',
firstItemRemove:"border-top: solid 1px #eee; padding-top: .25em; margin-top: .25em;",runtimes:"html5,flash"}})})(jQuery,window);
(function(g){var u={refreshPagePosition:function(){return this.each(function(){var c=g(this).data("orderedList");c.internal.pagePosition=g.telligent.glow.utility.getElementInfo(c.internal.itemsContainer)})},getIndexByPosition:function(c,b){var k=this.data("orderedList");if(k){k.internal.pagePosition==null&&u.refreshPagePosition.apply(g(k.internal.state));if(c>k.internal.pagePosition.Left&&c<k.internal.pagePosition.Left+k.internal.pagePosition.Width&&b>k.internal.pagePosition.Top&&b<k.internal.pagePosition.Top+
k.internal.pagePosition.Height){for(var q=b-k.internal.pagePosition.Top+k.internal.itemsContainer.scrollTop,e=0;e<k.internal.itemsContainer.childNodes.length;e++)if(k.internal.itemsContainer.childNodes[e].offsetHeight<q)q-=k.internal.itemsContainer.childNodes[e].offsetHeight;else break;return e}}return-1},highlight:function(c){return this.each(function(){var b=g(this).data("orderedList");if(c){for(var k=0;k<b.internal.itemsContainer.childNodes.length;k++)b.internal.itemsContainer.childNodes[k].style.backgroundColor=
"#cccccc";b.internal.itemsContainer.style.backgroundColor="#cccccc";b.internal.itemsContainer.style.borderColor="#666666"}else{for(k=0;k<b.internal.itemsContainer.childNodes.length;k++)if(b.internal.selectedIndex!=k){b.internal.itemsContainer.childNodes[k].style.backgroundColor=b.internal.backgroundColor;b.internal.itemsContainer.childNodes[k].style.borderColor=b.internal.backgroundColor}b.internal.itemsContainer.style.backgroundColor=b.internal.backgroundColor;b.internal.itemsContainer.style.borderColor=
"#999999"}})},addDraggedItem:function(c,b,k){if(c){var q=true;return this.each(function(){if(q)q=false;else c=c._clone();var e=g(this).data("orderedList");if(!k)k=window.event;u.insert.apply(g(e.internal.state),[c,b]);u.refresh.apply(g(e.internal.state),[]);g(e.internal.state).trigger(z.itemAdded,c);o(e,b);h(e,b);a(e,k);v(e)})}},selectedIndex:function(){var c=this.data("orderedList");if(c)return c.internal.selectedIndex},moveUp:function(){return this.each(function(){var c=g(this).data("orderedList");
if(c.internal.selectedIndex>0){var b=c.internal.selectedIndex,k=c.internal.selectedIndex-1;n(c,c.internal.selectedIndex,k);u.select.apply(g(c.internal.state),[k,true]);var q=c.internal.items[k];g(c.internal.state).trigger(z.itemMoved,[q,b,k])}})},moveDown:function(){return this.each(function(){var c=g(this).data("orderedList");if(c.internal.selectedIndex>=0&&c.internal.selectedIndex<c.internal.itemsContainer.childNodes.length-1){var b=c.internal.selectedIndex,k=c.internal.selectedIndex+1;n(c,c.internal.selectedIndex,
k);u.select.apply(g(c.internal.state),[k,true]);var q=c.internal.items[k];g(c.internal.state).trigger(z.itemMoved,[q,b,k])}})},resize:function(c,b){if(c<=4)c=4;if(b<=4)b=4;return this.each(function(){var k=g(this).data("orderedList");k.internal.itemsContainer.style.width=c-4+"px";k.internal.itemsContainer.style.height=b-4+"px"})},disabled:function(c){if(c===undefined){var b=this.data("orderedList");if(b)return b.internal.state.readonly}else return this.each(function(){var k=g(this).data("orderedList");
k.internal.state.readonly=c;u.refresh.apply(g(k.internal.state),[])})},refresh:function(){return this.each(function(){var c=g(this).data("orderedList");if(c.internal.initialized){for(;c.internal.itemsContainer.childNodes.length>0;)c.internal.itemsContainer.removeChild(c.internal.itemsContainer.childNodes[0]);for(var b=0;b<c.internal.items.length;b++){var k=document.createElement("div");if(c.internal.state.readonly)k.style.cursor="default";else{k.onmouseover=g.telligent.glow.utility.makeBoundFunction(o,
null,[c,b]);k.onmouseout=g.telligent.glow.utility.makeBoundFunction(f,null,[c,b]);k.onclick=g.telligent.glow.utility.makeBoundFunction(u.select,g(c.internal.state),[b]);k.onmousedown=function(t){a(c,t)};k.style.cursor="pointer"}k.onselectstart=function(){return false};try{k.style.MozUserSelect="none"}catch(q){}try{k.style.userSelect="none"}catch(e){}try{k.style.WebkitUserSelect="ignore"}catch(r){}k.style.padding="2px";k.style.borderStyle="dotted";k.style.borderWidth="1px";k.style.display="block";
k.style.borderColor=c.internal.backgroundColor;k.innerHTML=c.internal.items[b].html;c.internal.itemsContainer.appendChild(k)}c.internal.selectedIndex=-1}})},select:function(c,b){return this.each(function(){var k=g(this).data("orderedList");if(k.internal.initialized&&c>-1)if(k.internal.selectedIndex!=c||b){if(k.internal.selectedIndex>-1){k.internal.itemsContainer.childNodes[k.internal.selectedIndex].style.backgroundColor=k.internal.backgroundColor;k.internal.itemsContainer.childNodes[k.internal.selectedIndex].style.borderColor=
k.internal.backgroundColor}k.internal.selectedIndex=c;k.internal.itemsContainer.childNodes[c].style.backgroundColor="#cccccc";k.internal.itemsContainer.childNodes[c].style.borderColor="#666666";h(k,c);try{k.internal.moveItemLastIndex!=null&&f(k,k.internal.moveItemLastIndex)}catch(q){}g(k.internal.state).trigger(z.itemSelected,[k.internal.items[k.internal.selectedIndex]])}else{k.internal.itemsContainer.childNodes[k.internal.selectedIndex].style.backgroundColor=k.internal.backgroundColor;k.internal.itemsContainer.childNodes[k.internal.selectedIndex].style.borderColor=
k.internal.backgroundColor;k.internal.selectedIndex=-1}})},add:function(c){if(!c)return this;u.remove.apply(this,[c]);var b=true;return this.each(function(){if(b)b=false;else c=c._clone();var k=g(this).data("orderedList");k.internal.items[k.internal.items.length]=c;var q=document.createElement("option");q.name=c.text;q.value=c.value;k.internal.state.appendChild(q);g(k.internal.state).trigger(z.itemAdded,q)})},remove:function(c){if(!c)return this;return this.each(function(){for(var b=g(this).data("orderedList"),
k=[],q=false,e=0;e<b.internal.items.length;e++)if(b.internal.items[e].value==c.value)q=true;else k[k.length]=b.internal.items[e];for(e=0;e<b.internal.state.options.length;e++)if(b.internal.state.options[e].value==c.value){b.internal.state.removeChild(b.internal.state.options[e]);break}g(b.internal.state).trigger(z.itemRemoved,c);if(q)b.internal.items=k})},clear:function(){return this.each(function(){var c=g(this).data("orderedList");c.internal.items=[];g(c.internal.state).empty()})},insert:function(c,
b){if(!c)return this;u.remove.apply(this,[c]);return this.each(function(){var k=g(this).data("orderedList"),q=document.createElement("option");q.name=c.text;q.value=c.value;for(var e=[],r=false,t=0;t<k.internal.items.length;t++){if(t==b){r=true;e[e.length]=c;t==k.internal.items.length-1?k.internal.state.appendChild(q):k.internal.state.insertBefore(q,k.internal.state.options[t])}e[e.length]=k.internal.items[t]}if(!r){e[e.length]=c;k.internal.state.appendChild(q)}k.internal.items=e})},getByIndex:function(c){var b=
this.data("orderedList");if(b&&c>=0&&c<b.internal.items.length)return b.internal.items[c];return null},count:function(){var c=this.data("orderedList");if(c)return c.internal.items.length;return 0},createItem:function(c){return new l(c)}},z={itemSelected:"glowOrderedListItemSelected",itemRemoved:"glowOrderedListItemRemoved",itemMoved:"glowOrderedListItemMoved",itemAdded:"glowOrderedListItemAdded"},w=function(c){return this.each(function(){var b={settings:g.extend({},g.fn.glowOrderedList.defaults,c||
{}),internal:{state:this,selectedIndex:-1,pagePosition:null,draggingInitalized:false,moveStartY:null,moveItemHeights:null,moveItemStartIndex:null,moveItemLastIndex:null,moveScrollStartY:null,moveItemFloat:null,moveItemIsFloating:false,items:null,backgroundColor:null,itemsContainer:null,initialized:false,itemsContainer:null,draggableOrderedLists:[]}};g(this).data("orderedList",b);d(b)})},y=function(c){c.internal.draggableOrderedLists=[];!c.settings.draggableOrderedLists||c.settings.draggableOrderedLists.length<=
0||c.settings.draggableOrderedLists.each(function(){try{if(g(this).glowOrderedList("disabled")===false)c.internal.draggableOrderedLists[c.internal.draggableOrderedLists.length]=g(this)}catch(b){}})},v=function(c){u.refreshPagePosition.apply(g(c.internal.state));y(c);var b;for(b=0;b<c.internal.draggableOrderedLists.length;b++){c.internal.draggableOrderedLists[b].glowOrderedList("highlight",true);c.internal.draggableOrderedLists[b].glowOrderedList("refreshPagePosition")}if(c.internal.draggableOrderedLists.length>
0){c.internal.itemsContainer.style.cursor="move";for(b=0;b<c.internal.itemsContainer.childNodes.length;b++)c.internal.itemsContainer.childNodes[b].style.cursor="move"}else{c.internal.itemsContainer.style.cursor="n-resize";for(b=0;b<c.internal.itemsContainer.childNodes.length;b++)c.internal.itemsContainer.childNodes[b].style.cursor="n-resize"}c.internal.draggingInitalized=true},p=function(c,b,k,q){c.internal.pagePosition==null&&u.refreshPagePosition.apply(g(c.internal.state));var e=c.internal.pagePosition.Left,
r=c.internal.pagePosition.Left+c.internal.pagePosition.Width,t=c.internal.pagePosition.Top,s=c.internal.pagePosition.Top+c.internal.pagePosition.Height;if(q){e-=24;r+=24;t-=32;s+=32;if(c.internal.moveItemLastIndex>=0){if(c.internal.moveItemLastIndex>0)t-=c.internal.itemsContainer.childNodes[c.internal.moveItemLastIndex-1].offsetHeight;if(c.internal.moveItemLastIndex<c.internal.itemsContainer.childNodes.length-1)s+=c.internal.itemsContainer.childNodes[c.internal.moveItemLastIndex+1].offsetHeight}}return b>
e&&b<r&&k>t&&k<s},n=function(c,b,k){if(!(b<0||k<0||k==b)){if(b<c.internal.items.length&&k<c.internal.items.length){var q=c.internal.items[b];if(b<k)for(var e=b;e<k;e++)c.internal.items[e]=c.internal.items[e+1];else for(e=b;e>k;e--)c.internal.items[e]=c.internal.items[e-1];c.internal.items[k]=q}if(c.internal.initialized&&b<c.internal.itemsContainer.childNodes.length&&k<c.internal.itemsContainer.childNodes.length){if(k==c.internal.itemsContainer.childNodes.length-1)c.internal.itemsContainer.appendChild(c.internal.itemsContainer.childNodes[b]);
else if(b>k)c.internal.itemsContainer.insertBefore(c.internal.itemsContainer.childNodes[b],c.internal.itemsContainer.childNodes[k]);else b<k&&c.internal.itemsContainer.insertBefore(c.internal.itemsContainer.childNodes[b],c.internal.itemsContainer.childNodes[k+1]);if(b<k)for(e=b;e<=k;e++){c.internal.itemsContainer.childNodes[e].onmouseover=g.telligent.glow.utility.makeBoundFunction(o,null,[c,e]);c.internal.itemsContainer.childNodes[e].onmouseout=g.telligent.glow.utility.makeBoundFunction(f,null,[c,
e]);c.internal.itemsContainer.childNodes[e].onclick=g.telligent.glow.utility.makeBoundFunction(u.select,g(c.internal.state),[e])}else for(e=b;e>=k;e--){c.internal.itemsContainer.childNodes[e].onmouseover=g.telligent.glow.utility.makeBoundFunction(o,null,[c,e]);c.internal.itemsContainer.childNodes[e].onmouseout=g.telligent.glow.utility.makeBoundFunction(f,null,[c,e]);c.internal.itemsContainer.childNodes[e].onclick=g.telligent.glow.utility.makeBoundFunction(u.select,g(c.internal.state),[e])}}}},m=function(c){return c.internal.moveStartY!=
null&&c.internal.moveItemLastIndex!=null},a=function(c,b){if(!b)b=window.event;if(c.internal.moveItemLastIndex>=0&&c.internal.moveItemLastIndex<c.internal.itemsContainer.childNodes.length){if(typeof b.pageY!="undefined")c.internal.moveStartY=b.pageY;else{var k=g.telligent.glow.utility.getWindowInfo();c.internal.moveStartY=b.clientY+k.ScrollY}c.internal.moveScrollStartY=c.internal.itemsContainer.scrollTop;c.internal.moveItemStartIndex=c.internal.moveItemLastIndex;c.internal.moveItemHeights=[];for(k=
0;k<c.internal.itemsContainer.childNodes.length;k++)c.internal.moveItemHeights[c.internal.moveItemHeights.length]=c.internal.itemsContainer.childNodes[k].offsetHeight;c.internal.draggingInitalized=false;g(document).bind("mouseup.orderedList",function(q){j(c,q);return false});g(document).bind("mousemove.orderedList",function(q){q=q;if(!q)q=window.event;var e=0,r=0;if(typeof q.pageY!="undefined"){e=q.pageY;r=q.pageX}else{r=g.telligent.glow.utility.getWindowInfo();e=q.clientY+r.ScrollY;r=q.clientX+r.ScrollX}var t;
if(m(c)){c.internal.draggingInitalized||v(c);if(c.internal.draggableOrderedLists.length>0&&!c.internal.moveItemIsFloating&&!p(c,r,e,true)){t=c.internal.moveItemLastIndex;if(!c.internal.moveItemFloat){c.internal.moveItemFloat=document.createElement("div");c.internal.moveItemFloat.style.position="absolute";c.internal.moveItemFloat.style.opacity=".75";if(g.telligent.glow.utility.isIE())c.internal.moveItemFloat.style.filter="progid:DXImageTransform.Microsoft.Alpha(opacity=75)";c.internal.moveItemFloat.style.backgroundColor=
"#cccccc";c.internal.moveItemFloat.style.borderColor="#666666";c.internal.moveItemFloat.style.fontFamily=c.internal.itemsContainer.style.fontFamily;c.internal.moveItemFloat.style.fontSize=c.internal.itemsContainer.style.fontSize;c.internal.moveItemFloat.style.lineHeight=c.internal.itemsContainer.style.lineHeight;c.internal.moveItemFloat.style.color=c.internal.itemsContainer.style.color;c.internal.moveItemFloat.style.padding="2px";c.internal.moveItemFloat.style.cursor="move";c.internal.moveItemFloat.style.borderStyle=
"dotted";c.internal.moveItemFloat.style.borderWidth="1px";document.body.appendChild(c.internal.moveItemFloat)}for(;c.internal.moveItemFloat.childNodes.length>0;)c.internal.moveItemFloat.removeChild(c.internal.moveItemFloat.childNodes[c.internal.moveItemFloat.childNodes.length-1]);c.internal.moveItemFloat.style.width=c.internal.itemsContainer.childNodes[t].offsetWidth+"px";c.internal.moveItemFloat.style.height=c.internal.itemsContainer.childNodes[t].offsetHeight+"px";c.internal.moveItemFloat.innerHTML=
c.internal.itemsContainer.childNodes[t].innerHTML;c.internal.moveItemIsFloating=true;c.internal.moveItemFloat.style.display="block"}if(c.internal.moveItemIsFloating){c.internal.moveItemFloat.style.left=r-c.internal.moveItemFloat.offsetWidth/2+"px";c.internal.moveItemFloat.style.top=e-c.internal.moveItemFloat.offsetHeight/2+"px";if(p(c,r,e,true)){c.internal.moveItemFloat.style.display="none";c.internal.moveItemIsFloating=false}else for(var s=0;s<c.internal.draggableOrderedLists.length;s++)if((t=c.internal.draggableOrderedLists[s].glowOrderedList("getIndexByPosition",
r,e))>=0){var x=c.internal.items[c.internal.moveItemLastIndex];j(c,q,true);u.remove.apply(g(c.internal.state),[x]);u.refresh.apply(g(c.internal.state),[]);g(c.internal.state).trigger(z.itemRemoved,x);c.internal.draggableOrderedLists[s].glowOrderedList("addDraggedItem",x,t,q);c.internal.moveItemFloat.style.display="none";c.internal.moveItemIsFloating=false}}if(m(c)&&!c.internal.moveItemIsFloating){e=e-c.internal.moveStartY;e+=c.internal.itemsContainer.scrollTop-c.internal.moveScrollStartY;q=c.internal.moveItemStartIndex;
if(e>0)for(e=e;q+1<c.internal.moveItemHeights.length&&e>c.internal.moveItemHeights[q+1];){q++;e-=c.internal.moveItemHeights[q]}else for(e=-e;q-1>=0&&e>c.internal.moveItemHeights[q-1];){q--;e-=c.internal.moveItemHeights[q]}t=q;if(t!=c.internal.moveItemLastIndex&&t!=null){n(c,c.internal.moveItemLastIndex,t);c.internal.moveItemLastIndex=t;u.select.apply(g(c.internal.state),[t,true])}}}return false})}},j=function(c,b,k){for(b=0;b<c.internal.itemsContainer.childNodes.length;b++)c.internal.itemsContainer.childNodes[b].style.cursor=
"pointer";if(!k&&c.internal.moveItemStartIndex!=null&&c.internal.moveItemLastIndex!=null&&c.internal.moveItemStartIndex!=c.internal.moveItemLastIndex){k=c.internal.items[c.internal.moveItemLastIndex];b=c.internal.moveItemStartIndex;var q=c.internal.moveItemLastIndex;g(c.internal.state).trigger(z.itemMoved,[k,b,q])}c.internal.itemsContainer.style.cursor="auto";c.internal.moveStartY=null;c.internal.moveItemLastIndex=null;c.internal.moveItemHeights=null;c.internal.moveItemStartIndex=null;g(document).unbind(".orderedList");
if(c.internal.moveItemIsFloating){c.internal.moveItemIsFloating=false;c.internal.moveItemFloat.style.display="none"}for(b=0;b<c.internal.draggableOrderedLists.length;b++)c.internal.draggableOrderedLists[b].glowOrderedList("highlight",false);u.highlight.apply(g(c.internal.state),[false])},h=function(c,b){var k=c.internal.itemsContainer.childNodes[b];if(k.offsetTop+k.offsetHeight>c.internal.itemsContainer.scrollTop+c.internal.itemsContainer.offsetHeight)c.internal.itemsContainer.scrollTop=k.offsetTop+
k.offsetHeight-c.internal.itemsContainer.offsetHeight;else if(k.offsetTop<c.internal.itemsContainer.scrollTop)c.internal.itemsContainer.scrollTop=k.offsetTop},d=function(c){if(c.internal.state.offsetHeight){if(c.internal.state.disabled){c.internal.state.disabled=false;c.internal.state.readonly=true}c.internal.backgroundColor=g.telligent.glow.utility.getCurrentStyleValue(c.internal.state,"background-color","backgroundColor","#ffffff");if(c.internal.backgroundColor.replace(/\#[0-9a-f]*/gi,"")!="")c.internal.backgroundColor=
"#ffffff";c.internal.itemsContainer=document.createElement("div");c.internal.itemsContainer.style.backgroundColor=c.internal.backgroundColor;c.internal.itemsContainer.style.fontFamily=g.telligent.glow.utility.getCurrentStyleValue(c.internal.state,"font-family","fontFamily","Arial, Helvetica");c.internal.itemsContainer.style.fontSize=g.telligent.glow.utility.getCurrentStyleValue(c.internal.state,"font-size","fontSize","100%");c.internal.itemsContainer.style.lineHeight=g.telligent.glow.utility.getCurrentStyleValue(c.internal.state,
"line-height","lineHeight","100%");c.internal.itemsContainer.style.color=g.telligent.glow.utility.getCurrentStyleValue(c.internal.state,"color","color","#000000");c.internal.itemsContainer.style.borderStyle="outset";c.internal.itemsContainer.style.borderWidth="1px";c.internal.itemsContainer.style.borderColor="#999999";c.internal.itemsContainer.style.padding="2px";c.internal.itemsContainer.style.overflow="auto";c.internal.itemsContainer.style.overflowX="hidden";c.internal.itemsContainer.style.position=
"relative";c.internal.itemsContainer.style.width=c.settings.width<=4?c.internal.state.offsetWidth-4+"px":c.settings.width-4+"px";c.internal.itemsContainer.style.height=c.settings.height<=4?c.internal.state.height-4+"px":c.settings.height-4+"px";c.internal.state.parentNode.insertBefore(c.internal.itemsContainer,c.internal.state);c.internal.items=[];for(var b=0;b<c.internal.state.options.length;b++)c.internal.items[c.internal.items.length]=b<c.settings.itemsHtml.length?new l({value:c.internal.state.options[b].value,
text:c.internal.state.options[b].name,html:c.settings.itemsHtml[b]}):new l({value:c.internal.state.options[b].value,text:c.internal.state.options[b].name,html:c.internal.state.options[b].name});c.internal.state.style.display="none";c.internal.initialized=true;u.disabled.apply(g(c.internal.state),[c.internal.state.readonly==true])}else window.setTimeout(function(){d(c)},249)},o=function(c,b){if(!m(c)){if(c.internal.selectedIndex!=b){c.internal.itemsContainer.childNodes[b].style.backgroundColor="#cccccc";
c.internal.itemsContainer.childNodes[b].style.borderColor="#666666"}c.internal.moveItemLastIndex=b}},f=function(c,b){if(!m(c)){if(c.internal.selectedIndex!=b){c.internal.itemsContainer.childNodes[b].style.backgroundColor=c.internal.backgroundColor;c.internal.itemsContainer.childNodes[b].style.borderColor=c.internal.backgroundColor}c.internal.moveItemLastIndex=null}};g.fn.glowOrderedList=function(c){if(c in u)return u[c].apply(this,Array.prototype.slice.call(arguments,1));else if(typeof c==="object"||
!c)return w.apply(this,arguments);else g.error("Method "+c+" does not exist on jQuery.fn.glowOrderedList")};g.extend({defaults:{width:200,height:300,itemsHtml:[],draggableOrderedLists:null}});var l=function(c){var b={value:"",text:"",html:c.text};c&&g.extend(b,c);this.text=b.text;this.value=b.value;this.html=b.html};l.prototype._clone=function(){return new l({value:this.value,text:this.text,html:this.html})}})(jQuery);
(function(g){var u=function(a){return this.each(function(){var j={settings:g.extend({},g.fn.glowPatternedTextBox.defaults,a||{}),internal:{state:g(this),patterns:[],initialized:false,matchRE:null,delayedValue:null,cursorSetTimeout:null}};g(this).data("_glowPatternedTextBox",j);var h=j.settings.pattern;if(j.internal.state){for(var d=j.internal.state.val(),o=RegExp("<([^<>]{1,}?)>","ig"),f,l=0,c="^";f=o.exec(h);){if(f.index>l){j.internal.patterns[j.internal.patterns.length]=new m(h.substr(l,f.index-
l),j.settings.blankCharacter,j.settings.allowBlanks,true);c+="("+j.internal.patterns[j.internal.patterns.length-1].getRegExpPattern()+")"}j.internal.patterns[j.internal.patterns.length]=new m(f[1],j.settings.blankCharacter,j.settings.allowBlanks,false);c+="("+j.internal.patterns[j.internal.patterns.length-1].getRegExpPattern()+")";l=o.lastIndex}if(l<h.length){j.internal.patterns[j.internal.patterns.length]=new m(h.substr(l,h.length-l),j.settings.blankCharacter,j.settings.allowBlanks,true);c+="("+
j.internal.patterns[j.internal.patterns.length-1].getRegExpPattern()+")"}c+="$";j.internal.state.is("input:disabled")?n.disabled.apply(j.internal.state,[true]):n.disabled.apply(j.internal.state,[false]);j.internal.matchRE=RegExp(c,"i");j.internal.initialized=true;n.val.apply(j.internal.state,[d])}})},z=function(a){a.internal.state.trigger("glowPatternedTextBoxChange")},w=function(a,j){for(var h=0,d=0;d<a.internal.patterns.length;d++)if(!a.internal.patterns[d].isStatic())if(h==j)return a.internal.patterns[d];
else h++},y=function(a,j){if(a.internal.initialized){var h="",d=a.internal.matchRE.exec(a.internal.state.val()),o={};if(d)for(var f=1;f<d.length&&f-1<a.internal.patterns.length;f++){h+=d[f];if((j<h.length||j==h.length&&(d[f].length<a.internal.patterns[f-1]._maxLength||f==a.internal.patterns.length))&&!a.internal.patterns[f-1].isStatic())if(o.currentPattern){o.nextPattern=a.internal.patterns[f-1];o.nextPatternStartIndex=h.length-d[f].length;o.nextPatternEndIndex=h.length;break}else{o.currentPattern=
a.internal.patterns[f-1];o.currentPatternStartIndex=h.length-d[f].length;o.currentPatternEndIndex=h.length}else if(!a.internal.patterns[f-1].isStatic()){o.previousPattern=a.internal.patterns[f-1];o.previousPatternStartIndex=h.length-d[f].length;o.previousPatternEndIndex=h.length}}return o}},v=function(a,j,h){if(a.settings.onValidation){var d=[],o=-1;h||(h="set");for(var f=0;f<a.internal.patterns.length;f++)if(!a.internal.patterns[f].isStatic()){d[d.length]=a.internal.patterns[f].getValue();if(j==
a.internal.patterns[f])o=d.length-1}(d=a.settings.onValidation(a.internal.state,d,h,o))&&n.setPatternValues.apply(a.internal.state,[d])}},p=function(a,j){if(!a.internal.initialized)return false;if(j.keyCode==38||j.keyCode==40||j.keyCode==37||j.keyCode==39||j.keyCode==9||j.keyCode==8){var h=g.telligent.glow.utility.getCurrentCursorIndex(a.internal.state);if((j.keyCode==37||j.keyCode==8)&&h>0)h--;j.keyCode==39&&h<a.internal.state.val().length&&h++;var d=y(a,h);if(d.currentPattern)if(j.keyCode==38){d.currentPattern.next();
v(a,d.currentPattern,"next");n.refresh.apply(a.internal.state,[]);d=y(a,h);d.currentPattern&&g.telligent.glow.utility.setCurrentCursorSelection(a.internal.state,d.currentPatternStartIndex,d.currentPatternEndIndex,true);z(a)}else if(j.keyCode==40){d.currentPattern.previous();v(a,d.currentPattern,"previous");n.refresh.apply(a.internal.state,[]);d=y(a,h);d.currentPattern&&g.telligent.glow.utility.setCurrentCursorSelection(a.internal.state,d.currentPatternStartIndex,d.currentPatternEndIndex,true);z(a)}else if(j.keyCode==
9)if(j.shiftKey)if(d.previousPattern)g.telligent.glow.utility.setCurrentCursorSelection(a.internal.state,d.previousPatternStartIndex,d.previousPatternEndIndex,true,a.internal.state.val());else return true;else if(d.nextPattern)g.telligent.glow.utility.setCurrentCursorSelection(a.internal.state,d.nextPatternStartIndex,d.nextPatternEndIndex,true,a.internal.state.val());else return true;else if(j.keyCode==37||j.keyCode==8)if(h<d.currentPatternStartIndex&&d.previousPattern)g.telligent.glow.utility.setCurrentCursorSelection(a.internal.state,
d.previousPatternEndIndex-1,d.previousPatternEndIndex,true,a.internal.state.val());else h>d.currentPatternStartIndex&&h<=d.currentPatternEndIndex?g.telligent.glow.utility.setCurrentCursorSelection(a.internal.state,h,d.currentPatternEndIndex,true,a.internal.state.val()):g.telligent.glow.utility.setCurrentCursorSelection(a.internal.state,d.currentPatternStartIndex,d.currentPatternEndIndex,true,a.internal.state.val());else if(j.keyCode==39)if(h>d.currentPatternEndIndex&&d.nextPattern)g.telligent.glow.utility.setCurrentCursorSelection(a.internal.state,
d.nextPatternStartIndex,d.nextPatternEndIndex,true,a.internal.state.val());else h>d.currentPatternStartIndex&&h<=d.currentPatternEndIndex?g.telligent.glow.utility.setCurrentCursorSelection(a.internal.state,h,d.currentPatternEndIndex,true,a.internal.state.val()):g.telligent.glow.utility.setCurrentCursorSelection(a.internal.state,d.currentPatternStartIndex,d.currentPatternEndIndex,true,a.internal.state.val());else g.telligent.glow.utility.setCurrentCursorSelection(a.internal.state,h,h,true,a.internal.state.val());
else g.telligent.glow.utility.setCurrentCursorSelection(a.internal.state,h,h,true,a.internal.state.val());j.stopPropagation();return false}else return true},n={getPatternValues:function(){var a=this.data("_glowPatternedTextBox");if(a){for(var j=[],h=0;h<a.internal.patterns.length;h++)a.internal.patterns[h].isStatic()||(j[j.length]=a.internal.patterns[h].getValue());return j}return null},getPatternValueOptionIndex:function(a,j){var h=this.data("_glowPatternedTextBox");if(h!==null){h=w(h,a);if(h!==
null&&h._patternType=="option"){j=j.toLowerCase();for(var d=0;d<h._options.length;d++)if(h._options[d].toLowerCase()==j)return d}}},getPatternValueOption:function(a,j){var h=this.data("_glowPatternedTextBox");if(h!==null){h=w(h,a);if(h!==null&&h._patternType=="option"&&j>=0&&j<h._options.length)return h._options[j]}},setPatternValues:function(a){return this.each(function(){for(var j=g(this).data("_glowPatternedTextBox"),h=0,d=0;d<j.internal.patterns.length&&h<a.length;d++)if(!j.internal.patterns[d].isStatic()){if(j.internal.patterns[d]._patternType==
"range"){for(var o=String(a[h]);o.length<j.internal.patterns[d]._minLength;)o="0"+o;j.internal.patterns[d].parseValue(o)}else j.internal.patterns[d].parseValue(a[h]);h++}n.refresh.apply(g(this),[])})},refresh:function(){return this.each(function(){var a=g(this).data("_glowPatternedTextBox");if(a.internal.initialized){for(var j="",h=0;h<a.internal.patterns.length;h++)j+=a.internal.patterns[h].getValue();a.internal.state.val(j)}})},val:function(a){if(a===undefined){var j=this.data("_glowPatternedTextBox");
if(j)if(j.internal.initialized){a="";for(var h=0;h<j.internal.patterns.length;h++)if(!j.internal.patterns[h].isStatic()&&!j.internal.patterns[h].hasValue())return null;else a+=j.internal.patterns[h].getValue();return a}return null}else return this.each(function(){var d=g(this).data("_glowPatternedTextBox");if(d.internal.initialized){var o=d.internal.matchRE.exec(a);if(o){for(var f=1;f<o.length&&f-1<d.internal.patterns.length;f++)d.internal.patterns[f-1].parseValue(o[f]);v(d)}n.refresh.apply(g(this),
[])}})},disabled:function(a){if(a===undefined){var j=this.data("_glowPatternedTextBox");if(j)return j.internal.state.is("input:disabled");return false}else return this.each(function(){var h=g(this).data("_glowPatternedTextBox");if(a)h.internal.state.unbind("keypress.glowPatternedTextBox").unbind("keyup.glowPatternedTextBox").unbind("focus.glowPatternedTextBox").unbind("keydown.glowPatternedTextBox").unbind("change.glowPatternedTextBox").attr("disabled","disabled");else{h.internal.state.unbind("keypress.glowPatternedTextBox").unbind("keyup.glowPatternedTextBox").unbind("focus.glowPatternedTextBox").unbind("keydown.glowPatternedTextBox").unbind("change.glowPatternedTextBox");
g.telligent.glow.utility.isOpera()&&h.internal.state.bind("keypress.glowPatternedTextBox",function(d){h.internal.initialized||d.stopPropagation()});h.internal.state.bind("keyup.glowPatternedTextBox",function(d){if(h.internal.initialized){if(d.keyCode!=38&&d.keyCode!=40&&d.keyCode!=37&&d.keyCode!=39&&d.keyCode!=9&&d.keyCode!=8){d=g.telligent.glow.utility.getCurrentCursorIndex(h.internal.state);n.val.apply(h.internal.state,[h.internal.state.val()]);var o=y(h,d);if(o.currentPattern)d>o.currentPatternStartIndex&&
d<=o.currentPatternEndIndex?g.telligent.glow.utility.setCurrentCursorSelection(h.internal.state,d,o.currentPatternEndIndex,true):g.telligent.glow.utility.setCurrentCursorSelection(h.internal.state,o.currentPatternStartIndex,o.currentPatternEndIndex,true);else g.telligent.glow.utility.setCurrentCursorSelection(h.internal.state,d,d,true);z(h)}}else d.stopPropagation()}).bind("focus.glowPatternedTextBox",function(d){d=d.shiftKey?y(h,h.internal.state.val().length):y(h,0);d.currentPattern&&g.telligent.glow.utility.setCurrentCursorSelection(h.internal.state,
d.currentPatternStartIndex,d.currentPatternEndIndex,false)}).bind("keydown.glowPatternedTextBox",function(d){p(h,d)}).bind("change.glowPatternedTextBox",function(){if(h.internal.initialized){n.val.apply(h.internal.state,[h.internal.state.val()]);z(h)}}).removeAttr("disabled")}})}},m=function(a,j,h,d){this._maxLength=this._minLength=0;this._options=[];this._rangeEnd=this._rangeStart=0;this._currentValue=this._patternType="";this._placeholder=j;this._allowBlanks=h;if(d){this._patternType="static";this._minLength=
this._maxLength=a.length;this._currentValue=a}else if(a.match(/^[0-9]{1,}\-[0-9]{1,}$/)){a=a.split("-");this._rangeStart=parseInt(a[0],10);this._rangeEnd=parseInt(a[1],10);this._patternType="range";this._minLength=String(a[0]).length;this._maxLength=String(a[1]).length;if(!this._allowBlanks)for(this._currentValue=String(this._rangeStart);this._currentValue.length<this._minLength;)this._currentValue="0"+this._currentValue}else{this._options=a.split(",");this._patternType="option";this._minLength=String(this._options[0]).length;
this._maxLength=String(this._options[0]).length;for(a=0;a<this._options.length;a++){j=String(this._options[a]).length;if(j>this._maxLength)this._maxLength=j;if(j<this._minLength)this._minLength=j}if(!this._allowBlanks)this._currentValue=this._options[0]}};g.extend(m.prototype,{isStatic:function(){return this._patternType=="static"},next:function(){if(this._patternType!="static")if(this._patternType=="range"){if(this._currentValue==="")this._currentValue=String(this._rangeStart);else{var a=parseInt(this._currentValue,
10);this._currentValue=a<this._rangeEnd?String(a+1):String(this._rangeStart)}for(;this._currentValue.length<this._minLength;)this._currentValue="0"+this._currentValue}else if(this._patternType=="option")if(this._currentValue=="")this._currentValue=this._options[0];else for(a=0;a<this._options.length;a++)if(this._options[a]==this._currentValue){this._currentValue=a<this._options.length-1?String(this._options[a+1]):String(this._options[0]);break}},previous:function(){if(this._patternType!="static")if(this._patternType==
"range"){if(this._currentValue==="")this._currentValue=String(this._rangeEnd);else{var a=parseInt(this._currentValue,10);this._currentValue=a>this._rangeStart?String(a-1):String(this._rangeEnd)}for(;this._currentValue.length<this._minLength;)this._currentValue="0"+this._currentValue}else if(this._patternType=="option")if(this._currentValue==="")this._currentValue=this._options[this._options.length-1];else for(a=0;a<this._options.length;a++)if(this._options[a]==this._currentValue){this._currentValue=
a>0?String(this._options[a-1]):String(this._options[this._options.length-1]);break}},parseValue:function(a){if(this._patternType!="static"){a=String(a).replace(RegExp(g.telligent.glow.utility.escapeForRegExp(this._placeholder),"g"),"");if(this._allowBlanks&&a===""&&isNaN(parseInt(a,10)))return this._currentValue="";else if(this._patternType=="range"){if(a.length>this._maxLength)a=a.substr(0,this._maxLength);else for(;a.length<this._minLength;)a+="0";a=parseInt(a,10);if(isNaN(a))a=0;var j=false,h;
if(a>=this._rangeStart&&a<=this._rangeEnd){h=a;j=true}if(!j&&a<this._rangeStart&&a>0)for(var d=a;d<this._rangeStart&&String(d).length<=this._maxLength&&!j;){d*=10;if(d>=this._rangeStart&&d<=this._rangeEnd){h=d;j=true}}if(!j&&a>this._rangeEnd&&this._rangeEnd!==0)for(d=a;d>this._rangeEnd&&d>=this._rangeStart&&!j;){d=Math.round(d/10);if(d>=this._rangeStart&&d<=this._rangeEnd){h=d;j=true}}j||(h=a<this._rangeStart?this._rangeStart:this._rangeEnd);for(this._currentValue=String(h);this._currentValue.length<
this._minLength;)this._currentValue="0"+this._currentValue;return this._currentValue}else if(this._patternType=="option"){for(a=a.toLowerCase();a.length>0;){for(j=0;j<this._options.length;j++)if(this._options[j].substr(0,a.length).toLowerCase()==a)return this._currentValue=String(this._options[j]);if(a.length>0)a=a.substr(0,a.length-1)}return this._currentValue}}},getValue:function(){if(this._patternType=="static")return this._currentValue;else if(this._currentValue===""&&isNaN(parseInt(this._currentValue,
10))){for(var a="";a.length<this._minLength;)a+=this._placeholder;return a}else return this._currentValue},hasValue:function(){return!(this._currentValue===""&&isNaN(parseInt(this._currentValue,10)))},getRegExpPattern:function(){return this._patternType=="range"?"[0-9"+g.telligent.glow.utility.escapeForRegExp(this._placeholder)+"]{0,"+(this._maxLength+1)+"}":this._patternType=="option"?".{0,"+(this._maxLength+1)+"}":g.telligent.glow.utility.escapeForRegExp(this._currentValue)}});g.fn.glowPatternedTextBox=
function(a){if(a in n)return n[a].apply(this,Array.prototype.slice.call(arguments,1));else if(typeof a==="object"||!a)return u.apply(this,arguments);else g.error("Method "+a+" does not exist on jQuery.fn.glowPatternedTextBox")};g.extend(g.fn.glowPatternedTextBox,{defaults:{pattern:"",allowBlanks:true,blankCharacter:"_",onValidation:null}})})(jQuery);
(function(g){var u={opened:"glowPopUpMenuOpened",closed:"glowPopUpMenuClosed",itemOver:"glowPopUpMenuItemOver"},z=function(f){return this.each(function(){var l={settings:g.extend({},g.fn.glowPopUpMenu.defaults,f||{}),internal:{state:this,menuItems:[],menuLevels:[],initialized:false,currentLevel:-1,isOpen:false,cancelClick:false,openingElement:null,closeTimeout:null}};g(this).data("popUpMenu",l);w(l,l.settings.menuItems,null)})},w=function(f,l){this._menuItems=[];if(!(!l||l.length==0))for(var c=0;c<
l.length;c++){f.internal.menuItems[c]=new d({id:l[c][0],text:l[c][1],url:l[c][2],target:l[c][3],onClick:l[c][4],iconUrl:l[c][5]});f.internal.menuItems[c]._popupMenu=g(this);l[c][6]&&l[c][6].length>0&&f.internal.menuItems[c]._parseMenuItems(l[c][6])}},y=function(f){g(document).bind("click.popUpMenu",function(){if(f.internal.isOpen&&!f.internal.menuLevels[f.internal.currentLevel]._popupPanel.glowPopUpPanel("isOpening")&&!f.internal.cancelClick)h.close.apply(g(f.internal.state),[0]);else f.internal.cancelClick=
false})},v=function(f){if(f.settings.closeOnMouseOut){window.clearTimeout(f.internal.closeTimeout);f.internal.closeTimeout=window.setTimeout(function(){h.close.apply(g(f.internal.state))},249)}},p=function(f){f.settings.closeOnMouseOut&&window.clearTimeout(f.internal.closeTimeout)},n=function(f,l){f.internal.cancelClick=true;if(l.onClick||l.url)h.close.apply(g(f.internal.state));l.onClick&&l.onClick(l);if(l.url)if(l.target)window.open(l.url,l.target);else window.location=l.url;return false},m=function(f,
l,c,b){if(!(f.internal.menuLevels.length<=c||f.internal.currentLevel==c&&f.internal.menuLevels[c]._currentMenuItem==l&&!b))if(f.internal.menuLevels[c]._currentMenuItem!=l){b||h.close.apply(g(f.internal.state),[c+1]);if(f.internal.menuLevels[c]._currentMenuItem&&f.internal.menuLevels[c]._currentMenuItem!=l)f.internal.menuLevels[c]._currentMenuItem._element.className=f.settings.itemCssClass;if(c>0&&f.internal.menuLevels[c-1]._currentMenuItem)f.internal.menuLevels[c-1]._currentMenuItem._element.className=
f.settings.itemExpandedCssClass;l._element.className=f.settings.itemSelectedCssClass;f.internal.menuLevels[c]._currentMenuItem=l;if(l._menuItems!=null&&l._menuItems.length>0){if(f.internal.menuLevels.length==c+1){var k=document.createElement("div");f.internal.state.appendChild(k);g(k).glowPopUpPanel({cssClass:f.settings.groupCssClass,position:"leftright",zIndex:f.settings.zIndex,hideOnDocumentClick:false}).bind({glowPopUpPanelHidden:g.telligent.glow.utility.makeBoundFunction(h.close,g(f.internal.state),
[c+1]),glowPopUpPanelMouseOver:function(){p(f)},glowPopUpPanelMouseOut:function(){v(f)}});f.internal.menuLevels[c+1]=new o(c+1,l,g(k),this)}else f.internal.menuLevels[c+1].MenuItem=l;j(f,f.internal.menuLevels[c+1],l._menuItems);f.internal.menuLevels[c+1]._popupPanel.glowPopUpPanel("show",l._element,b);f.internal.currentLevel=c+1}g(f.internal.state).trigger(u.itemOver)}else{b||h.close.apply(g(f.internal.state),[c+2]);if(f.internal.menuLevels[c+1]&&f.internal.menuLevels[c+1]._currentMenuItem){f.internal.menuLevels[c+
1]._currentMenuItem._element.className=f.settings.itemCssClass;f.internal.menuLevels[c+1]._currentMenuItem=null}f.internal.menuLevels[c]._currentMenuItem._element.className=f.settings.itemSelectedCssClass}},a=function(f){f.internal.menuLevels=[];var l=document.createElement("div");g(l).glowPopUpPanel({cssClass:f.settings.groupCssClass,position:f.settings.position,zIndex:f.settings.zIndex,hideOnDocumentClick:false}).bind({glowPopUpPanelHidden:function(){h.close.apply(g(f.internal.state),[0])},glowPopUpPanelMouseOver:function(){p(f)},
glowPopUpPanelMouseOut:function(){v(f)}});f.internal.menuLevels[0]=new o(0,null,g(l),this);j(f,f.internal.menuLevels[0],f.internal.menuItems);f.internal.initialized=true},j=function(f,l,c){if(l&&l._popupPanel){var b=l._popupPanel.glowPopUpPanel("children");if(b[0]&&b[0].childNodes[0]){b=b[0].childNodes[0];for(var k=0;k<b.childNodes.length;k++)if(b.childNodes[k].childNodes[0]&&b.childNodes[k].childNodes[0]._menuItem){b.childNodes[k].childNodes[0]._menuItem._element=null;b.childNodes[k].childNodes[0]._menuItem=
null;b.childNodes[k].childNodes[0].onmouseover=null;b.childNodes[k].childNodes[0].onclick=null}}}l._popupPanel.glowPopUpPanel("empty");l._currentMenuItem=null;if(!(!c||c.length==0)){b=document.createElement("table");b.cellPadding="0";b.cellSpacing="0";b.appendChild(document.createElement("tbody"));var q=false,e=false;for(k=0;k<c.length;k++){if(c[k].iconUrl)q=true;if(f.settings.expandImageUrl&&c[k]._menuItems&&c[k]._menuItems.length>0)e=true;if(q&&e)break}for(k=0;k<c.length;k++){var r=document.createElement("tr");
b.childNodes[0].appendChild(r);var t=document.createElement("td");t.className=f.settings.itemCssClass;t.id=c[k].id;t._menuItem=c[k];r.appendChild(t);var s=document.createElement("table");s.cellPadding="0";s.cellSpacing="0";s.style.width="100%";s.appendChild(document.createElement("tbody"));t.appendChild(s);r=document.createElement("tr");s.childNodes[0].appendChild(r);if(q){s=document.createElement("td");if(c[k].iconUrl){var x=document.createElement("img");x.src=c[k].iconUrl;x.style.paddingRight="4px";
if(f.settings.iconHeight)x.height=f.settings.iconHeight;if(f.settings.iconWidth)x.width=f.settings.iconWidth;s.appendChild(x)}else{s.appendChild(document.createElement("div"));s.childNodes[0].style.paddingRight="4px";if(f.settings.iconHeight)s.childNodes[0].style.height=f.settings.iconHeight+"px";if(f.settings.iconWidth)s.childNodes[0].style.width=f.settings.iconWidth+"px"}r.appendChild(s)}s=document.createElement("td");s.style.whiteSpace="nowrap";s.width="100%";s.innerHTML=c[k].text;r.appendChild(s);
if(e){s=document.createElement("td");if(f.settings.expandImageUrl&&c[k]._menuItems&&c[k]._menuItems.length>0){x=document.createElement("img");x.src=f.settings.expandImageUrl;x.style.paddingLeft="4px";if(f.settings.expandImageHeight)x.height=f.settings.expandImageHeight;if(f.settings.expandImageWidth)x.width=f.settings.expandImageWidth;s.appendChild(x)}else{s.appendChild(document.createElement("div"));s.childNodes[0].style.paddingRight="4px";if(f.settings.expandImageHeight)s.childNodes[0].style.height=
f.settings.expandImageHeight+"px";if(f.settings.expandImageWidth)s.childNodes[0].style.width=f.settings.expandImageWidth+"px"}r.appendChild(s)}t.onclick=g.telligent.glow.utility.makeBoundFunction(n,null,[f,c[k],l._level]);t.onmouseover=g.telligent.glow.utility.makeBoundFunction(m,null,[f,c[k],l._level]);c[k]._element=t}l._popupPanel.glowPopUpPanel("append",b)}},h={isOpen:function(){var f=this.data("popUpMenu");if(f)return f.internal.isOpen;return false},open:function(f,l,c,b){var k,q,e,r,t;if(typeof f===
"object"){t=f;f=g.telligent.glow.utility.getElementInfo(f);k=f.Left;q=f.Top;e=f.Width;r=f.Height}else{t=null;k=f;q=l;e=c;r=b}return this.each(function(){var s=g(this).data("popUpMenu");s.internal.initialized||a(s);s.internal.isOpen||window.setTimeout(function(){y(s)},49);s.internal.menuLevels[0]._popupPanel.glowPopUpPanel("show",k,q,e,r);s.internal.currentLevel=0;s.internal.isOpen=true;if(s.internal.openingElement=t){g(t).bind("mouseover.popUpMenu",function(){p(s)});g(t).bind("mouseout.popUpMenu",
function(){v(s)})}g(s.internal.state).trigger(u.opened)})},close:function(f){f||(f=0);return this.each(function(){var l=g(this).data("popUpMenu");if(f==0&&l.internal.openingElement){g(l.internal.openingElement).unbind(".popUpMenu");l.internal.openingElement=null}for(var c=l.internal.menuLevels.length-1;c>=f;c--)if(l.internal.menuLevels[c]){if(l.internal.menuLevels[c]._currentMenuItem){l.internal.menuLevels[c]._currentMenuItem._element.className=l.settings.itemCssClass;l.internal.menuLevels[c]._currentMenuItem=
null}l.internal.menuLevels[c]._popupPanel.glowPopUpPanel("hide")}l.internal.currentLevel=f-1;if(l.internal.currentLevel<=-1){l.internal.isOpen&&g(document).unbind(".popUpMenu");l.internal.isOpen=false;g(l.internal.state).trigger(u.closed)}})},refresh:function(){return this.each(function(){var f=g(this).data("popUpMenu");if(f.internal.initialized){var l=[],c;for(c=0;c<=f.internal.currentLevel;c++)l[c]=f.internal.menuLevels[c]._currentMenuItem;j(f,f.internal.menuLevels[0],f.internal.menuItems);if(l.length>
0){var b,k=f.internal.menuItems,q;for(c=0;c<l.length;c++){q=false;for(b=0;k&&b<k.length;b++)if(l[c]==k[b]){m(f,k[b],c,true);k=k[b]._menuItems;q=true;break}if(!q){k&&k.length>0?h.close.apply(g(this),[c+1]):h.close.apply(g(this),[c]);break}}}}})},add:function(f){if(f){h.remove.apply(this,[f]);var l=true;return this.each(function(){var c=g(this).data("popUpMenu"),b;if(l){b=f;l=false}else b=f._clone();b._popupMenu=g(this);b._parentMenuItem=null;c.internal.menuItems[c.internal.menuItems.length]=b})}else return this},
remove:function(f){return f?this.each(function(){for(var l=g(this).data("popUpMenu"),c=[],b=false,k=0;k<l.internal.menuItems.length;k++)if(l.internal.menuItems[k].id==f.id)b=true;else c[c.length]=l.internal.menuItems[k];if(b)l.internal.menuItems=c}):this},insert:function(f,l){if(popUpMenuItem){h.remove.apply(this,[popUpMenuItem]);return this.each(function(){for(var c=[],b=false,k=0;k<context.internal.menuItems.length;k++){if(k==l){b=true;popUpMenuItem._popupMenu=this;popUpMenuItem._parentMenuItem=
null;c[c.length]=popUpMenuItem}c[c.length]=context.internal.menuItems[k]}b||(c[c.length]=popUpMenuItem);context.internal.menuItems=c})}else return this},clear:function(){return this.each(function(){g(this).data("popUpMenu").internal.menuItems=[]})},getById:function(f){var l=g(this).data("popUpMenu");if(l)for(var c=0;c<l.internal.menuItems.length;c++)if(l.internal.menuItems[c].ID==f)return l.internal.menuItems[c];else{var b=l.internal.menuItems[c].getById(f);if(b)return b}return null},getByText:function(f){var l=
g(this).data("popUpMenu");if(l){for(var c=[],b=0;b<l.internal.menuItems.length;b++){if(l.internal.menuItems[b].Text==f)c[c.length]=l.internal.menuItems[b];for(var k=l.internal.menuItems[b].getByText(f),q=0;q<k.length;q++)c[c.length]=k[q]}return c}return[]},getByIndex:function(f){var l=g(this).data("popUpMenu");if(l)return f>=0&&f<l.internal.menuItems.length?l.internal.menuItems[f]:null;return null},getCurrent:function(){var f=g(this).data("popUpMenu");if(f)if(f.internal.currentLevel>-1)if(f.internal.menuLevels[f.internal.currentLevel]._currentMenuItem)return f.internal.menuLevels[f.internal.currentLevel]._currentMenuItem;
else if(f.internal.currentLevel>0)return f.internal.menuLevels[f.internal.currentLevel-1]._currentMenuItem;return null},getCurrentByLevel:function(f){var l=g(this).data("popUpMenu");if(l)if(f>0&&l.internal.currentLevel>=f)return l.internal.menuLevels[f]._currentMenuItem;return null},count:function(){var f=g(this).data("popUpMenu");if(f)return f.internal.menuItems.length;return 0},createMenuItem:function(f){return new d(f)}};g.fn.glowPopUpMenu=function(f){if(f in h)return h[f].apply(this,Array.prototype.slice.call(arguments,
1));else if(typeof f==="object"||!f)return z.apply(this,arguments);else g.error("Method "+f+" does not exist on jQuery.fn.glowPopUpMenu")};g.extend(g.fn.glowPopUpMenu,{defaults:{groupCssClass:"",itemCssClass:"",itemSelectedCssClass:"",itemExpandedCssClass:"",expandImageUrl:"",expandImageWidth:0,iconWidth:0,iconHeight:0,position:"updown",zIndex:100,menuItems:null,closeOnMouseOut:true}});var d=function(f){var l={id:(new Date).getTime(),text:"",url:"",target:"",onClick:null,iconUrl:""};f&&g.extend(l,
f);this.id=l.id;this.text=l.text;this.url=l.url;this.target=l.target;this.onClick=l.onClick;this.iconUrl=l.iconUrl;this._menuItems=[];this._parentMenuItem=this._popupMenu=this._element=null};d.prototype._clone=function(){return new d({id:this.id,text:this.text,url:this.url,target:this.target,onClick:this.onClick,iconUrl:this.iconUrl})};d.prototype.add=function(f){this.remove(f);if(f){f._popupMenu=this._popupMenu;f._parentMenuItem=this;this._menuItems[this._menuItems.length]=f}};d.prototype.remove=
function(f){for(var l=[],c=false,b=0;b<this._menuItems.length;b++)if(this._menuItems[b].id==f.id)c=true;else l[l.length]=this._menuItems[b];if(c)this._menuItems=l};d.prototype.clear=function(){this._menuItems=[]};d.prototype.insert=function(f,l){this.remove(f);for(var c=[],b=false,k=0;k<this._menuItems.length;k++){if(k==l){b=true;f._popupMenu=this._popupMenu;f._parentMenuItem=this;c[c.length]=f}c[c.length]=this._menuItems[k]}b||(c[c.length]=f);this._menuItems=c};d.prototype.getById=function(f){for(var l=
0;l<this._menuItems.length;l++)if(this._menuItems[l].ID==f)return this._menuItems[l];else{var c=this._menuItems[l].getById(f);if(c)return c}return null};d.prototype.getByText=function(f){for(var l=[],c=0;c<this._menuItems.length;c++){if(this._menuItems[c].Text==f)l[l.length]=this._menuItems[c];for(var b=this._menuItems[c].getByText(f),k=0;k<b.length;k++)l[l.length]=b[k]}return l};d.prototype.getByIndex=function(f){return f>=0&&f<this._menuItems.length?this._menuItems[f]:null};d.prototype.getPopUpMenu=
function(){return this._popupMenu};d.prototype.getParent=function(){return this._parentMenuItem};d.prototype.count=function(){return this._menuItems.length};d.prototype._parseMenuItems=function(f){this._menuItems=[];if(!(!f||f.length==0))for(var l=0;l<f.length;l++){this._menuItems[l]=new d({id:f[l][0],text:f[l][1],url:f[l][2],target:f[l][3],onClick:f[l][4],iconUrl:f[l][5]});this._menuItems[l]._popupMenu=this;f[l][6]&&f[l][6].length>0&&this._menuItems[l]._parseMenuItems(f[l][6])}};var o=function(f,
l,c,b){this._level=f;this._parentMenuItem=l;this._popupPanel=c;this._popupMenu=b;this._currentMenuItem=null}})(jQuery);
(function(g,u){var z={shown:"glowPopUpPanelShown",hidden:"glowPopUpPanelHidden",mouseOver:"glowPopUpPanelMouseOver",mouseOut:"glowPopUpPanelMouseOut"},w=function(a){return this.each(function(){var j={settings:g.extend({},g.fn.glowPopUpPanel.defaults,a||{}),internal:{state:g(this),isShown:false,initialized:false,lastPosition:null,panel:null,panelMask:null,animationHandle:null,isOpening:false,checkForScrollResizeHandle:null,lastWindowInfo:null}};g(this).data("_glowPopUpPanel",j);j.internal.panel=g("<div></div>").css({position:"absolute",
display:"none",left:"0px",top:"0px"}).addClass(j.settings.CssClass).append(j.internal.state.children());j.internal.panelMask=g("<div></div>").css({position:"absolute",display:"none"}).append(j.internal.panel);j.internal.state.css({displaly:"none"})})},y=function(a){g(document).bind("click.glowPopUpPanel",function(){a.internal.isShown&&!a.internal.isOpening&&m.hide.apply(a.internal.state)})},v=function(a){a.internal.checkForScrollResizeHandle&&u.clearTimeout(a.internal.checkForScrollResizeHandle);
if(a.internal.isShown&&!a.internal.isOpening&&a.internal.lastWindowInfo){var j=g.telligent.glow.utility.getWindowInfo();if(j.Width!=a.internal.lastWindowInfo.Width||j.Height!=a.internal.lastWindowInfo.Height)m.hide.apply(a.internal.state);else a.internal.checkForScrollResizeHandle=u.setTimeout(function(){v(a)},999)}},p=function(a){document.forms.length==1?g("form:first").append(a.internal.panelMask):g("body").append(a.internal.panelMask);a.internal.panel.bind("mouseover.glowPopUpPanel",function(){a.internal.state.trigger(z.mouseOver)}).bind("mouseout.glowPopUpPanel",
function(){a.internal.state.trigger(z.mouseOut)});a.internal.initialized=true},n=function(a,j,h,d,o,f){a.internal.animationHandle&&u.clearTimeout(a.internal.animationHandle);currValue=parseInt(a.internal.panel.css(j),10);if(o<0&&currValue<h||o>0&&currValue>h||Math.abs(o)<1){a.internal.panel.css("propertyName",h+"px").css({position:"static",overflow:"visible"});a.internal.animationHandle=null;a.internal.isOpening=false;a.internal.lastWindowInfo=g.telligent.glow.utility.getWindowInfo();a.internal.checkForScrollResizeHandle=
u.setTimeout(function(){v(a)},999)}else{a.internal.panel.css(j,d+"px");d+=o;if(o>0&&d>h)d=h;else if(o<0&&d<h)d=h;o*=f;a.internal.animationHandle=u.setTimeout(function(){n(a,j,h,d,o,f)},19)}},m={isShown:function(){var a=this.data("_glowPopUpPanel");return a&&a.internal.isShown},isOpening:function(){var a=this.data("_glowPopUpPanel");return a&&a.internal.isOpening},show:function(a,j,h,d,o){var f,l,c,b,k,q=false;if(typeof a==="object"){d=a;if(a instanceof jQuery)d=a.get(0);a=g.telligent.glow.utility.getElementInfo(d);
f=a.Left;l=a.Top;c=a.Width;b=a.Height;k=j;q=h}else{f=a;l=j;c=h;b=d;k=o}return this.each(function(){var e=g(this).data("_glowPopUpPanel");e.internal.initialized||p(e);!e.internal.isShown&&e.settings.hideOnDocumentClick&&u.setTimeout(function(){y(e)},49);!k&&e.internal.isShown?m.hide.apply(e.internal.state):g.telligent.glow.utility.showSelectBoxes(e.internal.panelMask);var r=f,t=l;e.internal.panelMask.css({position:"absolute",zIndex:e.settings.zIndex,display:"block",visibility:"hidden",overflow:"visible"});
e.internal.panel.css({position:"absolute",display:"block",visibility:"hidden",left:"0px",top:"0px"}).addClass(e.settings.cssClass);var s=e.internal.panel.outerWidth(),x=e.internal.panel.outerHeight();q||e.internal.panelMask.css({width:s+"px",height:x+"px"});e.internal.lastWindowInfo=g.telligent.glow.utility.getWindowInfo();var A,B,C=e.settings.position.indexOf("left"),D=e.settings.position.indexOf("right"),E=e.settings.position.indexOf("up"),F=e.settings.position.indexOf("down"),G=e.settings.position.indexOf("center");
if(C===0||D===0||G===0){if(!(C>-1&&D==-1)&&(D>-1&&C==-1||e.internal.lastWindowInfo.Width+e.internal.lastWindowInfo.ScrollX-(f+c)>f-e.internal.lastWindowInfo.ScrollX||f-e.internal.lastWindowInfo.ScrollX<s)){e.internal.panelMask.css({left:f+c+"px"});A="left";B=0;s=-s}else if(G>-1){e.internal.panelMask.css({left:f-s/2+"px"});A="left";B=0;s=s/2}else{e.internal.panelMask.css({left:f-s+"px"});A="left";B=0;s=s}!(E>-1&&F==-1)&&(F>-1&&E==-1||e.internal.lastWindowInfo.Height+e.internal.lastWindowInfo.ScrollY-
l>l+b-e.internal.lastWindowInfo.ScrollY||l+b-e.internal.lastWindowInfo.ScrollY<x)?e.internal.panelMask.css({top:l+"px"}):e.internal.panelMask.css({top:l+b-x+"px"})}else{if(G>-1)e.internal.panelMask.css({left:f+(c-s)/2+"px"});else!(C>-1&&D==-1)&&(D>-1&&C==-1||e.internal.lastWindowInfo.Width+e.internal.lastWindowInfo.ScrollX-f>f+c-e.internal.lastWindowInfo.ScrollX||f+c-e.internal.lastWindowInfo.ScrollX<s)?e.internal.panelMask.css({left:f+"px"}):e.internal.panelMask.css({left:f+c-s+"px"});if(!(E>-1&&
F==-1)&&(F>-1&&E==-1||e.internal.lastWindowInfo.Height+e.internal.lastWindowInfo.ScrollY-(l+b)>l-e.internal.lastWindowInfo.ScrollY||l-e.internal.lastWindowInfo.ScrollY<x)){e.internal.panelMask.css({top:l+b+"px"});A="top";B=0;s=-x}else{e.internal.panelMask.css({top:l-x+"px"});A="top";B=0;s=x}}e.internal.panel.css({visibility:"visible"});e.internal.panelMask.css({visibility:"visible",overflow:"hidden"});g.telligent.glow.utility.hideSelectBoxes(e.internal.panelMask);this._isOpening=true;if(k)e.internal.animationHandle=
u.setTimeout(function(){n(e,A,B,B,0,0)},9);else n(e,A,B,s,s>B?-((s-B)/3):(B-s)/3,0.67);if(!e.internal.isShown){e.internal.isShown=true;e.internal.lastPosition={X:r,Y:t,Width:c,Height:b};g(e.internal.state).trigger(z.shown)}})},hide:function(){return this.each(function(){var a=g(this).data("_glowPopUpPanel");if(a.internal.isShown){a.internal.initialized||p(a);a.internal.panel.css({position:"absolute",display:"none"});a.internal.panelMask.css({position:"absolute",display:"none"});a.internal.isShown=
false;a.internal.lastPosition=null;g.telligent.glow.utility.showSelectBoxes(a.internal.panelMask);a.settings.hideOnDocumentClick&&g(document).unbind(".glowPopUpPanel");a.internal.state.trigger(z.hidden)}})},empty:function(){return this.each(function(){g(this).data("_glowPopUpPanel").internal.panel.empty()}).glowPopUpPanel("refresh")},html:function(a){return this.each(function(){g(this).data("_glowPopUpPanel").internal.panel.html(a)}).glowPopUpPanel("refresh")},append:function(a){a=g(a);var j=true;
return this.each(function(){var h=g(this).data("_glowPopUpPanel");if(j){g(h.internal.panel).append(a);j=false}else g(h.internal.panel).append(a.clone())}).glowPopUpPanel("refresh")},remove:function(a){return g(a).remove().glowPopUpPanel("refresh")},children:function(){var a=this.data("_glowPopUpPanel");if(a)return a.internal.panel.children();return g()},refresh:function(){return this.each(function(){var a=g(this).data("_glowPopUpPanel");a.internal.animationHandle&&u.clearTimeout(a.internal.animationHandle);
a.internal.isShown&&a.internal.lastPosition&&m.show.apply(a.internal.state,[a.internal.lastPosition.X,a.internal.lastPosition.Y,a.internal.lastPosition.Width,a.internal.lastPosition.Height,true])})}};g.fn.glowPopUpPanel=function(a){if(a in m)return m[a].apply(this,Array.prototype.slice.call(arguments,1));else if(typeof a==="object"||!a)return w.apply(this,arguments);else g.error("Method "+a+" does not exist on jQuery.fn.glowPopUpPanel")};g.extend(g.fn.glowPopUpPanel,{defaults:{cssClass:"",position:"updown",
zIndex:100,hideOnDocumentClick:true}})})(jQuery,window);
(function(g){var u={refresh:function(){return this.each(function(){var n=g(this).data("tabbedPanes");n.internal.isRendered=false;var m=n.internal.selectedTab;n.internal.selectedTab=null;if(n.settings.enableResizing){n.internal.state.style.width="100%";n.internal.state.style.height="100%";n.internal.state.style.overflow="auto"}else{n.internal.state.style.width="auto";n.internal.state.style.height="auto";n.internal.state.style.overflow="visible"}n.internal.paneContainer.className=n.settings.cssClass;
n.internal.tabSet.glowTabSet("clear");for(var a=0;a<n.internal.tabs.length;a++){if(!n.internal.tabs[a]._tabsetTab){var j=n.internal.tabSet.glowTabSet("createTab",{id:n.internal.tabs[a].id,text:n.internal.tabs[a].text,cssClass:n.internal.tabs[a].cssClass,onClick:g.telligent.glow.utility.makeBoundFunction(w,null,[n,n.internal.tabs[a]])});n.internal.tabs[a]._tabsetTab=j;j._tabbedPanesTab=n.internal.tabs[a]}if(!n.internal.tabs[a]._tabPane){j=document.createElement("div");n.internal.paneContainer.appendChild(j);
n.internal.tabs[a]._tabPane=j}if(!n.internal.tabs[a].disabled){n.internal.tabSet.glowTabSet("add",n.internal.tabs[a]._tabsetTab);if(m&&n.internal.tabs[a].id==m.id)m=n.internal.selectedTab=n.internal.tabs[a]}}if(n.internal.selectedTab==null&&n.internal.tabSet.glowTabSet("count")>0){m=n.internal.selectedTab=n.internal.tabSet.glowTabSet("getByIndex",0)._tabbedPanesTab;n.internal.tabSet._selectedTab=n.internal.tabSet.glowTabSet("getByIndex",0)}n.internal.tabSet.glowTabSet("refresh");for(a=0;a<n.internal.tabs.length;a++)if(n.internal.tabs[a].disabled)y(n,
n.internal.tabs[a]._tabPane,false);else if(n.internal.tabs[a].id==m.id){m=n.internal.selectedTab=n.internal.tabs[a];n.internal.tabSet.glowTabSet("selected",n.internal.tabs[a]._tabsetTab);y(n,n.internal.tabs[a]._tabPane,true)}else y(n,n.internal.tabs[a]._tabPane,false);n.internal.isRendered=true})},add:function(n){u.remove.apply(this,[n,true]);var m=true;return this.each(function(){if(m)m=false;else n=n._clone();var a=g(this).data("tabbedPanes");n._tabbedPanes=this;if(!n._tabPane){var j=document.createElement("div");
a.internal.paneContainer.appendChild(j);n._tabPane=j}a.internal.tabs[a.internal.tabs.length]=n})},remove:function(n,m){return this.each(function(){for(var a=g(this).data("tabbedPanes"),j=[],h=false,d=0;d<a.internal.tabs.length;d++)if(a.internal.tabs[d].id==n.id){if(a.internal.tabs[d]._tabPane){a.internal.paneContainer.removeChild(a.internal.tabs[d]._tabPane);if(m===false)a.internal.tabs[d]._tabPane=null}h=true}else j[j.length]=a.internal.tabs[d];if(h)a.internal.tabs=j})},clear:function(){return this.each(function(){for(var n=
g(this).data("tabbedPanes"),m=0;m<n.internal.tabs.length;m++)if(n.internal.tabs[m]._tabPane){n.internal.paneContainer.removeChild(n.internal.tabs[m]._tabPane);n.internal.tabs[m]._tabPane=null}n.internal.tabs=[]})},insert:function(n,m){u.remove(this,[n,true]);var a=true;return this.each(function(){if(a)a=false;else n=n._clone();for(var j=g(this).data("tabbedPanes"),h=[],d=false,o=0;o<j.internal.tabs.length;o++){if(o==m){d=true;n._tabbedPanes=this;if(!n._tabPane){var f=document.createElement("div");
j.internal.paneContainer.insertBefore(f,j.internal.paneContainer.childNodes[o+1]);n._tabPane=f}h[h.length]=n}h[h.length]=j.internal.tabs[o]}if(d)j.internal.tabs=h;else u.add.apply(g(this),n)})},getById:function(n){var m=this.data("tabbedPanes");if(m)for(var a=0;a<m.internal.tabs.length;a++)if(m.internal.tabs[a].id==n)return m.internal.tabs[a];return null},getByText:function(n){var m=[],a=this.data("tabbedPanes");a&&g.each(a.internal.tabs,function(j,h){h.text===n&&m.push(h)});return m},getByIndex:function(n){var m=
this.data("tabbedPanes");if(m&&n>=0&&n<m.internal.tabs.length)return m.internal.tabs[n];return null},count:function(){var n=this.data("tabbedPanes");if(n)return n.internal.tabs.length;return 0},selected:function(n){if(n===undefined){var m=this.data("tabbedPanes");if(m)return m.internal.selectedTab;return null}else{if(!n)return this;return this.each(function(){var a=g(this).data("tabbedPanes"),j=u.getById.apply(g(this),[n.id]);j&&a.internal.tabSet.glowTabSet("selected",j._tabsetTab)})}},createTab:function(n){return new p(n)}},
z=function(n){return this.each(function(){var m={settings:g.extend({},g.fn.glowTabbedPanes.defaults,n||{}),internal:{state:this,tabSet:null,tabs:[],isRendered:false,selectedTab:null,paneContainer:null,previousContainerOffsetWidth:-1}};for(m.internal.paneContainer=document.createElement("div");this.childNodes.length>0;)m.internal.paneContainer.appendChild(this.childNodes[0]);var a=document.createElement("div");this.appendChild(a);this.appendChild(m.internal.paneContainer);m.internal.tabSet=g(a).glowTabSet({cssClass:m.settings.tabSetCssClass,
tabCssClasses:m.settings.tabCssClasses,tabSelectedCssClasses:m.settings.tabSelectedCssClasses,tabHoverCssClasses:m.settings.tabHoverCassClasses,enableResizing:m.settings.enableResizing,tabs:[]}).bind("glowTabSetResize",function(){g(m.internal.state).trigger("glowTabbedPanesResize")});g(this).data("tabbedPanes",m);v(m,m.settings.tabs,null);m.internal.tabs.length>0&&u.refresh.apply(g(this))})},w=function(n,m){if(m.onClick){hadHandler=true;if(m.onClick(g(n.internal.state),m)==false)return false}if(m!=
n.internal.selectedTab){m._tabPane&&y(n,m._tabPane,true);n.internal.selectedTab&&n.internal.selectedTab._tabPane&&y(n,n.internal.selectedTab._tabPane,false);n.internal.selectedTab=m}},y=function(n,m,a){if(a){m.style.visibility="visible";m.style.position="static";m.style.left="0px";if(n.settings.enableResizing){m.style.width="100%";m.style.height="100%";m.style.overflow="auto"}else{m.style.width="auto";m.style.height="auto";m.style.overflow="visible"}}else{m.style.width=m.offsetWidth+"px";m.style.height=
m.offsetHeight+"px";m.style.overflow="hidden";m.style.position="absolute";m.style.left=m.offsetWidth*-4+"px";m.style.top=m.offsetHeight*-4+"px";m.style.visibility="hidden"}},v=function(n,m,a){n.internal.tabs=[];n.internal.tabSet.glowTabSet("clear");if(!(!m||m.length==0)){var j=-1;for(i=0;i<m.length;i++){n.internal.tabs[i]=new p({id:m[i][0],text:m[i][1],onClick:m[i][2],disabled:m[i][3],cssClass:m[i][4]});for(j++;j<n.internal.paneContainer.childNodes.length&&n.internal.paneContainer.childNodes[j].nodeType!=
1;)j++;if(j<n.internal.paneContainer.childNodes.length)n.internal.tabs[i]._tabPane=n.internal.paneContainer.childNodes[j];else{var h=document.createElement("div");n.internal.paneContainer.appendChild(h);tab._tabPane=h}n.internal.tabs[i]._tabbedPanes=this;if(n.internal.tabs[i].id==a)n.internal.selectedTab=n.internal.tabs[i]}}};g.fn.glowTabbedPanes=function(n){if(n in u)return u[n].apply(this,Array.prototype.slice.call(arguments,1));else if(typeof n==="object"||!n)return z.apply(this,arguments);else g.error("Method "+
n+" does not exist on jQuery.fn.glowTabbedPanes")};g.extend(g.fn.glowTabbedPanes,{defaults:{cssClass:"",tabSetCssClass:"",tabCssClasses:[],tabSelectedCssClasses:[],tabHoverCssClasses:[],enableResizing:true,tabs:[]}});var p=function(n){var m={id:(new Date).getTime(),text:"",onClick:null,cssClass:null,disabled:false};n&&g.extend(m,n);this.id=m.id;this.text=m.text;this.onClick=m.onClick;this.disabled=m.disabled;this.cssClass=m.cssClass;this._tabbedPanes=this._tabsetTab=this._tabPane=null};p.prototype.empty=
function(){g(this._tabPane).empty()};p.prototype.html=function(n){this.empty();g(this._tabPane).html(n)};p.prototype.append=function(n){context.internal.tabPane.appendChild(n)};p.prototype.remove=function(n){context.internal.tabPane.removeChild(n)};p.prototype.children=function(){return context.internal.tabPane.childNodes}})(jQuery);
(function(g){var u={refresh:function(){return this.each(function(){var d=g(this).data("tabSet");d.internal.isRendered=false;y(d);hiddenContainer=document.createElement("div");hiddenContainer.style.visibility="hidden";hiddenContainer.style.position="absolute";for(d.internal.state.appendChild(hiddenContainer);hiddenContainer.childNodes.length>0;)hiddenContainer.removeChild(hiddenContainer.childNodes[0]);var o=document.createElement("table");o.cellPadding="0";o.border="0";o.cellSpacing="0";o.appendChild(document.createElement("tbody"));
o.childNodes[0].appendChild(document.createElement("tr"));hiddenContainer.appendChild(o);var f=1;if(typeof d.settings.tabHoverCssClasses=="object"&&d.settings.tabHoverCssClasses.length>f)f=d.settings.tabHoverCssClasses.length;if(typeof d.settings.tabSelectedCssClasses=="object"&&d.settings.tabSelectedCssClasses.length>f)f=d.settings.tabSelectedCssClasses.length;if(typeof d.settings.tabCssClasses=="object"&&d.settings.tabCssClasses.length>f)f=d.settings.tabCssClasses.length;for(var l=0,c=0,b=0;b<d.internal.tabs.length;b++){var k=
document.createElement("td"),q=document.createElement("a");q.href="#";q.style.display="block";q.style.color="#000000";q.style.textDecoration="none";k.appendChild(q);var e=q;for(q=0;q<f;q++){e.appendChild(document.createElement("div"));e=e.childNodes[0]}e.innerHTML=d.internal.tabs[b].text;d.internal.tabs[b].cssClass&&g(k).addClass(d.internal.tabs[b].cssClass);o.childNodes[0].childNodes[0].appendChild(k);k._tab=d.internal.tabs[b];d.internal.tabs[b]._element=k;v(d,k.childNodes[0],d.settings.tabHoverCssClasses);
k._tab._maxWidth=k.offsetWidth;v(d,k.childNodes[0],d.settings.tabSelectedCssClasses);if(k._tab._maxWidth<k.offsetWidth)k._tab._maxWidth=k.offsetWidth;v(d,k.childNodes[0],d.settings.tabCssClasses);if(k._tab._maxWidth<k.offsetWidth)k._tab._maxWidth=k.offsetWidth;l+=k._tab._maxWidth;if(k._tab._maxWidth>c)c=k._tab._maxWidth}f=Math.ceil(d.internal.tabs.length/Math.ceil((l*3/d.internal.state.offsetWidth+c*d.internal.tabs.length/d.internal.state.offsetWidth)/4));if(f<1)f=1;for(;d.internal.state.childNodes.length>
0;)d.internal.state.removeChild(d.internal.state.childNodes[0]);d.internal.state.className=d.settings.cssClass;l=document.createElement("div");if(d.settings.enableResizing){l.style.width="100%";l.style.overflow="hidden"}d.internal.state.appendChild(l);d.internal.tabRows=[];c=d.internal.selectedTab;d.internal.selectedTabRow=null;d.internal.selectedTab=null;q=-1;for(b=0;b<d.internal.tabs.length;b++){if(q==-1||d.settings.enableResizing&&(d.internal.tabRows[q]._tabs.length==f||d.internal.tabRows[q]._element.offsetWidth+
d.internal.tabs[b]._maxWidth>l.offsetWidth&&d.internal.tabRows[q]._tabs.length>0)){o=document.createElement("table");o.cellPadding="0";o.border="0";o.cellSpacing="0";o.appendChild(document.createElement("tbody"));o.childNodes[0].appendChild(document.createElement("tr"));l.appendChild(o);q++;d.internal.tabRows[q]=new h(o)}d.internal.tabRows[q]._element.childNodes[0].childNodes[0].appendChild(d.internal.tabs[b]._element);d.internal.tabRows[q]._tabs[d.internal.tabRows[q]._tabs.length]=d.internal.tabs[b];
d.internal.tabs[b]._tabRow=d.internal.tabRows[q];d.internal.tabs[b]._element.childNodes[0].onclick=g.telligent.glow.utility.makeBoundFunction(m,null,[d,d.internal.tabs[b],q]);d.internal.tabs[b]._element.childNodes[0].onmouseover=g.telligent.glow.utility.makeBoundFunction(p,null,[d,d.internal.tabs[b],q]);d.internal.tabs[b]._element.childNodes[0].onmouseout=g.telligent.glow.utility.makeBoundFunction(n,null,[d,d.internal.tabs[b],q]);if(d.internal.tabs[b]==c){d.internal.selectedTab=d.internal.tabs[b];
d.internal.selectedTabRow=d.internal.tabRows[q];v(d,d.internal.tabs[b]._element.childNodes[0],d.settings.tabSelectedCssClasses)}}if(d.internal.tabRows.length>1){for(b=0;b<d.internal.tabRows.length;b++)d.internal.tabRows[b]._element.style.width="100%";if(d.internal.selectedTabRow){l.removeChild(d.internal.selectedTabRow._element);l.appendChild(d.internal.selectedTabRow._element)}}d.internal.isRendered=true;if(d.internal.tabs.length>0){d.internal.resizeCheckHandle&&window.clearTimeout(d.internal.resizeCheckHandle);
d.internal.resizeCheckHandle=window.setTimeout(function(){a(d)},49)}})},add:function(d){u.remove.apply(this,[d]);var o=true;return this.each(function(){if(o)o=false;else d=d._clone();var f=g(this).data("tabSet");if(d){d._tabSet=this;f.internal.tabs[f.internal.tabs.length]=d}})},remove:function(d){return this.each(function(){for(var o=g(this).data("tabSet"),f=[],l=false,c=0;c<o.internal.tabs.length;c++)if(o.internal.tabs[c].id==d.id)l=true;else f[f.length]=o.internal.tabs[c];if(l)o.internal.tabs=f})},
clear:function(){return this.each(function(){g(this).data("tabSet").internal.tabs=[]})},insert:function(d,o){u.remove.apply(this,[d]);var f=true;return this.each(function(){if(f)f=false;else d=d._clone();for(var l=[],c=false,b=0;b<context.internal.tabs.length;b++){if(b==o){c=true;d._tabSet=this;l[l.length]=d}l[l.length]=context.internal.tabs[b]}c||(l[l.length]=d);context.internal.tabs=l})},getById:function(d){var o=this.data("tabSet");if(o)for(var f=0;f<o.internal.tabs.length;f++)if(o.internal.tabs[f].id==
d)return o.internal.tabs[f];return null},getByText:function(d){var o=[];this.each(function(){for(var f=g(this).data("tabSet"),l=0;l<f.internal.tabs.length;l++)if(f.internal.tabs[l].text==d)o[o.length]=f.internal.tabs[l]});return o},getByIndex:function(d){var o=this.data("tabSet");if(o&&d>=0&&d<o.internal.tabs.length)return o.internal.tabs[d];return null},count:function(){var d=this.data("tabSet");if(d)return d.internal.tabs.length;return 0},selected:function(d){if(d===undefined){var o=this.data("tabSet");
if(o)return o.internal.selectedTab;return null}else{if(!d)return this;return this.each(function(){var f=g(this).data("tabSet"),l=u.getById.apply(g(this),[d.id]);l&&m(f,l)})}},createTab:function(d){return new j(d)}},z=function(d){return this.each(function(){var o={settings:g.extend({},g.fn.glowTabSet.defaults,d||{}),internal:{state:this,selectedTab:null,selectedTabRow:null,tabs:[],tabRows:[],resizeCheckHandle:null,isRendered:false,previousContainerOffsetWidth:-1}};g(this).data("tabSet",o);w(o,o.settings.tabs,
null);o.internal.tabs.length>0&&u.refresh.apply(g(this))})},w=function(d,o,f){if(typeof f=="undefined"&&d.internal.selectedTab)f=d.internal.selectedTab.id;d.internal.tabs=[];if(!(!o||o.length==0))for(var l=0;l<o.length;l++){d.internal.tabs[l]=new j({id:o[l][0],text:o[l][1],url:o[l][2],onClick:o[l][3],cssClass:o[l][4]});d.internal.tabs[l]._tabSet=this;if(d.internal.tabs[l].id==f)d.internal.selectedTab=d.internal.tabs[l]}},y=function(d){for(var o=0;o<d.internal.tabRows.length;o++)if(d.internal.tabRows[o]&&
d.internal.tabRows[o]._element){if(d.internal.tabRows[o]._element.childNodes[0]&&d.internal.tabRows[o]._element.childNodes[0].childNodes[0])for(var f=d.internal.tabRows[o]._element.childNodes[0].childNodes[0],l=0;l<f.childNodes.length;l++)if(f.childNodes[l]&&f.childNodes[l]._tab){f.childNodes[l]._tab._element=null;f.childNodes[l]._tab=null;f.childNodes[l].onclick=null;f.childNodes[l].onmouseover=null;f.childNodes[l].onmouseout=null}d.internal.tabRows[o]._element=null}},v=function(d,o,f){if(typeof f==
"object")for(d=0;o&&d<f.length;){o.className=f[d];d++;o=o.childNodes[0]}else if(o)o.className=f},p=function(d,o){o!=d.internal.selectedTab&&v(d,o._element.childNodes[0],d.settings.tabHoverCssClasses);return false},n=function(d,o){o!=d.internal.selectedTab&&v(d,o._element.childNodes[0],d.settings.tabCssClasses);return false},m=function(d,o){if(o.onClick){hadHandler=true;if(o.onClick(g(d.internal.state),o)==false)return false}if(o!=d.internal.selectedTab){d.internal.selectedTab&&v(d,d.internal.selectedTab._element.childNodes[0],
d.settings.tabCssClasses);d.internal.selectedTab=o;v(d,o._element.childNodes[0],d.settings.tabSelectedCssClasses);if(d.internal.tabRows.length>1){d.internal.selectedTabRow=null;for(var f=0;f<d.internal.tabRows.length;f++){for(var l=0;l<d.internal.tabRows[f]._tabs.length;l++)if(d.internal.tabRows[f]._tabs[l]==d.internal.selectedTab){d.internal.selectedTabRow=d.internal.tabRows[f];break}if(d.internal.selectedTabRow)break}if(d.internal.selectedTabRow){d.internal.state.childNodes[0].removeChild(d.internal.selectedTabRow._element);
d.internal.state.childNodes[0].appendChild(d.internal.selectedTabRow._element)}}else d.internal.selectedTabRow=d.internal.tabRows[0]}if(o.url)try{window.location=o.url}catch(c){}return false},a=function(d){d.internal.resizeCheckHandle&&window.clearTimeout(d.internal.resizeCheckHandle);if(d.settings.enableResizing&&d.internal.isRendered&&d.internal.state.offsetWidth!=d.internal.previousContainerOffsetWidth){u.refresh.apply(g(d.internal.state));d.internal.previousContainerOffsetWidth=d.internal.state.offsetWidth;
g(d.internal.state).trigger("glowTabSetResize")}d.internal.resizeCheckHandle=window.setTimeout(function(){a(d)},999)};g.fn.glowTabSet=function(d){if(d in u)return u[d].apply(this,Array.prototype.slice.call(arguments,1));else if(typeof d==="object"||!d)return z.apply(this,arguments);else g.error("Method "+d+" does not exist on jQuery.fn.glowTabSet")};g.extend(g.fn.glowTabSet,{defaults:{cssClass:"",tabCssClasses:[],tabSelectedCssClasses:[],tabHoverCssClasses:[],enableResizing:true,tabs:[]}});var j=
function(d){var o={id:(new Date).getTime(),text:"",url:"",cssClass:null,onClick:null};d&&g.extend(o,d);this.id=o.id;this.text=o.text;this.url=o.url;this.onClick=o.onClick;this.cssClass=o.cssClass;this._maxWidth=0;this._tabSetRow=this._tabSet=this._element=null};j.prototype._clone=function(){return new j({id:this.id,text:this.text,url:this.url,onClick:this.onClick})};var h=function(d){this._element=d;this._tabs=[];this._tabSet=null}})(jQuery);
(function(g){var u=[],z=[],w=function(p,n){for(var m=null,a=-1,j=0;j<u.length&&m===null;j++)if(u[j]){if(u[j].SelectElement==n)m=u[j]}else a=j;if(m===null){m={};m.SelectElement=n;m.ElementsHidingSelectsIndeces=[];m.OriginalVisibility=n.style.visibility;m.SelectElement.style.visibility="hidden";if(a==-1){u[u.length]=m;m.Index=u.length-1}else{u[a]=m;m.Index=a}}a=false;for(j=0;j<m.ElementsHidingSelectsIndeces.length&&!a;j++)if(m.ElementsHidingSelectsIndeces[j]==p.Index)a=true;if(!a){p.HiddenSelectsIndeces[p.HiddenSelectsIndeces.length]=
m.Index;m.ElementsHidingSelectsIndeces[m.ElementsHidingSelectsIndeces.length]=p.Index}},y=function(p){for(var n=null,m=-1,a=0;a<z.length&&n===null;a++)if(z[a]){if(z[a].Element==p)n=z[a]}else m=a;if(n===null){n={};n.Element=p;n.HiddenSelectsIndeces=[];if(m==-1){z[z.length]=n;n.Index=z.length-1}else{z[m]=n;n.Index=m}}return n},v={convertHsvColorToRgbColor:function(p){var n=p[0],m=p[1];p=p[2];var a,j,h;if(m===0)return[p,p,p];var d;d=n==360?0:n;d/=60;n=Math.floor(d);var o=d-n;d=p*(1-m);var f=p*(1-m*o);
m=p*(1-m*(1-o));if(n===0){a=p;j=m;h=d}if(n===1){a=f;j=p;h=d}if(n===2){a=d;j=p;h=m}if(n===3){a=d;j=f;h=p}if(n===4){a=m;j=d;h=p}if(n===5){a=p;j=d;h=f}a=Math.round(a);j=Math.round(j);h=Math.round(h);return[a,j,h]},convertRgbColorToHsvColor:function(p){var n=p[0],m=p[1];p=p[2];var a,j,h=Math.max(Math.max(n,m),p),d=h-Math.min(Math.min(n,m),p);j=h===0?0:d/h;if(j===0)a=0;else if(n==h)a=60*(m-p)/d;else if(m==h)a=120+60*(p-n)/d;else if(p==h)a=240+60*(n-m)/d;if(a<0)a+=360;return[a,j,h]},convertDecimalToHexadecimal:function(p,
n){for(var m="",a;p>0;){a=p%16;m="0123456789abcdef".substr(a,1)+m;p-=a;p/=16}if(n)for(;m.length<n;)m="0"+m;return m},convertHtmlColorToRgbColor:function(p){p=p.replace(/[^0-9a-f]/ig,"");return p.length==3?[parseInt(p.substr(0,1)+p.substr(0,1),16),parseInt(p.substr(1,1)+p.substr(1,1),16),parseInt(p.substr(2,1)+p.substr(2,1),16)]:p.length==6?[parseInt(p.substr(0,2),16),parseInt(p.substr(2,2),16),parseInt(p.substr(4,2),16)]:[255,255,255]},convertRgbColorToHtmlColor:function(p){return"#"+v.convertDecimalToHexadecimal(p[0],
2)+v.convertDecimalToHexadecimal(p[1],2)+v.convertDecimalToHexadecimal(p[2],2)},getContrastingHtmlColorForRgbColor:function(p){return p[0]*2+p[1]*5+p[2]>1024?"#000000":"#ffffff"},getElementInfo:function(p){if(p instanceof jQuery)p=p.get(0);var n={};if(p.getBoundingClientRect){p=p.getBoundingClientRect();var m=0,a=0;if(typeof window.pageXOffset=="number"){m=window.pageXOffset;a=window.pageYOffset}else if(document.body&&(document.body.scrollLeft||document.body.scrollTop)){m=document.body.scrollLeft;
a=document.body.scrollTop}else if(document.documentElement&&(document.documentElement.scrollLeft||document.documentElement.scrollTop)){m=document.documentElement.scrollLeft;a=document.documentElement.scrollTop}n.Left=p.left+m;n.Top=p.top+a;n.Right=p.right+m;n.Bottom=p.bottom+a;if(v.isIE()&&n.Left>=2&&!v.isIE8()){n.Left-=2;n.Top-=2;n.Right-=2;n.Bottom-=2}n.Width=p.right-p.left;n.Height=p.bottom-p.top}else{a=m=0;for(var j=p,h=false,d=false,o=v.isIE();j;){h||(m+=j.offsetLeft);d||(a+=j.offsetTop);if(o&&
j.offsetParent&&j.offsetParent.style.position=="relative")if(!j.offsetParent.style.width){h=true;if(j.offsetParent.style.top||j.offsetParent.style.bottom){a+=j.offsetHeight;d=true}}j=j.offsetParent}n.Left=m;n.Top=a;n.Right=m+p.offsetWidth;n.Bottom=m+p.offsetHeight;n.Width=p.offsetWidth;n.Height=p.offsetHeight}return n},getWindowInfo:function(p){p||(p=window);var n=0,m=0,a=0,j=0,h=0,d=0;if(typeof p.pageXOffset=="number"){n=p.pageXOffset;m=p.pageYOffset}else if(p.document.body&&(p.document.body.scrollLeft||
p.document.body.scrollTop)){n=p.document.body.scrollLeft;m=p.document.body.scrollTop}else if(p.document.documentElement&&(p.document.documentElement.scrollLeft||p.document.documentElement.scrollTop)){n=p.document.documentElement.scrollLeft;m=p.document.documentElement.scrollTop}if(typeof p.innerWidth=="number"){a=p.innerWidth;j=p.innerHeight}else if(p.document.documentElement&&(p.document.documentElement.clientWidth||p.document.documentElement.clientHeight)){a=p.document.documentElement.clientWidth;
j=p.document.documentElement.clientHeight}else if(p.document.body&&(p.document.body.clientWidth||p.document.body.clientHeight)){a=p.document.body.clientWidth;j=p.document.body.clientHeight}if(p.document.body&&(p.document.body.scrollHeight||p.document.body.offsetHeight))if(p.document.body.scrollHeight||p.document.body.scrollWidth){h=p.document.body.scrollWidth;d=p.document.body.scrollHeight}else{h=p.document.body.offsetWidth;d=p.document.body.offsetHeight}if(p.document.documentElement&&(p.document.documentElement.scrollHeight||
p.document.documentElement.offsetHeight))if(p.document.documentElement.scrollHeight||p.document.documentElement.scrollWidth){if(p.document.documentElement.scrollWidth>h)h=p.document.documentElement.scrollWidth;if(p.document.documentElement.scrollHeight>d)d=p.document.documentElement.scrollHeight}else{if(p.document.documentElement.offsetWidth>h)h=p.document.documentElement.offsetWidth;if(p.document.documentElement.offsetHeight>d)d=p.document.documentElement.offsetHeight}if(h==0&&d==0){h=a;d=j}if(v.isSafari()){if(j>
d)d=j}else if(j>d)j=d;if(v.isSafari()){if(a>h)h=a}else if(a>h)a=h;p={};p.ScrollX=n;p.ScrollY=m;p.Width=a;p.Height=j;p.ContentWidth=h;p.ContentHeight=d;return p},getCurrentStyleValue:function(p,n,m,a){if(p instanceof jQuery)p=p.get(0);var j="";try{if(document.defaultView&&document.defaultView.getComputedStyle)j=document.defaultView.getComputedStyle(p,"").getPropertyValue(n);else if(p.currentStyle)j=p.currentStyle[m]}catch(h){}return(j=="inherit"||j=="transparent")&&p.parentNode!==null?v.getCurrentStyleValue(p.parentNode,
n,m,a):j!==""&&j!==undefined&&j!="rgba(0, 0, 0, 0)"?j:a},getStyleOffset:function(p){if(p instanceof jQuery)p=p.get(0);var n={};n.Height=v.isNanDefault(parseInt(v.getCurrentStyleValue(p,"border-top-width","borderTopWidth","0"),10),0)+v.isNanDefault(parseInt(v.getCurrentStyleValue(p,"border-bottom-width","borderBottomWidth","0"),10),0)+v.isNanDefault(parseInt(v.getCurrentStyleValue(p,"padding-top","paddingTop","0"),10),0)+v.isNanDefault(parseInt(v.getCurrentStyleValue(p,"padding-bottom","paddingBottom",
"0"),10),0);n.Width=v.isNanDefault(parseInt(v.getCurrentStyleValue(p,"border-left-width","borderLeftWidth","0"),10),0)+v.isNanDefault(parseInt(v.getCurrentStyleValue(p,"border-right-width","borderRightWidth","0"),10),0)+v.isNanDefault(parseInt(v.getCurrentStyleValue(p,"padding-left","paddingLeft","0"),10),0)+v.isNanDefault(parseInt(v.getCurrentStyleValue(p,"padding-right","paddingRight","0"),10),0);return n},isNanDefault:function(p,n){return isNaN(p)?n:p},escapeForRegExp:function(p){return p.replace(/([\\\(\^\$\*\+\?\{\}\.\)\|\-])/g,
"\\$1")},getSelectedHtmlInElement:function(p,n,m,a){var j=true,h=null;if(window.getSelection){var d=window.getSelection();if(d&&d.rangeCount>0&&d.toString().length>0){j=false;d=d.getRangeAt(0);var o=document.createRange();o.selectNode(p);if(o.compareBoundaryPoints(Range.START_TO_START,d)<=0&&o.compareBoundaryPoints(Range.END_TO_END,d)>=0){a=document.createElement("div");a.appendChild(d.cloneContents());h=a.innerHTML}else a&&alert(a)}}else if(document.selection)if((d=document.selection.createRange())&&
d.text){j=false;o=d.parentElement();if(o!==null&&v.elementContainsElement(p,o))h=d.htmlText;else a&&alert(a)}if(h===null&&(j&&n||m))h=p.innerHTML;return h},elementContainsElement:function(p,n){if(p instanceof jQuery)p=p.get(0);if(n instanceof jQuery)n=n.get(0);if(!p||!n)return false;if(p==n)return true;if(p&&p.childNodes)for(var m=0;m<p.childNodes.length;m++)if(p.childNodes[m]==n||v.elementContainsElement(p.childNodes[m],n))return true;return false},getCurrentCursorIndex:function(p){if(p instanceof
jQuery)p=p.get(0);var n=0;if(p.selectionStart||p.selectionStart=="0")n=p.selectionStart;else if(document.selection){var m=p.value;n=document.selection.createRange();var a=String.fromCharCode(1);n.text=a;n=p.value.indexOf(a);p.value=m}return n},isSafari:function(){return navigator.userAgent.indexOf("Safari")!=-1},isOpera:function(){return window.opera!==null},isIE:function(){return navigator&&navigator.userAgent&&navigator.userAgent.indexOf("MSIE")!=-1},isIE8:function(){if(v.isIE())return parseInt(/MSIE ([0-9]*)\./.exec(navigator.userAgent)[1],
9)>=8;return false},setCurrentCursorSelection:function(p,n,m,a,j){if(p instanceof jQuery)p=p.get(0);if(v.isSafari()||v.isOpera())if(a){(a=g(p).data("telligentUtility"))&&a.CursorTimeout&&window.clearTimeout(a.CursorTimeout);a={};a.InputElement=p;a.StartIndex=n;a.EndIndex=m;a.PersistedValue=j;g(p).data("telligentUtility",a);a.CursorTimeout=window.setTimeout(function(){var o=p,f=g(o).data("telligentUtility");if(f){v.setCurrentCursorSelection(f.InputElement,f.StartIndex,f.EndIndex,false,f.PersistedValue);
g(o).data("telligentUtility",null)}},9);return}else{p.focus();if(j)p.value=j}try{if(document.selection){var h=p.createTextRange();h.move("character",n);h.moveEnd("character",m-n);h.select()}else if(p.setSelectionRange){p.setSelectionRange(n,m);p.focus()}else if(p.selectionStart||p.selectionStart=="0"){p.selectionStart=n;p.selectionEnd=m}}catch(d){}},hideElementsInWindow:function(p,n,m){if(p instanceof jQuery)p=p.get(0);for(var a=null,j=v.getElementInfo(p),h=n.document.getElementsByTagName("iframe"),
d=0;d<h.length;d++)if(!v.elementContainsElement(p,h[d]))try{v.hideElementsInWindow(p,h[d].contentWindow,m)}catch(o){n=v.getElementInfo(h[d]);if(m||n.Top<j.Bottom&&j.Top<n.Bottom&&n.Left<j.Right&&j.Left<n.Right){if(a===null)a=y(p);w(a,h[d]);h[d].style.visibility="hidden"}}h=["object","embed","applet"];if(v.isIE())h[h.length]="select";for(d=0;d<h.length;d++)for(var f=document.getElementsByTagName(h[d]),l=0;l<f.length;l++)if(!v.elementContainsElement(p,f[l])){n=v.getElementInfo(f[l]);if(m||n.Top<j.Bottom&&
j.Top<n.Bottom&&n.Left<j.Right&&j.Left<n.Right){if(a===null)a=y(p);w(a,f[l]);f[l].style.visibility="hidden"}}},hideSelectBoxes:function(p,n){if(p instanceof jQuery)p=p.get(0);v.hideElementsInWindow(p,window.window,n)},showSelectBoxes:function(p){if(p instanceof jQuery)p=p.get(0);for(var n=null,m=0;m<z.length&&n===null;m++)if(z[m])if(z[m].Element==p)n=z[m];if(n!==null){for(m=0;m<n.HiddenSelectsIndeces.length;m++)if(p=u[n.HiddenSelectsIndeces[m]])if(p.ElementsHidingSelectsIndeces.length==1){try{if(p.SelectElement.style.visibility==
"hidden")p.SelectElement.style.visibility=p.OriginalVisibility}catch(a){}u[p.Index]=null}else{for(var j=[],h=0;h<p.ElementsHidingSelectsIndeces.length;h++)if(p.ElementsHidingSelectsIndeces[h]!=n.Index)j[j.length]=p.ElementsHidingSelectsIndeces[m];p.ElementsHidingSelectsIndeces=j}z[n.Index]=null}},makeBoundFunction:function(p,n,m){return function(){return p.apply(n,m)}}};if(typeof g.telligent==="undefined")g.telligent={};if(typeof g.telligent.glow==="undefined")g.telligent.glow={};if(typeof g.telligent.glow.utility===
"undefined")g.telligent.glow.utility=v})(jQuery);
(function(g){g.fn.glowTransition=function(u,z){var w=g(u).hide(),y=g.extend({},g.fn.glowTransition.defaults,z||{});return this.each(function(){var v=g(this),p={width:v.outerWidth(),height:v.outerHeight(),left:v.css("left"),top:v.css("top"),position:"relative",overflow:"hidden"},n={rawWidth:w.width(),rawHeight:w.height(),width:w.outerWidth(),height:w.outerHeight()};v.wrap(g("<div></div>").css(p)).css({position:"absolute"});var m=v.parent(),a={position:"absolute"},j={},h={};if(y.resize){g.extend(a,
{width:p.width,height:p.height});g.extend(j,{width:n.width,height:n.height});g.extend(h,{width:n.rawWidth,height:n.rawHeight})}switch(y.type){case "slideLeft":a.left="+"+n.width+"px";j.left="-="+n.width;h.left=0;break;case "slideRight":a.left="-"+n.width+"px";j.left="+="+n.width;h.left=0;break;case "slideUp":a.top="+"+n.height+"px";j.top="-="+n.height;h.top=0;break;case "slideDown":a.top="-"+n.height+"px";j.top="+="+n.height;h.top=0;break;case "fade":a.opacity=0;j.opacity=0;h.opacity=1}w.prependTo(m).css(a).show();
v.stop().animate(j,y.duration);w.stop().animate(h,y.duration+1,function(){w.css({position:"static",top:"0px",left:"0px"}).unwrap();v.remove();y.complete()});m.stop().animate({width:n.width,height:n.height},y.duration)})};g.fn.glowTransition.defaults={complete:function(){},duration:200,resize:true,type:"fade"}})(jQuery);
(function(g){var u={nodeSelected:"glowTreeNodeSelected",contextMenu:"glowTreeContextMenu",nodeRemoved:"glowTreeNodeRemoved",nodeMoved:"glowTreeNodeMoved",nodeAdded:"glowTreeNodeAdded"},z=function(b){return this.each(function(){var k={settings:g.extend({},g.fn.glowTree.defaults,b||{}),internal:{state:this,wrapper:null,container:null,selectedNode:null,nodes:[],backgroundColor:null,movingNode:null,movingNodeStartParent:null,draggingInitialized:false,pagePosition:null,movingNodeIsFloating:false,movingNodeFloat:null,
nodeHeightsCache:null,movingNodeStartIndex:null,movingNodeLastIndex:null,moveStartY:null,moveScrollStartY:null,draggableTrees:[],initialized:false}};g(this).data("tree",k);n(k)})},w=function(b,k){for(var q=0;q<b.internal.nodes.length;q++)b.internal.nodes[q]._setCursor(k);b.internal.wrapper.style.cursor=k},y=function(b,k,q,e){b.internal.pagePosition==null&&d(b);var r=b.internal.pagePosition.Left,t=b.internal.pagePosition.Left+b.internal.pagePosition.Width,s=b.internal.pagePosition.Top;b=b.internal.pagePosition.Top+
b.internal.pagePosition.Height;if(e){r-=10;t+=10;s-=10;b+=10}return k>r&&k<t&&q>s&&q<b},v=function(b,k){return k.expanded()&&k.count()>0?k._element.offsetHeight-k._element.childNodes[2].offsetHeight:k._element.offsetHeight},p=function(b,k,q){for(var e=0;e<k.length;e++)if(k[e]._element)if(k[e]===q){var r={};r.parentNode=k[e]._parent;r.height=k[e]._element.offsetHeight;r.index=e;b.internal.nodeHeightsCache[b.internal.nodeHeightsCache.length]=r;b.internal.movingNodeStartIndex=b.internal.nodeHeightsCache.length-
1;b.internal.movingNodeLastIndex=b.internal.nodeHeightsCache.length-1}else{r={};r.parentNode=k[e]._parent;r.height=v(b,k[e]);r.index=e;r.isBeforeNode=k[e]._parent==q._parent;b.internal.nodeHeightsCache[b.internal.nodeHeightsCache.length]=r;var t=r.height*0.25;if(k[e].expanded())if(k[e]._nodes.length>0)p(b,k[e]._nodes,q);else if(k[e].canHaveChildren()){r.height-=t;var s={};s.parentNode=k[e];s.height=t;s.index=0;b.internal.nodeHeightsCache[b.internal.nodeHeightsCache.length]=s}s=null;if(k[e]._parent==
q._parent){s={};s.parentNode=k[e]._parent;s.height=r.height;s.index=e;s.isAfterNode=true;b.internal.nodeHeightsCache[b.internal.nodeHeightsCache.length]=s}if(e==k.length-1){r.height-=t;if(s)s.height=r.height;r={};r.parentNode=k[e]._parent;r.height=t;r.index=e+1;b.internal.nodeHeightsCache[b.internal.nodeHeightsCache.length]=r}}},n=function(b){if(b.internal.state.offsetHeight){if(b.internal.state.disabled){b.internal.state.disabled=false;b.internal.state.readonly=true}b.internal.backgroundColor=g.telligent.glow.utility.getCurrentStyleValue(b.internal.state,
"background-color","backgroundColor","#ffffff");if(b.internal.backgroundColor.replace(/\#[0-9a-f]*/gi,"")!="")b.internal.backgroundColor="#ffffff";b.internal.wrapper=document.createElement("div");b.internal.wrapper.style.backgroundColor=b.internal.backgroundColor;b.internal.wrapper.style.fontFamily=g.telligent.glow.utility.getCurrentStyleValue(b.internal.state,"font-family","fontFamily","Arial, Helvetica");b.internal.wrapper.style.fontSize=g.telligent.glow.utility.getCurrentStyleValue(b.internal.state,
"font-size","fontSize","100%");b.internal.wrapper.style.lineHeight=g.telligent.glow.utility.getCurrentStyleValue(b.internal.state,"line-height","lineHeight","100%");b.internal.wrapper.style.color=g.telligent.glow.utility.getCurrentStyleValue(b.internal.state,"color","color","#000000");b.internal.wrapper.style.borderStyle="outset";b.internal.wrapper.style.borderWidth="1px";b.internal.wrapper.style.borderColor="#999999";b.internal.wrapper.style.padding="2px";b.internal.wrapper.style.overflow="auto";
b.internal.wrapper.style.width=b.internal.state.offsetWidth-4+"px";b.internal.wrapper.style.height=b.internal.state.offsetHeight-4+"px";b.internal.wrapper.style.cursor="default";b.internal.wrapper.style.position="relative";b.internal.container=document.createElement("ul");b.internal.container.style.listStyleType="none";b.internal.container.style.margin="0";b.internal.container.style.whiteSpace="nowrap";b.internal.container.style.padding="0";b.internal.wrapper.appendChild(b.internal.container);b.internal.state.parentNode.insertBefore(b.internal.wrapper,
b.internal.state);m(b,null,b.internal.state.options,0,b.settings.nodeHtml,0);b.internal.state.style.display="none";b.internal.initialized=true;l.disabled.apply(g(b.internal.state),[b.internal.state.readonly===true]);if(b.internal.state.selectedIndex>=0){var k=l.getByValue.apply(g(b.internal.state),[b.internal.state.options[b.internal.state.selectedIndex].value]);k&&l.selected.apply(g(b.internal.state),[k])}}else window.setTimeout(function(){n(b)},249)},m=function(b,k,q,e,r,t){var s,x,A,B;for(x=e;x<
q.length;x++){var C=q[x].text;if(B=C.match(/^(\-*) /)){A=B[1].length/2;C=C.substr(B[1].length)}else A=0;if(A==t){A=q[x].value;(s=r.shift())||(s=C);s=new c({html:s,value:A});if(k)k.add(s);else{s._parent=null;s._treeContext=b;b.internal.nodes[b.internal.nodes.length]=s}}else if(A>t&&s)x+=m(b,s,q,x,r,t+1);else return x-e-1}return q.length-e-1},a=function(b,k,q){var e,r;if(q){r=k._element;q=r.offsetTop;e=v(b,k);k=r.offsetLeft}else{r=k._element.childNodes[1];q=r.offsetTop;e=v(b,k);k=r.offsetLeft-k._element.childNodes[0].offsetWidth}q-=
6;k-=6;for(var t=r.offsetParent;t&&t!=b.internal.wrapper;){q+=t.offsetTop;k+=t.offsetLeft;t=t.offsetParent}t=b.internal.wrapper.offsetWidth-24;if(k+r.offsetWidth>b.internal.wrapper.scrollLeft+t&&r.offsetWidth<t)b.internal.wrapper.scrollLeft=k;else if(k<b.internal.wrapper.scrollLeft||k+r.offsetWidth>b.internal.wrapper.scrollLeft+t)b.internal.wrapper.scrollLeft=k;r=b.internal.wrapper.offsetHeight-24;if(q+e>b.internal.wrapper.scrollTop+r&&e<r)b.internal.wrapper.scrollTop=q+e-r;else if(q<b.internal.wrapper.scrollTop||
q+e>b.internal.wrapper.scrollTop+r)b.internal.wrapper.scrollTop=q},j=function(b){b.internal.draggableTrees=[];b.settings.draggableTrees&&b.settings.draggableTrees.each(function(){try{if(g(this).glowTree("disabled")===false)b.internal.draggableTrees[b.internal.draggableTrees.length]=g(this)}catch(k){}})},h=function(b){d(b);j(b);var k;for(k=0;k<b.internal.draggableTrees.length;k++)b.internal.draggableTrees[k].glowTree("highlight",true);b.internal.draggableTrees.length>0?w(b,"move"):w(b,"n-resize");
b.internal.draggingInitalized=true},d=function(b){b.internal.pagePosition=g.telligent.glow.utility.getElementInfo(b.internal.wrapper)},o=function(b,k,q){if(!k)k=window.event;if(b.internal.movingNode==null){b.internal.movingNode=q;b.internal.movingNodeStartParent=q.getParent();b.internal.draggingInitalized=false;if(typeof k.pageY!="undefined")b.internal.moveStartY=k.pageY;else{var e=g.telligent.glow.utility.getWindowInfo();b.internal.moveStartY=k.clientY+e.ScrollY}b.internal.moveScrollStartY=b.internal.wrapper.scrollTop;
b.internal.nodeHeightsCache=[];b.internal.wrapper.style.overflow="hidden";p(b,b.internal.nodes,q);g(document).bind("mouseup.glowTree",function(r){f(b,r);return false}).bind("mousemove.glowTree",function(r){r=r;if(!r)r=window.event;var t=0,s=0;if(typeof r.pageY!="undefined"){t=r.pageY;s=r.pageX}else{s=g.telligent.glow.utility.getWindowInfo();t=r.clientY+s.ScrollY;s=r.clientX+s.ScrollX}if(b.internal.movingNode!=null){b.internal.draggingInitalized||h(b);var x=t-b.internal.moveStartY;x+=b.internal.wrapper.scrollTop-
b.internal.moveScrollStartY;var A=b.internal.movingNodeStartIndex,B=x;x={};x.parentNode=null;x.index=-1;x.nodeHeightsCacheIndex=A;if(b.internal.nodeHeightsCache&&A>=0&&A<b.internal.nodeHeightsCache.length){A=A;for(var C=B>0,D=false;!D;)if(B>0)if(A<b.internal.nodeHeightsCache.length-1&&(B>b.internal.nodeHeightsCache[A+1].height||b.internal.nodeHeightsCache[A+1].isBeforeNode)){A++;b.internal.nodeHeightsCache[A].isBeforeNode||(B-=b.internal.nodeHeightsCache[A].height)}else D=true;else if(B<0)if(A>0&&
(-B>b.internal.nodeHeightsCache[A-1].height||b.internal.nodeHeightsCache[A-1].isAfterNode)){A--;b.internal.nodeHeightsCache[A].isAfterNode||(B+=b.internal.nodeHeightsCache[A].height)}else D=true;else D=true;if(C)for(;b.internal.nodeHeightsCache[A].isBeforeNode&&A>0;)A--;else for(;b.internal.nodeHeightsCache[A].isAfterNode&&A<b.internal.nodeHeightsCache.length-1;)A++;x.parentNode=b.internal.nodeHeightsCache[A].parentNode;x.index=b.internal.nodeHeightsCache[A].index;x.nodeHeightsCacheIndex=A}if(b.internal.draggableTrees.length>
0&&!b.internal.movingNodeIsFloating&&!y(b,s,t,true)){B=b.internal.movingNode;if(!b.internal.movingNodeFloat){b.internal.movingNodeFloat=document.createElement("div");b.internal.movingNodeFloat.style.position="absolute";b.internal.movingNodeFloat.style.opacity=".75";if(g.telligent.glow.utility.isIE())b.internal.movingNodeFloat.style.filter="progid:DXImageTransform.Microsoft.Alpha(opacity=75)";b.internal.movingNodeFloat.style.backgroundColor="#cccccc";b.internal.movingNodeFloat.style.borderColor="#666666";
b.internal.movingNodeFloat.style.fontFamily=b.internal.wrapper.style.fontFamily;b.internal.movingNodeFloat.style.fontSize=b.internal.wrapper.style.fontSize;b.internal.movingNodeFloat.style.lineHeight=b.internal.wrapper.style.lineHeight;b.internal.movingNodeFloat.style.color=b.internal.wrapper.style.color;b.internal.movingNodeFloat.style.padding="2px";b.internal.movingNodeFloat.style.cursor="move";b.internal.movingNodeFloat.style.borderStyle="dotted";b.internal.movingNodeFloat.style.borderWidth="1px";
document.body.appendChild(b.internal.movingNodeFloat)}for(;b.internal.movingNodeFloat.childNodes.length>0;)b.internal.movingNodeFloat.removeChild(b.internal.movingNodeFloat.childNodes[b.internal.movingNodeFloat.childNodes.length-1]);b.internal.movingNodeFloat.style.width=B._element.offsetWidth+"px";b.internal.movingNodeFloat.style.height=B._element.offsetHeight+"px";b.internal.movingNodeFloat.innerHTML=B._element.innerHTML;b.internal.movingNodeIsFloating=true;b.internal.movingNodeFloat.style.display=
"block"}if(b.internal.movingNodeIsFloating){b.internal.movingNodeFloat.style.left=s-b.internal.movingNodeFloat.offsetWidth/2+"px";b.internal.movingNodeFloat.style.top=t-b.internal.movingNodeFloat.offsetHeight/2+"px";if(y(b,s,t,true)){b.internal.movingNodeFloat.style.display="none";b.internal.movingNodeIsFloating=false}else{B=null;for(A=0;A<b.internal.draggableTrees.length;A++)if((B=b.internal.draggableTrees[A].glowTree("getParentAndIndex",s,t)).index!=-1){C=b.internal.movingNode;f(b,r,true);l.remove.apply(g(b.internal.state),
[C]);l.refresh.apply(g(b.internal.state),[]);g(b.internal.state).trigger(u.nodeRemoved,[C]);b.internal.draggableTrees[A].glowTree("addDraggedNode",C,B.parentNode,B.index,r);b.internal.movingNodeFloat.style.display="none";b.internal.movingNodeIsFloating=false}}}if(b.internal.movingNode!=null&&!b.internal.movingNodeIsFloating&&x.nodeHeightsCacheIndex!=b.internal.movingNodeLastIndex){b.internal.movingNodeLastIndex=x.nodeHeightsCacheIndex;t=b.internal.movingNode._parent;x.parentNode?x.parentNode.insert(b.internal.movingNode,
x.index):l.insert.apply(g(b.internal.state),[b.internal.movingNode,x.index]);b:{s=x.parentNode;r=[];for(t=t;t;){r[r.length]=t;t=t._parent}for(t=s;t;){for(s=r.length-1;s>=0;s--)if(r[s]==t){r=t;break b}t=t._parent}r=null}r?r.refresh():l.refresh.apply(g(b.internal.state),[]);l.selected.apply(g(b.internal.state),[b.internal.movingNode])}}return false})}},f=function(b,k,q){w(b,"default");!q&&b.internal.movingNode&&b.internal.movingNodeStartIndex!=b.internal.movingNodeLastIndex&&g(b.internal.state).trigger(u.nodeMoved,
[b.internal.movingNode,b.internal.movingNodeStartParent]);b.internal.wrapper.style.cursor="auto";b.internal.wrapper.style.overflow="auto";g(document).unbind(".glowTree");b.internal.movingNode=null;b.internal.nodeHeightsCache=[];if(b.internal.movingNodeIsFloating){b.internal.movingNodeIsFloating=false;b.internal.movingNodeFloat.style.display="none"}for(k=0;k<b.internal.draggableTrees.length;k++)b.internal.draggableTrees[k].glowTree("highlight",false);l.highlight.apply(g(b.internal.state),[false])},
l={getParentAndIndex:function(b,k){var q=g(this).data("tree");if(!q)return null;q.internal.pagePosition==null&&d(q);var e={};e.parentNode=null;e.index=-1;if(b>q.internal.pagePosition.Left&&b<q.internal.pagePosition.Left+q.internal.pagePosition.Width&&k>q.internal.pagePosition.Top-10&&k<q.internal.pagePosition.Top+q.internal.pagePosition.Height+10){k-=q.internal.pagePosition.Top;k-=q.internal.container.offsetTop;k+=q.internal.wrapper.scrollTop;for(var r=e.index=0;r<q.internal.nodes.length;r++)if(q.internal.nodes[r]._element)if(k<
q.internal.nodes[r]._element.offsetHeight){if(q=q.internal.nodes[r]._getParentAndIndex(k))if(q.moveNext)e.index++;else e=q;break}else{k-=q.internal.nodes[r]._element.offsetHeight;e.index++}}return e},highlight:function(b){return this.each(function(){var k=g(this).data("tree");if(b){for(var q=0;q<k.internal.nodes.length;q++)k.internal.nodes[q]._highlight();k.internal.wrapper.style.backgroundColor="#cccccc";k.internal.wrapper.style.borderColor="#666666";d(k)}else{for(q=0;q<k.internal.nodes.length;q++)k.internal.nodes[q]._unhighlight();
k.internal.wrapper.style.backgroundColor=k.internal.backgroundColor;k.internal.wrapper.style.borderColor="#999999"}})},addDraggedNode:function(b,k,q,e){var r=this.data("tree");if(r){if(!e)e=window.event;if(k){k.insert(b,q);k.refresh()}else{l.insert.apply(g(r.internal.state),[b,q]);l.refresh.apply(g(r.internal.state),[])}g(r.internal.state).trigger(u.nodeAdded,[b]);l.selected.apply(g(r.internal.state),[b]);o(r,e,b);h(r)}return this},selected:function(b){if(b===undefined){var k=this.data("tree");if(k)return k.internal.selectedNode}else return this.each(function(){var q=
g(this).data("tree"),e=l.getByValue.apply(g(this),[b.value]);if(e){var r=q.internal.selectedNode;if(q.internal.selectedNode&&q.internal.selectedNode._element)q.internal.selectedNode._element.childNodes[1].style.backgroundColor=q.internal.backgroundColor;if(e._element){e._element.childNodes[1].style.backgroundColor="#ccc";q.internal.selectedNode=e;a(q,e);r!=e&&g(q.internal.state).trigger(u.nodeSelected,[q.internal.selectedNode])}else q.internal.selectedNode=null}})},resize:function(b,k){if(b<=4)b=
4;if(k<=4)k=4;return this.each(function(){var q=g(this).data("tree");q.internal.wrapper.style.width=b-4+"px";q.internal.wrapper.style.height=k-4+"px"})},disabled:function(b){if(b===undefined){var k=this.data("tree");if(k)return k.internal.state.readonly}else return this.each(function(){var q=g(this).data("tree");q.internal.state.readonly=b;l.refresh.apply(g(q.internal.state),[])})},refresh:function(){return this.each(function(){var b=g(this).data("tree");if(b.internal.initialized){for(;b.internal.container.childNodes.length>
0;)b.internal.container.removeChild(b.internal.container.childNodes[0]);for(var k=0;k<b.internal.nodes.length;k++){b.internal.nodes[k]._dispose(true);b.internal.nodes[k].refresh()}b.internal.selectedNode&&l.selected.apply(g(b.internal.state),[b.internal.selectedNode])}})},add:function(b){if(!b)return this;l.remove.apply(this,[b]);var k=true;return this.each(function(){if(k)k=false;else b=b._clone();var q=g(this).data("tree");b._parent=null;b._treeContext=q;q.internal.nodes[q.internal.nodes.length]=
b})},remove:function(b){if(b)return this.each(function(){var k=g(this).data("tree"),q=l.getByValue.apply(g(k.internal.state),[b.value]);if(q)if(q.getParent()==null){for(var e=[],r=false,t=0;t<k.internal.nodes.length;t++)if(k.internal.nodes[t]==q)r=true;else e[e.length]=k.internal.nodes[t];if(r){q._dispose();k.internal.nodes=e}}else q.getParent()._remove(q)})},insert:function(b,k){if(!b)return this;l.remove.apply(this,[b]);var q=true;return this.each(function(){if(q)q=false;else b=b._clone();var e=
g(this).data("tree");if(k<0||k>=e.internal.nodes.length)k=e.internal.nodes.length;for(var r=e.internal.nodes.length;r>k;r--)e.internal.nodes[r]=e.internal.nodes[r-1];b._parent=null;b._treeContext=e;e.internal.nodes[k]=b})},getByValue:function(b){var k=this.data("tree");if(k)for(var q,e=0;e<k.internal.nodes.length;e++)if(k.internal.nodes[e].value==b)return k.internal.nodes[e];else if((q=k.internal.nodes[e].getByValue(b))!=null)return q;return null},getIndex:function(b){var k=this.data("tree");if(k){for(var q=
0;q<k.internal.nodes.length;q++)if(k.internal.nodes[q]==b)return q;return-1}},getByIndex:function(b){var k=this.data("tree");if(k&&b<k.internal.nodes.length&&b>=0)return k.internal.nodes[b]},count:function(){var b=this.data("tree");if(b)return b.internal.nodes.length},createTreeNode:function(b){return new c(b)}};g.fn.glowTree=function(b){if(b in l)return l[b].apply(this,Array.prototype.slice.call(arguments,1));else if(typeof b==="object"||!b)return z.apply(this,arguments);else g.error("Method "+b+
" does not exist on jQuery.fn.glowTree")};g.extend(g.fn.glowTree,{defaults:{enableDragDrop:false,getSubNodes:null,canHaveChildren:null,nodeHtml:[],draggableTrees:"",expandedImageUrl:"",collapsedImageUrl:"",blankImageUrl:""}});var c=function(b){var k={value:(new Date).getTime(),html:""};b&&g.extend(k,b);this.html=k.html;this.value=k.value;this._parent=null;this._canHaveChildren=true;this._isLoaded=this._isExpanded=false;this._element=this._treeContext=null;this._nodes=[]};c.prototype._clone=function(){for(var b=
new c({value:this.value,html:this.html}),k=0;k<this._nodes.length;k++)b.add(this._nodes[k]._clone());return b};c.prototype.add=function(b){b._parent=this;b._treeContext=this._treeContext;this._nodes[this._nodes.length]=b};c.prototype._dispose=function(b){this._element=null;if(!b)for(b=0;b<this._nodes.length;b++)this._nodes[b]._dispose()};c.prototype.refresh=function(){var b,k,q=false;this._element||(q=true);if(q){this._dispose();b=document.createElement("li");b.style.margin="0";b.style.padding="0";
b.onselectstart=function(){return false};try{b.style.MozUserSelect="none"}catch(e){}try{b.style.userSelect="none"}catch(r){}try{b.style.WebkitUserSelect="ignore"}catch(t){}}else b=this._element;for(;b.childNodes.length>0;)b.removeChild(b.childNodes[0]);b.appendChild(document.createElement("img"));b.appendChild(document.createElement("span"));b.childNodes[1].innerHTML=this.html;if(!l.disabled.apply(g(this._treeContext.internal.state))){b.childNodes[1].onclick=g.telligent.glow.utility.makeBoundFunction(l.selected,
g(this._treeContext.internal.state),[this]);var s=this;if(this._treeContext.settings.enableDragDrop)b.childNodes[1].onmousedown=function(A){o(s._treeContext,A,s)};b.childNodes[1].oncontextmenu=function(){g(s._treeContext.internal.state).trigger(u.contextMenu,[void 0,s])}}this._element=b;if(this._treeContext.internal.selectedNode==this)this._element.childNodes[1].style.backgroundColor="#ccc";if(this._nodes.length>0){this._isLoaded=true;b.childNodes[0].src=this._isExpanded?this._treeContext.settings.expandedImageUrl:
this._treeContext.settings.collapsedImageUrl;if(l.disabled.apply(g(this._treeContext.internal.state)))b.childNodes[0].style.cursor="default";else{b.childNodes[0].style.cursor="pointer";var x=this;b.childNodes[0].onclick=function(){x.expanded(!x._isExpanded,true)}}if(this._isExpanded){k=document.createElement("ul");k.style.listStyleType="none";k.style.margin="0";k.style.padding="0";k.style.paddingLeft="16px";b.appendChild(k);for(k=0;k<this._nodes.length;k++){this._nodes[k]._dispose(true);this._nodes[k]._parent=
this;this._nodes[k]._treeContext=this._treeContext;this._nodes[k].refresh()}}}else if(this._isLoaded||this._isExpanded||!this._treeContext.settings.getSubNodes){b.childNodes[0].src=this._treeContext.settings.blankImageUrl;b.childNodes[0].style.cursor="default"}else{b.childNodes[0].src=this._isExpanded?this._treeContext.settings.expandedImageUrl:this._treeContext.settings.collapsedImageUrl;if(l.disabled.apply(g(this._treeContext.internal.state)))b.childNodes[0].style.cursor="default";else{b.childNodes[0].style.cursor=
"pointer";x=this;b.childNodes[0].onclick=function(){x.expanded(!x._isExpanded,true)}}}if(q)this._parent?this._parent._element.childNodes[2].appendChild(b):this._treeContext.internal.container.appendChild(b)};c.prototype._getParentAndIndex=function(b){if(b>this._element.childNodes[1].offsetHeight/2&&(this._nodes.length==0||!this._isExpanded)){var k={};k.moveNext=true;return k}b-=this._element.childNodes[1].offsetHeight;if(b<0||this._nodes.length==0||!this._isExpanded)return null;else{k={};k.parentNode=
this;k.index=0;k.moveNext=false;for(var q=0;q<this._nodes.length;q++)if(this._nodes[q]._element)if(b<this._nodes[q]._element.offsetHeight){if(b=this._nodes[q]._getParentAndIndex(b))if(b.moveNext)k.index++;else k=b;break}else{b-=this._nodes[q]._element.offsetHeight;k.index++}return k}};c.prototype._highlight=function(){if(this._element){this._element.style.backgroundColor="#cccccc";if(this._isExpanded)for(var b=0;b<this._nodes.length;b++)this._nodes[b]._highlight()}};c.prototype._unhighlight=function(){if(this._element){this._element.style.backgroundColor=
this._treeContext.internal.backgroundColor;if(this._isExpanded)for(var b=0;b<this._nodes.length;b++)this._nodes[b]._unhighlight()}};c.prototype._setCursor=function(b){if(this._element){this._element.style.cursor=b;if(this._isExpanded)for(var k=0;k<this._nodes.length;k++)this._nodes[k]._setCursor(b)}};c.prototype.expanded=function(b,k){if(b===undefined)return this._isExpanded;else{this._isExpanded=b?true:false;if(this._treeContext){if(this._element&&this._element.childNodes.length==3){this._element.childNodes[2].style.display=
this._isExpanded?"block":"none";this._element.childNodes[0].src=this._isExpanded?this._treeContext.settings.expandedImageUrl:this._treeContext.settings.collapsedImageUrl}else{if(this._isExpanded&&!this._isLoaded&&this._treeContext.settings.getSubNodes){this._treeContext.settings.getSubNodes(g(this._treeContext.internal.state),this);this._isLoaded=true}this.refresh()}if(k)this._isExpanded?a(this._treeContext,this,true):a(this._treeContext,this,false)}}};c.prototype.add=function(b){l.remove.apply(g(this._treeContext.internal.state),
[b]);b._parent=this;b._treeContext=this._treeContext;this._nodes[this._nodes.length]=b};c.prototype._remove=function(b){for(var k=[],q=false,e=0;e<this._nodes.length;e++)if(this._nodes[e].value==b.value)q=true;else k[k.length]=this._nodes[e];if(q){b._dispose();this._nodes=k}};c.prototype.canHaveChildren=function(b){if(b===undefined)return this._treeContext&&this._treeContext.settings.canHaveChildren?this._treeContext.settings.canHaveChildrenFunction(g(this._treeContext.internal.state),this):this._canHaveChildren;
else this._canHaveChildren=b===true};c.prototype.insert=function(b,k){if(k>=0){l.remove.apply(g(this._treeContext.internal.state),[b]);if(k>this._nodes.length)k=this._nodes.length;for(var q=this._nodes.length;q>k;q--)this._nodes[q]=this._nodes[q-1];this._nodes[k]=b;b._parent=this;b._treeContext=this._treeContext}};c.prototype.getByValue=function(b){for(var k,q=0;q<this._nodes.length;q++)if(this._nodes[q].value==b)return this._nodes[q];else if((k=this._nodes[q].getByValue(b))!=null)return k;return null};
c.prototype.getIndex=function(b){for(var k=0;k<this._nodes.length;k++)if(this._nodes[k].value==b.value)return k;return-1};c.prototype.getByIndex=function(b){return b<this._nodes.length&&b>=0?this._nodes[b]:null};c.prototype.count=function(){return this._nodes.length};c.prototype.getParent=function(){return this._parent};c.prototype.getTree=function(){return g(this._treeContext.internal.state)};c.prototype.isLoaded=function(){return this._isLoaded}})(jQuery);
