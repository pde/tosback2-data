Function.prototype.bind=function(B){var A=this;return function(){var D=[this];for(var E=0,C=arguments.length;E<C;E++){D.push(arguments[E])}return A.apply(B,D)}};var helpCSTools={};helpCSTools.searchSuggest=function(P,S,I,H,V,B){this.searchBox=document.getElementById(P);this.searchFormName=S;this.formElement=document.getElementById(S);this.hiddenInput=document.getElementById(I);this.submitButton=document.getElementById(H);this.data=V;this.values=B;var R=-1;var F=[];var Q=0;var N="";var K="";var O=null;var J=null;var D=7;var E=null;var C=null;var M=false;var G=null;var T=false;var A=document.getElementById("help_srch_sggst");var L=-1;var U="issDiv";this.init=function(){if(T){return }M=navigator.userAgent.toLowerCase().indexOf("msie")!=-1;if(this.searchBox){N=this.searchBox.value;this.searchBox.setAttribute("autocomplete","off");this.attachEventListener(this.searchBox,"keydown",this.onKeyDownEvent);this.attachEventListener(this.searchBox,"keyup",this.onKeyUpEvent);this.attachEventListener(this.searchBox,"keypress",this.onKeyPressedEvent);this.attachEventListener(this.searchBox,"blur",this.onFocusLost);E=window.onresize;this.attachEventListener(window,"resize",this.onWindowResized);T=true}};this.onKeyDownEvent=function(X,Y){var W=Y.keyCode;switch(W){case 40:this.moveDown();this.stopEvent(Y);break;case 38:this.moveUp();this.stopEvent(Y);break}}.bind(this);this.onKeyUpEvent=function(X,Y){var W=Y.keyCode;switch(W){case 13:this.HideSuggestionsDiv();break;case 40:break;case 38:break;case 37:break;case 39:break;default:var Z=this.searchBox.value;if(Z!=N){N=Z;this.setSearchSuggestionTimeout()}break}}.bind(this);this.onKeyPressedEvent=function(W){if(W.keyCode==27&&this.getSearchSuggest().style.display!="none"){this.setSuggestionHideTimeout();this.searchBox.value=N;return false}}.bind(this);this.onFocusLost=function(W){this.setSuggestionHideTimeout()}.bind(this);this.onWindowResized=function(W){this.getSearchSuggest().style.width=this.searchBox.offsetWidth;if(E){E(W)}}.bind(this);this.moveDown=function(){if(Q<=0){return }try{this.unhighlightCurrentSuggestion();if(R>=Q-1){R=-1}else{++R}this.highlightCurrentSuggestion(true)}catch(W){}};this.moveUp=function(){if(Q<=0){return }try{this.unhighlightCurrentSuggestion();if(R<0){R=Q-1}else{--R}this.highlightCurrentSuggestion(true)}catch(W){}};this.stopEvent=function(W){if(M){W.cancelBubble=true}else{W.preventDefault()}};this.findMatches=function(){L=-1;var W=0;var a=V.length-1;var X=-1;var b="";var Z=N.toLowerCase();while(W<=a){X=(W+a)/2;X=Math.floor(X);b=(this.data[X].substr(0,N.length)).toLowerCase();if(b<Z){W=X+1;continue}if(b>Z){a=X-1;continue}if(b==Z){L=X;a=X-1;continue}}if(L!=-1){var Y=L;do{F.push(this.data[Y]);Y=Y+1}while(this.data[Y]&&(this.data[Y].substr(0,N.length)).toLowerCase()==Z)}};this.updateSuggestions=function(){N=this.searchBox.value;if(N.length==0){this.HideSuggestionsDiv();return }this.findMatches();this.displaySuggestions()};this.displaySuggestions=function(){try{Q=Math.min(D,F.length)}catch(Y){Q=0}var W=this.getSearchSuggest();W.innerHTML="";if(Q>0){W.style.display=""}else{this.HideSuggestionsDiv()}var X="";for(i=0;i<Q;++i){X=U+i;var Z='<div id="'+X+'"';Z+='class="suggest_link">'+this.getFormattedSuggestionLine(F[i])+"</div>";W.innerHTML+=Z}if(Q>0){W.innerHTML+='<div id="issdivhdr" align="right">&nbsp;</div>'}for(i=0;i<Q;++i){X=U+i;this.attachEventListener(document.getElementById(X),"mouseover",this.suggestOver);this.attachEventListener(document.getElementById(X),"mouseout",this.suggestOut);this.attachEventListener(document.getElementById(X),"click",this.setSearchByIndex)}};this.setSearchByIndex=function(X){var Z=X.id?X:window.event.srcElement;var W=Z.id;var Y=W.substr(6);this.setSearch(F[Y],Y);this.getSearchSuggest().innerHTML="";this.formElement.submit()}.bind(this);this.setSearch=function(X,Y){this.searchBox.value=X;if(Y>=0){var W=parseInt(L)+parseInt(Y);this.hiddenInput.value=this.values[W]}};this.suggestOver=function(W,X){if(!W.style){W=window.event.srcElement?window.event.srcElement:window.event.originalTarget}W.style.cursor="default";this.unhighlightCurrentSuggestion();divId=W.id;R=divId.substr(6);this.highlightCurrentSuggestion(false)}.bind(this);this.suggestOut=function(W,X){if(!W.style){W=window.event.srcElement?window.event.srcElement:window.event.originalTarget}this.unhighlightSuggestion(W)}.bind(this);this.highlightSuggestion=function(W){W.className="suggest_link_over"};this.unhighlightSuggestion=function(W){W.className="suggest_link"};this.highlightCurrentSuggestion=function(W){if(W){if(R==-1){this.setSearch(N,-1)}else{this.setSearch(F[R],R)}}var X=document.getElementById(U+R);this.highlightSuggestion(X)};this.unhighlightCurrentSuggestion=function(){var W=null;try{W=document.getElementById(U+R)}catch(X){}if(W){this.unhighlightSuggestion(W)}};this.getFormattedSuggestionLine=function(Z){var X=N.toLowerCase();var Y=Z.toLowerCase();var W=N.length;var a=Y.indexOf(X);if(a==-1){return Z}return Z.substr(0,a)+"<b>"+Z.substr(a,W)+"</b>"+Z.substr(a+W)};this.setSuggestionHideTimeout=function(){O=setTimeout(function(){return(function(){O=null;this.HideSuggestionsDiv()})}().bind(this),300)};this.setSearchSuggestionTimeout=function(){if(J){clearTimeout(J);J=null}J=setTimeout(function(){return(function(){F=[];this.updateSuggestions();J=null;R=-1})}().bind(this),100)};this.HideSuggestionsDiv=function(){Q=0;this.getSearchSuggest().innerHTML="";this.getSearchSuggest().style.display="none";R=-1};this.findPos=function(W){var X=curtop=0;if(W.offsetParent){do{X+=W.offsetLeft;curtop+=W.offsetTop}while(W=W.offsetParent)}return[X,curtop]};this.createSuggestionDiv=function(Z){var d=jQuery("#helpsearch");var c=d.offset();var b=c.top+d.height();var a=c.left;var W=document.createElement("div");W.style.border="1px solid #5c8295";W.style.backgroundColor="white";W.style.color="black";W.style.width=Z.offsetWidth;W.style.zIndex="130";W.style.display="none";W.id="help_srch_sggst";var X=Z.parentNode;W.style.position="absolute";if(M){var Y=X.parentNode;X=Y}X.appendChild(W);return W};this.getSearchSuggest=function(){if(!A){A=this.createSuggestionDiv(this.searchBox)}return A};this.attachEventListener=function(W,Z,Y){var X="on"+Z;if(W.addEventListener){W.addEventListener(Z,Y,false)}else{if(W.attachEvent){W.attachEvent(X,Y)}else{var a=W[X];W[X]=function(){var c=a.apply(this,arguments);var b=Y.apply(this,arguments);if(c==undefined){return b}else{if(b==undefined){return c}else{return b&&c}}}}}}}